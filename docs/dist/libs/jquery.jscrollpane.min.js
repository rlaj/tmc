/*!
 * jScrollPane - v2.0.22 - 2015-04-25
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2014 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
!function(e){"function"==typeof define&&define.amd?define('jquery.jscrollpane',["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.fn.jScrollPane=function(t){function n(t,n){function o(n){var s,a,l,p,u,h,j=!1,g=!1;if(E=n,void 0===F)u=t.scrollTop(),h=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),L=t.innerWidth()+ve,q=t.innerHeight(),t.width(L),F=e('<div class="jspPane" />').css("padding",ge).append(t.children()),O=e('<div class="jspContainer" />').css({width:L+"px",height:q+"px"}).append(F).appendTo(t);else{if(t.css("width",""),j=E.stickToBottom&&P(),g=E.stickToRight&&S(),p=t.innerWidth()+ve!=L||t.outerHeight()!=q,p&&(L=t.innerWidth()+ve,q=t.innerHeight(),O.css({width:L+"px",height:q+"px"})),!p&&me==V&&F.outerHeight()==G)return void t.width(L);me=V,F.css("width",""),t.width(L),O.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}F.css("overflow","auto"),V=n.contentWidth?n.contentWidth:F[0].scrollWidth,G=F[0].scrollHeight,F.css("overflow",""),N=V/L,U=G/q,K=U>1,Q=N>1,Q||K?(t.addClass("jspScrollable"),s=E.maintainPosition&&(Z||te),s&&(a=T(),l=D()),i(),r(),c(),s&&(k(g?V-L:a,!1),y(j?G-q:l,!1)),M(),B(),R(),E.enableKeyboardNavigation&&W(),E.clickOnTrack&&d(),z(),E.hijackInternalLinks&&X()):(t.removeClass("jspScrollable"),F.css({top:0,left:0,width:O.width()-ve}),x(),A(),Y(),f()),E.autoReinitialise&&!je?je=setInterval(function(){o(E)},E.autoReinitialiseDelay):!E.autoReinitialise&&je&&clearInterval(je),u&&t.scrollTop(0)&&y(u,!1),h&&t.scrollLeft(0)&&k(h,!1),t.trigger("jsp-initialised",[Q||K])}function i(){K&&(O.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),ne=O.find(">.jspVerticalBar"),oe=ne.find(">.jspTrack"),$=oe.find(">.jspDrag"),E.showArrows&&(ae=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",p(0,-1)).bind("click.jsp",H),ce=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",p(0,1)).bind("click.jsp",H),E.arrowScrollOnHover&&(ae.bind("mouseover.jsp",p(0,-1,ae)),ce.bind("mouseover.jsp",p(0,1,ce))),l(oe,E.verticalArrowPositions,ae,ce)),se=q,O.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){se-=e(this).outerHeight()}),$.hover(function(){$.addClass("jspHover")},function(){$.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",H),$.addClass("jspActive");var n=t.pageY-$.position().top;return e("html").bind("mousemove.jsp",function(e){j(e.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",h),!1}),s())}function s(){oe.height(se+"px"),Z=0,ie=E.verticalGutter+oe.outerWidth(),F.width(L-ie-ve);try{0===ne.position().left&&F.css("margin-left",ie+"px")}catch(e){}}function r(){Q&&(O.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),le=O.find(">.jspHorizontalBar"),pe=le.find(">.jspTrack"),_=pe.find(">.jspDrag"),E.showArrows&&(fe=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",p(-1,0)).bind("click.jsp",H),he=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",p(1,0)).bind("click.jsp",H),E.arrowScrollOnHover&&(fe.bind("mouseover.jsp",p(-1,0,fe)),he.bind("mouseover.jsp",p(1,0,he))),l(pe,E.horizontalArrowPositions,fe,he)),_.hover(function(){_.addClass("jspHover")},function(){_.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",H),_.addClass("jspActive");var n=t.pageX-_.position().left;return e("html").bind("mousemove.jsp",function(e){v(e.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",h),!1}),ue=O.innerWidth(),a())}function a(){O.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ue-=e(this).outerWidth()}),pe.width(ue+"px"),te=0}function c(){if(Q&&K){var t=pe.outerHeight(),n=oe.outerWidth();se-=t,e(le).find(">.jspCap:visible,>.jspArrow").each(function(){ue+=e(this).outerWidth()}),ue-=n,q-=n,L-=t,pe.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),s(),a()}Q&&F.width(O.outerWidth()-ve+"px"),G=F.outerHeight(),U=G/q,Q&&(de=Math.ceil(1/N*ue),de>E.horizontalDragMaxWidth?de=E.horizontalDragMaxWidth:de<E.horizontalDragMinWidth&&(de=E.horizontalDragMinWidth),_.width(de+"px"),ee=ue-de,m(te)),K&&(re=Math.ceil(1/U*se),re>E.verticalDragMaxHeight?re=E.verticalDragMaxHeight:re<E.verticalDragMinHeight&&(re=E.verticalDragMinHeight),$.height(re+"px"),J=se-re,g(Z))}function l(e,t,n,o){var i,s="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==s?r=t:t==r&&(s=t,i=n,n=o,o=i),e[s](n)[r](o)}function p(e,t,n){return function(){return u(e,t,this,n),this.blur(),!1}}function u(t,n,o,i){o=e(o).addClass("jspActive");var s,r,a=!0,c=function(){0!==t&&be.scrollByX(t*E.arrowButtonSpeed),0!==n&&be.scrollByY(n*E.arrowButtonSpeed),r=setTimeout(c,a?E.initialDelay:E.arrowRepeatFreq),a=!1};c(),s=i?"mouseout.jsp":"mouseup.jsp",i=i||e("html"),i.bind(s,function(){o.removeClass("jspActive"),r&&clearTimeout(r),r=null,i.unbind(s)})}function d(){f(),K&&oe.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var n,o=e(this),i=o.offset(),s=t.pageY-i.top-Z,r=!0,a=function(){var e=o.offset(),i=t.pageY-e.top-re/2,l=q*E.scrollPagePercent,p=J*l/(G-q);if(0>s)Z-p>i?be.scrollByY(-l):j(i);else{if(!(s>0))return void c();i>Z+p?be.scrollByY(l):j(i)}n=setTimeout(a,r?E.initialDelay:E.trackClickRepeatFreq),r=!1},c=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",c)};return a(),e(document).bind("mouseup.jsp",c),!1}}),Q&&pe.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var n,o=e(this),i=o.offset(),s=t.pageX-i.left-te,r=!0,a=function(){var e=o.offset(),i=t.pageX-e.left-de/2,l=L*E.scrollPagePercent,p=ee*l/(V-L);if(0>s)te-p>i?be.scrollByX(-l):v(i);else{if(!(s>0))return void c();i>te+p?be.scrollByX(l):v(i)}n=setTimeout(a,r?E.initialDelay:E.trackClickRepeatFreq),r=!1},c=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",c)};return a(),e(document).bind("mouseup.jsp",c),!1}})}function f(){pe&&pe.unbind("mousedown.jsp"),oe&&oe.unbind("mousedown.jsp")}function h(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),$&&$.removeClass("jspActive"),_&&_.removeClass("jspActive")}function j(n,o){if(K){0>n?n=0:n>J&&(n=J);var i=new e.Event("jsp-will-scroll-y");if(t.trigger(i,[n]),!i.isDefaultPrevented()){var s=n||0,r=0===s,a=s==J,c=n/J,l=-c*(G-q);void 0===o&&(o=E.animateScroll),o?be.animate($,"top",n,g,function(){t.trigger("jsp-user-scroll-y",[-l,r,a])}):($.css("top",n),g(n),t.trigger("jsp-user-scroll-y",[-l,r,a]))}}}function g(e){void 0===e&&(e=$.position().top),O.scrollTop(0),Z=e||0;var n=0===Z,o=Z==J,i=e/J,s=-i*(G-q);(we!=n||ke!=o)&&(we=n,ke=o,t.trigger("jsp-arrow-change",[we,ke,ye,Ce])),b(n,o),F.css("top",s),t.trigger("jsp-scroll-y",[-s,n,o]).trigger("scroll")}function v(n,o){if(Q){0>n?n=0:n>ee&&(n=ee);var i=new e.Event("jsp-will-scroll-x");if(t.trigger(i,[n]),!i.isDefaultPrevented()){var s=n||0,r=0===s,a=s==ee,c=n/ee,l=-c*(V-L);void 0===o&&(o=E.animateScroll),o?be.animate(_,"left",n,m,function(){t.trigger("jsp-user-scroll-x",[-l,r,a])}):(_.css("left",n),m(n),t.trigger("jsp-user-scroll-x",[-l,r,a]))}}}function m(e){void 0===e&&(e=_.position().left),O.scrollTop(0),te=e||0;var n=0===te,o=te==ee,i=e/ee,s=-i*(V-L);(ye!=n||Ce!=o)&&(ye=n,Ce=o,t.trigger("jsp-arrow-change",[we,ke,ye,Ce])),w(n,o),F.css("left",s),t.trigger("jsp-scroll-x",[-s,n,o]).trigger("scroll")}function b(e,t){E.showArrows&&(ae[e?"addClass":"removeClass"]("jspDisabled"),ce[t?"addClass":"removeClass"]("jspDisabled"))}function w(e,t){E.showArrows&&(fe[e?"addClass":"removeClass"]("jspDisabled"),he[t?"addClass":"removeClass"]("jspDisabled"))}function y(e,t){var n=e/(G-q);j(n*J,t)}function k(e,t){var n=e/(V-L);v(n*ee,t)}function C(t,n,o){var i,s,r,a,c,l,p,u,d,f=0,h=0;try{i=e(t)}catch(j){return}for(s=i.outerHeight(),r=i.outerWidth(),O.scrollTop(0),O.scrollLeft(0);!i.is(".jspPane");)if(f+=i.position().top,h+=i.position().left,i=i.offsetParent(),/^body|html$/i.test(i[0].nodeName))return;a=D(),l=a+q,a>f||n?u=f-E.horizontalGutter:f+s>l&&(u=f-q+s+E.horizontalGutter),isNaN(u)||y(u,o),c=T(),p=c+L,c>h||n?d=h-E.horizontalGutter:h+r>p&&(d=h-L+r+E.horizontalGutter),isNaN(d)||k(d,o)}function T(){return-F.position().left}function D(){return-F.position().top}function P(){var e=G-q;return e>20&&e-D()<10}function S(){var e=V-L;return e>20&&e-T()<10}function B(){O.unbind(De).bind(De,function(e,t,n,o){te||(te=0),Z||(Z=0);var i=te,s=Z,r=e.deltaFactor||E.mouseWheelSpeed;return be.scrollBy(n*r,-o*r,!1),i==te&&s==Z})}function x(){O.unbind(De)}function H(){return!1}function M(){F.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){C(e.target,!1)})}function A(){F.find(":input,a").unbind("focus.jsp")}function W(){function n(){var e=te,t=Z;switch(o){case 40:be.scrollByY(E.keyboardSpeed,!1);break;case 38:be.scrollByY(-E.keyboardSpeed,!1);break;case 34:case 32:be.scrollByY(q*E.scrollPagePercent,!1);break;case 33:be.scrollByY(-q*E.scrollPagePercent,!1);break;case 39:be.scrollByX(E.keyboardSpeed,!1);break;case 37:be.scrollByX(-E.keyboardSpeed,!1)}return i=e!=te||t!=Z}var o,i,s=[];Q&&s.push(le[0]),K&&s.push(ne[0]),F.bind("focus.jsp",function(){t.focus()}),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target===this||s.length&&e(t.target).closest(s).length){var r=te,a=Z;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:o=t.keyCode,n();break;case 35:y(G-q),o=null;break;case 36:y(0),o=null}return i=t.keyCode==o&&r!=te||a!=Z,!i}}).bind("keypress.jsp",function(t){return t.keyCode==o&&n(),t.target===this||s.length&&e(t.target).closest(s).length?!i:void 0}),E.hideFocus?(t.css("outline","none"),"hideFocus"in O[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in O[0]&&t.attr("hideFocus",!1))}function Y(){t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),F.unbind(".jsp")}function z(){if(location.hash&&location.hash.length>1){var t,n,o=escape(location.hash.substr(1));try{t=e("#"+o+', a[name="'+o+'"]')}catch(i){return}t.length&&F.find(o)&&(0===O.scrollTop()?n=setInterval(function(){O.scrollTop()>0&&(C(t,!0),e(document).scrollTop(O.position().top),clearInterval(n))},50):(C(t,!0),e(document).scrollTop(O.position().top)))}}function X(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(t){var n,o,i,s,r,a,c=this.href.substr(0,this.href.indexOf("#")),l=location.href;if(-1!==location.href.indexOf("#")&&(l=location.href.substr(0,location.href.indexOf("#"))),c===l){n=escape(this.href.substr(this.href.indexOf("#")+1));try{o=e("#"+n+', a[name="'+n+'"]')}catch(p){return}o.length&&(i=o.closest(".jspScrollable"),s=i.data("jsp"),s.scrollToElement(o,!0),i[0].scrollIntoView&&(r=e(window).scrollTop(),a=o.offset().top,(r>a||a>r+e(window).height())&&i[0].scrollIntoView()),t.preventDefault())}}))}function R(){var e,t,n,o,i,s=!1;O.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick MSPointerDown.jsp MSPointerMove.jsp MSPointerUp.jsp MSPointerCancel.jsp").bind("touchstart.jsp MSPointerDown.jsp",function(r){var a;a=r.originalEvent.touches?r.originalEvent.touches[0]:r.originalEvent,e=T(),t=D(),n=a.pageX,o=a.pageY,i=!1,s=!0}).bind("touchmove.jsp MSPointerMove.jsp",function(r){if(s){var a,c=te,l=Z;return a=r.originalEvent.touches?r.originalEvent.touches[0]:r.originalEvent,be.scrollTo(e+n-a.pageX,t+o-a.pageY),i=i||Math.abs(n-a.pageX)>5||Math.abs(o-a.pageY)>5,c==te&&l==Z}}).bind("touchend.jsp MSPointerUp.jsp MSPointerCancel.jsp",function(e){s=!1}).bind("click.jsp-touchclick",function(e){return i?(i=!1,!1):void 0})}function I(){var e=D(),n=T();t.removeClass("jspScrollable").unbind(".jsp"),F.unbind(".jsp"),t.replaceWith(Te.append(F.children())),Te.scrollTop(e),Te.scrollLeft(n),je&&clearInterval(je)}var E,F,L,q,O,V,G,N,U,K,Q,$,J,Z,_,ee,te,ne,oe,ie,se,re,ae,ce,le,pe,ue,de,fe,he,je,ge,ve,me,be=this,we=!0,ye=!0,ke=!1,Ce=!1,Te=t.clone(!1,!1).empty(),De=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===t.css("box-sizing")?(ge=0,ve=0):(ge=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),ve=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0)),e.extend(be,{reinitialise:function(t){t=e.extend({},E,t),o(t)},scrollToElement:function(e,t,n){C(e,t,n)},scrollTo:function(e,t,n){k(e,n),y(t,n)},scrollToX:function(e,t){k(e,t)},scrollToY:function(e,t){y(e,t)},scrollToPercentX:function(e,t){k(e*(V-L),t)},scrollToPercentY:function(e,t){y(e*(G-q),t)},scrollBy:function(e,t,n){be.scrollByX(e,n),be.scrollByY(t,n)},scrollByX:function(e,t){var n=T()+Math[0>e?"floor":"ceil"](e),o=n/(V-L);v(o*ee,t)},scrollByY:function(e,t){var n=D()+Math[0>e?"floor":"ceil"](e),o=n/(G-q);j(o*J,t)},positionDragX:function(e,t){v(e,t)},positionDragY:function(e,t){j(e,t)},animate:function(e,t,n,o,i){var s={};s[t]=n,e.animate(s,{duration:E.animateDuration,easing:E.animateEase,queue:!1,step:o,complete:i})},getContentPositionX:function(){return T()},getContentPositionY:function(){return D()},getContentWidth:function(){return V},getContentHeight:function(){return G},getPercentScrolledX:function(){return T()/(V-L)},getPercentScrolledY:function(){return D()/(G-q)},getIsScrollableH:function(){return Q},getIsScrollableV:function(){return K},getContentPane:function(){return F},scrollToBottom:function(e){j(J,e)},hijackInternalLinks:e.noop,destroy:function(){I()}}),o(n)}return t=e.extend({},e.fn.jScrollPane.defaults,t),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed}),this.each(function(){var o=e(this),i=o.data("jsp");i?i.reinitialise(t):(e("script",o).filter('[type="text/javascript"],:not([type])').remove(),i=new n(o,t),o.data("jsp",i))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}});
