function fflog(e, t) {
    (ffdebug || "error" === e) && console[e].call(console, t)
}
function PlayerBitmovin(e, t, i) {
    var s, n, a, r, o, l, h, c, d, u, p, f, g, m, v, b = new Object, y = this, w = "80" !== location.port ? ":" + location.port : "", _ = i, k = "http://" + document.domain + w + "/" + _, x = t, C = new eventsCore.util.Logger("PlayerBitmovin"), T = "bitmovin", S = e, P = eventsPlayer.PlayerConstants, M = [], E = !1, A = !1, D = !0, L = .8, R = 0, j = !1, O = !1, z = 0;
    C.info("constructor:%o holder:%o player:%o controls:%o ns:%o", y, S, n, x, _);
    var I = function() {
        c = new eventsPlayer.utils.FullscreenManager($("#events-video-obj_html5_api")[0]),
        $(".poster").hide(),
        C.info("init - fs:%o", c.isFullscreenEnabled()),
        k = "*";
        var e = {
            key: "5134baad-6453-4367-a644-af739e4a0d63",
            playback: {
                autoplay: !0,
                muted: !1,
                preferredTech: [{
                    player: "html5",
                    streaming: "hls"
                }, {
                    player: "native",
                    streaming: "hls"
                }, {
                    player: "flash",
                    streaming: "hls"
                }]
            },
            style: {
                bufferingOverlay: !1,
                controls: !1,
                playOverlay: !1
            },
            events: {
                onReady: function(e) {
                    V(e)
                },
                onMetadata: function(e) {
                    N(e)
                },
                onPlay: function(e) {
                    H()
                },
                onPaused: function(e) {
                    B()
                },
                onPlaybackFinished: function(e) {
                    G()
                },
                onError: function(e) {
                    C.info("onError - data:%o", e)
                },
                onTimeChanged: function(e) {
                    W(e.time)
                },
                onPlayerResize: function(e) {
                    C.info("onPlayerResize - data:%o", e)
                },
                onVideoDownloadQualityChanged: function(e) {
                    C.info("onVideoDownloadQualityChanged - data:%o", e)
                },
                onVideoPlaybackQualityChanged: function(e) {
                    C.info("onVideoPlaybackQualityChanged - data:%o", e)
                },
                onSubtitleAdded: function(e) {
                    U(e)
                },
                onCueEnter: function(e) {
                    C.info("onCueEnter - data:%o", e)
                },
                onCueExit: function(e) {
                    C.info("onCueExit - data:%o", e)
                }
            }
        };
        n = bitmovin.player(S),
        n.setup(e).then(function(e) {
            C.info("success")
        }, function(e) {
            C.info("error")
        })
    }
      , q = function(e) {
        hls = null,
        r = null,
        o = [],
        l = null,
        a = null,
        h = null,
        D = !0,
        R = 0,
        j = !1,
        O = !1,
        s = e,
        C.info("********************"),
        C.info("load - playObj:%o", s),
        n.unload();
        var t = {
            hls: s.url,
            poster: s.poster
        };
        n.load(t),
        s.poster && ($(".poster").css("background-image", "url(" + s.poster + ")"),
        $(".poster").show()),
        C.info("load - holder:%s playObj:%o nativett:%o", S, s, s.useNativeTextTracks),
        F(s.analytics),
        s.autoPlay ? $(".poster").hide() : ($(".poster").show(),
        $(".wrapper").on("click", function(e) {
            $(".wrapper").off("click"),
            $(".poster").hide(),
            n.play()
        }))
    }
      , F = function(e) {
        C.info("initAnalytics - analytics:%o", e),
        !d && e.convivaData && e.convivaData.enable && (d = new eventsPlayer.control.AnalyticsConviva(e.convivaData)),
        d && d.startSession(e.convivaData, n.src, $(n.element).find("video")[0]),
        !u && e.youboraData && e.youboraData.enable && (u = new eventsPlayer.control.AnalyticsYoubora(n,e.youboraData))
    }
      , V = function(e) {
        return C.info("onReady - data:%o vq:%o", e, n.getAvailableVideoQualities()),
        void (r = n.getAvailableVideoQualities())
    }
      , N = function(e) {
        C.info("onLoadedMetadata - data:%o", e)
    }
      , H = function(e) {
        if (j = !1,
        !O) {
            O = !0;
            var t = new eventsPlayer.commons.PlayEvent;
            ie(t, k),
            v && n.muted(v),
            m ? n.setVolume(m) : (n.setVolume(L),
            m = L)
        }
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !1,
        ie(t, k),
        t = null
    }
      , B = function(e) {
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !0,
        ie(t, k),
        t = null
    }
      , W = function(e) {
        var t = new eventsPlayer.commons.TimeUpdateEvent;
        !h && e > 0 && (!isFinite(n.getDuration()) && e > 30 ? h = P.DVR : isFinite(n.getDuration()) ? isFinite(n.getDuration()) && (h = P.VOD) : h = P.LIVE,
        u && u.setStreamType(h != P.VOD)),
        t.start = 0,
        h == P.DVR ? (t.time = e,
        t.duration = n.getMaxTimeShift() * -1,
        z = t.duration) : (t.time = e,
        t.duration = n.getDuration()),
        t.detectedStreamType = h,
        t.qos = a,
        ie(t, k),
        t = null
    }
      , U = function(e) {
        if (o.push(e.subtitle),
        C.info("onSubtitles - list:%o", o),
        o.length > 0) {
            var t = {};
            t = [];
            for (var i = 0; i < o.length; i++)
                t.push({
                    kind: o[i].kind,
                    language: o[i].lang,
                    label: o[i].label
                });
            var s = new eventsPlayer.commons.TextTrackEvent;
            s.data = t,
            ie(s, k),
            s = null
        }
    }
      , G = function(e) {
        C.info("onEnded - ");
        var t = new eventsPlayer.commons.CompleteEvent;
        j || (j = !0,
        ie(t, k),
        t = null)
    }
      , Y = function(e) {
        return C.info("seek - time:%o", e),
        n.timeShift(e),
        void n.seek(e)
    }
      , X = function(e) {
        "default" == s.captions ? (C.info("enableTextTracks - index:%o subtitles:%o", e, o),
        n.setSubtitle(o[e].id)) : "custom" == s.captions && (A = !0)
    }
      , Q = function() {
        "default" == s.captions ? (E = !1,
        f = null) : "custom" == s.captions && (A = !1),
        J()
    }
      , J = function() {
        C.info("updateCaptionsDisplay - track:%o captionsEnabled:%o", g, E),
        (A || E) && g ? g.mode = "showing" : g && (g.mode = "disabled")
    }
      , Z = function(e) {
        var t = [];
        if (e.cues && e.cues.length > 0)
            for (var i = 0; i < e.cues.length; i++)
                t.push(K(e.cues[i]));
        if (C.info("updateCueList - new:%o", JSON.stringify(t) !== JSON.stringify(M)),
        JSON.stringify(t) !== JSON.stringify(M)) {
            M = t;
            var s = new eventsPlayer.commons.TrackLoadedEvent;
            s.data = M,
            ie(s, k),
            s = null
        }
    }
      , K = function(e) {
        var t = {}
          , i = ""
          , s = e.id.split(",");
        return i = e.text.replace(/(<.*?>)/g, ""),
        i = i.replace(/(\r\n|\n|\r)/gm, ""),
        i = i.replace(/(Watson Confidence: .*%)/g, ""),
        t.id = s[0],
        t.start = e.startTime,
        t.end = e.endTime,
        t.text = i,
        t.confidence = s.length >= 2 ? s[1].replace(" ", "") : "0%",
        t.status = s.length >= 3 ? s[2].replace(" ", "") : "",
        t
    }
      , ee = function(e) {
        var t, i;
        if (f >= 0) {
            var s = n.textTracks()[f]
              , e = e.subtitle;
            C.info("updateTrackData - length:%o cuelen:%o", e.length, s.cues.length);
            for (var a = s.cues.length - 1; a >= 0; a--)
                s.removeCue(s.cues[a]);
            for (var r = 0; r < e.length; r++) {
                var t = new window.VTTCue(e[r].startTime,e[r].endTime,e[r].transcript);
                i = Math.round(1e3 * e[r].confidence) / 10,
                t.id = e[r].index + ", " + i + "%, " + e[r].status,
                s.addCue(t)
            }
            Z(s)
        }
    }
      , te = function(e) {
        var t = e.data;
        switch (t.name) {
        case "load":
            q(t.data);
            break;
        case "stop":
            n && (n.pause(),
            p && p.pause());
            break;
        case "play":
            n && n.play();
            break;
        case "pause":
            n && n.pause();
            break;
        case "seek":
            n && Y(t.data.time);
            break;
        case "mute":
            v = t.data.mute,
            n && n.muted(v);
            break;
        case "volume":
            n && n.volume(t.data.volume);
            break;
        case "fullscreenOn":
            c.fullScreenOnVideo(n);
            break;
        case "updateTextTrack":
            ee(t.data);
            break;
        case "captionsOn":
            X(t.data.index);
            break;
        case "captionsOff":
            Q()
        }
    }
      , ie = function(e, t) {
        var i = e;
        e.type = _ + ":" + e.type,
        window.parent.postMessage(e, t);
        "tech:" + i.type
    }
      , se = function() {
        window.addEventListener("message", te)
    }
      , ne = function() {
        C.info("sendReady - ns:%o", _);
        var e = new eventsPlayer.commons.PlayerReadyEvent;
        e.tech = T,
        e.fullscreenEnabled = c.isFullscreenEnabled(),
        ie(e, k),
        e = null
    };
    return b.receive608 = function(e, t) {
        h == P.DVR && (e += z);
        var i = new eventsPlayer.commons.CaptionEvent;
        i.time = e,
        i.data = t,
        ie(i, k),
        i = null
    }
    ,
    b.load = function(e) {
        q(e)
    }
    ,
    b.forceError = function() {
        n.error({
            code: "2"
        })
    }
    ,
    I(),
    se(),
    setTimeout(ne, 100),
    b
}
function PlayerHlsjs(e, t, i) {
    var s, n, a, r, o, l, h, c, d, u, p, f, g, m, v, b, y, w, k, x, C, T, S, P = new Object, M = this, E = "80" !== location.port ? ":" + location.port : "", A = i, D = location.protocol + "//" + document.domain + E + "/" + A, L = t, R = new eventsCore.util.Logger("PlayerHlsjs"), j = "hlsjs", O = "events-video-obj", z = e, I = eventsPlayer.PlayerConstants, q = !1, F = !0, V = .8, N = 0, H = !1, B = !1, W = !1, U = !1, G = 0, Y = 0, X = 0, Q = 0, J = 0, Z = 0, K = 0, ee = 0, te = 0, ie = 3, se = 0, ne = 0, ae = 1, re = !1, oe = 180, le = 12, he = {
        capLevelToPlayerSize: !0
    }, ce = {}, de = {}, ue = {};
    R.info("constructor:%o holder:%o player:%o", M, z, n),
    $(window).resize(function() {
        Ve()
    });
    var pe = function() {
        $("#" + z).html(),
        Ne(!1),
        me(),
        setTimeout(Ue, 100),
        Ve()
    }
      , fe = function(e) {
        o = [],
        r = null,
        h = null,
        F = !0,
        N = 0,
        H = !1,
        B = !1,
        U = !1,
        G = 0,
        Y = 0,
        X = 0,
        K = 0,
        ee = 0,
        te = 0,
        Q = 0,
        Z = 0,
        v = null,
        b = null,
        y = null,
        k = null,
        w = null,
        se = 0,
        ne = 0,
        C = 0,
        T = 0,
        S = "",
        s = e,
        ce = _.clone(he),
        ce = _.extend(ce, s.hlsjsConfig),
        de = {
            quicResponses: 0,
            httpResponses: 0
        },
        ue = {
            counters: de,
            countersCallback: Ee
        },
        R.info("********************"),
        R.info("load - playObj:%o auto:%o hlsjsConfig:%o", s, s.autoPlay, ce),
        "undefined" != typeof a && a.destroy(),
        me(),
        s.poster && $(".poster").css("background-image", "url(" + s.poster + ")"),
        s.autoPlay ? (Ne(!1),
        ve(),
        ge()) : (Ne(!0, !0),
        ge(),
        $(".wrapper").on("click", function(e) {
            R.info("wrapper click"),
            $(".wrapper").off("click"),
            Ne(!1),
            ve(),
            video.play()
        }))
    }
      , ge = function() {
        if (Hls.isSupported() && "application/x-mpegURL" == s.mimeType) {
            if (s.akamaiAcceleration && "akamai" == s.cdn.toLowerCase()) {
                R.info("continueLoad - using akamai media acceleration - akAcc:%o cdn:%o maConfig:%o", s.akamaiAcceleration, s.cdn, ue);
                try {
                    x = new MediaAccelerationHlsJsWrapper(ue,ce),
                    a = x.getPlayer()
                } catch (e) {
                    throw R.error("An error occurred while initializing the MediaAccelerationHlsJsWrapper: ", e),
                    e
                }
            } else
                R.info("continueLoad - using standard hls.js - akAcc:%o cdn:%o", s.akamaiAcceleration, s.cdn),
                a = new Hls(ce);
            R.info("continueLoad - hlsConfig:%o loader:%o", ce, ce.loader),
            a.attachMedia(video),
            a.on(Hls.Events.MEDIA_ATTACHED, function() {
                R.info("video and hls.js are now bound together !"),
                a.loadSource(s.url),
                a.on(Hls.Events.MANIFEST_PARSED, function(e, t) {
                    R.info("MANIFEST_PARSED - data:%o autoplay:%o adPlaying:%o", t, s.autoPlay, W),
                    !W && s.autoPlay && (R.info("MANIFEST_PARSED - play"),
                    video.play())
                })
            }),
            a.on(Hls.Events.LEVEL_LOADED, function(e, t) {
                U = t.details.live,
                J = ie * t.details.targetduration,
                te = t.details.totalduration,
                K = te - J,
                ne = 0,
                R.info("LEVEL_LOADED - data:%o adjustedDuration:%o targetOffset:%o", t, K, J)
            }),
            a.on(Hls.Events.FRAG_PARSING_USERDATA, function(e, t) {
                for (var i = 0; i < t.samples.length; i++) {
                    var s = Fe(t.samples[i].bytes);
                    s.length > 0 && Ce(t.samples[i].pts, s)
                }
            }),
            a.on(Hls.Events.ERROR, function(e, t) {
                var i = t.type
                  , s = t.details
                  , n = t.fatal;
                if (t.fatal)
                    if (se < ae)
                        switch (t.type) {
                        case Hls.ErrorTypes.NETWORK_ERROR:
                            R.error("ERROR - recover - type:%o detail:%o fatal:%o", i, s, n),
                            a.startLoad(),
                            se++,
                            s == Hls.ErrorDetails.MANIFEST_LOAD_ERROR && (se = 0,
                            qe(t));
                            break;
                        case Hls.ErrorTypes.MEDIA_ERROR:
                            R.error("ERROR - recover - type:%o detail:%o fatal:%o", i, s, n),
                            a.recoverMediaError(),
                            se++;
                            break;
                        default:
                            R.error("ERROR - fail - type:%o detail:%o fatal:%o", i, s, n),
                            qe(t)
                        }
                    else
                        R.error("ERROR - fail_max - type:%o detail:%o fatal:%o", i, s, n),
                        se = 0,
                        qe(t);
                else
                    R.warn("ERROR - type:%o detail:%o", i, s),
                    s == Hls.ErrorDetails.LEVEL_LOAD_ERROR && (ne++,
                    ne > 10 && (ne = 0,
                    qe(t)))
            })
        } else if ("video/mp4" == s.mimeType)
            $(video).attr("src", s.url),
            !W && s.autoPlay && video.play();
        else if (!Hls.isSupported()) {
            R.error("continueLoad - hls not supported by hlsjs on this platform");
            var e = new eventsPlayer.commons.ErrorEvent;
            e.message = "hls not supported by hlsjs on this platform",
            e.stack = "",
            e.code = "100",
            Be(e, D),
            e = null
        }
    }
      , me = function() {
        var e = "default" === L ? "controls" : "";
        $("#" + z).children().filter("video").each(function() {
            this.pause(),
            delete this,
            $(this).remove(),
            video = null
        });
        var t = "";
        s && s.tracks && s.tracks.length >= 1 && (t += '<track kind="' + s.tracks[0].type + '" srclang="en" src="' + s.tracks[0].file + '" label="' + s.tracks[0].label + '"></track>',
        s.captions = "default"),
        $("#" + z).append('<video id="' + O + '" class="video-responsive" ' + e + ">" + t + "</video>"),
        video = $("#" + O)[0],
        R.info("resetVideo - holder:%s video:%o", $("#" + z), video),
        video.addEventListener("resize", ye),
        video.addEventListener("seeking", ze),
        video.addEventListener("seeked", Ie),
        video.addEventListener("canplay", ye),
        video.addEventListener("canplaythrough", ye),
        video.addEventListener("ended", Oe),
        video.addEventListener("playing", Te),
        video.addEventListener("error", qe),
        video.addEventListener("loadeddata", ye),
        video.addEventListener("durationchange", ye),
        video.addEventListener("pause", Pe),
        video.addEventListener("play", Se),
        video.addEventListener("loadedmetadata", Le),
        video.addEventListener("timeupdate", Me),
        video.addEventListener("waiting", je),
        video.addEventListener("volumechange", Re)
    }
      , ve = function() {
        var e = s.analytics
          , t = eventsCore.util.getUrlParam("touchstone") && eventsCore.util.getUrlParam("touchstone").length >= 0;
        R.info("initAnalytics - analytics:%o conviva:%o elem:%o", e, s.streamType, video),
        !c && e.convivaData && e.convivaData.enable[s.streamType] && (R.info("initAnalytics - Conviva enabled:%o", e.convivaData.enable[s.streamType]),
        c = new eventsPlayer.control.AnalyticsConvivaHtml5(e.convivaData,t)),
        c && e.convivaData.enable[s.streamType] && (e.convivaData.name = s.title,
        e.convivaData.url = s.url,
        e.convivaData.video = video,
        e.convivaData.channelName = s.channel,
        e.convivaData.renderer = "hlsjs",
        e.convivaData.cdn = s.cdn,
        e.convivaData.playerName = "HTML5",
        c.startSession(e.convivaData)),
        !d && e.akamaiData.enable[s.streamType] && (d = new eventsPlayer.control.AnalyticsAkamai(n,e.akamaiData)),
        !u && e.youboraData && e.youboraData.enable && (u = new eventsPlayer.control.AnalyticsYoubora(n,e.youboraData))
    }
      , be = function(e) {
        R.info("recordEvent - conv:%o data:%o", c, e),
        "conviva" == e.service.toLowerCase() && c && c.sendEvent(e.name, e.data)
    }
      , ye = function(e) {
        var t = "";
        switch (e.type) {
        case "durationchange":
            if (e.target.duration - Q <= .5)
                return;
            Q = e.target.duration,
            t = Math.round(1e3 * e.target.duration);
            break;
        case "resize":
            t = e.target.videoWidth + "/" + e.target.videoHeight;
            break;
        case "loadeddata":
        case "canplay":
        case "canplaythrough":
        case "playing":
        case "stalled":
        case "error":
        }
    }
      , we = function(e) {
        var t, i = [];
        y = $("video")[0].textTracks;
        for (var s = 0; s < y.length; s++)
            t = y[s],
            "captions" == t.kind && (R.info("setupTextTracks - src:%o textTrack:%o", e, t),
            i.push({
                label: t.label,
                language: t.language,
                kind: t.kind,
                index: s
            }),
            t.oncuechange = function() {
                xe(this)
            }
            );
        if (i.length > 0) {
            var n = new eventsPlayer.commons.TextTrackEvent;
            n.data = i,
            Be(n, D),
            n = null
        }
        w && !k && _e(w)
    }
      , _e = function(e) {
        w = e,
        y && y.length >= 1 && y[e] && (k = y[e]),
        re || "default" == s.captions ? (R.info("enableTextTracks - default - trackIndex:%o", w),
        q = !1,
        k && (k.mode = "showing")) : "custom" == s.captions && (R.info("enableTextTracks - custom - trackIndex:%o", w),
        q = !0,
        k && (k.mode = "hidden"))
    }
      , ke = function() {
        R.info("disableTextTracks");
        "default" == s.captions ? (w = null,
        k && (k.mode = "hidden",
        k = null)) : "custom" == s.captions && (q = !1)
    }
      , xe = function() {
        try {
            var e = $("video")[0].textTracks[0].activeCues[0]
              , t = "";
            !e || f && e.id == f.id || (f = e,
            t = e.text,
            $("video")[0].textTracks[0].activeCues[0].line = le,
            $("video")[0].textTracks[0].activeCues[0].text = "",
            $("video")[0].textTracks[0].activeCues[0].text = t)
        } catch (e) {}
    }
      , Ce = function(e, t) {
        if (h == I.DVR,
        "custom" == s.captions) {
            var i = new eventsPlayer.commons.CaptionEvent;
            i.time = e,
            i.data = t,
            Be(i, D),
            i = null
        }
    }
      , Te = function() {
        Ne(!1),
        d && d.onBufferEnd()
    }
      , Se = function(e) {
        if (H = !1,
        !B) {
            B = !0;
            var t = new eventsPlayer.commons.PlayEvent;
            Be(t, D),
            m && (video.muted = m),
            g ? video.volume = g : (video.volume = V,
            g = V)
        }
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !1,
        Be(t, D),
        t = null,
        d && d.onPlay()
    }
      , Pe = function(e) {
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !0,
        Be(t, D),
        t = null,
        d && d.onPause()
    }
      , Me = function(e) {
        var t = new eventsPlayer.commons.TimeUpdateEvent;
        U ? (0 == Z && (Z = video.duration),
        Z > te ? (b = Z - J,
        v = Z - te) : (b = Z - J,
        v = 0),
        b < video.currentTime && (b = video.currentTime),
        X = b - v,
        G = video.currentTime,
        G < 0 ? G = b : G < v && (G = v),
        Z < video.duration && Y > 0 && (Z += G - Y),
        Y = G) : (G = video.currentTime,
        X = video.duration),
        !h && G > 0 && (U && G > oe ? h = I.DVR : U ? h = I.LIVE : isFinite(video.duration) && (h = I.VOD),
        u && u.setStreamType(h != I.VOD),
        R.info("onTimeUpdate - type:%o isLive:%o current:%o", h, U, G)),
        t.start = 0,
        h == I.DVR ? (t.time = G,
        t.duration = X,
        t.start = v,
        t.loadedTime = b) : (t.time = G,
        t.duration = X);
        for (var i = [], s = 0; s < video.buffered.length; s++)
            i.push({
                start: video.buffered.start(s),
                end: video.buffered.end(s)
            });
        t.buffered = i,
        t.detectedStreamType = h;
        try {
            var n = a.levels[a.currentLevel];
            l !== n.url[0] && De()
        } catch (e) {}
        t.qos = r,
        Be(t, D),
        t = null,
        h == I.VOD && X - G < .05 && (N > 10 ? Oe() : N++)
    }
      , Ee = function(e) {
        if (R.info("countersCallback - quic:%o http:%o", e.quicResponses, e.httpResponses),
        e.quicResponses > C && "quic" != S) {
            C = e.quicResponses,
            S = "quic";
            var t = {
                service: "conviva",
                name: "delivery",
                data: {
                    type: "quic"
                }
            };
            be(t)
        } else if (e.httpResponses > T && "http" != S) {
            T = e.httpResponses,
            S = "http";
            var t = {
                service: "conviva",
                name: "delivery",
                data: {
                    type: "http"
                }
            };
            be(t)
        }
    }
      , Ae = function() {
        var e = new eventsPlayer.commons.MetadataEvent;
        Be(e, D),
        e = null
    }
      , De = function() {
        var e = new eventsPlayer.commons.QosData;
        e.playRate = "NA";
        var t = a.levels[a.currentLevel]
          , i = {};
        if (i.renderer = "html5",
        t) {
            l = t.url[0];
            var s = l.substring(0, l.lastIndexOf("/") + 1)
              , n = l.replace(s, "");
            i.path = s,
            i.manifest = n,
            i.activeRendition = a.currentLevel + 1,
            i.totalRenditions = a.levels.length,
            i.bandwidth = t.bitrate,
            i.resolution = t.width + "x" + t.height,
            i.codecVideo = t.videoCodec,
            i.codecAudio = t.audioCodec,
            c && c.reportBitrate(t.bitrate / 1e3),
            d && d.onBitrate(t.bitrate / 1e3)
        }
        r = i
    }
      , Le = function(e) {
        R.info("onLoadedMetadata - %o tracks:%o", e, $("video")[0].textTracks),
        $("video")[0].textTracks && we("video"),
        $("video")[0].textTracks.onaddtrack = function() {
            we("added")
        }
        ,
        Ae(),
        d && d.loadedmetadata(s.title, "hlsjs", "testId")
    }
      , Re = function(e) {
        m = video.muted,
        g = video.volume;
        var t = new eventsPlayer.commons.VolumeEvent;
        t.muted = m,
        t.volume = g,
        Be(t, D),
        t = null
    }
      , je = function(e) {
        var t = new eventsPlayer.commons.BufferingEvent;
        Be(t, D),
        t = null,
        d && d.onBufferStart()
    }
      , Oe = function(e) {
        var t = new eventsPlayer.commons.CompleteEvent;
        Be(t, D),
        t = null,
        B = !1,
        d && d.onEnded()
    }
      , ze = function(e) {
        Y = 0,
        R.info("onSeeking - data.%o cur:%o", e, video.currentTime)
    }
      , Ie = function(e) {
        R.info("onSeeked - data.%o cur:%o", e, video.currentTime)
    }
      , qe = function(e) {
        var t = e.type
          , i = e.details;
        e.fatal;
        a.destroy(),
        R.info("onError - type:%o detail:%o", t, i);
        var s = new eventsPlayer.commons.ErrorEvent;
        s.message = t,
        s.stack = i,
        Be(s, D),
        s = null,
        c && c.reportError(t),
        d && d.onError()
    }
      , $e = function(e) {
        var t;
        t = U && e >= X - 2 ? video.duration - J : U ? e + v : e,
        video.currentTime = t,
        R.info("seek - cur:%o target:%o adjsTarget:%o", G, e, t);
        var i = new eventsPlayer.commons.SeekEvent;
        i.time = video.currentTime,
        Be(i, D),
        i = null
    }
      , Fe = function(e) {
        for (var t, i, s, n, a, r = 31 & e[0], o = 2, l = [], h = 0; h < r; h++)
            t = e[o++],
            i = 127 & e[o++],
            s = 127 & e[o++],
            n = 0 !== (4 & t),
            a = 3 & t,
            0 === i && 0 === s || n && 0 === a && (l.push(i),
            l.push(s));
        return l
    }
      , Ve = function() {
        var e = new eventsPlayer.commons.ResizeEvent;
        e.width = $("#" + z).width(),
        e.height = $("#" + z).height(),
        Be(e, D),
        e = null
    }
      , Ne = function(e, t) {
        R.info("setPoster - poster:%o button:%o", e, t),
        e ? ($(".poster").show(),
        t ? $(".poster").find("img").show() : $(".poster").find("img").hide()) : ($(".poster").hide(),
        $(".poster").find("img").show())
    }
      , He = function(e) {
        var t = e.data;
        switch (t.name) {
        case "load":
            fe(t.data);
            break;
        case "stop":
            video && (R.info("receiveMessage msg:%o conviva:%s", t, c),
            video.pause(),
            p && p.pause(),
            c && c.cleanUpSession(),
            a && a.destroy());
            break;
        case "play":
            video && video.play();
            break;
        case "pause":
            video && video.pause();
            break;
        case "seek":
            video && $e(t.data.time);
            break;
        case "mute":
            m = t.data.mute,
            video && $(video).prop("muted", m);
            break;
        case "volume":
            video && (video.volume = t.data.volume);
            break;
        case "fullscreenOn":
            break;
        case "updateTextTrack":
            updateTrackData(t.data);
            break;
        case "captionsOn":
            _e(t.data.index);
            break;
        case "captionsOff":
            ke();
            break;
        case "recordEvent":
            be(t.data)
        }
    }
      , Be = function(e, t) {
        var i = e;
        e.type = A + ":" + e.type,
        window.parent.postMessage(e, t);
        "tech:" + i.type
    }
      , We = function() {
        window.addEventListener("message", He)
    }
      , Ue = function() {
        var e = new eventsPlayer.commons.PlayerReadyEvent;
        e.tech = j,
        Be(e, D),
        e = null
    };
    return P.load = function(e) {
        fe(e)
    }
    ,
    pe(),
    We(),
    P
}
function PlayerRadiant(e, t, i) {
    var s, n, a, r, o, l, h, c, d, u = new Object, p = this, f = "80" !== location.port ? ":" + location.port : "", g = i, m = "http://" + document.domain + f + "/" + g, v = t, b = new eventsCore.util.Logger("PlayerRadiant"), y = "radiant", w = e, _ = eventsPlayer.PlayerConstants, k = [], x = !1, C = !1, T = 0;
    b.info("constructor:%o holder:%o player:%o controls:%o ns:%o", p, w, n, v, g);
    var S = function() {
        o = new eventsPlayer.utils.FullscreenManager($("#events-video-obj_html5_api")[0]),
        $(".poster").hide(),
        b.info("init - fs:%o", o.isFullscreenEnabled()),
        m = "*"
    }
      , P = function(e) {
        s = e;
        var t = {
            licenseKey: "Y2lxa29xYW1jcSEqXyVjZXk9Y3p2OTJ5ZWk/cm9tNWRhc2lzMzBkYjBBJV8q",
            bitrates: {
                hls: s.url
            },
            delayToFade: 3e3,
            width: 640,
            height: 360,
            isLive: !0,
            poster: "https://www.radiantmediaplayer.com/images/poster-rmp-showcase.jpg"
        };
        n = new RadiantMP(w);
        return void n.init(t)
    }
      , M = function(e) {
        return b.info("seek - time:%o", e),
        n.timeShift(e),
        void n.seek(e)
    }
      , E = function(e) {
        "default" == s.captions ? (b.info("enableTextTracks - index:%o subtitles:%o", e, a),
        n.setSubtitle(a[e].id)) : "custom" == s.captions && (C = !0)
    }
      , A = function() {
        "default" == s.captions ? (x = !1,
        h = null) : "custom" == s.captions && (C = !1),
        D()
    }
      , D = function() {
        b.info("updateCaptionsDisplay - track:%o captionsEnabled:%o", c, x),
        (C || x) && c ? c.mode = "showing" : c && (c.mode = "disabled")
    }
      , L = function(e) {
        var t = [];
        if (e.cues && e.cues.length > 0)
            for (var i = 0; i < e.cues.length; i++)
                t.push(R(e.cues[i]));
        if (b.info("updateCueList - new:%o", JSON.stringify(t) !== JSON.stringify(k)),
        JSON.stringify(t) !== JSON.stringify(k)) {
            k = t;
            var s = new eventsPlayer.commons.TrackLoadedEvent;
            s.data = k,
            z(s, m),
            s = null
        }
    }
      , R = function(e) {
        var t = {}
          , i = ""
          , s = e.id.split(",");
        return i = e.text.replace(/(<.*?>)/g, ""),
        i = i.replace(/(\r\n|\n|\r)/gm, ""),
        i = i.replace(/(Watson Confidence: .*%)/g, ""),
        t.id = s[0],
        t.start = e.startTime,
        t.end = e.endTime,
        t.text = i,
        t.confidence = s.length >= 2 ? s[1].replace(" ", "") : "0%",
        t.status = s.length >= 3 ? s[2].replace(" ", "") : "",
        t
    }
      , j = function(e) {
        var t, i;
        if (h >= 0) {
            var s = n.textTracks()[h]
              , e = e.subtitle;
            b.info("updateTrackData - length:%o cuelen:%o", e.length, s.cues.length);
            for (var a = s.cues.length - 1; a >= 0; a--)
                s.removeCue(s.cues[a]);
            for (var r = 0; r < e.length; r++) {
                var t = new window.VTTCue(e[r].startTime,e[r].endTime,e[r].transcript);
                i = Math.round(1e3 * e[r].confidence) / 10,
                t.id = e[r].index + ", " + i + "%, " + e[r].status,
                s.addCue(t)
            }
            L(s)
        }
    }
      , O = function(e) {
        var t = e.data;
        switch (t.name) {
        case "load":
            P(t.data);
            break;
        case "stop":
            n && (n.pause(),
            l && l.pause());
            break;
        case "play":
            n && n.play();
            break;
        case "pause":
            n && n.pause();
            break;
        case "seek":
            n && M(t.data.time);
            break;
        case "mute":
            d = t.data.mute,
            n && n.muted(d);
            break;
        case "volume":
            n && n.volume(t.data.volume);
            break;
        case "fullscreenOn":
            o.fullScreenOnVideo(n);
            break;
        case "updateTextTrack":
            j(t.data);
            break;
        case "captionsOn":
            E(t.data.index);
            break;
        case "captionsOff":
            A()
        }
    }
      , z = function(e, t) {
        var i = e;
        e.type = g + ":" + e.type,
        window.parent.postMessage(e, t);
        "tech:" + i.type
    }
      , I = function() {
        window.addEventListener("message", O)
    }
      , q = function() {
        b.info("sendReady - ns:%o", g);
        var e = new eventsPlayer.commons.PlayerReadyEvent;
        e.tech = y,
        e.fullscreenEnabled = o.isFullscreenEnabled(),
        z(e, m),
        e = null
    };
    return u.receive608 = function(e, t) {
        r == _.DVR && (e += T);
        var i = new eventsPlayer.commons.CaptionEvent;
        i.time = e,
        i.data = t,
        z(i, m),
        i = null
    }
    ,
    u.load = function(e) {
        P(e)
    }
    ,
    u.forceError = function() {
        n.error({
            code: "2"
        })
    }
    ,
    S(),
    I(),
    setTimeout(q, 100),
    u
}
function PlayerTHEOplayer(e, t) {
    var i, s, n, a, r, o, l, h, c, d, u, p = new Object, f = this, g = "80" !== location.port ? ":" + location.port : "", m = "http://" + document.domain + g, v = t, b = new eventsCore.util.Logger("PlayerTHEOplayer"), y = e, w = eventsPlayer.PlayerConstants, k = "", x = !1;
    b.info("constructor:%o holder:%o player:%o", f, y, s),
    $(window).resize(function() {
        var e = new eventsPlayer.commons.ResizeEvent;
        e.width = $(y).width(),
        e.height = $(y).height(),
        b.info("resize w:%o h:%o", e.width, e.height),
        X(e, m)
    }),
    theoplayer.onReady = function() {
        $(".poster").hide(),
        i = document.createElement("video"),
        i.id = "main",
        "default" === v ? i.controls = v : i.controls = null,
        i.src = "",
        i.className = "video-player",
        i.preload = "none",
        y.append(i),
        b.info("onReady - theo:%o", theoplayer.configuration),
        C(),
        $(".vjs-loading-spinner") && $(".vjs-loading-spinner").css("opacity", "0")
    }
    ;
    var C = function() {
        d = new eventsPlayer.utils.FullscreenManager(i),
        s = theoplayer(i),
        b.info("initPlayer - obj:%o fs:%o", s, d.isFullscreenEnabled()),
        s ? (s.autoplay = !1,
        s.addEventListener("initialized", E),
        s.addEventListener("canplay", A),
        s.addEventListener("loadedmetadata", D),
        s.addEventListener("loadeddata", L),
        s.addEventListener("play", R),
        s.addEventListener("pause", j),
        s.addEventListener("playing", O),
        s.addEventListener("timeupdate", I),
        s.addEventListener("durationchange", z),
        s.addEventListener("waiting", q),
        s.addEventListener("ended", F),
        s.addEventListener("stalled", V),
        s.addEventListener("unsupportedPlatform", N),
        s.addEventListener("error", H),
        s.addEventListener("volumechange", W)) : (b.error("initPlayer - error creating THEOplayer"),
        Q())
    }
      , T = function(e) {
        b.info("********************"),
        b.info("load - obj:%o video:%o", e, i),
        e.poster && ($(".poster").css("background-image", "url(" + e.poster + ")"),
        $(".poster").show()),
        s || C(),
        $(".vjs-loading-spinner") && $(".vjs-loading-spinner").css("opacity", "0");
        var t = new eventsPlayer.commons.LoadingEvent;
        if (t.playObject = e,
        X(t, m),
        t = null,
        r = [],
        o = null,
        n = null,
        k = "",
        s) {
            var a = [];
            if (e.tracks)
                for (var l = 0; l < e.tracks.length; l++)
                    a.push({
                        label: e.tracks[l].label,
                        kind: e.tracks[l].type,
                        srclang: "en",
                        src: e.tracks[l].file
                    });
            s.setSource({
                sources: e.url,
                textTracks: a
            }),
            S(e.analytics),
            e.autoPlay ? (s.play(),
            $(".poster").hide()) : ($(".poster").show(),
            $(".wrapper").on("click", function(e) {
                $(".wrapper").off("click"),
                $(".poster").hide(),
                s.play()
            }))
        }
    }
      , S = function(e) {
        !u && e.convivaData && e.convivaData.enable && (u = new eventsPlayer.control.AnalyticsConviva(e.convivaData)),
        u && u.startSession(e.convivaData, s.src, $(s.element).find("video")[0])
    }
      , P = function() {
        var e = new eventsPlayer.commons.MetadataEvent;
        e.aspect = s.aspectRatio,
        e.live = s.live,
        e.dvr = s.dvr,
        e.width = s.videoWidth,
        e.height = s.videoHeight,
        e.renditions = r,
        e.fullscreenEnabled = d.isFullscreenEnabled(),
        X(e, m),
        e = null
    }
      , M = function() {
        var e = new eventsPlayer.commons.QosData;
        e.frameRate = s.frameRate,
        e.playRate = s.playbackRate;
        var t = r[o]
          , i = {};
        if (t) {
            var a = l.substring(0, l.lastIndexOf("/") + 1)
              , h = t.uri.replace(a, "");
            i.stream = l,
            i.activeRendition = o + 1,
            i.totalRenditions = r.length,
            i.uri = h,
            i.bandwidth = t.bandwidth,
            i.resolution = t.resolution.width + "x" + t.resolution.height,
            i.codecVideo = t.codecs.video,
            i.codecAudio = t.codecs.audio
        }
        b.info("updateQosData - Qos framerate:%o playrate:%o qos:%o", e.frameRate, e.playRate, e),
        n = i
    }
      , E = function(e) {
        a = theoplayer.controller(0, "renditionController"),
        a.addEventListener("qualitychanged", B),
        Z()
    }
      , A = function(e) {}
      , D = function(e) {
        b.info("onLoadedMetadata - %o tracks:%o", e, i.textTracks),
        s.textTracks && s.textTracks.addEventListener("addtrack", U),
        i.textTracks
    }
      , L = function(e) {
        b.info("onLoadedData - %o ", e),
        l = s.currentSrc,
        b.info("onLoadedData - master:%o", l),
        r = a.renditions;
        for (var t = 0; t < r.length; t++)
            b.info("onLoadedData - rendition id:%o name:%o b:%o res:%o cod:%o", r[t].id, r[t].name, r[t].bandwidth, r[t].resolution, r[t].codecs);
        M(),
        P()
    }
      , R = function(e) {
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !1,
        X(t, m),
        t = null
    }
      , j = function(e) {
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !0,
        X(t, m),
        t = null
    }
      , O = function(e) {
        var t = new eventsPlayer.commons.PlayEvent;
        X(t, m),
        t = null
    }
      , z = function(e) {}
      , I = function(e) {
        s.textTracks;
        var t = new eventsPlayer.commons.TimeUpdateEvent;
        t.time = s.currentTime,
        t.duration = s.duration,
        t.programDateTime = s.currentProgramDateTime,
        t.loadedTime = s.buffered.end(0),
        s.duration < 0 && (t.time = s.duration * -1 + s.currentTime,
        t.duration = s.duration * -1,
        k = w.DVR,
        h = s.duration),
        t.qos = n,
        X(t, m),
        t = null
    }
      , q = function(e) {
        b.info("onWaiting - %o buffered:%o start:%o", e, s.buffered);
        var t = new eventsPlayer.commons.BufferingEvent;
        X(t, m),
        t = null
    }
      , F = function(e) {
        var t = new eventsPlayer.commons.CompleteEvent;
        X(t, m),
        t = null
    }
      , V = function(e) {
        b.info("onStalled - %o", e)
    }
      , N = function(e) {
        b.info("onUnsupported - %o", e);
        var t = new eventsPlayer.commons.ErrorEvent;
        t.message = "Unsupported Platform",
        t.stack = "",
        X(t, m),
        t = null
    }
      , H = function(e) {
        var t = new eventsPlayer.commons.ErrorEvent;
        t.message = e.error.message,
        t.stack = e.error.stack,
        X(t, m),
        t = null
    }
      , B = function(e) {
        if (e = e.rendition,
        b.info("onRenditionChange - id:%o", e),
        e)
            for (var t = 0; t < r.length; t++)
                r[t].id === e.id && (o = t);
        b.info("onRenditionChange - index:%o", o),
        M()
    }
      , W = function(e) {
        var t = new eventsPlayer.commons.VolumeEvent;
        t.muted = s.muted,
        t.volume = s.volume,
        X(t, m)
    }
      , U = function(e) {
        var t = e.track;
        b.info("onAddTrack - kind:%o cues:%o obj:%o mode:%o", t.kind, t.cues, t, t.mode),
        "captions" === t.kind && (c = t,
        G()),
        _.each(t.cues, function(e, t) {
            b.info("onAddTrack - cue:%o", e)
        }),
        t.addEventListener("cuechange", function(e) {
            b.info("onAddTrack - cuechange %o", e)
        })
    }
      , G = function() {
        x && c ? c.mode = "showing" : c && (c.mode = "disabled")
    }
      , Y = function(e) {
        var t = e.data;
        switch (t.name) {
        case "load":
            T(t.data);
            break;
        case "stop":
            s && (s.src = "");
            break;
        case "play":
            s && s.play();
            break;
        case "pause":
            s && s.pause();
            break;
        case "seek":
            s && ("" === k ? s.currentTime = t.data.time : k === w.DVR && (s.currentTime = h + t.data.time));
            break;
        case "mute":
            s && (s.muted = t.data.mute);
            break;
        case "volume":
            s && (s.volume = t.data.volume);
            break;
        case "fullscreenOn":
            d.fullScreenOnVideo();
            break;
        case "captionsOn":
            x = !0,
            G();
            break;
        case "captionsOff":
            x = !1,
            G()
        }
    }
      , X = function(e, t) {
        window.parent.postMessage(e, t)
    }
      , Q = function() {}
      , J = function() {
        window.addEventListener("message", Y)
    }
      , Z = function() {
        var e = new eventsPlayer.commons.PlayerReadyEvent;
        e.tech = "theoplayer",
        e.fullscreenEnabled = d.isFullscreenEnabled(),
        X(e, m),
        e = null
    };
    return p.load = function(e) {
        T(e)
    }
    ,
    J(),
    p
}
function PlayerVideojs(e, t, i) {
    var s, n, a, r, o, l, h, c, d, u, p, f, g, m, v, b, y, w, _, k = new Object, x = this, C = "80" !== location.port ? ":" + location.port : "", T = i, S = location.protocol + "//" + document.domain + C + "/" + T, P = t, M = new eventsCore.util.Logger("PlayerVideojs"), E = "videojs", A = "events-video-obj", D = e, L = eventsPlayer.PlayerConstants, R = [], j = !1, O = !1, z = !1, I = !1, q = !0, F = .8, V = 0, N = !1, H = !0, B = 0, W = 180;
    M.info("constructor:%o holder:%o player:%o controls:%o ns:%o minDvr:%o", x, D, n, P, T, W);
    var U = {
        backgroundOpacity: "1",
        textOpacity: "1",
        color: "#FFF",
        backgroundColor: "#000",
        fontPercent: 1
    };
    $(window).resize(function() {
        Le()
    });
    var G = function() {
        p = new eventsPlayer.utils.FullscreenManager($("#events-video-obj_html5_api")[0],null),
        Ie(!1),
        M.info("init - fs:%o", p.isFullscreenEnabled()),
        S = "*",
        Le()
    }
      , Y = function(e) {
        if (a = null,
        o = null,
        l = null,
        r = null,
        d = null,
        q = !0,
        V = 0,
        N = !1,
        z = !1,
        s = e,
        M.info("********************"),
        M.info("load - playObj:%o", s),
        n && n.dispose(),
        s.poster && ($(".poster").css("background-image", "url(" + s.poster + ")"),
        s.autoplay || Ie(!0, !0)),
        M.info("load - holder:%s playObj:%o nativett:%o", D, s, s.useNativeTextTracks),
        s.tracks) {
            for (var t = 0; t < s.tracks.length; t++)
                ;
            s.captions = "default"
        }
        $(D).prepend('<video id="videoElem" class="video-js" poster="fill"><source src="' + s.url + '" type="' + s.mimeType + '"></video>');
        var i = {
            sourceOrder: s.sourceOrder,
            techOrder: s.techOrder,
            loadingSpinner: !1,
            loop: !1,
            html5: {
                nativeTextTracks: s.useNativeTextTracks,
                textTrackSettings: !0,
                withCredentials: !0,
                useCueTags: !0
            }
        };
        s.playbackRates && (i.playbackRates = s.playbackRates),
        n = videojs("videoElem", i, function() {
            M.info("load - player ready - src:%s", this.currentSrc()),
            X()
        }),
        "default" === P ? n.controls(!0) : n.controls(!1),
        $(".vjs-tech").on("contextmenu", function(e) {
            e.preventDefault()
        })
    }
      , X = function(e) {
        M.info("onInitialized - data:%o hls:%o", e, a),
        M.info("onInitialized - video:%o", $(n.el()).find("video")[0]),
        $(n.el()).find("video").length >= 1 && ($(n.el()).find("video")[0].addEventListener("webkitbeginfullscreen", function() {
            ae()
        }, !1),
        $(n.el()).find("video")[0].addEventListener("webkitendfullscreen", function() {
            re()
        }, !1)),
        n.autoplay(s.autoPlay),
        n.one("loadedmetadata", ve),
        n.on("canplay", me),
        n.on("loadeddata", be),
        n.on("play", we),
        n.on("pause", _e),
        n.on("playing", ke),
        n.on("timeupdate", Ce),
        n.on("durationchange", xe),
        n.on("waiting", Te),
        n.on("ended", Se),
        n.on("stalled", Pe),
        n.on("error", Me),
        n.on("volumechange", Ee);
        var t = {};
        t.errorInterval = 10,
        s.autoPlay ? (Ie(!1),
        Q()) : (Ie(!0, !0),
        $(".wrapper").on("click", function(e) {
            $(".wrapper").off("click"),
            Ie(!1),
            Q()
        }))
    }
      , Q = function() {
        se(),
        J(),
        M.info("continueLoad - src:%o", n.currentSrc()),
        m && m.setStreamInfo(s.title, s.streamType, s.url, s.cdn),
        s.ads && (K(),
        v && v.setAds(s.ads)),
        v && (M.info("onInitialized - ima:%o ads:%o autoplay:%o", v, s.ads, s.autoPlay),
        M.info("onInitialized - hasVastPreroll:%o", v.hasAd("vast", L.preroll))),
        v && v.hasAd("vmap") ? v.play("vmap", null, {
            type: s.mimeType,
            src: s.url
        }) : v && v.hasAd("vast", L.preroll) ? v.play("vast", L.preroll, n, A, s.ads, {
            type: s.mimeType,
            src: s.url
        }) : (M.info("continueLoad - src:%o", n.currentSrc()),
        n.play()),
        M.info("continueLoad - tech:%o - %o", $(".vjs-tech"), $(".vjs-tech")[0].id),
        u = "",
        $(".vjs-tech")[0].id.toLowerCase().indexOf("html5") > -1 ? u = "html5" : $(".vjs-tech")[0].id.toLowerCase().indexOf("flash") > -1 && (u = "flash")
    }
      , J = function() {
        var e = s.analytics;
        M.info("initAnalytics - analytics:%o conviva, elem:%o", e, e.convivaData.enable[s.streamType], $(n.el()).find("video")[0]),
        !f && e.convivaData && e.convivaData.enable[s.streamType] && (M.info("initAnalytics - Conviva enabled:%o", e.convivaData.enable[s.streamType]),
        f = new eventsPlayer.control.AnalyticsConviva(e.convivaData)),
        f && e.convivaData.enable[s.streamType] && (e.convivaData.name = s.title,
        e.convivaData.url = s.url,
        e.convivaData.player = n,
        e.convivaData.renderer = "videojs",
        e.convivaData.cdn = s.cdn,
        e.convivaData.playerName = "HTML5",
        e.convivaData.channelName = s.channel,
        f.startSession(e.convivaData)),
        !g && e.akamaiData.enable[s.streamType] && (g = new eventsPlayer.control.AnalyticsAkamai(n,e.akamaiData)),
        !m && e.youboraData && e.youboraData.enable && (m = new eventsPlayer.control.AnalyticsYoubora(n,e.youboraData))
    }
      , Z = function(e) {
        "conviva" == e.service.toLowerCase() && f && f.sendEvent(e.name, e.data)
    }
      , K = function() {
        try {
            v || (v = new eventsPlayer.ads.Ima(s.adConfig),
            v.on("AdStart", Ae),
            v.on("AdEnd", De))
        } catch (e) {
            M.error("initIma - %o", e)
        }
    }
      , ee = function() {
        var e = new eventsPlayer.commons.MetadataEvent;
        e.aspect = n.aspectRatio(),
        e.width = n.videoWidth(),
        e.height = n.videoHeight(),
        e.fullscreenEnabled = p.isFullscreenEnabled(),
        je(e, S),
        e = null
    }
      , te = function() {
        var e = new eventsPlayer.commons.QosData
          , t = {};
        if (e.playRate = n.playbackRate(),
        t.renderer = u,
        M.info("updateQosData - hls:%o", a),
        a) {
            o = ie(),
            M.info("updateQosData - Qos renditions:%o activeInd:%o", o, l);
            var i = o[l];
            if (i) {
                var s = c.substring(0, c.lastIndexOf("/") + 1)
                  , h = i.uri.replace(s, "");
                t.path = s,
                t.manifest = h,
                t.activeRendition = l + 1,
                t.totalRenditions = o.length,
                t.bandwidth = i.bandwidth,
                t.resolution = i.resolution.width + "x" + i.resolution.height,
                t.codecVideo = i.codecs.video,
                t.codecAudio = i.codecs.audio
            } else
                t.stream = c,
                t.activeRendition = 1,
                t.totalRenditions = 1,
                t.uri = "m3u8 rendition",
                t.bandwidth = "",
                t.resolution = "",
                t.codecVideo = "",
                t.codecAudio = ""
        }
        r = t
    }
      , ie = function() {
        var e, t = a.playlists.master, i = [], n = {};
        if (M.info("getPlaylist - master:%o playerHls:%o active:%o", t, a.playlists.media(), h),
        t.playlists.length > 1) {
            c = t.uri;
            for (var r = 0; r < t.playlists.length; r++) {
                n = {};
                try {
                    n.id = t.playlists[r].attributes["PROGRAM-ID"]
                } catch (e) {
                    n.id = "unknown"
                }
                n.bandwidth = t.playlists[r].attributes.BANDWIDTH,
                n.uri = t.playlists[r].uri,
                n.resolution = {},
                n.codecs = {},
                t.playlists[r].attributes.RESOLUTION ? (n.resolution.width = t.playlists[r].attributes.RESOLUTION.width,
                n.resolution.height = t.playlists[r].attributes.RESOLUTION.height) : (n.resolution.width = 0,
                n.resolution.height = 0),
                t.playlists[r].attributes.CODEC ? (e = t.playlists[r].attributes.CODEC.split(","),
                n.codecs.video = e[0],
                n.codecs.audio = e[1]) : (n.codecs.video = "N/A",
                n.codecs.audio = "N/A"),
                i.push(n),
                n.uri === h && (l = r,
                f && f.reportBitrate(n.bandwidth / 1e3),
                g && g.onBitrate(n.bandwidth / 1e3))
            }
        } else
            c = s.url,
            n.id = "unknown",
            n.bandwidth = "",
            n.uri = "",
            n.resolution = "",
            n.codecs = "",
            i.push(n);
        return M.info("getPlaylist - index:%o active:%o", l, i[l]),
        i
    }
      , se = function() {
        var e = n.tech({
            IWillNotUseThisInPlugins: !0
        });
        M.info("setupHls - tech:%o", e),
        a = e.hls,
        M.info("setupHls - tech:%o hls:%o", e, a),
        a && (M.info("setupHls -addlis %o", a),
        a.on("loadedmetadata", fe),
        a.on("mediachange", ge))
    }
      , ne = function(e) {
        e >= n.duration() && (e = n.duration() - .001);
        var t = e;
        d === L.DVR && (t = t < n.currentTime() ? e + n.seekable().start(0) + 5 : e + n.seekable().start(0)),
        M.info("seek - type:%o time:%o seekTime:%o dur:%o", d, e, t, n.duration()),
        n && n.currentTime(t)
    }
      , ae = function() {
        M.info("videoFullscreenOn -");
        var e = new eventsPlayer.commons.VideoFullscreenEvent;
        e.fullscreen = !0,
        je(e, S),
        e = null
    }
      , re = function(e) {
        M.info("videoFullscreenOff -");
        var t = new eventsPlayer.commons.VideoFullscreenEvent;
        t.fullscreen = !1,
        t.measure = H,
        je(t, S),
        t = null,
        H = !0
    }
      , oe = function() {
        var e, t = n.textTracks(), i = [];
        if (M.info("setupTextTracks - inbandTrackLen:%o trackIndex:%o captionDisp:%o", t.length, b, s.captions),
        "default" == s.captions && s.tracks && 0 == t.length) {
            q = !1;
            for (var a = 0; a < s.tracks.length; a++)
                e = n.addRemoteTextTrack({
                    kind: s.tracks[a].type,
                    language: "en",
                    label: s.tracks[a].label,
                    src: s.tracks[a].file,
                    id: "added",
                    mode: "hidden"
                }),
                i.push(e),
                e.addEventListener("load", function() {
                    M.info("setupTextTracks - onload - trackIndex:%o tracks:%o", b, n.textTracks()),
                    de(n.textTracks()[b])
                })
        } else if (t.length > -1) {
            for (var r = [], a = 0; a < t.length; a++)
                "captions" == t[a].kind && (t[a].mode = "disabled",
                M.info("setupTextTracks - inband - track:%o kind:%o lang:%o label:%o", t[a], t[a].kind, t[a].language, t[a].label),
                r.push({
                    label: t[a].label,
                    language: t[a].language,
                    kind: t[a].kind,
                    index: a
                }));
            if (r.length > 0) {
                var o = new eventsPlayer.commons.TextTrackEvent;
                o.data = r,
                je(o, S),
                o = null
            }
        }
        if (b >= 0 && (i.length > 0 || t.length > 0) ? n.textTracks().length ? le(b) : setTimeout(le, 200, b) : s.captionsEnabled && "custom" == s.captions && (n.textTracks().length ? le() : setTimeout(le, 200)),
        t.length > 0) {
            var l, h = n.textTracks()[0];
            h.oncuechange = function() {
                void 0 !== h.activeCues[0] && (l = h.activeCues[0])
            }
        }
    }
      , le = function(e) {
        if ("default" == s.captions) {
            if (firstCue = !0,
            z = !0,
            b = e,
            b >= 0 && n.textTracks().length) {
                M.info("enableTextTracks - default - trackIndex:%o trackLen:%o", b, n.textTracks().length),
                y = n.textTracks()[b];
                var t;
                ce(),
                n.textTrackSettings.setValues(U),
                y.oncuechange = function() {
                    if (firstCue && (firstCue = !1),
                    void 0 !== y.activeCues[0]) {
                        t = ue(y.activeCues[0]);
                        var e = new eventsPlayer.commons.CueChangeEvent;
                        e.data = t,
                        je(e, S),
                        e = null
                    }
                }
            }
        } else if ("custom" == s.captions && (I = !0,
        M.info("enableTextTracks - custom - native:%o len:%o", s.useNativeTextTracks, n.textTracks().length),
        s.useNativeTextTracks && n.textTracks().length)) {
            for (var i = 0; i < n.textTracks().length; i++)
                if ("captions" == n.textTracks()[i].kind) {
                    b = i;
                    break
                }
            y = n.textTracks()[b],
            ce(),
            M.info("enableTextTracks - curTrack:%o mode:%o", y, y.mode)
        }
    }
      , he = function() {
        M.info("disableTextTracks"),
        "default" == s.captions ? (z = !1,
        I = !1,
        b = null) : "custom" == s.captions && (I = !1),
        ce()
    }
      , ce = function() {
        M.info("updateCaptionsDisplay - track:%o captionsDisplayEnabled:%o", y, z),
        (I || z) && y ? y.mode = "showing" : y && (y.mode = "disabled")
    }
      , de = function(e) {
        var t = [];
        if (e.cues && e.cues.length > 0)
            for (var i = 0; i < e.cues.length; i++)
                t.push(ue(e.cues[i]));
        if (M.info("updateCueList - new:%o", JSON.stringify(t) !== JSON.stringify(R)),
        JSON.stringify(t) !== JSON.stringify(R)) {
            R = t;
            var s = new eventsPlayer.commons.TrackLoadedEvent;
            s.data = R,
            je(s, S),
            s = null
        }
    }
      , ue = function(e) {
        var t = {}
          , i = ""
          , s = e.id.split(",");
        return i = e.text.replace(/(<.*?>)/g, ""),
        i = i.replace(/(\r\n|\n|\r)/gm, ""),
        i = i.replace(/(Watson Confidence: .*%)/g, ""),
        t.id = s[0],
        t.start = e.startTime,
        t.end = e.endTime,
        t.text = i,
        t.confidence = s.length >= 2 ? s[1].replace(" ", "") : "0%",
        t.status = s.length >= 3 ? s[2].replace(" ", "") : "",
        t
    }
      , pe = function(e) {
        var t, i;
        if (b >= 0) {
            var s = n.textTracks()[b]
              , e = e.subtitle;
            M.info("updateTrackData - length:%o cuelen:%o", e.length, s.cues.length);
            for (var a = s.cues.length - 1; a >= 0; a--)
                s.removeCue(s.cues[a]);
            for (var r = 0; r < e.length; r++) {
                var t = new window.VTTCue(e[r].startTime,e[r].endTime,e[r].transcript);
                i = Math.round(1e3 * e[r].confidence) / 10,
                t.id = e[r].index + ", " + i + "%, " + e[r].status,
                s.addCue(t)
            }
            de(s)
        }
    }
      , fe = function() {
        M.info("onHlsLoadedMetadata - %o select:%o"),
        g && g.loadedmetadata(s.title, "videojs", "testId")
    }
      , ge = function() {
        M.info("onMediaChange - %o select:%o")
    }
      , me = function(e) {}
      , ve = function(e) {
        ye(),
        M.info("onLoadedMetadata - %o rs:%o dur:%o cur:%o seekLen:%o seekStart:%o seekEnd:%o buffer:%o", e, n.readyState(), n.duration(), n.currentTime(), n.seekable().length, n.seekable().start(0), n.seekable().end(0), n.bufferedEnd())
    }
      , be = function(e) {
        te(),
        M.info("onLoadedData - send meta, tracks:%o len:%o rs:%o", n.textTracks(), n.textTracks().length, n.readyState()),
        ee(),
        oe()
    }
      , ye = function() {
        M.info("checkState - rs:%o dur:%o cur:%o seekLen:%o seekStart:%o seekEnd:%o bufferEnd:%o", n.readyState(), n.duration(), n.currentTime(), n.seekable().length, n.seekable().start(0), n.seekable().end(0), n.bufferedEnd())
    }
      , we = function(e) {
        j = !1,
        O = !1;
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !1,
        je(t, S),
        t = null,
        g && g.onPlay()
    }
      , _e = function(e) {
        j = !0;
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !0,
        je(t, S),
        t = null,
        g && g.onPause()
    }
      , ke = function(e) {
        M.info("onPlaying - data:%o curVolume:%o muted:%o dur:%o time:%o", e, w, n.muted(), n.duration(), n.currentTime()),
        O = !1,
        N = !1;
        var t = new eventsPlayer.commons.PlayEvent;
        je(t, S),
        t = null,
        _ && n.muted(_),
        w ? n.volume(w) : (n.volume(F),
        w = F),
        g && g.onBufferEnd()
    }
      , xe = function(e) {}
      , Ce = function(e) {
        var t = new eventsPlayer.commons.TimeUpdateEvent;
        !d && n.currentTime() > 0 && (!isFinite(n.duration()) && n.currentTime() > W ? d = L.DVR : isFinite(n.duration()) ? isFinite(n.duration()) && (d = L.VOD) : d = L.LIVE,
        m && m.setStreamType(d != L.VOD),
        M.info("onTimeUpdate - type:%o duration:%o current:%o", d, n.duration(), n.currentTime())),
        t.start = 0,
        d == L.DVR ? (t.time = n.currentTime(),
        t.duration = n.seekable().end(0) - n.seekable().start(0),
        t.start = n.seekable().start(0),
        B = t.duration) : (t.time = n.currentTime(),
        t.duration = n.seekable().end(0) - n.seekable().start(0),
        t.start = n.seekable().start(0),
        B = t.duration);
        for (var i = [], s = 0; s < n.buffered().length; s++)
            i.push({
                start: n.buffered().start(s),
                end: n.buffered().end(s)
            });
        t.buffered = i,
        t.loadedTime = n.seekable().end(0),
        t.detectedStreamType = d,
        t.qos = r,
        t.programDateTime = n.currentProgramDateTime;
        try {
            var o = a.playlists.media();
            h !== o.uri && (M.info("onTimeUpdate - active:%o", o.uri),
            h = o.uri,
            te())
        } catch (e) {}
        je(t, S),
        t = null,
        n.duration() - n.currentTime() < .05 && (V > 10 ? Se() : V++)
    }
      , Te = function(e) {
        O = !0;
        var t = new eventsPlayer.commons.BufferingEvent;
        je(t, S),
        t = null,
        g && g.onBufferStart()
    }
      , Se = function(e) {
        M.info("onEnded - ");
        var t = new eventsPlayer.commons.CompleteEvent;
        if (v) {
            if (M.info("onEnded - hasPostroll:%o isPlaying:%o pos:%o", v.hasAd("vast", L.postroll), v.isPlayingAd(), v.getPosition()),
            v.isPlayingAd())
                return void De(v.getPosition());
            v.hasAd("vmap") || v.hasAd("vast", L.postroll) ? (t.postroll = !0,
            je(t, S),
            t = null,
            !v.hasAd("vmap") && v.hasAd("vast", L.postroll) ? v.play("vast", L.postroll, null) : v.setPosition(L.postroll)) : N || (N = !0,
            je(t, S),
            t = null)
        } else
            N || (N = !0,
            je(t, S),
            t = null,
            f && f.cleanUpSession(),
            M.info("fullScreenOffVideo - player:%o", n),
            H = !1,
            n.exitFullscreen());
        firstPlay = !1,
        g && g.onEnded()
    }
      , Pe = function(e) {
        O = !0
    }
      , Me = function(e) {
        var t = n.error();
        M.error("onError - err:%o", t);
        var i = new eventsPlayer.commons.ErrorEvent;
        t && (i.message = t.code + "|" + t.type + "|" + t.message,
        i.stack = ""),
        je(i, S),
        i = null,
        f && (f.reportError(t.message || "unspecified"),
        f.cleanUpSession()),
        g && g.onError()
    }
      , Ee = function(e) {
        _ = n.muted();
        var t = new eventsPlayer.commons.VolumeEvent;
        t.muted = n.muted(),
        t.volume = n.volume(),
        w = n.volume(),
        je(t, S)
    }
      , Ae = function(e) {
        M.info("onAdStart - pos:%o", e);
        var t = new eventsPlayer.commons.AdStartEvent;
        je(t, S),
        t = null
    }
      , De = function(e) {
        M.info("onAdEnd - pos:%o", e);
        var t = new eventsPlayer.commons.AdEndEvent;
        if (t.position = e,
        je(t, S),
        t = null,
        e === L.postroll) {
            var t = new eventsPlayer.commons.CompleteEvent;
            je(t, S),
            t = null
        }
    }
      , Le = function() {
        M.info("onResize - holder:%o width:%o", D, $(D).width());
        var e = new eventsPlayer.commons.ResizeEvent;
        e.width = $(D).width(),
        e.height = $(D).height(),
        je(e, S),
        e = null
    }
      , Re = function(e) {
        var t = e.data;
        switch (t.name) {
        case "load":
            Y(t.data);
            break;
        case "stop":
            n && (n.pause(),
            v && v.pause(),
            f && f.cleanUpSession());
            break;
        case "play":
            n && n.play();
            break;
        case "pause":
            n && n.pause();
            break;
        case "seek":
            n && ne(t.data.time);
            break;
        case "mute":
            _ = t.data.mute,
            n && n.muted(_);
            break;
        case "volume":
            n && n.volume(t.data.volume);
            break;
        case "fullscreenOn":
            n.requestFullscreen();
            break;
        case "updateTextTrack":
            pe(t.data);
            break;
        case "captionsOn":
            le(t.data.index);
            break;
        case "captionsOff":
            he();
            break;
        case "recordEvent":
            Z(t.data)
        }
    }
      , je = function(e, t) {
        var i = e;
        e.type = T + ":" + e.type,
        window.parent.postMessage(e, t);
        "tech:" + i.type
    }
      , Oe = function() {
        window.addEventListener("message", Re)
    }
      , ze = function() {
        M.info("sendReady - ns:%o", T);
        var e = new eventsPlayer.commons.PlayerReadyEvent;
        e.tech = E,
        e.fullscreenEnabled = p.isFullscreenEnabled(),
        je(e, S),
        e = null
    }
      , Ie = function(e, t) {
        M.info("setPoster - poster:%o button:%o", e, t),
        e ? ($(".poster").show(),
        t ? $(".poster").find("img").show() : $(".poster").find("img").hide()) : ($(".poster").hide(),
        $(".poster").find("img").show())
    };
    return k.receive608 = function(e, t) {
        d != L.DVR && d != L.LIVE || (e += B);
        var i = new eventsPlayer.commons.CaptionEvent;
        i.time = e,
        i.data = t,
        je(i, S),
        i = null
    }
    ,
    k.load = function(e) {
        Y(e)
    }
    ,
    k.forceError = function() {
        n.error({
            code: "2"
        })
    }
    ,
    G(),
    Oe(),
    setTimeout(ze, 100),
    k
}
function PlayerVideojsHlsjs(e, t) {
    var i, s, n, a, r, o, l, h, c, d, u, p = new Object, f = this, g = "80" !== location.port ? ":" + location.port : "", m = "http://" + document.domain + g, v = new eventsCore.util.Logger("PlayerVideojsHlsjs"), b = "videojs_hlsjs", y = {
        techOrder: ["html5", "Hlsjs"]
    }, w = e;
    eventsPlayer.PlayerConstants;
    v.info("constructor:%o holder:%o player:%o", f, w, s);
    var _ = function(e) {
        w.html(),
        n = null,
        r = null,
        o = null,
        a = null,
        i = e,
        v.info("********************"),
        v.info("load - obj:%o", i),
        s && s.dispose(),
        v.info("load - holder:%s obj:%o", w, i),
        w.html('<video id="events-video-obj" class="video-js vjs-default-skin" controls></video>'),
        y && (i.techOrder = y),
        s = videojs("events-video-obj", i.techOrder, function() {
            v.info("load - player ready - src:%s", this.currentSrc()),
            S()
        }),
        s.controls(!0)
    }
      , k = function() {
        var e = new eventsPlayer.commons.MetadataEvent;
        e.aspect = s.aspectRatio(),
        e.width = s.videoWidth(),
        e.height = s.videoHeight(),
        V(e, m),
        e = null
    }
      , x = function() {
        var e = new eventsPlayer.commons.QosData;
        e.playRate = s.playbackRate(),
        v.info("updateQosData - hls:%o", n),
        r = C(),
        v.info("updateQosData - Qos renditions:%o activeInd:%o", r, o);
        var t = r[o]
          , i = {};
        if (t) {
            var l = d.substring(0, d.lastIndexOf("/") + 1)
              , h = t.uri.replace(l, "");
            i.stream = d,
            i.activeRendition = o + 1,
            i.totalRenditions = r.length,
            i.uri = h,
            i.bandwidth = t.bandwidth,
            i.resolution = t.resolution.width + "x" + t.resolution.height,
            i.codecVideo = t.codecs.video,
            i.codecAudio = t.codecs.audio
        }
        a = i
    }
      , C = function() {
        var e, t, i = n.playlists.master, s = [];
        v.info("getPlaylist - master:%o playerHls:%o", i, n.playlists),
        d = i.uri,
        i.playlists[0].playlistType && (h = i.playlists[0].playlistType),
        i.playlists[0].segments && (c = i.playlists[0].segments.length);
        for (var a = 0; a < i.playlists.length; a++)
            e = {},
            e.id = i.playlists[a].attributes["PROGRAM-ID"],
            e.bandwidth = i.playlists[a].attributes.BANDWIDTH,
            e.uri = i.playlists[a].uri,
            e.resolution = {},
            e.codecs = {},
            i.playlists[a].attributes.RESOLUTION ? (e.resolution.width = i.playlists[a].attributes.RESOLUTION.width,
            e.resolution.height = i.playlists[a].attributes.RESOLUTION.height) : (e.resolution.width = 0,
            e.resolution.height = 0),
            i.playlists[a].attributes.CODECS ? (t = i.playlists[a].attributes.CODECS.split(","),
            e.codecs.video = t[0],
            e.codecs.audio = t[1]) : (e.codecs.video = "N/A",
            e.codecs.audio = "N/A"),
            s.push(e),
            e.uri === l && (o = a);
        return s
    }
      , T = function() {
        v.info("setupHls - tech: %o", s.tech({
            IWillNotUseThisInPlugins: !0
        })),
        n = s.tech({
            IWillNotUseThisInPlugins: !0
        }).hls,
        v.info("setupHls - tech:%o hls:%o", u, n),
        n && (v.info("setupHls -addlis %o", n),
        n.on("loadedmetadata", P),
        n.on("mediachange", M))
    }
      , S = function(e) {
        v.info("onInitialized - %o", e),
        s.autoplay(!0),
        s.on("canplay", E),
        s.on("loadeddata", A),
        s.on("play", D),
        s.on("pause", L),
        s.on("playing", R),
        s.on("timeupdate", O),
        s.on("durationchange", j),
        s.on("waiting", z),
        s.on("ended", I),
        s.on("stalled", q),
        s.on("error", $),
        s.src({
            type: i.mimeType,
            src: i.url
        }),
        T()
    }
      , P = function() {
        v.info("onHlsLoadedMetadata - %o select:%o")
    }
      , M = function() {
        v.info("onMediaChange - %o select:%o")
    }
      , E = function(e) {
        v.info("onCanPlay - ")
    }
      , A = function(e) {
        v.info("onLoadedData - data:%o", e),
        x(),
        k()
    }
      , D = function(e) {
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !1,
        V(t, m),
        t = null
    }
      , L = function(e) {
        var t = new eventsPlayer.commons.PauseEvent;
        t.paused = !0,
        V(t, m),
        t = null
    }
      , R = function(e) {
        var t = new eventsPlayer.commons.PlayEvent;
        V(t, m),
        t = null
    }
      , j = function(e) {}
      , O = function(e) {
        var t = new eventsPlayer.commons.TimeUpdateEvent;
        t.time = s.currentTime(),
        t.duration = s.duration(),
        t.loadedTime = s.bufferedEnd(),
        t.qos = a;
        try {
            var i = n.playlists.media();
            l !== i.uri && (l = i.uri,
            x())
        } catch (e) {}
        V(t, m),
        t = null
    }
      , z = function(e) {
        var t = new eventsPlayer.commons.BufferingEvent;
        V(t, m),
        t = null
    }
      , I = function(e) {
        var t = new eventsPlayer.commons.CompleteEvent;
        V(t, m),
        t = null
    }
      , q = function(e) {}
      , $ = function(e) {
        var t = new eventsPlayer.commons.ErrorEvent;
        t.message = e.error.message,
        t.stack = e.error.stack,
        V(t, m),
        t = null
    }
      , F = function(e) {
        var t = e.data;
        v.info("receiveMessage msg:%o from:%s", t, e.origin),
        "load" === t.name ? _(t.data) : "stop" === t.name && s.stop()
    }
      , V = function(e, t) {
        window.parent.postMessage(e, t)
    }
      , N = function() {
        window.addEventListener("message", F)
    }
      , H = function() {
        var e = new eventsPlayer.commons.PlayerReadyEvent;
        e.tech = b,
        V(e, m),
        e = null
    };
    return p.load = function(e) {
        _(e)
    }
    ,
    N(),
    setTimeout(H, 100),
    p
}
function Vector() {}
function Matrix() {}
function Line() {}
function Plane() {}
function mht(e) {
    var t = "";
    if (16 == e.length)
        for (var i = 0; i < 4; i++)
            t += "<span style='font-family: monospace'>[" + e[4 * i + 0].toFixed(4) + "," + e[4 * i + 1].toFixed(4) + "," + e[4 * i + 2].toFixed(4) + "," + e[4 * i + 3].toFixed(4) + "]</span><br>";
    else {
        if (9 != e.length)
            return e.toString();
        for (var i = 0; i < 3; i++)
            t += "<span style='font-family: monospace'>[" + e[3 * i + 0].toFixed(4) + "," + e[3 * i + 1].toFixed(4) + "," + e[3 * i + 2].toFixed(4) + "]</font><br>"
    }
    return t
}
function makeLookAt(e, t, i, s, n, a, r, o, l) {
    var h = $V([e, t, i])
      , c = $V([s, n, a])
      , d = $V([r, o, l])
      , u = h.subtract(c).toUnitVector()
      , p = d.cross(u).toUnitVector()
      , f = u.cross(p).toUnitVector()
      , g = $M([[p.e(1), p.e(2), p.e(3), 0], [f.e(1), f.e(2), f.e(3), 0], [u.e(1), u.e(2), u.e(3), 0], [0, 0, 0, 1]])
      , m = $M([[1, 0, 0, -e], [0, 1, 0, -t], [0, 0, 1, -i], [0, 0, 0, 1]]);
    return g.x(m)
}
function makeOrtho(e, t, i, s, n, a) {
    var r = -(t + e) / (t - e)
      , o = -(s + i) / (s - i)
      , l = -(a + n) / (a - n);
    return $M([[2 / (t - e), 0, 0, r], [0, 2 / (s - i), 0, o], [0, 0, -2 / (a - n), l], [0, 0, 0, 1]])
}
function makePerspective(e, t, i, s) {
    var n = i * Math.tan(e * Math.PI / 360)
      , a = -n
      , r = a * t
      , o = n * t;
    return makeFrustum(r, o, a, n, i, s)
}
function makeFrustum(e, t, i, s, n, a) {
    var r = 2 * n / (t - e)
      , o = 2 * n / (s - i)
      , l = (t + e) / (t - e)
      , h = (s + i) / (s - i)
      , c = -(a + n) / (a - n)
      , d = -2 * a * n / (a - n);
    return $M([[r, 0, l, 0], [0, o, h, 0], [0, 0, c, d], [0, 0, -1, 0]])
}
function makeOrtho(e, t, i, s, n, a) {
    var r = -(t + e) / (t - e)
      , o = -(s + i) / (s - i)
      , l = -(a + n) / (a - n);
    return $M([[2 / (t - e), 0, 0, r], [0, 2 / (s - i), 0, o], [0, 0, -2 / (a - n), l], [0, 0, 0, 1]])
}
(function() {
    function e(e) {
        function t(t, i, s, n, a, r) {
            for (; a >= 0 && r > a; a += e) {
                var o = n ? n[a] : a;
                s = i(s, t[o], o, t)
            }
            return s
        }
        return function(i, s, n, a) {
            s = y(s, a, 4);
            var r = !S(i) && b.keys(i)
              , o = (r || i).length
              , l = e > 0 ? 0 : o - 1;
            return arguments.length < 3 && (n = i[r ? r[l] : l],
            l += e),
            t(i, s, n, r, l, o)
        }
    }
    function t(e) {
        return function(t, i, s) {
            i = w(i, s);
            for (var n = T(t), a = e > 0 ? 0 : n - 1; a >= 0 && n > a; a += e)
                if (i(t[a], a, t))
                    return a;
            return -1
        }
    }
    function i(e, t, i) {
        return function(s, n, a) {
            var r = 0
              , o = T(s);
            if ("number" == typeof a)
                e > 0 ? r = a >= 0 ? a : Math.max(a + o, r) : o = a >= 0 ? Math.min(a + 1, o) : a + o + 1;
            else if (i && a && o)
                return a = i(s, n),
                s[a] === n ? a : -1;
            if (n !== n)
                return a = t(c.call(s, r, o), b.isNaN),
                a >= 0 ? a + r : -1;
            for (a = e > 0 ? r : o - 1; a >= 0 && o > a; a += e)
                if (s[a] === n)
                    return a;
            return -1
        }
    }
    function s(e, t) {
        var i = D.length
          , s = e.constructor
          , n = b.isFunction(s) && s.prototype || o
          , a = "constructor";
        for (b.has(e, a) && !b.contains(t, a) && t.push(a); i--; )
            a = D[i],
            a in e && e[a] !== n[a] && !b.contains(t, a) && t.push(a)
    }
    var n = this
      , a = n._
      , r = Array.prototype
      , o = Object.prototype
      , l = Function.prototype
      , h = r.push
      , c = r.slice
      , d = o.toString
      , u = o.hasOwnProperty
      , p = Array.isArray
      , f = Object.keys
      , g = l.bind
      , m = Object.create
      , v = function() {}
      , b = function(e) {
        return e instanceof b ? e : this instanceof b ? void (this._wrapped = e) : new b(e)
    };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = b),
    exports._ = b) : n._ = b,
    b.VERSION = "1.8.3";
    var y = function(e, t, i) {
        if (void 0 === t)
            return e;
        switch (null == i ? 3 : i) {
        case 1:
            return function(i) {
                return e.call(t, i)
            }
            ;
        case 2:
            return function(i, s) {
                return e.call(t, i, s)
            }
            ;
        case 3:
            return function(i, s, n) {
                return e.call(t, i, s, n)
            }
            ;
        case 4:
            return function(i, s, n, a) {
                return e.call(t, i, s, n, a)
            }
        }
        return function() {
            return e.apply(t, arguments)
        }
    }
      , w = function(e, t, i) {
        return null == e ? b.identity : b.isFunction(e) ? y(e, t, i) : b.isObject(e) ? b.matcher(e) : b.property(e)
    };
    b.iteratee = function(e, t) {
        return w(e, t, 1 / 0)
    }
    ;
    var _ = function(e, t) {
        return function(i) {
            var s = arguments.length;
            if (2 > s || null == i)
                return i;
            for (var n = 1; s > n; n++)
                for (var a = arguments[n], r = e(a), o = r.length, l = 0; o > l; l++) {
                    var h = r[l];
                    t && void 0 !== i[h] || (i[h] = a[h])
                }
            return i
        }
    }
      , k = function(e) {
        if (!b.isObject(e))
            return {};
        if (m)
            return m(e);
        v.prototype = e;
        var t = new v;
        return v.prototype = null,
        t
    }
      , x = function(e) {
        return function(t) {
            return null == t ? void 0 : t[e]
        }
    }
      , C = Math.pow(2, 53) - 1
      , T = x("length")
      , S = function(e) {
        var t = T(e);
        return "number" == typeof t && t >= 0 && C >= t
    };
    b.each = b.forEach = function(e, t, i) {
        t = y(t, i);
        var s, n;
        if (S(e))
            for (s = 0,
            n = e.length; n > s; s++)
                t(e[s], s, e);
        else {
            var a = b.keys(e);
            for (s = 0,
            n = a.length; n > s; s++)
                t(e[a[s]], a[s], e)
        }
        return e
    }
    ,
    b.map = b.collect = function(e, t, i) {
        t = w(t, i);
        for (var s = !S(e) && b.keys(e), n = (s || e).length, a = Array(n), r = 0; n > r; r++) {
            var o = s ? s[r] : r;
            a[r] = t(e[o], o, e)
        }
        return a
    }
    ,
    b.reduce = b.foldl = b.inject = e(1),
    b.reduceRight = b.foldr = e(-1),
    b.find = b.detect = function(e, t, i) {
        var s;
        return s = S(e) ? b.findIndex(e, t, i) : b.findKey(e, t, i),
        void 0 !== s && s !== -1 ? e[s] : void 0
    }
    ,
    b.filter = b.select = function(e, t, i) {
        var s = [];
        return t = w(t, i),
        b.each(e, function(e, i, n) {
            t(e, i, n) && s.push(e)
        }),
        s
    }
    ,
    b.reject = function(e, t, i) {
        return b.filter(e, b.negate(w(t)), i)
    }
    ,
    b.every = b.all = function(e, t, i) {
        t = w(t, i);
        for (var s = !S(e) && b.keys(e), n = (s || e).length, a = 0; n > a; a++) {
            var r = s ? s[a] : a;
            if (!t(e[r], r, e))
                return !1
        }
        return !0
    }
    ,
    b.some = b.any = function(e, t, i) {
        t = w(t, i);
        for (var s = !S(e) && b.keys(e), n = (s || e).length, a = 0; n > a; a++) {
            var r = s ? s[a] : a;
            if (t(e[r], r, e))
                return !0
        }
        return !1
    }
    ,
    b.contains = b.includes = b.include = function(e, t, i, s) {
        return S(e) || (e = b.values(e)),
        ("number" != typeof i || s) && (i = 0),
        b.indexOf(e, t, i) >= 0
    }
    ,
    b.invoke = function(e, t) {
        var i = c.call(arguments, 2)
          , s = b.isFunction(t);
        return b.map(e, function(e) {
            var n = s ? t : e[t];
            return null == n ? n : n.apply(e, i)
        })
    }
    ,
    b.pluck = function(e, t) {
        return b.map(e, b.property(t))
    }
    ,
    b.where = function(e, t) {
        return b.filter(e, b.matcher(t))
    }
    ,
    b.findWhere = function(e, t) {
        return b.find(e, b.matcher(t))
    }
    ,
    b.max = function(e, t, i) {
        var s, n, a = -1 / 0, r = -1 / 0;
        if (null == t && null != e) {
            e = S(e) ? e : b.values(e);
            for (var o = 0, l = e.length; l > o; o++)
                s = e[o],
                s > a && (a = s)
        } else
            t = w(t, i),
            b.each(e, function(e, i, s) {
                n = t(e, i, s),
                (n > r || n === -1 / 0 && a === -1 / 0) && (a = e,
                r = n)
            });
        return a
    }
    ,
    b.min = function(e, t, i) {
        var s, n, a = 1 / 0, r = 1 / 0;
        if (null == t && null != e) {
            e = S(e) ? e : b.values(e);
            for (var o = 0, l = e.length; l > o; o++)
                s = e[o],
                a > s && (a = s)
        } else
            t = w(t, i),
            b.each(e, function(e, i, s) {
                n = t(e, i, s),
                (r > n || 1 / 0 === n && 1 / 0 === a) && (a = e,
                r = n)
            });
        return a
    }
    ,
    b.shuffle = function(e) {
        for (var t, i = S(e) ? e : b.values(e), s = i.length, n = Array(s), a = 0; s > a; a++)
            t = b.random(0, a),
            t !== a && (n[a] = n[t]),
            n[t] = i[a];
        return n
    }
    ,
    b.sample = function(e, t, i) {
        return null == t || i ? (S(e) || (e = b.values(e)),
        e[b.random(e.length - 1)]) : b.shuffle(e).slice(0, Math.max(0, t))
    }
    ,
    b.sortBy = function(e, t, i) {
        return t = w(t, i),
        b.pluck(b.map(e, function(e, i, s) {
            return {
                value: e,
                index: i,
                criteria: t(e, i, s)
            }
        }).sort(function(e, t) {
            var i = e.criteria
              , s = t.criteria;
            if (i !== s) {
                if (i > s || void 0 === i)
                    return 1;
                if (s > i || void 0 === s)
                    return -1
            }
            return e.index - t.index
        }), "value")
    }
    ;
    var P = function(e) {
        return function(t, i, s) {
            var n = {};
            return i = w(i, s),
            b.each(t, function(s, a) {
                var r = i(s, a, t);
                e(n, s, r)
            }),
            n
        }
    };
    b.groupBy = P(function(e, t, i) {
        b.has(e, i) ? e[i].push(t) : e[i] = [t]
    }),
    b.indexBy = P(function(e, t, i) {
        e[i] = t
    }),
    b.countBy = P(function(e, t, i) {
        b.has(e, i) ? e[i]++ : e[i] = 1
    }),
    b.toArray = function(e) {
        return e ? b.isArray(e) ? c.call(e) : S(e) ? b.map(e, b.identity) : b.values(e) : []
    }
    ,
    b.size = function(e) {
        return null == e ? 0 : S(e) ? e.length : b.keys(e).length
    }
    ,
    b.partition = function(e, t, i) {
        t = w(t, i);
        var s = []
          , n = [];
        return b.each(e, function(e, i, a) {
            (t(e, i, a) ? s : n).push(e)
        }),
        [s, n]
    }
    ,
    b.first = b.head = b.take = function(e, t, i) {
        return null == e ? void 0 : null == t || i ? e[0] : b.initial(e, e.length - t)
    }
    ,
    b.initial = function(e, t, i) {
        return c.call(e, 0, Math.max(0, e.length - (null == t || i ? 1 : t)))
    }
    ,
    b.last = function(e, t, i) {
        return null == e ? void 0 : null == t || i ? e[e.length - 1] : b.rest(e, Math.max(0, e.length - t))
    }
    ,
    b.rest = b.tail = b.drop = function(e, t, i) {
        return c.call(e, null == t || i ? 1 : t)
    }
    ,
    b.compact = function(e) {
        return b.filter(e, b.identity)
    }
    ;
    var M = function(e, t, i, s) {
        for (var n = [], a = 0, r = s || 0, o = T(e); o > r; r++) {
            var l = e[r];
            if (S(l) && (b.isArray(l) || b.isArguments(l))) {
                t || (l = M(l, t, i));
                var h = 0
                  , c = l.length;
                for (n.length += c; c > h; )
                    n[a++] = l[h++]
            } else
                i || (n[a++] = l)
        }
        return n
    };
    b.flatten = function(e, t) {
        return M(e, t, !1)
    }
    ,
    b.without = function(e) {
        return b.difference(e, c.call(arguments, 1))
    }
    ,
    b.uniq = b.unique = function(e, t, i, s) {
        b.isBoolean(t) || (s = i,
        i = t,
        t = !1),
        null != i && (i = w(i, s));
        for (var n = [], a = [], r = 0, o = T(e); o > r; r++) {
            var l = e[r]
              , h = i ? i(l, r, e) : l;
            t ? (r && a === h || n.push(l),
            a = h) : i ? b.contains(a, h) || (a.push(h),
            n.push(l)) : b.contains(n, l) || n.push(l)
        }
        return n
    }
    ,
    b.union = function() {
        return b.uniq(M(arguments, !0, !0))
    }
    ,
    b.intersection = function(e) {
        for (var t = [], i = arguments.length, s = 0, n = T(e); n > s; s++) {
            var a = e[s];
            if (!b.contains(t, a)) {
                for (var r = 1; i > r && b.contains(arguments[r], a); r++)
                    ;
                r === i && t.push(a)
            }
        }
        return t
    }
    ,
    b.difference = function(e) {
        var t = M(arguments, !0, !0, 1);
        return b.filter(e, function(e) {
            return !b.contains(t, e)
        })
    }
    ,
    b.zip = function() {
        return b.unzip(arguments)
    }
    ,
    b.unzip = function(e) {
        for (var t = e && b.max(e, T).length || 0, i = Array(t), s = 0; t > s; s++)
            i[s] = b.pluck(e, s);
        return i
    }
    ,
    b.object = function(e, t) {
        for (var i = {}, s = 0, n = T(e); n > s; s++)
            t ? i[e[s]] = t[s] : i[e[s][0]] = e[s][1];
        return i
    }
    ,
    b.findIndex = t(1),
    b.findLastIndex = t(-1),
    b.sortedIndex = function(e, t, i, s) {
        i = w(i, s, 1);
        for (var n = i(t), a = 0, r = T(e); r > a; ) {
            var o = Math.floor((a + r) / 2);
            i(e[o]) < n ? a = o + 1 : r = o
        }
        return a
    }
    ,
    b.indexOf = i(1, b.findIndex, b.sortedIndex),
    b.lastIndexOf = i(-1, b.findLastIndex),
    b.range = function(e, t, i) {
        null == t && (t = e || 0,
        e = 0),
        i = i || 1;
        for (var s = Math.max(Math.ceil((t - e) / i), 0), n = Array(s), a = 0; s > a; a++,
        e += i)
            n[a] = e;
        return n
    }
    ;
    var E = function(e, t, i, s, n) {
        if (!(s instanceof t))
            return e.apply(i, n);
        var a = k(e.prototype)
          , r = e.apply(a, n);
        return b.isObject(r) ? r : a
    };
    b.bind = function(e, t) {
        if (g && e.bind === g)
            return g.apply(e, c.call(arguments, 1));
        if (!b.isFunction(e))
            throw new TypeError("Bind must be called on a function");
        var i = c.call(arguments, 2)
          , s = function() {
            return E(e, s, t, this, i.concat(c.call(arguments)))
        };
        return s
    }
    ,
    b.partial = function(e) {
        var t = c.call(arguments, 1)
          , i = function() {
            for (var s = 0, n = t.length, a = Array(n), r = 0; n > r; r++)
                a[r] = t[r] === b ? arguments[s++] : t[r];
            for (; s < arguments.length; )
                a.push(arguments[s++]);
            return E(e, i, this, this, a)
        };
        return i
    }
    ,
    b.bindAll = function(e) {
        var t, i, s = arguments.length;
        if (1 >= s)
            throw new Error("bindAll must be passed function names");
        for (t = 1; s > t; t++)
            i = arguments[t],
            e[i] = b.bind(e[i], e);
        return e
    }
    ,
    b.memoize = function(e, t) {
        var i = function(s) {
            var n = i.cache
              , a = "" + (t ? t.apply(this, arguments) : s);
            return b.has(n, a) || (n[a] = e.apply(this, arguments)),
            n[a]
        };
        return i.cache = {},
        i
    }
    ,
    b.delay = function(e, t) {
        var i = c.call(arguments, 2);
        return setTimeout(function() {
            return e.apply(null, i)
        }, t)
    }
    ,
    b.defer = b.partial(b.delay, b, 1),
    b.throttle = function(e, t, i) {
        var s, n, a, r = null, o = 0;
        i || (i = {});
        var l = function() {
            o = i.leading === !1 ? 0 : b.now(),
            r = null,
            a = e.apply(s, n),
            r || (s = n = null)
        };
        return function() {
            var h = b.now();
            o || i.leading !== !1 || (o = h);
            var c = t - (h - o);
            return s = this,
            n = arguments,
            0 >= c || c > t ? (r && (clearTimeout(r),
            r = null),
            o = h,
            a = e.apply(s, n),
            r || (s = n = null)) : r || i.trailing === !1 || (r = setTimeout(l, c)),
            a
        }
    }
    ,
    b.debounce = function(e, t, i) {
        var s, n, a, r, o, l = function() {
            var h = b.now() - r;
            t > h && h >= 0 ? s = setTimeout(l, t - h) : (s = null,
            i || (o = e.apply(a, n),
            s || (a = n = null)))
        };
        return function() {
            a = this,
            n = arguments,
            r = b.now();
            var h = i && !s;
            return s || (s = setTimeout(l, t)),
            h && (o = e.apply(a, n),
            a = n = null),
            o
        }
    }
    ,
    b.wrap = function(e, t) {
        return b.partial(t, e)
    }
    ,
    b.negate = function(e) {
        return function() {
            return !e.apply(this, arguments)
        }
    }
    ,
    b.compose = function() {
        var e = arguments
          , t = e.length - 1;
        return function() {
            for (var i = t, s = e[t].apply(this, arguments); i--; )
                s = e[i].call(this, s);
            return s
        }
    }
    ,
    b.after = function(e, t) {
        return function() {
            return --e < 1 ? t.apply(this, arguments) : void 0
        }
    }
    ,
    b.before = function(e, t) {
        var i;
        return function() {
            return --e > 0 && (i = t.apply(this, arguments)),
            1 >= e && (t = null),
            i
        }
    }
    ,
    b.once = b.partial(b.before, 2);
    var A = !{
        toString: null
    }.propertyIsEnumerable("toString")
      , D = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];
    b.keys = function(e) {
        if (!b.isObject(e))
            return [];
        if (f)
            return f(e);
        var t = [];
        for (var i in e)
            b.has(e, i) && t.push(i);
        return A && s(e, t),
        t
    }
    ,
    b.allKeys = function(e) {
        if (!b.isObject(e))
            return [];
        var t = [];
        for (var i in e)
            t.push(i);
        return A && s(e, t),
        t
    }
    ,
    b.values = function(e) {
        for (var t = b.keys(e), i = t.length, s = Array(i), n = 0; i > n; n++)
            s[n] = e[t[n]];
        return s
    }
    ,
    b.mapObject = function(e, t, i) {
        t = w(t, i);
        for (var s, n = b.keys(e), a = n.length, r = {}, o = 0; a > o; o++)
            s = n[o],
            r[s] = t(e[s], s, e);
        return r
    }
    ,
    b.pairs = function(e) {
        for (var t = b.keys(e), i = t.length, s = Array(i), n = 0; i > n; n++)
            s[n] = [t[n], e[t[n]]];
        return s
    }
    ,
    b.invert = function(e) {
        for (var t = {}, i = b.keys(e), s = 0, n = i.length; n > s; s++)
            t[e[i[s]]] = i[s];
        return t
    }
    ,
    b.functions = b.methods = function(e) {
        var t = [];
        for (var i in e)
            b.isFunction(e[i]) && t.push(i);
        return t.sort()
    }
    ,
    b.extend = _(b.allKeys),
    b.extendOwn = b.assign = _(b.keys),
    b.findKey = function(e, t, i) {
        t = w(t, i);
        for (var s, n = b.keys(e), a = 0, r = n.length; r > a; a++)
            if (s = n[a],
            t(e[s], s, e))
                return s
    }
    ,
    b.pick = function(e, t, i) {
        var s, n, a = {}, r = e;
        if (null == r)
            return a;
        b.isFunction(t) ? (n = b.allKeys(r),
        s = y(t, i)) : (n = M(arguments, !1, !1, 1),
        s = function(e, t, i) {
            return t in i
        }
        ,
        r = Object(r));
        for (var o = 0, l = n.length; l > o; o++) {
            var h = n[o]
              , c = r[h];
            s(c, h, r) && (a[h] = c)
        }
        return a
    }
    ,
    b.omit = function(e, t, i) {
        if (b.isFunction(t))
            t = b.negate(t);
        else {
            var s = b.map(M(arguments, !1, !1, 1), String);
            t = function(e, t) {
                return !b.contains(s, t)
            }
        }
        return b.pick(e, t, i)
    }
    ,
    b.defaults = _(b.allKeys, !0),
    b.create = function(e, t) {
        var i = k(e);
        return t && b.extendOwn(i, t),
        i
    }
    ,
    b.clone = function(e) {
        return b.isObject(e) ? b.isArray(e) ? e.slice() : b.extend({}, e) : e
    }
    ,
    b.tap = function(e, t) {
        return t(e),
        e
    }
    ,
    b.isMatch = function(e, t) {
        var i = b.keys(t)
          , s = i.length;
        if (null == e)
            return !s;
        for (var n = Object(e), a = 0; s > a; a++) {
            var r = i[a];
            if (t[r] !== n[r] || !(r in n))
                return !1
        }
        return !0
    }
    ;
    var L = function(e, t, i, s) {
        if (e === t)
            return 0 !== e || 1 / e === 1 / t;
        if (null == e || null == t)
            return e === t;
        e instanceof b && (e = e._wrapped),
        t instanceof b && (t = t._wrapped);
        var n = d.call(e);
        if (n !== d.call(t))
            return !1;
        switch (n) {
        case "[object RegExp]":
        case "[object String]":
            return "" + e == "" + t;
        case "[object Number]":
            return +e !== +e ? +t !== +t : 0 === +e ? 1 / +e === 1 / t : +e === +t;
        case "[object Date]":
        case "[object Boolean]":
            return +e === +t
        }
        var a = "[object Array]" === n;
        if (!a) {
            if ("object" != typeof e || "object" != typeof t)
                return !1;
            var r = e.constructor
              , o = t.constructor;
            if (r !== o && !(b.isFunction(r) && r instanceof r && b.isFunction(o) && o instanceof o) && "constructor"in e && "constructor"in t)
                return !1
        }
        i = i || [],
        s = s || [];
        for (var l = i.length; l--; )
            if (i[l] === e)
                return s[l] === t;
        if (i.push(e),
        s.push(t),
        a) {
            if (l = e.length,
            l !== t.length)
                return !1;
            for (; l--; )
                if (!L(e[l], t[l], i, s))
                    return !1
        } else {
            var h, c = b.keys(e);
            if (l = c.length,
            b.keys(t).length !== l)
                return !1;
            for (; l--; )
                if (h = c[l],
                !b.has(t, h) || !L(e[h], t[h], i, s))
                    return !1
        }
        return i.pop(),
        s.pop(),
        !0
    };
    b.isEqual = function(e, t) {
        return L(e, t)
    }
    ,
    b.isEmpty = function(e) {
        return null == e || (S(e) && (b.isArray(e) || b.isString(e) || b.isArguments(e)) ? 0 === e.length : 0 === b.keys(e).length)
    }
    ,
    b.isElement = function(e) {
        return !(!e || 1 !== e.nodeType)
    }
    ,
    b.isArray = p || function(e) {
        return "[object Array]" === d.call(e)
    }
    ,
    b.isObject = function(e) {
        var t = typeof e;
        return "function" === t || "object" === t && !!e
    }
    ,
    b.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function(e) {
        b["is" + e] = function(t) {
            return d.call(t) === "[object " + e + "]"
        }
    }),
    b.isArguments(arguments) || (b.isArguments = function(e) {
        return b.has(e, "callee")
    }
    ),
    "function" != typeof /./ && "object" != typeof Int8Array && (b.isFunction = function(e) {
        return "function" == typeof e || !1
    }
    ),
    b.isFinite = function(e) {
        return isFinite(e) && !isNaN(parseFloat(e))
    }
    ,
    b.isNaN = function(e) {
        return b.isNumber(e) && e !== +e
    }
    ,
    b.isBoolean = function(e) {
        return e === !0 || e === !1 || "[object Boolean]" === d.call(e)
    }
    ,
    b.isNull = function(e) {
        return null === e
    }
    ,
    b.isUndefined = function(e) {
        return void 0 === e
    }
    ,
    b.has = function(e, t) {
        return null != e && u.call(e, t)
    }
    ,
    b.noConflict = function() {
        return n._ = a,
        this
    }
    ,
    b.identity = function(e) {
        return e
    }
    ,
    b.constant = function(e) {
        return function() {
            return e
        }
    }
    ,
    b.noop = function() {}
    ,
    b.property = x,
    b.propertyOf = function(e) {
        return null == e ? function() {}
        : function(t) {
            return e[t]
        }
    }
    ,
    b.matcher = b.matches = function(e) {
        return e = b.extendOwn({}, e),
        function(t) {
            return b.isMatch(t, e)
        }
    }
    ,
    b.times = function(e, t, i) {
        var s = Array(Math.max(0, e));
        t = y(t, i, 1);
        for (var n = 0; e > n; n++)
            s[n] = t(n);
        return s
    }
    ,
    b.random = function(e, t) {
        return null == t && (t = e,
        e = 0),
        e + Math.floor(Math.random() * (t - e + 1))
    }
    ,
    b.now = Date.now || function() {
        return (new Date).getTime()
    }
    ;
    var R = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;"
    }
      , j = b.invert(R)
      , O = function(e) {
        var t = function(t) {
            return e[t]
        }
          , i = "(?:" + b.keys(e).join("|") + ")"
          , s = RegExp(i)
          , n = RegExp(i, "g");
        return function(e) {
            return e = null == e ? "" : "" + e,
            s.test(e) ? e.replace(n, t) : e
        }
    };
    b.escape = O(R),
    b.unescape = O(j),
    b.result = function(e, t, i) {
        var s = null == e ? void 0 : e[t];
        return void 0 === s && (s = i),
        b.isFunction(s) ? s.call(e) : s
    }
    ;
    var z = 0;
    b.uniqueId = function(e) {
        var t = ++z + "";
        return e ? e + t : t
    }
    ,
    b.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var I = /(.)^/
      , q = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\u2028": "u2028",
        "\u2029": "u2029"
    }
      , $ = /\\|'|\r|\n|\u2028|\u2029/g
      , F = function(e) {
        return "\\" + q[e]
    };
    b.template = function(e, t, i) {
        !t && i && (t = i),
        t = b.defaults({}, t, b.templateSettings);
        var s = RegExp([(t.escape || I).source, (t.interpolate || I).source, (t.evaluate || I).source].join("|") + "|$", "g")
          , n = 0
          , a = "__p+='";
        e.replace(s, function(t, i, s, r, o) {
            return a += e.slice(n, o).replace($, F),
            n = o + t.length,
            i ? a += "'+\n((__t=(" + i + "))==null?'':_.escape(__t))+\n'" : s ? a += "'+\n((__t=(" + s + "))==null?'':__t)+\n'" : r && (a += "';\n" + r + "\n__p+='"),
            t
        }),
        a += "';\n",
        t.variable || (a = "with(obj||{}){\n" + a + "}\n"),
        a = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + a + "return __p;\n";
        try {
            var r = new Function(t.variable || "obj","_",a)
        } catch (e) {
            throw e.source = a,
            e
        }
        var o = function(e) {
            return r.call(this, e, b)
        }
          , l = t.variable || "obj";
        return o.source = "function(" + l + "){\n" + a + "}",
        o
    }
    ,
    b.chain = function(e) {
        var t = b(e);
        return t._chain = !0,
        t
    }
    ;
    var V = function(e, t) {
        return e._chain ? b(t).chain() : t
    };
    b.mixin = function(e) {
        b.each(b.functions(e), function(t) {
            var i = b[t] = e[t];
            b.prototype[t] = function() {
                var e = [this._wrapped];
                return h.apply(e, arguments),
                V(this, i.apply(b, e))
            }
        })
    }
    ,
    b.mixin(b),
    b.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(e) {
        var t = r[e];
        b.prototype[e] = function() {
            var i = this._wrapped;
            return t.apply(i, arguments),
            "shift" !== e && "splice" !== e || 0 !== i.length || delete i[0],
            V(this, i)
        }
    }),
    b.each(["concat", "join", "slice"], function(e) {
        var t = r[e];
        b.prototype[e] = function() {
            return V(this, t.apply(this._wrapped, arguments))
        }
    }),
    b.prototype.value = function() {
        return this._wrapped
    }
    ,
    b.prototype.valueOf = b.prototype.toJSON = b.prototype.value,
    b.prototype.toString = function() {
        return "" + this._wrapped
    }
    ,
    "function" == typeof define && define.amd && define("underscore", [], function() {
        return b
    })
}
).call(this),
!function(e, t) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? t(e, !0) : function(e) {
        if (!e.document)
            throw new Error("jQuery requires a window with a document");
        return t(e)
    }
    : t(e)
}("undefined" != typeof window ? window : this, function(e, t) {
    function i(e) {
        var t = e.length
          , i = K.type(e);
        return "function" !== i && !K.isWindow(e) && (!(1 !== e.nodeType || !t) || ("array" === i || 0 === t || "number" == typeof t && t > 0 && t - 1 in e))
    }
    function s(e, t, i) {
        if (K.isFunction(t))
            return K.grep(e, function(e, s) {
                return !!t.call(e, s, e) !== i
            });
        if (t.nodeType)
            return K.grep(e, function(e) {
                return e === t !== i
            });
        if ("string" == typeof t) {
            if (oe.test(t))
                return K.filter(t, e, i);
            t = K.filter(t, e)
        }
        return K.grep(e, function(e) {
            return U.call(t, e) >= 0 !== i
        })
    }
    function n(e, t) {
        for (; (e = e[t]) && 1 !== e.nodeType; )
            ;
        return e
    }
    function a(e) {
        var t = fe[e] = {};
        return K.each(e.match(pe) || [], function(e, i) {
            t[i] = !0
        }),
        t
    }
    function r() {
        J.removeEventListener("DOMContentLoaded", r, !1),
        e.removeEventListener("load", r, !1),
        K.ready()
    }
    function o() {
        Object.defineProperty(this.cache = {}, 0, {
            get: function() {
                return {}
            }
        }),
        this.expando = K.expando + Math.random()
    }
    function l(e, t, i) {
        var s;
        if (void 0 === i && 1 === e.nodeType)
            if (s = "data-" + t.replace(we, "-$1").toLowerCase(),
            i = e.getAttribute(s),
            "string" == typeof i) {
                try {
                    i = "true" === i || "false" !== i && ("null" === i ? null : +i + "" === i ? +i : ye.test(i) ? K.parseJSON(i) : i)
                } catch (e) {}
                be.set(e, t, i)
            } else
                i = void 0;
        return i
    }
    function h() {
        return !0
    }
    function c() {
        return !1
    }
    function d() {
        try {
            return J.activeElement
        } catch (e) {}
    }
    function u(e, t) {
        return K.nodeName(e, "table") && K.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
    }
    function p(e) {
        return e.type = (null !== e.getAttribute("type")) + "/" + e.type,
        e
    }
    function f(e) {
        var t = ze.exec(e.type);
        return t ? e.type = t[1] : e.removeAttribute("type"),
        e
    }
    function g(e, t) {
        for (var i = 0, s = e.length; s > i; i++)
            ve.set(e[i], "globalEval", !t || ve.get(t[i], "globalEval"))
    }
    function m(e, t) {
        var i, s, n, a, r, o, l, h;
        if (1 === t.nodeType) {
            if (ve.hasData(e) && (a = ve.access(e),
            r = ve.set(t, a),
            h = a.events)) {
                delete r.handle,
                r.events = {};
                for (n in h)
                    for (i = 0,
                    s = h[n].length; s > i; i++)
                        K.event.add(t, n, h[n][i])
            }
            be.hasData(e) && (o = be.access(e),
            l = K.extend({}, o),
            be.set(t, l))
        }
    }
    function v(e, t) {
        var i = e.getElementsByTagName ? e.getElementsByTagName(t || "*") : e.querySelectorAll ? e.querySelectorAll(t || "*") : [];
        return void 0 === t || t && K.nodeName(e, t) ? K.merge([e], i) : i
    }
    function b(e, t) {
        var i = t.nodeName.toLowerCase();
        "input" === i && Ce.test(e.type) ? t.checked = e.checked : ("input" === i || "textarea" === i) && (t.defaultValue = e.defaultValue)
    }
    function y(t, i) {
        var s, n = K(i.createElement(t)).appendTo(i.body), a = e.getDefaultComputedStyle && (s = e.getDefaultComputedStyle(n[0])) ? s.display : K.css(n[0], "display");
        return n.detach(),
        a
    }
    function w(e) {
        var t = J
          , i = Fe[e];
        return i || (i = y(e, t),
        "none" !== i && i || ($e = ($e || K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),
        t = $e[0].contentDocument,
        t.write(),
        t.close(),
        i = y(e, t),
        $e.detach()),
        Fe[e] = i),
        i
    }
    function _(e, t, i) {
        var s, n, a, r, o = e.style;
        return i = i || He(e),
        i && (r = i.getPropertyValue(t) || i[t]),
        i && ("" !== r || K.contains(e.ownerDocument, e) || (r = K.style(e, t)),
        Ne.test(r) && Ve.test(t) && (s = o.width,
        n = o.minWidth,
        a = o.maxWidth,
        o.minWidth = o.maxWidth = o.width = r,
        r = i.width,
        o.width = s,
        o.minWidth = n,
        o.maxWidth = a)),
        void 0 !== r ? r + "" : r
    }
    function k(e, t) {
        return {
            get: function() {
                return e() ? void delete this.get : (this.get = t).apply(this, arguments)
            }
        }
    }
    function x(e, t) {
        if (t in e)
            return t;
        for (var i = t[0].toUpperCase() + t.slice(1), s = t, n = Xe.length; n--; )
            if (t = Xe[n] + i,
            t in e)
                return t;
        return s
    }
    function C(e, t, i) {
        var s = We.exec(t);
        return s ? Math.max(0, s[1] - (i || 0)) + (s[2] || "px") : t
    }
    function T(e, t, i, s, n) {
        for (var a = i === (s ? "border" : "content") ? 4 : "width" === t ? 1 : 0, r = 0; 4 > a; a += 2)
            "margin" === i && (r += K.css(e, i + ke[a], !0, n)),
            s ? ("content" === i && (r -= K.css(e, "padding" + ke[a], !0, n)),
            "margin" !== i && (r -= K.css(e, "border" + ke[a] + "Width", !0, n))) : (r += K.css(e, "padding" + ke[a], !0, n),
            "padding" !== i && (r += K.css(e, "border" + ke[a] + "Width", !0, n)));
        return r
    }
    function S(e, t, i) {
        var s = !0
          , n = "width" === t ? e.offsetWidth : e.offsetHeight
          , a = He(e)
          , r = "border-box" === K.css(e, "boxSizing", !1, a);
        if (0 >= n || null == n) {
            if (n = _(e, t, a),
            (0 > n || null == n) && (n = e.style[t]),
            Ne.test(n))
                return n;
            s = r && (Q.boxSizingReliable() || n === e.style[t]),
            n = parseFloat(n) || 0
        }
        return n + T(e, t, i || (r ? "border" : "content"), s, a) + "px"
    }
    function P(e, t) {
        for (var i, s, n, a = [], r = 0, o = e.length; o > r; r++)
            s = e[r],
            s.style && (a[r] = ve.get(s, "olddisplay"),
            i = s.style.display,
            t ? (a[r] || "none" !== i || (s.style.display = ""),
            "" === s.style.display && xe(s) && (a[r] = ve.access(s, "olddisplay", w(s.nodeName)))) : (n = xe(s),
            "none" === i && n || ve.set(s, "olddisplay", n ? i : K.css(s, "display"))));
        for (r = 0; o > r; r++)
            s = e[r],
            s.style && (t && "none" !== s.style.display && "" !== s.style.display || (s.style.display = t ? a[r] || "" : "none"));
        return e
    }
    function M(e, t, i, s, n) {
        return new M.prototype.init(e,t,i,s,n)
    }
    function E() {
        return setTimeout(function() {
            Qe = void 0
        }),
        Qe = K.now()
    }
    function A(e, t) {
        var i, s = 0, n = {
            height: e
        };
        for (t = t ? 1 : 0; 4 > s; s += 2 - t)
            i = ke[s],
            n["margin" + i] = n["padding" + i] = e;
        return t && (n.opacity = n.width = e),
        n
    }
    function D(e, t, i) {
        for (var s, n = (it[t] || []).concat(it["*"]), a = 0, r = n.length; r > a; a++)
            if (s = n[a].call(i, t, e))
                return s
    }
    function L(e, t, i) {
        var s, n, a, r, o, l, h, c, d = this, u = {}, p = e.style, f = e.nodeType && xe(e), g = ve.get(e, "fxshow");
        i.queue || (o = K._queueHooks(e, "fx"),
        null == o.unqueued && (o.unqueued = 0,
        l = o.empty.fire,
        o.empty.fire = function() {
            o.unqueued || l()
        }
        ),
        o.unqueued++,
        d.always(function() {
            d.always(function() {
                o.unqueued--,
                K.queue(e, "fx").length || o.empty.fire()
            })
        })),
        1 === e.nodeType && ("height"in t || "width"in t) && (i.overflow = [p.overflow, p.overflowX, p.overflowY],
        h = K.css(e, "display"),
        c = "none" === h ? ve.get(e, "olddisplay") || w(e.nodeName) : h,
        "inline" === c && "none" === K.css(e, "float") && (p.display = "inline-block")),
        i.overflow && (p.overflow = "hidden",
        d.always(function() {
            p.overflow = i.overflow[0],
            p.overflowX = i.overflow[1],
            p.overflowY = i.overflow[2]
        }));
        for (s in t)
            if (n = t[s],
            Ze.exec(n)) {
                if (delete t[s],
                a = a || "toggle" === n,
                n === (f ? "hide" : "show")) {
                    if ("show" !== n || !g || void 0 === g[s])
                        continue;
                    f = !0
                }
                u[s] = g && g[s] || K.style(e, s)
            } else
                h = void 0;
        if (K.isEmptyObject(u))
            "inline" === ("none" === h ? w(e.nodeName) : h) && (p.display = h);
        else {
            g ? "hidden"in g && (f = g.hidden) : g = ve.access(e, "fxshow", {}),
            a && (g.hidden = !f),
            f ? K(e).show() : d.done(function() {
                K(e).hide()
            }),
            d.done(function() {
                var t;
                ve.remove(e, "fxshow");
                for (t in u)
                    K.style(e, t, u[t])
            });
            for (s in u)
                r = D(f ? g[s] : 0, s, d),
                s in g || (g[s] = r.start,
                f && (r.end = r.start,
                r.start = "width" === s || "height" === s ? 1 : 0))
        }
    }
    function R(e, t) {
        var i, s, n, a, r;
        for (i in e)
            if (s = K.camelCase(i),
            n = t[s],
            a = e[i],
            K.isArray(a) && (n = a[1],
            a = e[i] = a[0]),
            i !== s && (e[s] = a,
            delete e[i]),
            r = K.cssHooks[s],
            r && "expand"in r) {
                a = r.expand(a),
                delete e[s];
                for (i in a)
                    i in e || (e[i] = a[i],
                    t[i] = n)
            } else
                t[s] = n
    }
    function j(e, t, i) {
        var s, n, a = 0, r = tt.length, o = K.Deferred().always(function() {
            delete l.elem
        }), l = function() {
            if (n)
                return !1;
            for (var t = Qe || E(), i = Math.max(0, h.startTime + h.duration - t), s = i / h.duration || 0, a = 1 - s, r = 0, l = h.tweens.length; l > r; r++)
                h.tweens[r].run(a);
            return o.notifyWith(e, [h, a, i]),
            1 > a && l ? i : (o.resolveWith(e, [h]),
            !1)
        }, h = o.promise({
            elem: e,
            props: K.extend({}, t),
            opts: K.extend(!0, {
                specialEasing: {}
            }, i),
            originalProperties: t,
            originalOptions: i,
            startTime: Qe || E(),
            duration: i.duration,
            tweens: [],
            createTween: function(t, i) {
                var s = K.Tween(e, h.opts, t, i, h.opts.specialEasing[t] || h.opts.easing);
                return h.tweens.push(s),
                s
            },
            stop: function(t) {
                var i = 0
                  , s = t ? h.tweens.length : 0;
                if (n)
                    return this;
                for (n = !0; s > i; i++)
                    h.tweens[i].run(1);
                return t ? o.resolveWith(e, [h, t]) : o.rejectWith(e, [h, t]),
                this
            }
        }), c = h.props;
        for (R(c, h.opts.specialEasing); r > a; a++)
            if (s = tt[a].call(h, e, c, h.opts))
                return s;
        return K.map(c, D, h),
        K.isFunction(h.opts.start) && h.opts.start.call(e, h),
        K.fx.timer(K.extend(l, {
            elem: e,
            anim: h,
            queue: h.opts.queue
        })),
        h.progress(h.opts.progress).done(h.opts.done, h.opts.complete).fail(h.opts.fail).always(h.opts.always)
    }
    function O(e) {
        return function(t, i) {
            "string" != typeof t && (i = t,
            t = "*");
            var s, n = 0, a = t.toLowerCase().match(pe) || [];
            if (K.isFunction(i))
                for (; s = a[n++]; )
                    "+" === s[0] ? (s = s.slice(1) || "*",
                    (e[s] = e[s] || []).unshift(i)) : (e[s] = e[s] || []).push(i)
        }
    }
    function z(e, t, i, s) {
        function n(o) {
            var l;
            return a[o] = !0,
            K.each(e[o] || [], function(e, o) {
                var h = o(t, i, s);
                return "string" != typeof h || r || a[h] ? r ? !(l = h) : void 0 : (t.dataTypes.unshift(h),
                n(h),
                !1)
            }),
            l
        }
        var a = {}
          , r = e === _t;
        return n(t.dataTypes[0]) || !a["*"] && n("*")
    }
    function I(e, t) {
        var i, s, n = K.ajaxSettings.flatOptions || {};
        for (i in t)
            void 0 !== t[i] && ((n[i] ? e : s || (s = {}))[i] = t[i]);
        return s && K.extend(!0, e, s),
        e
    }
    function q(e, t, i) {
        for (var s, n, a, r, o = e.contents, l = e.dataTypes; "*" === l[0]; )
            l.shift(),
            void 0 === s && (s = e.mimeType || t.getResponseHeader("Content-Type"));
        if (s)
            for (n in o)
                if (o[n] && o[n].test(s)) {
                    l.unshift(n);
                    break
                }
        if (l[0]in i)
            a = l[0];
        else {
            for (n in i) {
                if (!l[0] || e.converters[n + " " + l[0]]) {
                    a = n;
                    break
                }
                r || (r = n)
            }
            a = a || r
        }
        return a ? (a !== l[0] && l.unshift(a),
        i[a]) : void 0
    }
    function $(e, t, i, s) {
        var n, a, r, o, l, h = {}, c = e.dataTypes.slice();
        if (c[1])
            for (r in e.converters)
                h[r.toLowerCase()] = e.converters[r];
        for (a = c.shift(); a; )
            if (e.responseFields[a] && (i[e.responseFields[a]] = t),
            !l && s && e.dataFilter && (t = e.dataFilter(t, e.dataType)),
            l = a,
            a = c.shift())
                if ("*" === a)
                    a = l;
                else if ("*" !== l && l !== a) {
                    if (r = h[l + " " + a] || h["* " + a],
                    !r)
                        for (n in h)
                            if (o = n.split(" "),
                            o[1] === a && (r = h[l + " " + o[0]] || h["* " + o[0]])) {
                                r === !0 ? r = h[n] : h[n] !== !0 && (a = o[0],
                                c.unshift(o[1]));
                                break
                            }
                    if (r !== !0)
                        if (r && e.throws)
                            t = r(t);
                        else
                            try {
                                t = r(t)
                            } catch (e) {
                                return {
                                    state: "parsererror",
                                    error: r ? e : "No conversion from " + l + " to " + a
                                }
                            }
                }
        return {
            state: "success",
            data: t
        }
    }
    function F(e, t, i, s) {
        var n;
        if (K.isArray(t))
            K.each(t, function(t, n) {
                i || Ct.test(e) ? s(e, n) : F(e + "[" + ("object" == typeof n ? t : "") + "]", n, i, s)
            });
        else if (i || "object" !== K.type(t))
            s(e, t);
        else
            for (n in t)
                F(e + "[" + n + "]", t[n], i, s)
    }
    function V(e) {
        return K.isWindow(e) ? e : 9 === e.nodeType && e.defaultView
    }
    var N = []
      , H = N.slice
      , B = N.concat
      , W = N.push
      , U = N.indexOf
      , G = {}
      , Y = G.toString
      , X = G.hasOwnProperty
      , Q = {}
      , J = e.document
      , Z = "2.1.1"
      , K = function(e, t) {
        return new K.fn.init(e,t)
    }
      , ee = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g
      , te = /^-ms-/
      , ie = /-([\da-z])/gi
      , se = function(e, t) {
        return t.toUpperCase()
    };
    K.fn = K.prototype = {
        jquery: Z,
        constructor: K,
        selector: "",
        length: 0,
        toArray: function() {
            return H.call(this)
        },
        get: function(e) {
            return null != e ? 0 > e ? this[e + this.length] : this[e] : H.call(this)
        },
        pushStack: function(e) {
            var t = K.merge(this.constructor(), e);
            return t.prevObject = this,
            t.context = this.context,
            t
        },
        each: function(e, t) {
            return K.each(this, e, t)
        },
        map: function(e) {
            return this.pushStack(K.map(this, function(t, i) {
                return e.call(t, i, t)
            }))
        },
        slice: function() {
            return this.pushStack(H.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(e) {
            var t = this.length
              , i = +e + (0 > e ? t : 0);
            return this.pushStack(i >= 0 && t > i ? [this[i]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: W,
        sort: N.sort,
        splice: N.splice
    },
    K.extend = K.fn.extend = function() {
        var e, t, i, s, n, a, r = arguments[0] || {}, o = 1, l = arguments.length, h = !1;
        for ("boolean" == typeof r && (h = r,
        r = arguments[o] || {},
        o++),
        "object" == typeof r || K.isFunction(r) || (r = {}),
        o === l && (r = this,
        o--); l > o; o++)
            if (null != (e = arguments[o]))
                for (t in e)
                    i = r[t],
                    s = e[t],
                    r !== s && (h && s && (K.isPlainObject(s) || (n = K.isArray(s))) ? (n ? (n = !1,
                    a = i && K.isArray(i) ? i : []) : a = i && K.isPlainObject(i) ? i : {},
                    r[t] = K.extend(h, a, s)) : void 0 !== s && (r[t] = s));
        return r
    }
    ,
    K.extend({
        expando: "jQuery" + (Z + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(e) {
            throw new Error(e)
        },
        noop: function() {},
        isFunction: function(e) {
            return "function" === K.type(e)
        },
        isArray: Array.isArray,
        isWindow: function(e) {
            return null != e && e === e.window
        },
        isNumeric: function(e) {
            return !K.isArray(e) && e - parseFloat(e) >= 0
        },
        isPlainObject: function(e) {
            return "object" === K.type(e) && !e.nodeType && !K.isWindow(e) && !(e.constructor && !X.call(e.constructor.prototype, "isPrototypeOf"))
        },
        isEmptyObject: function(e) {
            var t;
            for (t in e)
                return !1;
            return !0
        },
        type: function(e) {
            return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? G[Y.call(e)] || "object" : typeof e
        },
        globalEval: function(e) {
            var t, i = eval;
            e = K.trim(e),
            e && (1 === e.indexOf("use strict") ? (t = J.createElement("script"),
            t.text = e,
            J.head.appendChild(t).parentNode.removeChild(t)) : i(e))
        },
        camelCase: function(e) {
            return e.replace(te, "ms-").replace(ie, se)
        },
        nodeName: function(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        },
        each: function(e, t, s) {
            var n, a = 0, r = e.length, o = i(e);
            if (s) {
                if (o)
                    for (; r > a && (n = t.apply(e[a], s),
                    n !== !1); a++)
                        ;
                else
                    for (a in e)
                        if (n = t.apply(e[a], s),
                        n === !1)
                            break
            } else if (o)
                for (; r > a && (n = t.call(e[a], a, e[a]),
                n !== !1); a++)
                    ;
            else
                for (a in e)
                    if (n = t.call(e[a], a, e[a]),
                    n === !1)
                        break;
            return e
        },
        trim: function(e) {
            return null == e ? "" : (e + "").replace(ee, "")
        },
        makeArray: function(e, t) {
            var s = t || [];
            return null != e && (i(Object(e)) ? K.merge(s, "string" == typeof e ? [e] : e) : W.call(s, e)),
            s
        },
        inArray: function(e, t, i) {
            return null == t ? -1 : U.call(t, e, i)
        },
        merge: function(e, t) {
            for (var i = +t.length, s = 0, n = e.length; i > s; s++)
                e[n++] = t[s];
            return e.length = n,
            e
        },
        grep: function(e, t, i) {
            for (var s, n = [], a = 0, r = e.length, o = !i; r > a; a++)
                s = !t(e[a], a),
                s !== o && n.push(e[a]);
            return n
        },
        map: function(e, t, s) {
            var n, a = 0, r = e.length, o = i(e), l = [];
            if (o)
                for (; r > a; a++)
                    n = t(e[a], a, s),
                    null != n && l.push(n);
            else
                for (a in e)
                    n = t(e[a], a, s),
                    null != n && l.push(n);
            return B.apply([], l)
        },
        guid: 1,
        proxy: function(e, t) {
            var i, s, n;
            return "string" == typeof t && (i = e[t],
            t = e,
            e = i),
            K.isFunction(e) ? (s = H.call(arguments, 2),
            n = function() {
                return e.apply(t || this, s.concat(H.call(arguments)))
            }
            ,
            n.guid = e.guid = e.guid || K.guid++,
            n) : void 0
        },
        now: Date.now,
        support: Q
    }),
    K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(e, t) {
        G["[object " + t + "]"] = t.toLowerCase()
    });
    var ne = function(e) {
        function t(e, t, i, s) {
            var n, a, r, o, l, h, d, p, f, g;
            if ((t ? t.ownerDocument || t : F) !== L && D(t),
            t = t || L,
            i = i || [],
            !e || "string" != typeof e)
                return i;
            if (1 !== (o = t.nodeType) && 9 !== o)
                return [];
            if (j && !s) {
                if (n = be.exec(e))
                    if (r = n[1]) {
                        if (9 === o) {
                            if (a = t.getElementById(r),
                            !a || !a.parentNode)
                                return i;
                            if (a.id === r)
                                return i.push(a),
                                i
                        } else if (t.ownerDocument && (a = t.ownerDocument.getElementById(r)) && q(t, a) && a.id === r)
                            return i.push(a),
                            i
                    } else {
                        if (n[2])
                            return K.apply(i, t.getElementsByTagName(e)),
                            i;
                        if ((r = n[3]) && _.getElementsByClassName && t.getElementsByClassName)
                            return K.apply(i, t.getElementsByClassName(r)),
                            i
                    }
                if (_.qsa && (!O || !O.test(e))) {
                    if (p = d = $,
                    f = t,
                    g = 9 === o && e,
                    1 === o && "object" !== t.nodeName.toLowerCase()) {
                        for (h = T(e),
                        (d = t.getAttribute("id")) ? p = d.replace(we, "\\$&") : t.setAttribute("id", p),
                        p = "[id='" + p + "'] ",
                        l = h.length; l--; )
                            h[l] = p + u(h[l]);
                        f = ye.test(e) && c(t.parentNode) || t,
                        g = h.join(",")
                    }
                    if (g)
                        try {
                            return K.apply(i, f.querySelectorAll(g)),
                            i
                        } catch (e) {} finally {
                            d || t.removeAttribute("id")
                        }
                }
            }
            return P(e.replace(le, "$1"), t, i, s)
        }
        function i() {
            function e(i, s) {
                return t.push(i + " ") > k.cacheLength && delete e[t.shift()],
                e[i + " "] = s
            }
            var t = [];
            return e
        }
        function s(e) {
            return e[$] = !0,
            e
        }
        function n(e) {
            var t = L.createElement("div");
            try {
                return !!e(t)
            } catch (e) {
                return !1
            } finally {
                t.parentNode && t.parentNode.removeChild(t),
                t = null
            }
        }
        function a(e, t) {
            for (var i = e.split("|"), s = e.length; s--; )
                k.attrHandle[i[s]] = t
        }
        function r(e, t) {
            var i = t && e
              , s = i && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || Y) - (~e.sourceIndex || Y);
            if (s)
                return s;
            if (i)
                for (; i = i.nextSibling; )
                    if (i === t)
                        return -1;
            return e ? 1 : -1
        }
        function o(e) {
            return function(t) {
                var i = t.nodeName.toLowerCase();
                return "input" === i && t.type === e
            }
        }
        function l(e) {
            return function(t) {
                var i = t.nodeName.toLowerCase();
                return ("input" === i || "button" === i) && t.type === e
            }
        }
        function h(e) {
            return s(function(t) {
                return t = +t,
                s(function(i, s) {
                    for (var n, a = e([], i.length, t), r = a.length; r--; )
                        i[n = a[r]] && (i[n] = !(s[n] = i[n]))
                })
            })
        }
        function c(e) {
            return e && typeof e.getElementsByTagName !== G && e
        }
        function d() {}
        function u(e) {
            for (var t = 0, i = e.length, s = ""; i > t; t++)
                s += e[t].value;
            return s
        }
        function p(e, t, i) {
            var s = t.dir
              , n = i && "parentNode" === s
              , a = N++;
            return t.first ? function(t, i, a) {
                for (; t = t[s]; )
                    if (1 === t.nodeType || n)
                        return e(t, i, a)
            }
            : function(t, i, r) {
                var o, l, h = [V, a];
                if (r) {
                    for (; t = t[s]; )
                        if ((1 === t.nodeType || n) && e(t, i, r))
                            return !0
                } else
                    for (; t = t[s]; )
                        if (1 === t.nodeType || n) {
                            if (l = t[$] || (t[$] = {}),
                            (o = l[s]) && o[0] === V && o[1] === a)
                                return h[2] = o[2];
                            if (l[s] = h,
                            h[2] = e(t, i, r))
                                return !0
                        }
            }
        }
        function f(e) {
            return e.length > 1 ? function(t, i, s) {
                for (var n = e.length; n--; )
                    if (!e[n](t, i, s))
                        return !1;
                return !0
            }
            : e[0]
        }
        function g(e, i, s) {
            for (var n = 0, a = i.length; a > n; n++)
                t(e, i[n], s);
            return s
        }
        function m(e, t, i, s, n) {
            for (var a, r = [], o = 0, l = e.length, h = null != t; l > o; o++)
                (a = e[o]) && (!i || i(a, s, n)) && (r.push(a),
                h && t.push(o));
            return r
        }
        function v(e, t, i, n, a, r) {
            return n && !n[$] && (n = v(n)),
            a && !a[$] && (a = v(a, r)),
            s(function(s, r, o, l) {
                var h, c, d, u = [], p = [], f = r.length, v = s || g(t || "*", o.nodeType ? [o] : o, []), b = !e || !s && t ? v : m(v, u, e, o, l), y = i ? a || (s ? e : f || n) ? [] : r : b;
                if (i && i(b, y, o, l),
                n)
                    for (h = m(y, p),
                    n(h, [], o, l),
                    c = h.length; c--; )
                        (d = h[c]) && (y[p[c]] = !(b[p[c]] = d));
                if (s) {
                    if (a || e) {
                        if (a) {
                            for (h = [],
                            c = y.length; c--; )
                                (d = y[c]) && h.push(b[c] = d);
                            a(null, y = [], h, l)
                        }
                        for (c = y.length; c--; )
                            (d = y[c]) && (h = a ? te.call(s, d) : u[c]) > -1 && (s[h] = !(r[h] = d))
                    }
                } else
                    y = m(y === r ? y.splice(f, y.length) : y),
                    a ? a(null, r, y, l) : K.apply(r, y)
            })
        }
        function b(e) {
            for (var t, i, s, n = e.length, a = k.relative[e[0].type], r = a || k.relative[" "], o = a ? 1 : 0, l = p(function(e) {
                return e === t
            }, r, !0), h = p(function(e) {
                return te.call(t, e) > -1
            }, r, !0), c = [function(e, i, s) {
                return !a && (s || i !== M) || ((t = i).nodeType ? l(e, i, s) : h(e, i, s))
            }
            ]; n > o; o++)
                if (i = k.relative[e[o].type])
                    c = [p(f(c), i)];
                else {
                    if (i = k.filter[e[o].type].apply(null, e[o].matches),
                    i[$]) {
                        for (s = ++o; n > s && !k.relative[e[s].type]; s++)
                            ;
                        return v(o > 1 && f(c), o > 1 && u(e.slice(0, o - 1).concat({
                            value: " " === e[o - 2].type ? "*" : ""
                        })).replace(le, "$1"), i, s > o && b(e.slice(o, s)), n > s && b(e = e.slice(s)), n > s && u(e))
                    }
                    c.push(i)
                }
            return f(c)
        }
        function y(e, i) {
            var n = i.length > 0
              , a = e.length > 0
              , r = function(s, r, o, l, h) {
                var c, d, u, p = 0, f = "0", g = s && [], v = [], b = M, y = s || a && k.find.TAG("*", h), w = V += null == b ? 1 : Math.random() || .1, _ = y.length;
                for (h && (M = r !== L && r); f !== _ && null != (c = y[f]); f++) {
                    if (a && c) {
                        for (d = 0; u = e[d++]; )
                            if (u(c, r, o)) {
                                l.push(c);
                                break
                            }
                        h && (V = w)
                    }
                    n && ((c = !u && c) && p--,
                    s && g.push(c))
                }
                if (p += f,
                n && f !== p) {
                    for (d = 0; u = i[d++]; )
                        u(g, v, r, o);
                    if (s) {
                        if (p > 0)
                            for (; f--; )
                                g[f] || v[f] || (v[f] = J.call(l));
                        v = m(v)
                    }
                    K.apply(l, v),
                    h && !s && v.length > 0 && p + i.length > 1 && t.uniqueSort(l)
                }
                return h && (V = w,
                M = b),
                g
            };
            return n ? s(r) : r
        }
        var w, _, k, x, C, T, S, P, M, E, A, D, L, R, j, O, z, I, q, $ = "sizzle" + -new Date, F = e.document, V = 0, N = 0, H = i(), B = i(), W = i(), U = function(e, t) {
            return e === t && (A = !0),
            0
        }, G = "undefined", Y = 1 << 31, X = {}.hasOwnProperty, Q = [], J = Q.pop, Z = Q.push, K = Q.push, ee = Q.slice, te = Q.indexOf || function(e) {
            for (var t = 0, i = this.length; i > t; t++)
                if (this[t] === e)
                    return t;
            return -1
        }
        , ie = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", se = "[\\x20\\t\\r\\n\\f]", ne = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", ae = ne.replace("w", "w#"), re = "\\[" + se + "*(" + ne + ")(?:" + se + "*([*^$|!~]?=)" + se + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ae + "))|)" + se + "*\\]", oe = ":(" + ne + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + re + ")*)|.*)\\)|)", le = new RegExp("^" + se + "+|((?:^|[^\\\\])(?:\\\\.)*)" + se + "+$","g"), he = new RegExp("^" + se + "*," + se + "*"), ce = new RegExp("^" + se + "*([>+~]|" + se + ")" + se + "*"), de = new RegExp("=" + se + "*([^\\]'\"]*?)" + se + "*\\]","g"), ue = new RegExp(oe), pe = new RegExp("^" + ae + "$"), fe = {
            ID: new RegExp("^#(" + ne + ")"),
            CLASS: new RegExp("^\\.(" + ne + ")"),
            TAG: new RegExp("^(" + ne.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + re),
            PSEUDO: new RegExp("^" + oe),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + se + "*(even|odd|(([+-]|)(\\d*)n|)" + se + "*(?:([+-]|)" + se + "*(\\d+)|))" + se + "*\\)|)","i"),
            bool: new RegExp("^(?:" + ie + ")$","i"),
            needsContext: new RegExp("^" + se + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + se + "*((?:-\\d)?\\d*)" + se + "*\\)|)(?=[^-]|$)","i")
        }, ge = /^(?:input|select|textarea|button)$/i, me = /^h\d$/i, ve = /^[^{]+\{\s*\[native \w/, be = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ye = /[+~]/, we = /'|\\/g, _e = new RegExp("\\\\([\\da-f]{1,6}" + se + "?|(" + se + ")|.)","ig"), ke = function(e, t, i) {
            var s = "0x" + t - 65536;
            return s !== s || i ? t : 0 > s ? String.fromCharCode(s + 65536) : String.fromCharCode(s >> 10 | 55296, 1023 & s | 56320)
        };
        try {
            K.apply(Q = ee.call(F.childNodes), F.childNodes),
            Q[F.childNodes.length].nodeType
        } catch (e) {
            K = {
                apply: Q.length ? function(e, t) {
                    Z.apply(e, ee.call(t))
                }
                : function(e, t) {
                    for (var i = e.length, s = 0; e[i++] = t[s++]; )
                        ;
                    e.length = i - 1
                }
            }
        }
        _ = t.support = {},
        C = t.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return !!t && "HTML" !== t.nodeName
        }
        ,
        D = t.setDocument = function(e) {
            var t, i = e ? e.ownerDocument || e : F, s = i.defaultView;
            return i !== L && 9 === i.nodeType && i.documentElement ? (L = i,
            R = i.documentElement,
            j = !C(i),
            s && s !== s.top && (s.addEventListener ? s.addEventListener("unload", function() {
                D()
            }, !1) : s.attachEvent && s.attachEvent("onunload", function() {
                D()
            })),
            _.attributes = n(function(e) {
                return e.className = "i",
                !e.getAttribute("className")
            }),
            _.getElementsByTagName = n(function(e) {
                return e.appendChild(i.createComment("")),
                !e.getElementsByTagName("*").length
            }),
            _.getElementsByClassName = ve.test(i.getElementsByClassName) && n(function(e) {
                return e.innerHTML = "<div class='a'></div><div class='a i'></div>",
                e.firstChild.className = "i",
                2 === e.getElementsByClassName("i").length
            }),
            _.getById = n(function(e) {
                return R.appendChild(e).id = $,
                !i.getElementsByName || !i.getElementsByName($).length
            }),
            _.getById ? (k.find.ID = function(e, t) {
                if (typeof t.getElementById !== G && j) {
                    var i = t.getElementById(e);
                    return i && i.parentNode ? [i] : []
                }
            }
            ,
            k.filter.ID = function(e) {
                var t = e.replace(_e, ke);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }
            ) : (delete k.find.ID,
            k.filter.ID = function(e) {
                var t = e.replace(_e, ke);
                return function(e) {
                    var i = typeof e.getAttributeNode !== G && e.getAttributeNode("id");
                    return i && i.value === t
                }
            }
            ),
            k.find.TAG = _.getElementsByTagName ? function(e, t) {
                return typeof t.getElementsByTagName !== G ? t.getElementsByTagName(e) : void 0
            }
            : function(e, t) {
                var i, s = [], n = 0, a = t.getElementsByTagName(e);
                if ("*" === e) {
                    for (; i = a[n++]; )
                        1 === i.nodeType && s.push(i);
                    return s
                }
                return a
            }
            ,
            k.find.CLASS = _.getElementsByClassName && function(e, t) {
                return typeof t.getElementsByClassName !== G && j ? t.getElementsByClassName(e) : void 0
            }
            ,
            z = [],
            O = [],
            (_.qsa = ve.test(i.querySelectorAll)) && (n(function(e) {
                e.innerHTML = "<select msallowclip=''><option selected=''></option></select>",
                e.querySelectorAll("[msallowclip^='']").length && O.push("[*^$]=" + se + "*(?:''|\"\")"),
                e.querySelectorAll("[selected]").length || O.push("\\[" + se + "*(?:value|" + ie + ")"),
                e.querySelectorAll(":checked").length || O.push(":checked")
            }),
            n(function(e) {
                var t = i.createElement("input");
                t.setAttribute("type", "hidden"),
                e.appendChild(t).setAttribute("name", "D"),
                e.querySelectorAll("[name=d]").length && O.push("name" + se + "*[*^$|!~]?="),
                e.querySelectorAll(":enabled").length || O.push(":enabled", ":disabled"),
                e.querySelectorAll("*,:x"),
                O.push(",.*:")
            })),
            (_.matchesSelector = ve.test(I = R.matches || R.webkitMatchesSelector || R.mozMatchesSelector || R.oMatchesSelector || R.msMatchesSelector)) && n(function(e) {
                _.disconnectedMatch = I.call(e, "div"),
                I.call(e, "[s!='']:x"),
                z.push("!=", oe)
            }),
            O = O.length && new RegExp(O.join("|")),
            z = z.length && new RegExp(z.join("|")),
            t = ve.test(R.compareDocumentPosition),
            q = t || ve.test(R.contains) ? function(e, t) {
                var i = 9 === e.nodeType ? e.documentElement : e
                  , s = t && t.parentNode;
                return e === s || !(!s || 1 !== s.nodeType || !(i.contains ? i.contains(s) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(s)))
            }
            : function(e, t) {
                if (t)
                    for (; t = t.parentNode; )
                        if (t === e)
                            return !0;
                return !1
            }
            ,
            U = t ? function(e, t) {
                if (e === t)
                    return A = !0,
                    0;
                var s = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return s ? s : (s = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1,
                1 & s || !_.sortDetached && t.compareDocumentPosition(e) === s ? e === i || e.ownerDocument === F && q(F, e) ? -1 : t === i || t.ownerDocument === F && q(F, t) ? 1 : E ? te.call(E, e) - te.call(E, t) : 0 : 4 & s ? -1 : 1)
            }
            : function(e, t) {
                if (e === t)
                    return A = !0,
                    0;
                var s, n = 0, a = e.parentNode, o = t.parentNode, l = [e], h = [t];
                if (!a || !o)
                    return e === i ? -1 : t === i ? 1 : a ? -1 : o ? 1 : E ? te.call(E, e) - te.call(E, t) : 0;
                if (a === o)
                    return r(e, t);
                for (s = e; s = s.parentNode; )
                    l.unshift(s);
                for (s = t; s = s.parentNode; )
                    h.unshift(s);
                for (; l[n] === h[n]; )
                    n++;
                return n ? r(l[n], h[n]) : l[n] === F ? -1 : h[n] === F ? 1 : 0
            }
            ,
            i) : L
        }
        ,
        t.matches = function(e, i) {
            return t(e, null, null, i)
        }
        ,
        t.matchesSelector = function(e, i) {
            if ((e.ownerDocument || e) !== L && D(e),
            i = i.replace(de, "='$1']"),
            !(!_.matchesSelector || !j || z && z.test(i) || O && O.test(i)))
                try {
                    var s = I.call(e, i);
                    if (s || _.disconnectedMatch || e.document && 11 !== e.document.nodeType)
                        return s
                } catch (e) {}
            return t(i, L, null, [e]).length > 0
        }
        ,
        t.contains = function(e, t) {
            return (e.ownerDocument || e) !== L && D(e),
            q(e, t)
        }
        ,
        t.attr = function(e, t) {
            (e.ownerDocument || e) !== L && D(e);
            var i = k.attrHandle[t.toLowerCase()]
              , s = i && X.call(k.attrHandle, t.toLowerCase()) ? i(e, t, !j) : void 0;
            return void 0 !== s ? s : _.attributes || !j ? e.getAttribute(t) : (s = e.getAttributeNode(t)) && s.specified ? s.value : null
        }
        ,
        t.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }
        ,
        t.uniqueSort = function(e) {
            var t, i = [], s = 0, n = 0;
            if (A = !_.detectDuplicates,
            E = !_.sortStable && e.slice(0),
            e.sort(U),
            A) {
                for (; t = e[n++]; )
                    t === e[n] && (s = i.push(n));
                for (; s--; )
                    e.splice(i[s], 1)
            }
            return E = null,
            e
        }
        ,
        x = t.getText = function(e) {
            var t, i = "", s = 0, n = e.nodeType;
            if (n) {
                if (1 === n || 9 === n || 11 === n) {
                    if ("string" == typeof e.textContent)
                        return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling)
                        i += x(e)
                } else if (3 === n || 4 === n)
                    return e.nodeValue
            } else
                for (; t = e[s++]; )
                    i += x(t);
            return i
        }
        ,
        k = t.selectors = {
            cacheLength: 50,
            createPseudo: s,
            match: fe,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(_e, ke),
                    e[3] = (e[3] || e[4] || e[5] || "").replace(_e, ke),
                    "~=" === e[2] && (e[3] = " " + e[3] + " "),
                    e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(),
                    "nth" === e[1].slice(0, 3) ? (e[3] || t.error(e[0]),
                    e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])),
                    e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && t.error(e[0]),
                    e
                },
                PSEUDO: function(e) {
                    var t, i = !e[6] && e[2];
                    return fe.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : i && ue.test(i) && (t = T(i, !0)) && (t = i.indexOf(")", i.length - t) - i.length) && (e[0] = e[0].slice(0, t),
                    e[2] = i.slice(0, t)),
                    e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(_e, ke).toLowerCase();
                    return "*" === e ? function() {
                        return !0
                    }
                    : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = H[e + " "];
                    return t || (t = new RegExp("(^|" + se + ")" + e + "(" + se + "|$)")) && H(e, function(e) {
                        return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== G && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(e, i, s) {
                    return function(n) {
                        var a = t.attr(n, e);
                        return null == a ? "!=" === i : !i || (a += "",
                        "=" === i ? a === s : "!=" === i ? a !== s : "^=" === i ? s && 0 === a.indexOf(s) : "*=" === i ? s && a.indexOf(s) > -1 : "$=" === i ? s && a.slice(-s.length) === s : "~=" === i ? (" " + a + " ").indexOf(s) > -1 : "|=" === i && (a === s || a.slice(0, s.length + 1) === s + "-"))
                    }
                },
                CHILD: function(e, t, i, s, n) {
                    var a = "nth" !== e.slice(0, 3)
                      , r = "last" !== e.slice(-4)
                      , o = "of-type" === t;
                    return 1 === s && 0 === n ? function(e) {
                        return !!e.parentNode
                    }
                    : function(t, i, l) {
                        var h, c, d, u, p, f, g = a !== r ? "nextSibling" : "previousSibling", m = t.parentNode, v = o && t.nodeName.toLowerCase(), b = !l && !o;
                        if (m) {
                            if (a) {
                                for (; g; ) {
                                    for (d = t; d = d[g]; )
                                        if (o ? d.nodeName.toLowerCase() === v : 1 === d.nodeType)
                                            return !1;
                                    f = g = "only" === e && !f && "nextSibling"
                                }
                                return !0
                            }
                            if (f = [r ? m.firstChild : m.lastChild],
                            r && b) {
                                for (c = m[$] || (m[$] = {}),
                                h = c[e] || [],
                                p = h[0] === V && h[1],
                                u = h[0] === V && h[2],
                                d = p && m.childNodes[p]; d = ++p && d && d[g] || (u = p = 0) || f.pop(); )
                                    if (1 === d.nodeType && ++u && d === t) {
                                        c[e] = [V, p, u];
                                        break
                                    }
                            } else if (b && (h = (t[$] || (t[$] = {}))[e]) && h[0] === V)
                                u = h[1];
                            else
                                for (; (d = ++p && d && d[g] || (u = p = 0) || f.pop()) && ((o ? d.nodeName.toLowerCase() !== v : 1 !== d.nodeType) || !++u || (b && ((d[$] || (d[$] = {}))[e] = [V, u]),
                                d !== t)); )
                                    ;
                            return u -= n,
                            u === s || u % s === 0 && u / s >= 0
                        }
                    }
                },
                PSEUDO: function(e, i) {
                    var n, a = k.pseudos[e] || k.setFilters[e.toLowerCase()] || t.error("unsupported pseudo: " + e);
                    return a[$] ? a(i) : a.length > 1 ? (n = [e, e, "", i],
                    k.setFilters.hasOwnProperty(e.toLowerCase()) ? s(function(e, t) {
                        for (var s, n = a(e, i), r = n.length; r--; )
                            s = te.call(e, n[r]),
                            e[s] = !(t[s] = n[r])
                    }) : function(e) {
                        return a(e, 0, n)
                    }
                    ) : a
                }
            },
            pseudos: {
                not: s(function(e) {
                    var t = []
                      , i = []
                      , n = S(e.replace(le, "$1"));
                    return n[$] ? s(function(e, t, i, s) {
                        for (var a, r = n(e, null, s, []), o = e.length; o--; )
                            (a = r[o]) && (e[o] = !(t[o] = a))
                    }) : function(e, s, a) {
                        return t[0] = e,
                        n(t, null, a, i),
                        !i.pop()
                    }
                }),
                has: s(function(e) {
                    return function(i) {
                        return t(e, i).length > 0
                    }
                }),
                contains: s(function(e) {
                    return function(t) {
                        return (t.textContent || t.innerText || x(t)).indexOf(e) > -1
                    }
                }),
                lang: s(function(e) {
                    return pe.test(e || "") || t.error("unsupported lang: " + e),
                    e = e.replace(_e, ke).toLowerCase(),
                    function(t) {
                        var i;
                        do
                            if (i = j ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang"))
                                return i = i.toLowerCase(),
                                i === e || 0 === i.indexOf(e + "-");
                        while ((t = t.parentNode) && 1 === t.nodeType);return !1
                    }
                }),
                target: function(t) {
                    var i = e.location && e.location.hash;
                    return i && i.slice(1) === t.id
                },
                root: function(e) {
                    return e === R
                },
                focus: function(e) {
                    return e === L.activeElement && (!L.hasFocus || L.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: function(e) {
                    return e.disabled === !1
                },
                disabled: function(e) {
                    return e.disabled === !0
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex,
                    e.selected === !0
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if (e.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(e) {
                    return !k.pseudos.empty(e)
                },
                header: function(e) {
                    return me.test(e.nodeName)
                },
                input: function(e) {
                    return ge.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                },
                first: h(function() {
                    return [0]
                }),
                last: h(function(e, t) {
                    return [t - 1]
                }),
                eq: h(function(e, t, i) {
                    return [0 > i ? i + t : i]
                }),
                even: h(function(e, t) {
                    for (var i = 0; t > i; i += 2)
                        e.push(i);
                    return e
                }),
                odd: h(function(e, t) {
                    for (var i = 1; t > i; i += 2)
                        e.push(i);
                    return e
                }),
                lt: h(function(e, t, i) {
                    for (var s = 0 > i ? i + t : i; --s >= 0; )
                        e.push(s);
                    return e
                }),
                gt: h(function(e, t, i) {
                    for (var s = 0 > i ? i + t : i; ++s < t; )
                        e.push(s);
                    return e
                })
            }
        },
        k.pseudos.nth = k.pseudos.eq;
        for (w in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            k.pseudos[w] = o(w);
        for (w in {
            submit: !0,
            reset: !0
        })
            k.pseudos[w] = l(w);
        return d.prototype = k.filters = k.pseudos,
        k.setFilters = new d,
        T = t.tokenize = function(e, i) {
            var s, n, a, r, o, l, h, c = B[e + " "];
            if (c)
                return i ? 0 : c.slice(0);
            for (o = e,
            l = [],
            h = k.preFilter; o; ) {
                (!s || (n = he.exec(o))) && (n && (o = o.slice(n[0].length) || o),
                l.push(a = [])),
                s = !1,
                (n = ce.exec(o)) && (s = n.shift(),
                a.push({
                    value: s,
                    type: n[0].replace(le, " ")
                }),
                o = o.slice(s.length));
                for (r in k.filter)
                    !(n = fe[r].exec(o)) || h[r] && !(n = h[r](n)) || (s = n.shift(),
                    a.push({
                        value: s,
                        type: r,
                        matches: n
                    }),
                    o = o.slice(s.length));
                if (!s)
                    break
            }
            return i ? o.length : o ? t.error(e) : B(e, l).slice(0)
        }
        ,
        S = t.compile = function(e, t) {
            var i, s = [], n = [], a = W[e + " "];
            if (!a) {
                for (t || (t = T(e)),
                i = t.length; i--; )
                    a = b(t[i]),
                    a[$] ? s.push(a) : n.push(a);
                a = W(e, y(n, s)),
                a.selector = e
            }
            return a
        }
        ,
        P = t.select = function(e, t, i, s) {
            var n, a, r, o, l, h = "function" == typeof e && e, d = !s && T(e = h.selector || e);
            if (i = i || [],
            1 === d.length) {
                if (a = d[0] = d[0].slice(0),
                a.length > 2 && "ID" === (r = a[0]).type && _.getById && 9 === t.nodeType && j && k.relative[a[1].type]) {
                    if (t = (k.find.ID(r.matches[0].replace(_e, ke), t) || [])[0],
                    !t)
                        return i;
                    h && (t = t.parentNode),
                    e = e.slice(a.shift().value.length)
                }
                for (n = fe.needsContext.test(e) ? 0 : a.length; n-- && (r = a[n],
                !k.relative[o = r.type]); )
                    if ((l = k.find[o]) && (s = l(r.matches[0].replace(_e, ke), ye.test(a[0].type) && c(t.parentNode) || t))) {
                        if (a.splice(n, 1),
                        e = s.length && u(a),
                        !e)
                            return K.apply(i, s),
                            i;
                        break
                    }
            }
            return (h || S(e, d))(s, t, !j, i, ye.test(e) && c(t.parentNode) || t),
            i
        }
        ,
        _.sortStable = $.split("").sort(U).join("") === $,
        _.detectDuplicates = !!A,
        D(),
        _.sortDetached = n(function(e) {
            return 1 & e.compareDocumentPosition(L.createElement("div"))
        }),
        n(function(e) {
            return e.innerHTML = "<a href='#'></a>",
            "#" === e.firstChild.getAttribute("href")
        }) || a("type|href|height|width", function(e, t, i) {
            return i ? void 0 : e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
        }),
        _.attributes && n(function(e) {
            return e.innerHTML = "<input/>",
            e.firstChild.setAttribute("value", ""),
            "" === e.firstChild.getAttribute("value")
        }) || a("value", function(e, t, i) {
            return i || "input" !== e.nodeName.toLowerCase() ? void 0 : e.defaultValue
        }),
        n(function(e) {
            return null == e.getAttribute("disabled")
        }) || a(ie, function(e, t, i) {
            var s;
            return i ? void 0 : e[t] === !0 ? t.toLowerCase() : (s = e.getAttributeNode(t)) && s.specified ? s.value : null
        }),
        t
    }(e);
    K.find = ne,
    K.expr = ne.selectors,
    K.expr[":"] = K.expr.pseudos,
    K.unique = ne.uniqueSort,
    K.text = ne.getText,
    K.isXMLDoc = ne.isXML,
    K.contains = ne.contains;
    var ae = K.expr.match.needsContext
      , re = /^<(\w+)\s*\/?>(?:<\/\1>|)$/
      , oe = /^.[^:#\[\.,]*$/;
    K.filter = function(e, t, i) {
        var s = t[0];
        return i && (e = ":not(" + e + ")"),
        1 === t.length && 1 === s.nodeType ? K.find.matchesSelector(s, e) ? [s] : [] : K.find.matches(e, K.grep(t, function(e) {
            return 1 === e.nodeType
        }))
    }
    ,
    K.fn.extend({
        find: function(e) {
            var t, i = this.length, s = [], n = this;
            if ("string" != typeof e)
                return this.pushStack(K(e).filter(function() {
                    for (t = 0; i > t; t++)
                        if (K.contains(n[t], this))
                            return !0
                }));
            for (t = 0; i > t; t++)
                K.find(e, n[t], s);
            return s = this.pushStack(i > 1 ? K.unique(s) : s),
            s.selector = this.selector ? this.selector + " " + e : e,
            s
        },
        filter: function(e) {
            return this.pushStack(s(this, e || [], !1))
        },
        not: function(e) {
            return this.pushStack(s(this, e || [], !0))
        },
        is: function(e) {
            return !!s(this, "string" == typeof e && ae.test(e) ? K(e) : e || [], !1).length
        }
    });
    var le, he = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, ce = K.fn.init = function(e, t) {
        var i, s;
        if (!e)
            return this;
        if ("string" == typeof e) {
            if (i = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [null, e, null] : he.exec(e),
            !i || !i[1] && t)
                return !t || t.jquery ? (t || le).find(e) : this.constructor(t).find(e);
            if (i[1]) {
                if (t = t instanceof K ? t[0] : t,
                K.merge(this, K.parseHTML(i[1], t && t.nodeType ? t.ownerDocument || t : J, !0)),
                re.test(i[1]) && K.isPlainObject(t))
                    for (i in t)
                        K.isFunction(this[i]) ? this[i](t[i]) : this.attr(i, t[i]);
                return this
            }
            return s = J.getElementById(i[2]),
            s && s.parentNode && (this.length = 1,
            this[0] = s),
            this.context = J,
            this.selector = e,
            this
        }
        return e.nodeType ? (this.context = this[0] = e,
        this.length = 1,
        this) : K.isFunction(e) ? "undefined" != typeof le.ready ? le.ready(e) : e(K) : (void 0 !== e.selector && (this.selector = e.selector,
        this.context = e.context),
        K.makeArray(e, this))
    }
    ;
    ce.prototype = K.fn,
    le = K(J);
    var de = /^(?:parents|prev(?:Until|All))/
      , ue = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    K.extend({
        dir: function(e, t, i) {
            for (var s = [], n = void 0 !== i; (e = e[t]) && 9 !== e.nodeType; )
                if (1 === e.nodeType) {
                    if (n && K(e).is(i))
                        break;
                    s.push(e)
                }
            return s
        },
        sibling: function(e, t) {
            for (var i = []; e; e = e.nextSibling)
                1 === e.nodeType && e !== t && i.push(e);
            return i
        }
    }),
    K.fn.extend({
        has: function(e) {
            var t = K(e, this)
              , i = t.length;
            return this.filter(function() {
                for (var e = 0; i > e; e++)
                    if (K.contains(this, t[e]))
                        return !0
            })
        },
        closest: function(e, t) {
            for (var i, s = 0, n = this.length, a = [], r = ae.test(e) || "string" != typeof e ? K(e, t || this.context) : 0; n > s; s++)
                for (i = this[s]; i && i !== t; i = i.parentNode)
                    if (i.nodeType < 11 && (r ? r.index(i) > -1 : 1 === i.nodeType && K.find.matchesSelector(i, e))) {
                        a.push(i);
                        break
                    }
            return this.pushStack(a.length > 1 ? K.unique(a) : a)
        },
        index: function(e) {
            return e ? "string" == typeof e ? U.call(K(e), this[0]) : U.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(e, t) {
            return this.pushStack(K.unique(K.merge(this.get(), K(e, t))))
        },
        addBack: function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
    }),
    K.each({
        parent: function(e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null
        },
        parents: function(e) {
            return K.dir(e, "parentNode")
        },
        parentsUntil: function(e, t, i) {
            return K.dir(e, "parentNode", i)
        },
        next: function(e) {
            return n(e, "nextSibling")
        },
        prev: function(e) {
            return n(e, "previousSibling")
        },
        nextAll: function(e) {
            return K.dir(e, "nextSibling")
        },
        prevAll: function(e) {
            return K.dir(e, "previousSibling")
        },
        nextUntil: function(e, t, i) {
            return K.dir(e, "nextSibling", i)
        },
        prevUntil: function(e, t, i) {
            return K.dir(e, "previousSibling", i)
        },
        siblings: function(e) {
            return K.sibling((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return K.sibling(e.firstChild)
        },
        contents: function(e) {
            return e.contentDocument || K.merge([], e.childNodes)
        }
    }, function(e, t) {
        K.fn[e] = function(i, s) {
            var n = K.map(this, t, i);
            return "Until" !== e.slice(-5) && (s = i),
            s && "string" == typeof s && (n = K.filter(s, n)),
            this.length > 1 && (ue[e] || K.unique(n),
            de.test(e) && n.reverse()),
            this.pushStack(n)
        }
    });
    var pe = /\S+/g
      , fe = {};
    K.Callbacks = function(e) {
        e = "string" == typeof e ? fe[e] || a(e) : K.extend({}, e);
        var t, i, s, n, r, o, l = [], h = !e.once && [], c = function(a) {
            for (t = e.memory && a,
            i = !0,
            o = n || 0,
            n = 0,
            r = l.length,
            s = !0; l && r > o; o++)
                if (l[o].apply(a[0], a[1]) === !1 && e.stopOnFalse) {
                    t = !1;
                    break
                }
            s = !1,
            l && (h ? h.length && c(h.shift()) : t ? l = [] : d.disable())
        }, d = {
            add: function() {
                if (l) {
                    var i = l.length;
                    !function t(i) {
                        K.each(i, function(i, s) {
                            var n = K.type(s);
                            "function" === n ? e.unique && d.has(s) || l.push(s) : s && s.length && "string" !== n && t(s)
                        })
                    }(arguments),
                    s ? r = l.length : t && (n = i,
                    c(t))
                }
                return this
            },
            remove: function() {
                return l && K.each(arguments, function(e, t) {
                    for (var i; (i = K.inArray(t, l, i)) > -1; )
                        l.splice(i, 1),
                        s && (r >= i && r--,
                        o >= i && o--)
                }),
                this
            },
            has: function(e) {
                return e ? K.inArray(e, l) > -1 : !(!l || !l.length)
            },
            empty: function() {
                return l = [],
                r = 0,
                this
            },
            disable: function() {
                return l = h = t = void 0,
                this
            },
            disabled: function() {
                return !l
            },
            lock: function() {
                return h = void 0,
                t || d.disable(),
                this
            },
            locked: function() {
                return !h
            },
            fireWith: function(e, t) {
                return !l || i && !h || (t = t || [],
                t = [e, t.slice ? t.slice() : t],
                s ? h.push(t) : c(t)),
                this
            },
            fire: function() {
                return d.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !!i
            }
        };
        return d
    }
    ,
    K.extend({
        Deferred: function(e) {
            var t = [["resolve", "done", K.Callbacks("once memory"), "resolved"], ["reject", "fail", K.Callbacks("once memory"), "rejected"], ["notify", "progress", K.Callbacks("memory")]]
              , i = "pending"
              , s = {
                state: function() {
                    return i
                },
                always: function() {
                    return n.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var e = arguments;
                    return K.Deferred(function(i) {
                        K.each(t, function(t, a) {
                            var r = K.isFunction(e[t]) && e[t];
                            n[a[1]](function() {
                                var e = r && r.apply(this, arguments);
                                e && K.isFunction(e.promise) ? e.promise().done(i.resolve).fail(i.reject).progress(i.notify) : i[a[0] + "With"](this === s ? i.promise() : this, r ? [e] : arguments)
                            })
                        }),
                        e = null
                    }).promise()
                },
                promise: function(e) {
                    return null != e ? K.extend(e, s) : s
                }
            }
              , n = {};
            return s.pipe = s.then,
            K.each(t, function(e, a) {
                var r = a[2]
                  , o = a[3];
                s[a[1]] = r.add,
                o && r.add(function() {
                    i = o
                }, t[1 ^ e][2].disable, t[2][2].lock),
                n[a[0]] = function() {
                    return n[a[0] + "With"](this === n ? s : this, arguments),
                    this
                }
                ,
                n[a[0] + "With"] = r.fireWith
            }),
            s.promise(n),
            e && e.call(n, n),
            n
        },
        when: function(e) {
            var t, i, s, n = 0, a = H.call(arguments), r = a.length, o = 1 !== r || e && K.isFunction(e.promise) ? r : 0, l = 1 === o ? e : K.Deferred(), h = function(e, i, s) {
                return function(n) {
                    i[e] = this,
                    s[e] = arguments.length > 1 ? H.call(arguments) : n,
                    s === t ? l.notifyWith(i, s) : --o || l.resolveWith(i, s)
                }
            };
            if (r > 1)
                for (t = new Array(r),
                i = new Array(r),
                s = new Array(r); r > n; n++)
                    a[n] && K.isFunction(a[n].promise) ? a[n].promise().done(h(n, s, a)).fail(l.reject).progress(h(n, i, t)) : --o;
            return o || l.resolveWith(s, a),
            l.promise()
        }
    });
    var ge;
    K.fn.ready = function(e) {
        return K.ready.promise().done(e),
        this
    }
    ,
    K.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(e) {
            e ? K.readyWait++ : K.ready(!0)
        },
        ready: function(e) {
            (e === !0 ? --K.readyWait : K.isReady) || (K.isReady = !0,
            e !== !0 && --K.readyWait > 0 || (ge.resolveWith(J, [K]),
            K.fn.triggerHandler && (K(J).triggerHandler("ready"),
            K(J).off("ready"))))
        }
    }),
    K.ready.promise = function(t) {
        return ge || (ge = K.Deferred(),
        "complete" === J.readyState ? setTimeout(K.ready) : (J.addEventListener("DOMContentLoaded", r, !1),
        e.addEventListener("load", r, !1))),
        ge.promise(t)
    }
    ,
    K.ready.promise();
    var me = K.access = function(e, t, i, s, n, a, r) {
        var o = 0
          , l = e.length
          , h = null == i;
        if ("object" === K.type(i)) {
            n = !0;
            for (o in i)
                K.access(e, t, o, i[o], !0, a, r)
        } else if (void 0 !== s && (n = !0,
        K.isFunction(s) || (r = !0),
        h && (r ? (t.call(e, s),
        t = null) : (h = t,
        t = function(e, t, i) {
            return h.call(K(e), i)
        }
        )),
        t))
            for (; l > o; o++)
                t(e[o], i, r ? s : s.call(e[o], o, t(e[o], i)));
        return n ? e : h ? t.call(e) : l ? t(e[0], i) : a
    }
    ;
    K.acceptData = function(e) {
        return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
    }
    ,
    o.uid = 1,
    o.accepts = K.acceptData,
    o.prototype = {
        key: function(e) {
            if (!o.accepts(e))
                return 0;
            var t = {}
              , i = e[this.expando];
            if (!i) {
                i = o.uid++;
                try {
                    t[this.expando] = {
                        value: i
                    },
                    Object.defineProperties(e, t)
                } catch (s) {
                    t[this.expando] = i,
                    K.extend(e, t)
                }
            }
            return this.cache[i] || (this.cache[i] = {}),
            i
        },
        set: function(e, t, i) {
            var s, n = this.key(e), a = this.cache[n];
            if ("string" == typeof t)
                a[t] = i;
            else if (K.isEmptyObject(a))
                K.extend(this.cache[n], t);
            else
                for (s in t)
                    a[s] = t[s];
            return a
        },
        get: function(e, t) {
            var i = this.cache[this.key(e)];
            return void 0 === t ? i : i[t]
        },
        access: function(e, t, i) {
            var s;
            return void 0 === t || t && "string" == typeof t && void 0 === i ? (s = this.get(e, t),
            void 0 !== s ? s : this.get(e, K.camelCase(t))) : (this.set(e, t, i),
            void 0 !== i ? i : t)
        },
        remove: function(e, t) {
            var i, s, n, a = this.key(e), r = this.cache[a];
            if (void 0 === t)
                this.cache[a] = {};
            else {
                K.isArray(t) ? s = t.concat(t.map(K.camelCase)) : (n = K.camelCase(t),
                t in r ? s = [t, n] : (s = n,
                s = s in r ? [s] : s.match(pe) || [])),
                i = s.length;
                for (; i--; )
                    delete r[s[i]]
            }
        },
        hasData: function(e) {
            return !K.isEmptyObject(this.cache[e[this.expando]] || {})
        },
        discard: function(e) {
            e[this.expando] && delete this.cache[e[this.expando]]
        }
    };
    var ve = new o
      , be = new o
      , ye = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
      , we = /([A-Z])/g;
    K.extend({
        hasData: function(e) {
            return be.hasData(e) || ve.hasData(e)
        },
        data: function(e, t, i) {
            return be.access(e, t, i)
        },
        removeData: function(e, t) {
            be.remove(e, t)
        },
        _data: function(e, t, i) {
            return ve.access(e, t, i)
        },
        _removeData: function(e, t) {
            ve.remove(e, t)
        }
    }),
    K.fn.extend({
        data: function(e, t) {
            var i, s, n, a = this[0], r = a && a.attributes;
            if (void 0 === e) {
                if (this.length && (n = be.get(a),
                1 === a.nodeType && !ve.get(a, "hasDataAttrs"))) {
                    for (i = r.length; i--; )
                        r[i] && (s = r[i].name,
                        0 === s.indexOf("data-") && (s = K.camelCase(s.slice(5)),
                        l(a, s, n[s])));
                    ve.set(a, "hasDataAttrs", !0)
                }
                return n
            }
            return "object" == typeof e ? this.each(function() {
                be.set(this, e)
            }) : me(this, function(t) {
                var i, s = K.camelCase(e);
                if (a && void 0 === t) {
                    if (i = be.get(a, e),
                    void 0 !== i)
                        return i;
                    if (i = be.get(a, s),
                    void 0 !== i)
                        return i;
                    if (i = l(a, s, void 0),
                    void 0 !== i)
                        return i
                } else
                    this.each(function() {
                        var i = be.get(this, s);
                        be.set(this, s, t),
                        -1 !== e.indexOf("-") && void 0 !== i && be.set(this, e, t)
                    })
            }, null, t, arguments.length > 1, null, !0)
        },
        removeData: function(e) {
            return this.each(function() {
                be.remove(this, e)
            })
        }
    }),
    K.extend({
        queue: function(e, t, i) {
            var s;
            return e ? (t = (t || "fx") + "queue",
            s = ve.get(e, t),
            i && (!s || K.isArray(i) ? s = ve.access(e, t, K.makeArray(i)) : s.push(i)),
            s || []) : void 0
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var i = K.queue(e, t)
              , s = i.length
              , n = i.shift()
              , a = K._queueHooks(e, t)
              , r = function() {
                K.dequeue(e, t)
            };
            "inprogress" === n && (n = i.shift(),
            s--),
            n && ("fx" === t && i.unshift("inprogress"),
            delete a.stop,
            n.call(e, r, a)),
            !s && a && a.empty.fire()
        },
        _queueHooks: function(e, t) {
            var i = t + "queueHooks";
            return ve.get(e, i) || ve.access(e, i, {
                empty: K.Callbacks("once memory").add(function() {
                    ve.remove(e, [t + "queue", i])
                })
            })
        }
    }),
    K.fn.extend({
        queue: function(e, t) {
            var i = 2;
            return "string" != typeof e && (t = e,
            e = "fx",
            i--),
            arguments.length < i ? K.queue(this[0], e) : void 0 === t ? this : this.each(function() {
                var i = K.queue(this, e, t);
                K._queueHooks(this, e),
                "fx" === e && "inprogress" !== i[0] && K.dequeue(this, e)
            })
        },
        dequeue: function(e) {
            return this.each(function() {
                K.dequeue(this, e)
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, t) {
            var i, s = 1, n = K.Deferred(), a = this, r = this.length, o = function() {
                --s || n.resolveWith(a, [a])
            };
            for ("string" != typeof e && (t = e,
            e = void 0),
            e = e || "fx"; r--; )
                i = ve.get(a[r], e + "queueHooks"),
                i && i.empty && (s++,
                i.empty.add(o));
            return o(),
            n.promise(t)
        }
    });
    var _e = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
      , ke = ["Top", "Right", "Bottom", "Left"]
      , xe = function(e, t) {
        return e = t || e,
        "none" === K.css(e, "display") || !K.contains(e.ownerDocument, e)
    }
      , Ce = /^(?:checkbox|radio)$/i;
    !function() {
        var e = J.createDocumentFragment()
          , t = e.appendChild(J.createElement("div"))
          , i = J.createElement("input");
        i.setAttribute("type", "radio"),
        i.setAttribute("checked", "checked"),
        i.setAttribute("name", "t"),
        t.appendChild(i),
        Q.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked,
        t.innerHTML = "<textarea>x</textarea>",
        Q.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue
    }();
    var Te = "undefined";
    Q.focusinBubbles = "onfocusin"in e;
    var Se = /^key/
      , Pe = /^(?:mouse|pointer|contextmenu)|click/
      , Me = /^(?:focusinfocus|focusoutblur)$/
      , Ee = /^([^.]*)(?:\.(.+)|)$/;
    K.event = {
        global: {},
        add: function(e, t, i, s, n) {
            var a, r, o, l, h, c, d, u, p, f, g, m = ve.get(e);
            if (m)
                for (i.handler && (a = i,
                i = a.handler,
                n = a.selector),
                i.guid || (i.guid = K.guid++),
                (l = m.events) || (l = m.events = {}),
                (r = m.handle) || (r = m.handle = function(t) {
                    return typeof K !== Te && K.event.triggered !== t.type ? K.event.dispatch.apply(e, arguments) : void 0
                }
                ),
                t = (t || "").match(pe) || [""],
                h = t.length; h--; )
                    o = Ee.exec(t[h]) || [],
                    p = g = o[1],
                    f = (o[2] || "").split(".").sort(),
                    p && (d = K.event.special[p] || {},
                    p = (n ? d.delegateType : d.bindType) || p,
                    d = K.event.special[p] || {},
                    c = K.extend({
                        type: p,
                        origType: g,
                        data: s,
                        handler: i,
                        guid: i.guid,
                        selector: n,
                        needsContext: n && K.expr.match.needsContext.test(n),
                        namespace: f.join(".")
                    }, a),
                    (u = l[p]) || (u = l[p] = [],
                    u.delegateCount = 0,
                    d.setup && d.setup.call(e, s, f, r) !== !1 || e.addEventListener && e.addEventListener(p, r, !1)),
                    d.add && (d.add.call(e, c),
                    c.handler.guid || (c.handler.guid = i.guid)),
                    n ? u.splice(u.delegateCount++, 0, c) : u.push(c),
                    K.event.global[p] = !0)
        },
        remove: function(e, t, i, s, n) {
            var a, r, o, l, h, c, d, u, p, f, g, m = ve.hasData(e) && ve.get(e);
            if (m && (l = m.events)) {
                for (t = (t || "").match(pe) || [""],
                h = t.length; h--; )
                    if (o = Ee.exec(t[h]) || [],
                    p = g = o[1],
                    f = (o[2] || "").split(".").sort(),
                    p) {
                        for (d = K.event.special[p] || {},
                        p = (s ? d.delegateType : d.bindType) || p,
                        u = l[p] || [],
                        o = o[2] && new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                        r = a = u.length; a--; )
                            c = u[a],
                            !n && g !== c.origType || i && i.guid !== c.guid || o && !o.test(c.namespace) || s && s !== c.selector && ("**" !== s || !c.selector) || (u.splice(a, 1),
                            c.selector && u.delegateCount--,
                            d.remove && d.remove.call(e, c));
                        r && !u.length && (d.teardown && d.teardown.call(e, f, m.handle) !== !1 || K.removeEvent(e, p, m.handle),
                        delete l[p])
                    } else
                        for (p in l)
                            K.event.remove(e, p + t[h], i, s, !0);
                K.isEmptyObject(l) && (delete m.handle,
                ve.remove(e, "events"))
            }
        },
        trigger: function(t, i, s, n) {
            var a, r, o, l, h, c, d, u = [s || J], p = X.call(t, "type") ? t.type : t, f = X.call(t, "namespace") ? t.namespace.split(".") : [];
            if (r = o = s = s || J,
            3 !== s.nodeType && 8 !== s.nodeType && !Me.test(p + K.event.triggered) && (p.indexOf(".") >= 0 && (f = p.split("."),
            p = f.shift(),
            f.sort()),
            h = p.indexOf(":") < 0 && "on" + p,
            t = t[K.expando] ? t : new K.Event(p,"object" == typeof t && t),
            t.isTrigger = n ? 2 : 3,
            t.namespace = f.join("."),
            t.namespace_re = t.namespace ? new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
            t.result = void 0,
            t.target || (t.target = s),
            i = null == i ? [t] : K.makeArray(i, [t]),
            d = K.event.special[p] || {},
            n || !d.trigger || d.trigger.apply(s, i) !== !1)) {
                if (!n && !d.noBubble && !K.isWindow(s)) {
                    for (l = d.delegateType || p,
                    Me.test(l + p) || (r = r.parentNode); r; r = r.parentNode)
                        u.push(r),
                        o = r;
                    o === (s.ownerDocument || J) && u.push(o.defaultView || o.parentWindow || e)
                }
                for (a = 0; (r = u[a++]) && !t.isPropagationStopped(); )
                    t.type = a > 1 ? l : d.bindType || p,
                    c = (ve.get(r, "events") || {})[t.type] && ve.get(r, "handle"),
                    c && c.apply(r, i),
                    c = h && r[h],
                    c && c.apply && K.acceptData(r) && (t.result = c.apply(r, i),
                    t.result === !1 && t.preventDefault());
                return t.type = p,
                n || t.isDefaultPrevented() || d._default && d._default.apply(u.pop(), i) !== !1 || !K.acceptData(s) || h && K.isFunction(s[p]) && !K.isWindow(s) && (o = s[h],
                o && (s[h] = null),
                K.event.triggered = p,
                s[p](),
                K.event.triggered = void 0,
                o && (s[h] = o)),
                t.result
            }
        },
        dispatch: function(e) {
            e = K.event.fix(e);
            var t, i, s, n, a, r = [], o = H.call(arguments), l = (ve.get(this, "events") || {})[e.type] || [], h = K.event.special[e.type] || {};
            if (o[0] = e,
            e.delegateTarget = this,
            !h.preDispatch || h.preDispatch.call(this, e) !== !1) {
                for (r = K.event.handlers.call(this, e, l),
                t = 0; (n = r[t++]) && !e.isPropagationStopped(); )
                    for (e.currentTarget = n.elem,
                    i = 0; (a = n.handlers[i++]) && !e.isImmediatePropagationStopped(); )
                        (!e.namespace_re || e.namespace_re.test(a.namespace)) && (e.handleObj = a,
                        e.data = a.data,
                        s = ((K.event.special[a.origType] || {}).handle || a.handler).apply(n.elem, o),
                        void 0 !== s && (e.result = s) === !1 && (e.preventDefault(),
                        e.stopPropagation()));
                return h.postDispatch && h.postDispatch.call(this, e),
                e.result
            }
        },
        handlers: function(e, t) {
            var i, s, n, a, r = [], o = t.delegateCount, l = e.target;
            if (o && l.nodeType && (!e.button || "click" !== e.type))
                for (; l !== this; l = l.parentNode || this)
                    if (l.disabled !== !0 || "click" !== e.type) {
                        for (s = [],
                        i = 0; o > i; i++)
                            a = t[i],
                            n = a.selector + " ",
                            void 0 === s[n] && (s[n] = a.needsContext ? K(n, this).index(l) >= 0 : K.find(n, this, null, [l]).length),
                            s[n] && s.push(a);
                        s.length && r.push({
                            elem: l,
                            handlers: s
                        })
                    }
            return o < t.length && r.push({
                elem: this,
                handlers: t.slice(o)
            }),
            r
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(e, t) {
                return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode),
                e
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(e, t) {
                var i, s, n, a = t.button;
                return null == e.pageX && null != t.clientX && (i = e.target.ownerDocument || J,
                s = i.documentElement,
                n = i.body,
                e.pageX = t.clientX + (s && s.scrollLeft || n && n.scrollLeft || 0) - (s && s.clientLeft || n && n.clientLeft || 0),
                e.pageY = t.clientY + (s && s.scrollTop || n && n.scrollTop || 0) - (s && s.clientTop || n && n.clientTop || 0)),
                e.which || void 0 === a || (e.which = 1 & a ? 1 : 2 & a ? 3 : 4 & a ? 2 : 0),
                e
            }
        },
        fix: function(e) {
            if (e[K.expando])
                return e;
            var t, i, s, n = e.type, a = e, r = this.fixHooks[n];
            for (r || (this.fixHooks[n] = r = Pe.test(n) ? this.mouseHooks : Se.test(n) ? this.keyHooks : {}),
            s = r.props ? this.props.concat(r.props) : this.props,
            e = new K.Event(a),
            t = s.length; t--; )
                i = s[t],
                e[i] = a[i];
            return e.target || (e.target = J),
            3 === e.target.nodeType && (e.target = e.target.parentNode),
            r.filter ? r.filter(e, a) : e
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    return this !== d() && this.focus ? (this.focus(),
                    !1) : void 0
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === d() && this.blur ? (this.blur(),
                    !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return "checkbox" === this.type && this.click && K.nodeName(this, "input") ? (this.click(),
                    !1) : void 0
                },
                _default: function(e) {
                    return K.nodeName(e.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(e) {
                    void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                }
            }
        },
        simulate: function(e, t, i, s) {
            var n = K.extend(new K.Event, i, {
                type: e,
                isSimulated: !0,
                originalEvent: {}
            });
            s ? K.event.trigger(n, null, t) : K.event.dispatch.call(t, n),
            n.isDefaultPrevented() && i.preventDefault()
        }
    },
    K.removeEvent = function(e, t, i) {
        e.removeEventListener && e.removeEventListener(t, i, !1)
    }
    ,
    K.Event = function(e, t) {
        return this instanceof K.Event ? (e && e.type ? (this.originalEvent = e,
        this.type = e.type,
        this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && e.returnValue === !1 ? h : c) : this.type = e,
        t && K.extend(this, t),
        this.timeStamp = e && e.timeStamp || K.now(),
        void (this[K.expando] = !0)) : new K.Event(e,t)
    }
    ,
    K.Event.prototype = {
        isDefaultPrevented: c,
        isPropagationStopped: c,
        isImmediatePropagationStopped: c,
        preventDefault: function() {
            var e = this.originalEvent;
            this.isDefaultPrevented = h,
            e && e.preventDefault && e.preventDefault()
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            this.isPropagationStopped = h,
            e && e.stopPropagation && e.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = h,
            e && e.stopImmediatePropagation && e.stopImmediatePropagation(),
            this.stopPropagation()
        }
    },
    K.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(e, t) {
        K.event.special[e] = {
            delegateType: t,
            bindType: t,
            handle: function(e) {
                var i, s = this, n = e.relatedTarget, a = e.handleObj;
                return (!n || n !== s && !K.contains(s, n)) && (e.type = a.origType,
                i = a.handler.apply(this, arguments),
                e.type = t),
                i
            }
        }
    }),
    Q.focusinBubbles || K.each({
        focus: "focusin",
        blur: "focusout"
    }, function(e, t) {
        var i = function(e) {
            K.event.simulate(t, e.target, K.event.fix(e), !0)
        };
        K.event.special[t] = {
            setup: function() {
                var s = this.ownerDocument || this
                  , n = ve.access(s, t);
                n || s.addEventListener(e, i, !0),
                ve.access(s, t, (n || 0) + 1)
            },
            teardown: function() {
                var s = this.ownerDocument || this
                  , n = ve.access(s, t) - 1;
                n ? ve.access(s, t, n) : (s.removeEventListener(e, i, !0),
                ve.remove(s, t))
            }
        }
    }),
    K.fn.extend({
        on: function(e, t, i, s, n) {
            var a, r;
            if ("object" == typeof e) {
                "string" != typeof t && (i = i || t,
                t = void 0);
                for (r in e)
                    this.on(r, t, i, e[r], n);
                return this
            }
            if (null == i && null == s ? (s = t,
            i = t = void 0) : null == s && ("string" == typeof t ? (s = i,
            i = void 0) : (s = i,
            i = t,
            t = void 0)),
            s === !1)
                s = c;
            else if (!s)
                return this;
            return 1 === n && (a = s,
            s = function(e) {
                return K().off(e),
                a.apply(this, arguments)
            }
            ,
            s.guid = a.guid || (a.guid = K.guid++)),
            this.each(function() {
                K.event.add(this, e, s, i, t)
            })
        },
        one: function(e, t, i, s) {
            return this.on(e, t, i, s, 1)
        },
        off: function(e, t, i) {
            var s, n;
            if (e && e.preventDefault && e.handleObj)
                return s = e.handleObj,
                K(e.delegateTarget).off(s.namespace ? s.origType + "." + s.namespace : s.origType, s.selector, s.handler),
                this;
            if ("object" == typeof e) {
                for (n in e)
                    this.off(n, t, e[n]);
                return this
            }
            return (t === !1 || "function" == typeof t) && (i = t,
            t = void 0),
            i === !1 && (i = c),
            this.each(function() {
                K.event.remove(this, e, i, t)
            })
        },
        trigger: function(e, t) {
            return this.each(function() {
                K.event.trigger(e, t, this)
            })
        },
        triggerHandler: function(e, t) {
            var i = this[0];
            return i ? K.event.trigger(e, t, i, !0) : void 0
        }
    });
    var Ae = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
      , De = /<([\w:]+)/
      , Le = /<|&#?\w+;/
      , Re = /<(?:script|style|link)/i
      , je = /checked\s*(?:[^=]|=\s*.checked.)/i
      , Oe = /^$|\/(?:java|ecma)script/i
      , ze = /^true\/(.*)/
      , Ie = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g
      , qe = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    qe.optgroup = qe.option,
    qe.tbody = qe.tfoot = qe.colgroup = qe.caption = qe.thead,
    qe.th = qe.td,
    K.extend({
        clone: function(e, t, i) {
            var s, n, a, r, o = e.cloneNode(!0), l = K.contains(e.ownerDocument, e);
            if (!(Q.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || K.isXMLDoc(e)))
                for (r = v(o),
                a = v(e),
                s = 0,
                n = a.length; n > s; s++)
                    b(a[s], r[s]);
            if (t)
                if (i)
                    for (a = a || v(e),
                    r = r || v(o),
                    s = 0,
                    n = a.length; n > s; s++)
                        m(a[s], r[s]);
                else
                    m(e, o);
            return r = v(o, "script"),
            r.length > 0 && g(r, !l && v(e, "script")),
            o
        },
        buildFragment: function(e, t, i, s) {
            for (var n, a, r, o, l, h, c = t.createDocumentFragment(), d = [], u = 0, p = e.length; p > u; u++)
                if (n = e[u],
                n || 0 === n)
                    if ("object" === K.type(n))
                        K.merge(d, n.nodeType ? [n] : n);
                    else if (Le.test(n)) {
                        for (a = a || c.appendChild(t.createElement("div")),
                        r = (De.exec(n) || ["", ""])[1].toLowerCase(),
                        o = qe[r] || qe._default,
                        a.innerHTML = o[1] + n.replace(Ae, "<$1></$2>") + o[2],
                        h = o[0]; h--; )
                            a = a.lastChild;
                        K.merge(d, a.childNodes),
                        a = c.firstChild,
                        a.textContent = ""
                    } else
                        d.push(t.createTextNode(n));
            for (c.textContent = "",
            u = 0; n = d[u++]; )
                if ((!s || -1 === K.inArray(n, s)) && (l = K.contains(n.ownerDocument, n),
                a = v(c.appendChild(n), "script"),
                l && g(a),
                i))
                    for (h = 0; n = a[h++]; )
                        Oe.test(n.type || "") && i.push(n);
            return c
        },
        cleanData: function(e) {
            for (var t, i, s, n, a = K.event.special, r = 0; void 0 !== (i = e[r]); r++) {
                if (K.acceptData(i) && (n = i[ve.expando],
                n && (t = ve.cache[n]))) {
                    if (t.events)
                        for (s in t.events)
                            a[s] ? K.event.remove(i, s) : K.removeEvent(i, s, t.handle);
                    ve.cache[n] && delete ve.cache[n]
                }
                delete be.cache[i[be.expando]]
            }
        }
    }),
    K.fn.extend({
        text: function(e) {
            return me(this, function(e) {
                return void 0 === e ? K.text(this) : this.empty().each(function() {
                    (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && (this.textContent = e)
                })
            }, null, e, arguments.length)
        },
        append: function() {
            return this.domManip(arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = u(this, e);
                    t.appendChild(e)
                }
            })
        },
        prepend: function() {
            return this.domManip(arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = u(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this)
            })
        },
        after: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
            })
        },
        remove: function(e, t) {
            for (var i, s = e ? K.filter(e, this) : this, n = 0; null != (i = s[n]); n++)
                t || 1 !== i.nodeType || K.cleanData(v(i)),
                i.parentNode && (t && K.contains(i.ownerDocument, i) && g(v(i, "script")),
                i.parentNode.removeChild(i));
            return this
        },
        empty: function() {
            for (var e, t = 0; null != (e = this[t]); t++)
                1 === e.nodeType && (K.cleanData(v(e, !1)),
                e.textContent = "");
            return this
        },
        clone: function(e, t) {
            return e = null != e && e,
            t = null == t ? e : t,
            this.map(function() {
                return K.clone(this, e, t)
            })
        },
        html: function(e) {
            return me(this, function(e) {
                var t = this[0] || {}
                  , i = 0
                  , s = this.length;
                if (void 0 === e && 1 === t.nodeType)
                    return t.innerHTML;
                if ("string" == typeof e && !Re.test(e) && !qe[(De.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = e.replace(Ae, "<$1></$2>");
                    try {
                        for (; s > i; i++)
                            t = this[i] || {},
                            1 === t.nodeType && (K.cleanData(v(t, !1)),
                            t.innerHTML = e);
                        t = 0
                    } catch (e) {}
                }
                t && this.empty().append(e)
            }, null, e, arguments.length)
        },
        replaceWith: function() {
            var e = arguments[0];
            return this.domManip(arguments, function(t) {
                e = this.parentNode,
                K.cleanData(v(this)),
                e && e.replaceChild(t, this)
            }),
            e && (e.length || e.nodeType) ? this : this.remove()
        },
        detach: function(e) {
            return this.remove(e, !0)
        },
        domManip: function(e, t) {
            e = B.apply([], e);
            var i, s, n, a, r, o, l = 0, h = this.length, c = this, d = h - 1, u = e[0], g = K.isFunction(u);
            if (g || h > 1 && "string" == typeof u && !Q.checkClone && je.test(u))
                return this.each(function(i) {
                    var s = c.eq(i);
                    g && (e[0] = u.call(this, i, s.html())),
                    s.domManip(e, t)
                });
            if (h && (i = K.buildFragment(e, this[0].ownerDocument, !1, this),
            s = i.firstChild,
            1 === i.childNodes.length && (i = s),
            s)) {
                for (n = K.map(v(i, "script"), p),
                a = n.length; h > l; l++)
                    r = i,
                    l !== d && (r = K.clone(r, !0, !0),
                    a && K.merge(n, v(r, "script"))),
                    t.call(this[l], r, l);
                if (a)
                    for (o = n[n.length - 1].ownerDocument,
                    K.map(n, f),
                    l = 0; a > l; l++)
                        r = n[l],
                        Oe.test(r.type || "") && !ve.access(r, "globalEval") && K.contains(o, r) && (r.src ? K._evalUrl && K._evalUrl(r.src) : K.globalEval(r.textContent.replace(Ie, "")))
            }
            return this
        }
    }),
    K.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(e, t) {
        K.fn[e] = function(e) {
            for (var i, s = [], n = K(e), a = n.length - 1, r = 0; a >= r; r++)
                i = r === a ? this : this.clone(!0),
                K(n[r])[t](i),
                W.apply(s, i.get());
            return this.pushStack(s)
        }
    });
    var $e, Fe = {}, Ve = /^margin/, Ne = new RegExp("^(" + _e + ")(?!px)[a-z%]+$","i"), He = function(e) {
        return e.ownerDocument.defaultView.getComputedStyle(e, null)
    };
    !function() {
        function t() {
            r.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
            r.innerHTML = "",
            n.appendChild(a);
            var t = e.getComputedStyle(r, null);
            i = "1%" !== t.top,
            s = "4px" === t.width,
            n.removeChild(a)
        }
        var i, s, n = J.documentElement, a = J.createElement("div"), r = J.createElement("div");
        r.style && (r.style.backgroundClip = "content-box",
        r.cloneNode(!0).style.backgroundClip = "",
        Q.clearCloneStyle = "content-box" === r.style.backgroundClip,
        a.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",
        a.appendChild(r),
        e.getComputedStyle && K.extend(Q, {
            pixelPosition: function() {
                return t(),
                i
            },
            boxSizingReliable: function() {
                return null == s && t(),
                s
            },
            reliableMarginRight: function() {
                var t, i = r.appendChild(J.createElement("div"));
                return i.style.cssText = r.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
                i.style.marginRight = i.style.width = "0",
                r.style.width = "1px",
                n.appendChild(a),
                t = !parseFloat(e.getComputedStyle(i, null).marginRight),
                n.removeChild(a),
                t
            }
        }))
    }(),
    K.swap = function(e, t, i, s) {
        var n, a, r = {};
        for (a in t)
            r[a] = e.style[a],
            e.style[a] = t[a];
        n = i.apply(e, s || []);
        for (a in t)
            e.style[a] = r[a];
        return n
    }
    ;
    var Be = /^(none|table(?!-c[ea]).+)/
      , We = new RegExp("^(" + _e + ")(.*)$","i")
      , Ue = new RegExp("^([+-])=(" + _e + ")","i")
      , Ge = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }
      , Ye = {
        letterSpacing: "0",
        fontWeight: "400"
    }
      , Xe = ["Webkit", "O", "Moz", "ms"];
    K.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) {
                        var i = _(e, "opacity");
                        return "" === i ? "1" : i
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            float: "cssFloat"
        },
        style: function(e, t, i, s) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                var n, a, r, o = K.camelCase(t), l = e.style;
                return t = K.cssProps[o] || (K.cssProps[o] = x(l, o)),
                r = K.cssHooks[t] || K.cssHooks[o],
                void 0 === i ? r && "get"in r && void 0 !== (n = r.get(e, !1, s)) ? n : l[t] : (a = typeof i,
                "string" === a && (n = Ue.exec(i)) && (i = (n[1] + 1) * n[2] + parseFloat(K.css(e, t)),
                a = "number"),
                void (null != i && i === i && ("number" !== a || K.cssNumber[o] || (i += "px"),
                Q.clearCloneStyle || "" !== i || 0 !== t.indexOf("background") || (l[t] = "inherit"),
                r && "set"in r && void 0 === (i = r.set(e, i, s)) || (l[t] = i))))
            }
        },
        css: function(e, t, i, s) {
            var n, a, r, o = K.camelCase(t);
            return t = K.cssProps[o] || (K.cssProps[o] = x(e.style, o)),
            r = K.cssHooks[t] || K.cssHooks[o],
            r && "get"in r && (n = r.get(e, !0, i)),
            void 0 === n && (n = _(e, t, s)),
            "normal" === n && t in Ye && (n = Ye[t]),
            "" === i || i ? (a = parseFloat(n),
            i === !0 || K.isNumeric(a) ? a || 0 : n) : n
        }
    }),
    K.each(["height", "width"], function(e, t) {
        K.cssHooks[t] = {
            get: function(e, i, s) {
                return i ? Be.test(K.css(e, "display")) && 0 === e.offsetWidth ? K.swap(e, Ge, function() {
                    return S(e, t, s)
                }) : S(e, t, s) : void 0
            },
            set: function(e, i, s) {
                var n = s && He(e);
                return C(e, i, s ? T(e, t, s, "border-box" === K.css(e, "boxSizing", !1, n), n) : 0)
            }
        }
    }),
    K.cssHooks.marginRight = k(Q.reliableMarginRight, function(e, t) {
        return t ? K.swap(e, {
            display: "inline-block"
        }, _, [e, "marginRight"]) : void 0
    }),
    K.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(e, t) {
        K.cssHooks[e + t] = {
            expand: function(i) {
                for (var s = 0, n = {}, a = "string" == typeof i ? i.split(" ") : [i]; 4 > s; s++)
                    n[e + ke[s] + t] = a[s] || a[s - 2] || a[0];
                return n
            }
        },
        Ve.test(e) || (K.cssHooks[e + t].set = C)
    }),
    K.fn.extend({
        css: function(e, t) {
            return me(this, function(e, t, i) {
                var s, n, a = {}, r = 0;
                if (K.isArray(t)) {
                    for (s = He(e),
                    n = t.length; n > r; r++)
                        a[t[r]] = K.css(e, t[r], !1, s);
                    return a
                }
                return void 0 !== i ? K.style(e, t, i) : K.css(e, t)
            }, e, t, arguments.length > 1)
        },
        show: function() {
            return P(this, !0)
        },
        hide: function() {
            return P(this)
        },
        toggle: function(e) {
            return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function() {
                xe(this) ? K(this).show() : K(this).hide()
            })
        }
    }),
    K.Tween = M,
    M.prototype = {
        constructor: M,
        init: function(e, t, i, s, n, a) {
            this.elem = e,
            this.prop = i,
            this.easing = n || "swing",
            this.options = t,
            this.start = this.now = this.cur(),
            this.end = s,
            this.unit = a || (K.cssNumber[i] ? "" : "px")
        },
        cur: function() {
            var e = M.propHooks[this.prop];
            return e && e.get ? e.get(this) : M.propHooks._default.get(this)
        },
        run: function(e) {
            var t, i = M.propHooks[this.prop];
            return this.pos = t = this.options.duration ? K.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : e,
            this.now = (this.end - this.start) * t + this.start,
            this.options.step && this.options.step.call(this.elem, this.now, this),
            i && i.set ? i.set(this) : M.propHooks._default.set(this),
            this
        }
    },
    M.prototype.init.prototype = M.prototype,
    M.propHooks = {
        _default: {
            get: function(e) {
                var t;
                return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = K.css(e.elem, e.prop, ""),
                t && "auto" !== t ? t : 0) : e.elem[e.prop]
            },
            set: function(e) {
                K.fx.step[e.prop] ? K.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[K.cssProps[e.prop]] || K.cssHooks[e.prop]) ? K.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
            }
        }
    },
    M.propHooks.scrollTop = M.propHooks.scrollLeft = {
        set: function(e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    },
    K.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return .5 - Math.cos(e * Math.PI) / 2
        }
    },
    K.fx = M.prototype.init,
    K.fx.step = {};
    var Qe, Je, Ze = /^(?:toggle|show|hide)$/, Ke = new RegExp("^(?:([+-])=|)(" + _e + ")([a-z%]*)$","i"), et = /queueHooks$/, tt = [L], it = {
        "*": [function(e, t) {
            var i = this.createTween(e, t)
              , s = i.cur()
              , n = Ke.exec(t)
              , a = n && n[3] || (K.cssNumber[e] ? "" : "px")
              , r = (K.cssNumber[e] || "px" !== a && +s) && Ke.exec(K.css(i.elem, e))
              , o = 1
              , l = 20;
            if (r && r[3] !== a) {
                a = a || r[3],
                n = n || [],
                r = +s || 1;
                do
                    o = o || ".5",
                    r /= o,
                    K.style(i.elem, e, r + a);
                while (o !== (o = i.cur() / s) && 1 !== o && --l)
            }
            return n && (r = i.start = +r || +s || 0,
            i.unit = a,
            i.end = n[1] ? r + (n[1] + 1) * n[2] : +n[2]),
            i
        }
        ]
    };
    K.Animation = K.extend(j, {
        tweener: function(e, t) {
            K.isFunction(e) ? (t = e,
            e = ["*"]) : e = e.split(" ");
            for (var i, s = 0, n = e.length; n > s; s++)
                i = e[s],
                it[i] = it[i] || [],
                it[i].unshift(t)
        },
        prefilter: function(e, t) {
            t ? tt.unshift(e) : tt.push(e)
        }
    }),
    K.speed = function(e, t, i) {
        var s = e && "object" == typeof e ? K.extend({}, e) : {
            complete: i || !i && t || K.isFunction(e) && e,
            duration: e,
            easing: i && t || t && !K.isFunction(t) && t
        };
        return s.duration = K.fx.off ? 0 : "number" == typeof s.duration ? s.duration : s.duration in K.fx.speeds ? K.fx.speeds[s.duration] : K.fx.speeds._default,
        (null == s.queue || s.queue === !0) && (s.queue = "fx"),
        s.old = s.complete,
        s.complete = function() {
            K.isFunction(s.old) && s.old.call(this),
            s.queue && K.dequeue(this, s.queue)
        }
        ,
        s
    }
    ,
    K.fn.extend({
        fadeTo: function(e, t, i, s) {
            return this.filter(xe).css("opacity", 0).show().end().animate({
                opacity: t
            }, e, i, s)
        },
        animate: function(e, t, i, s) {
            var n = K.isEmptyObject(e)
              , a = K.speed(t, i, s)
              , r = function() {
                var t = j(this, K.extend({}, e), a);
                (n || ve.get(this, "finish")) && t.stop(!0)
            };
            return r.finish = r,
            n || a.queue === !1 ? this.each(r) : this.queue(a.queue, r)
        },
        stop: function(e, t, i) {
            var s = function(e) {
                var t = e.stop;
                delete e.stop,
                t(i)
            };
            return "string" != typeof e && (i = t,
            t = e,
            e = void 0),
            t && e !== !1 && this.queue(e || "fx", []),
            this.each(function() {
                var t = !0
                  , n = null != e && e + "queueHooks"
                  , a = K.timers
                  , r = ve.get(this);
                if (n)
                    r[n] && r[n].stop && s(r[n]);
                else
                    for (n in r)
                        r[n] && r[n].stop && et.test(n) && s(r[n]);
                for (n = a.length; n--; )
                    a[n].elem !== this || null != e && a[n].queue !== e || (a[n].anim.stop(i),
                    t = !1,
                    a.splice(n, 1));
                (t || !i) && K.dequeue(this, e)
            })
        },
        finish: function(e) {
            return e !== !1 && (e = e || "fx"),
            this.each(function() {
                var t, i = ve.get(this), s = i[e + "queue"], n = i[e + "queueHooks"], a = K.timers, r = s ? s.length : 0;
                for (i.finish = !0,
                K.queue(this, e, []),
                n && n.stop && n.stop.call(this, !0),
                t = a.length; t--; )
                    a[t].elem === this && a[t].queue === e && (a[t].anim.stop(!0),
                    a.splice(t, 1));
                for (t = 0; r > t; t++)
                    s[t] && s[t].finish && s[t].finish.call(this);
                delete i.finish
            })
        }
    }),
    K.each(["toggle", "show", "hide"], function(e, t) {
        var i = K.fn[t];
        K.fn[t] = function(e, s, n) {
            return null == e || "boolean" == typeof e ? i.apply(this, arguments) : this.animate(A(t, !0), e, s, n);
        }
    }),
    K.each({
        slideDown: A("show"),
        slideUp: A("hide"),
        slideToggle: A("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(e, t) {
        K.fn[e] = function(e, i, s) {
            return this.animate(t, e, i, s)
        }
    }),
    K.timers = [],
    K.fx.tick = function() {
        var e, t = 0, i = K.timers;
        for (Qe = K.now(); t < i.length; t++)
            e = i[t],
            e() || i[t] !== e || i.splice(t--, 1);
        i.length || K.fx.stop(),
        Qe = void 0
    }
    ,
    K.fx.timer = function(e) {
        K.timers.push(e),
        e() ? K.fx.start() : K.timers.pop()
    }
    ,
    K.fx.interval = 13,
    K.fx.start = function() {
        Je || (Je = setInterval(K.fx.tick, K.fx.interval))
    }
    ,
    K.fx.stop = function() {
        clearInterval(Je),
        Je = null
    }
    ,
    K.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    K.fn.delay = function(e, t) {
        return e = K.fx ? K.fx.speeds[e] || e : e,
        t = t || "fx",
        this.queue(t, function(t, i) {
            var s = setTimeout(t, e);
            i.stop = function() {
                clearTimeout(s)
            }
        })
    }
    ,
    function() {
        var e = J.createElement("input")
          , t = J.createElement("select")
          , i = t.appendChild(J.createElement("option"));
        e.type = "checkbox",
        Q.checkOn = "" !== e.value,
        Q.optSelected = i.selected,
        t.disabled = !0,
        Q.optDisabled = !i.disabled,
        e = J.createElement("input"),
        e.value = "t",
        e.type = "radio",
        Q.radioValue = "t" === e.value
    }();
    var st, nt, at = K.expr.attrHandle;
    K.fn.extend({
        attr: function(e, t) {
            return me(this, K.attr, e, t, arguments.length > 1)
        },
        removeAttr: function(e) {
            return this.each(function() {
                K.removeAttr(this, e)
            })
        }
    }),
    K.extend({
        attr: function(e, t, i) {
            var s, n, a = e.nodeType;
            if (e && 3 !== a && 8 !== a && 2 !== a)
                return typeof e.getAttribute === Te ? K.prop(e, t, i) : (1 === a && K.isXMLDoc(e) || (t = t.toLowerCase(),
                s = K.attrHooks[t] || (K.expr.match.bool.test(t) ? nt : st)),
                void 0 === i ? s && "get"in s && null !== (n = s.get(e, t)) ? n : (n = K.find.attr(e, t),
                null == n ? void 0 : n) : null !== i ? s && "set"in s && void 0 !== (n = s.set(e, i, t)) ? n : (e.setAttribute(t, i + ""),
                i) : void K.removeAttr(e, t))
        },
        removeAttr: function(e, t) {
            var i, s, n = 0, a = t && t.match(pe);
            if (a && 1 === e.nodeType)
                for (; i = a[n++]; )
                    s = K.propFix[i] || i,
                    K.expr.match.bool.test(i) && (e[s] = !1),
                    e.removeAttribute(i)
        },
        attrHooks: {
            type: {
                set: function(e, t) {
                    if (!Q.radioValue && "radio" === t && K.nodeName(e, "input")) {
                        var i = e.value;
                        return e.setAttribute("type", t),
                        i && (e.value = i),
                        t
                    }
                }
            }
        }
    }),
    nt = {
        set: function(e, t, i) {
            return t === !1 ? K.removeAttr(e, i) : e.setAttribute(i, i),
            i
        }
    },
    K.each(K.expr.match.bool.source.match(/\w+/g), function(e, t) {
        var i = at[t] || K.find.attr;
        at[t] = function(e, t, s) {
            var n, a;
            return s || (a = at[t],
            at[t] = n,
            n = null != i(e, t, s) ? t.toLowerCase() : null,
            at[t] = a),
            n
        }
    });
    var rt = /^(?:input|select|textarea|button)$/i;
    K.fn.extend({
        prop: function(e, t) {
            return me(this, K.prop, e, t, arguments.length > 1)
        },
        removeProp: function(e) {
            return this.each(function() {
                delete this[K.propFix[e] || e]
            })
        }
    }),
    K.extend({
        propFix: {
            for: "htmlFor",
            class: "className"
        },
        prop: function(e, t, i) {
            var s, n, a, r = e.nodeType;
            if (e && 3 !== r && 8 !== r && 2 !== r)
                return a = 1 !== r || !K.isXMLDoc(e),
                a && (t = K.propFix[t] || t,
                n = K.propHooks[t]),
                void 0 !== i ? n && "set"in n && void 0 !== (s = n.set(e, i, t)) ? s : e[t] = i : n && "get"in n && null !== (s = n.get(e, t)) ? s : e[t]
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    return e.hasAttribute("tabindex") || rt.test(e.nodeName) || e.href ? e.tabIndex : -1
                }
            }
        }
    }),
    Q.optSelected || (K.propHooks.selected = {
        get: function(e) {
            var t = e.parentNode;
            return t && t.parentNode && t.parentNode.selectedIndex,
            null
        }
    }),
    K.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        K.propFix[this.toLowerCase()] = this
    });
    var ot = /[\t\r\n\f]/g;
    K.fn.extend({
        addClass: function(e) {
            var t, i, s, n, a, r, o = "string" == typeof e && e, l = 0, h = this.length;
            if (K.isFunction(e))
                return this.each(function(t) {
                    K(this).addClass(e.call(this, t, this.className))
                });
            if (o)
                for (t = (e || "").match(pe) || []; h > l; l++)
                    if (i = this[l],
                    s = 1 === i.nodeType && (i.className ? (" " + i.className + " ").replace(ot, " ") : " ")) {
                        for (a = 0; n = t[a++]; )
                            s.indexOf(" " + n + " ") < 0 && (s += n + " ");
                        r = K.trim(s),
                        i.className !== r && (i.className = r)
                    }
            return this
        },
        removeClass: function(e) {
            var t, i, s, n, a, r, o = 0 === arguments.length || "string" == typeof e && e, l = 0, h = this.length;
            if (K.isFunction(e))
                return this.each(function(t) {
                    K(this).removeClass(e.call(this, t, this.className))
                });
            if (o)
                for (t = (e || "").match(pe) || []; h > l; l++)
                    if (i = this[l],
                    s = 1 === i.nodeType && (i.className ? (" " + i.className + " ").replace(ot, " ") : "")) {
                        for (a = 0; n = t[a++]; )
                            for (; s.indexOf(" " + n + " ") >= 0; )
                                s = s.replace(" " + n + " ", " ");
                        r = e ? K.trim(s) : "",
                        i.className !== r && (i.className = r)
                    }
            return this
        },
        toggleClass: function(e, t) {
            var i = typeof e;
            return "boolean" == typeof t && "string" === i ? t ? this.addClass(e) : this.removeClass(e) : this.each(K.isFunction(e) ? function(i) {
                K(this).toggleClass(e.call(this, i, this.className, t), t)
            }
            : function() {
                if ("string" === i)
                    for (var t, s = 0, n = K(this), a = e.match(pe) || []; t = a[s++]; )
                        n.hasClass(t) ? n.removeClass(t) : n.addClass(t);
                else
                    (i === Te || "boolean" === i) && (this.className && ve.set(this, "__className__", this.className),
                    this.className = this.className || e === !1 ? "" : ve.get(this, "__className__") || "")
            }
            )
        },
        hasClass: function(e) {
            for (var t = " " + e + " ", i = 0, s = this.length; s > i; i++)
                if (1 === this[i].nodeType && (" " + this[i].className + " ").replace(ot, " ").indexOf(t) >= 0)
                    return !0;
            return !1
        }
    });
    var lt = /\r/g;
    K.fn.extend({
        val: function(e) {
            var t, i, s, n = this[0];
            return arguments.length ? (s = K.isFunction(e),
            this.each(function(i) {
                var n;
                1 === this.nodeType && (n = s ? e.call(this, i, K(this).val()) : e,
                null == n ? n = "" : "number" == typeof n ? n += "" : K.isArray(n) && (n = K.map(n, function(e) {
                    return null == e ? "" : e + ""
                })),
                t = K.valHooks[this.type] || K.valHooks[this.nodeName.toLowerCase()],
                t && "set"in t && void 0 !== t.set(this, n, "value") || (this.value = n))
            })) : n ? (t = K.valHooks[n.type] || K.valHooks[n.nodeName.toLowerCase()],
            t && "get"in t && void 0 !== (i = t.get(n, "value")) ? i : (i = n.value,
            "string" == typeof i ? i.replace(lt, "") : null == i ? "" : i)) : void 0
        }
    }),
    K.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var t = K.find.attr(e, "value");
                    return null != t ? t : K.trim(K.text(e))
                }
            },
            select: {
                get: function(e) {
                    for (var t, i, s = e.options, n = e.selectedIndex, a = "select-one" === e.type || 0 > n, r = a ? null : [], o = a ? n + 1 : s.length, l = 0 > n ? o : a ? n : 0; o > l; l++)
                        if (i = s[l],
                        !(!i.selected && l !== n || (Q.optDisabled ? i.disabled : null !== i.getAttribute("disabled")) || i.parentNode.disabled && K.nodeName(i.parentNode, "optgroup"))) {
                            if (t = K(i).val(),
                            a)
                                return t;
                            r.push(t)
                        }
                    return r
                },
                set: function(e, t) {
                    for (var i, s, n = e.options, a = K.makeArray(t), r = n.length; r--; )
                        s = n[r],
                        (s.selected = K.inArray(s.value, a) >= 0) && (i = !0);
                    return i || (e.selectedIndex = -1),
                    a
                }
            }
        }
    }),
    K.each(["radio", "checkbox"], function() {
        K.valHooks[this] = {
            set: function(e, t) {
                return K.isArray(t) ? e.checked = K.inArray(K(e).val(), t) >= 0 : void 0
            }
        },
        Q.checkOn || (K.valHooks[this].get = function(e) {
            return null === e.getAttribute("value") ? "on" : e.value
        }
        )
    }),
    K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(e, t) {
        K.fn[t] = function(e, i) {
            return arguments.length > 0 ? this.on(t, null, e, i) : this.trigger(t)
        }
    }),
    K.fn.extend({
        hover: function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        },
        bind: function(e, t, i) {
            return this.on(e, null, t, i)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        delegate: function(e, t, i, s) {
            return this.on(t, e, i, s)
        },
        undelegate: function(e, t, i) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", i)
        }
    });
    var ht = K.now()
      , ct = /\?/;
    K.parseJSON = function(e) {
        return JSON.parse(e + "")
    }
    ,
    K.parseXML = function(e) {
        var t, i;
        if (!e || "string" != typeof e)
            return null;
        try {
            i = new DOMParser,
            t = i.parseFromString(e, "text/xml")
        } catch (e) {
            t = void 0
        }
        return (!t || t.getElementsByTagName("parsererror").length) && K.error("Invalid XML: " + e),
        t
    }
    ;
    var dt, ut, pt = /#.*$/, ft = /([?&])_=[^&]*/, gt = /^(.*?):[ \t]*([^\r\n]*)$/gm, mt = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, vt = /^(?:GET|HEAD)$/, bt = /^\/\//, yt = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, wt = {}, _t = {}, kt = "*/".concat("*");
    try {
        ut = location.href
    } catch (e) {
        ut = J.createElement("a"),
        ut.href = "",
        ut = ut.href
    }
    dt = yt.exec(ut.toLowerCase()) || [],
    K.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: ut,
            type: "GET",
            isLocal: mt.test(dt[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": kt,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": K.parseJSON,
                "text xml": K.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(e, t) {
            return t ? I(I(e, K.ajaxSettings), t) : I(K.ajaxSettings, e)
        },
        ajaxPrefilter: O(wt),
        ajaxTransport: O(_t),
        ajax: function(e, t) {
            function i(e, t, i, r) {
                var l, c, v, b, w, k = t;
                2 !== y && (y = 2,
                o && clearTimeout(o),
                s = void 0,
                a = r || "",
                _.readyState = e > 0 ? 4 : 0,
                l = e >= 200 && 300 > e || 304 === e,
                i && (b = q(d, _, i)),
                b = $(d, b, _, l),
                l ? (d.ifModified && (w = _.getResponseHeader("Last-Modified"),
                w && (K.lastModified[n] = w),
                w = _.getResponseHeader("etag"),
                w && (K.etag[n] = w)),
                204 === e || "HEAD" === d.type ? k = "nocontent" : 304 === e ? k = "notmodified" : (k = b.state,
                c = b.data,
                v = b.error,
                l = !v)) : (v = k,
                (e || !k) && (k = "error",
                0 > e && (e = 0))),
                _.status = e,
                _.statusText = (t || k) + "",
                l ? f.resolveWith(u, [c, k, _]) : f.rejectWith(u, [_, k, v]),
                _.statusCode(m),
                m = void 0,
                h && p.trigger(l ? "ajaxSuccess" : "ajaxError", [_, d, l ? c : v]),
                g.fireWith(u, [_, k]),
                h && (p.trigger("ajaxComplete", [_, d]),
                --K.active || K.event.trigger("ajaxStop")))
            }
            "object" == typeof e && (t = e,
            e = void 0),
            t = t || {};
            var s, n, a, r, o, l, h, c, d = K.ajaxSetup({}, t), u = d.context || d, p = d.context && (u.nodeType || u.jquery) ? K(u) : K.event, f = K.Deferred(), g = K.Callbacks("once memory"), m = d.statusCode || {}, v = {}, b = {}, y = 0, w = "canceled", _ = {
                readyState: 0,
                getResponseHeader: function(e) {
                    var t;
                    if (2 === y) {
                        if (!r)
                            for (r = {}; t = gt.exec(a); )
                                r[t[1].toLowerCase()] = t[2];
                        t = r[e.toLowerCase()]
                    }
                    return null == t ? null : t
                },
                getAllResponseHeaders: function() {
                    return 2 === y ? a : null
                },
                setRequestHeader: function(e, t) {
                    var i = e.toLowerCase();
                    return y || (e = b[i] = b[i] || e,
                    v[e] = t),
                    this
                },
                overrideMimeType: function(e) {
                    return y || (d.mimeType = e),
                    this
                },
                statusCode: function(e) {
                    var t;
                    if (e)
                        if (2 > y)
                            for (t in e)
                                m[t] = [m[t], e[t]];
                        else
                            _.always(e[_.status]);
                    return this
                },
                abort: function(e) {
                    var t = e || w;
                    return s && s.abort(t),
                    i(0, t),
                    this
                }
            };
            if (f.promise(_).complete = g.add,
            _.success = _.done,
            _.error = _.fail,
            d.url = ((e || d.url || ut) + "").replace(pt, "").replace(bt, dt[1] + "//"),
            d.type = t.method || t.type || d.method || d.type,
            d.dataTypes = K.trim(d.dataType || "*").toLowerCase().match(pe) || [""],
            null == d.crossDomain && (l = yt.exec(d.url.toLowerCase()),
            d.crossDomain = !(!l || l[1] === dt[1] && l[2] === dt[2] && (l[3] || ("http:" === l[1] ? "80" : "443")) === (dt[3] || ("http:" === dt[1] ? "80" : "443")))),
            d.data && d.processData && "string" != typeof d.data && (d.data = K.param(d.data, d.traditional)),
            z(wt, d, t, _),
            2 === y)
                return _;
            h = d.global,
            h && 0 === K.active++ && K.event.trigger("ajaxStart"),
            d.type = d.type.toUpperCase(),
            d.hasContent = !vt.test(d.type),
            n = d.url,
            d.hasContent || (d.data && (n = d.url += (ct.test(n) ? "&" : "?") + d.data,
            delete d.data),
            d.cache === !1 && (d.url = ft.test(n) ? n.replace(ft, "$1_=" + ht++) : n + (ct.test(n) ? "&" : "?") + "_=" + ht++)),
            d.ifModified && (K.lastModified[n] && _.setRequestHeader("If-Modified-Since", K.lastModified[n]),
            K.etag[n] && _.setRequestHeader("If-None-Match", K.etag[n])),
            (d.data && d.hasContent && d.contentType !== !1 || t.contentType) && _.setRequestHeader("Content-Type", d.contentType),
            _.setRequestHeader("Accept", d.dataTypes[0] && d.accepts[d.dataTypes[0]] ? d.accepts[d.dataTypes[0]] + ("*" !== d.dataTypes[0] ? ", " + kt + "; q=0.01" : "") : d.accepts["*"]);
            for (c in d.headers)
                _.setRequestHeader(c, d.headers[c]);
            if (d.beforeSend && (d.beforeSend.call(u, _, d) === !1 || 2 === y))
                return _.abort();
            w = "abort";
            for (c in {
                success: 1,
                error: 1,
                complete: 1
            })
                _[c](d[c]);
            if (s = z(_t, d, t, _)) {
                _.readyState = 1,
                h && p.trigger("ajaxSend", [_, d]),
                d.async && d.timeout > 0 && (o = setTimeout(function() {
                    _.abort("timeout")
                }, d.timeout));
                try {
                    y = 1,
                    s.send(v, i)
                } catch (e) {
                    if (!(2 > y))
                        throw e;
                    i(-1, e)
                }
            } else
                i(-1, "No Transport");
            return _
        },
        getJSON: function(e, t, i) {
            return K.get(e, t, i, "json")
        },
        getScript: function(e, t) {
            return K.get(e, void 0, t, "script")
        }
    }),
    K.each(["get", "post"], function(e, t) {
        K[t] = function(e, i, s, n) {
            return K.isFunction(i) && (n = n || s,
            s = i,
            i = void 0),
            K.ajax({
                url: e,
                type: t,
                dataType: n,
                data: i,
                success: s
            })
        }
    }),
    K.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
        K.fn[t] = function(e) {
            return this.on(t, e)
        }
    }),
    K._evalUrl = function(e) {
        return K.ajax({
            url: e,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            throws: !0
        })
    }
    ,
    K.fn.extend({
        wrapAll: function(e) {
            var t;
            return K.isFunction(e) ? this.each(function(t) {
                K(this).wrapAll(e.call(this, t))
            }) : (this[0] && (t = K(e, this[0].ownerDocument).eq(0).clone(!0),
            this[0].parentNode && t.insertBefore(this[0]),
            t.map(function() {
                for (var e = this; e.firstElementChild; )
                    e = e.firstElementChild;
                return e
            }).append(this)),
            this)
        },
        wrapInner: function(e) {
            return this.each(K.isFunction(e) ? function(t) {
                K(this).wrapInner(e.call(this, t))
            }
            : function() {
                var t = K(this)
                  , i = t.contents();
                i.length ? i.wrapAll(e) : t.append(e)
            }
            )
        },
        wrap: function(e) {
            var t = K.isFunction(e);
            return this.each(function(i) {
                K(this).wrapAll(t ? e.call(this, i) : e)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                K.nodeName(this, "body") || K(this).replaceWith(this.childNodes)
            }).end()
        }
    }),
    K.expr.filters.hidden = function(e) {
        return e.offsetWidth <= 0 && e.offsetHeight <= 0
    }
    ,
    K.expr.filters.visible = function(e) {
        return !K.expr.filters.hidden(e)
    }
    ;
    var xt = /%20/g
      , Ct = /\[\]$/
      , Tt = /\r?\n/g
      , St = /^(?:submit|button|image|reset|file)$/i
      , Pt = /^(?:input|select|textarea|keygen)/i;
    K.param = function(e, t) {
        var i, s = [], n = function(e, t) {
            t = K.isFunction(t) ? t() : null == t ? "" : t,
            s[s.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
        };
        if (void 0 === t && (t = K.ajaxSettings && K.ajaxSettings.traditional),
        K.isArray(e) || e.jquery && !K.isPlainObject(e))
            K.each(e, function() {
                n(this.name, this.value)
            });
        else
            for (i in e)
                F(i, e[i], t, n);
        return s.join("&").replace(xt, "+")
    }
    ,
    K.fn.extend({
        serialize: function() {
            return K.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var e = K.prop(this, "elements");
                return e ? K.makeArray(e) : this
            }).filter(function() {
                var e = this.type;
                return this.name && !K(this).is(":disabled") && Pt.test(this.nodeName) && !St.test(e) && (this.checked || !Ce.test(e))
            }).map(function(e, t) {
                var i = K(this).val();
                return null == i ? null : K.isArray(i) ? K.map(i, function(e) {
                    return {
                        name: t.name,
                        value: e.replace(Tt, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: i.replace(Tt, "\r\n")
                }
            }).get()
        }
    }),
    K.ajaxSettings.xhr = function() {
        try {
            return new XMLHttpRequest
        } catch (e) {}
    }
    ;
    var Mt = 0
      , Et = {}
      , At = {
        0: 200,
        1223: 204
    }
      , Dt = K.ajaxSettings.xhr();
    e.ActiveXObject && K(e).on("unload", function() {
        for (var e in Et)
            Et[e]()
    }),
    Q.cors = !!Dt && "withCredentials"in Dt,
    Q.ajax = Dt = !!Dt,
    K.ajaxTransport(function(e) {
        var t;
        return Q.cors || Dt && !e.crossDomain ? {
            send: function(i, s) {
                var n, a = e.xhr(), r = ++Mt;
                if (a.open(e.type, e.url, e.async, e.username, e.password),
                e.xhrFields)
                    for (n in e.xhrFields)
                        a[n] = e.xhrFields[n];
                e.mimeType && a.overrideMimeType && a.overrideMimeType(e.mimeType),
                e.crossDomain || i["X-Requested-With"] || (i["X-Requested-With"] = "XMLHttpRequest");
                for (n in i)
                    a.setRequestHeader(n, i[n]);
                t = function(e) {
                    return function() {
                        t && (delete Et[r],
                        t = a.onload = a.onerror = null,
                        "abort" === e ? a.abort() : "error" === e ? s(a.status, a.statusText) : s(At[a.status] || a.status, a.statusText, "string" == typeof a.responseText ? {
                            text: a.responseText
                        } : void 0, a.getAllResponseHeaders()))
                    }
                }
                ,
                a.onload = t(),
                a.onerror = t("error"),
                t = Et[r] = t("abort");
                try {
                    a.send(e.hasContent && e.data || null)
                } catch (e) {
                    if (t)
                        throw e
                }
            },
            abort: function() {
                t && t()
            }
        } : void 0
    }),
    K.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(e) {
                return K.globalEval(e),
                e
            }
        }
    }),
    K.ajaxPrefilter("script", function(e) {
        void 0 === e.cache && (e.cache = !1),
        e.crossDomain && (e.type = "GET")
    }),
    K.ajaxTransport("script", function(e) {
        if (e.crossDomain) {
            var t, i;
            return {
                send: function(s, n) {
                    t = K("<script>").prop({
                        async: !0,
                        charset: e.scriptCharset,
                        src: e.url
                    }).on("load error", i = function(e) {
                        t.remove(),
                        i = null,
                        e && n("error" === e.type ? 404 : 200, e.type)
                    }
                    ),
                    J.head.appendChild(t[0])
                },
                abort: function() {
                    i && i()
                }
            }
        }
    });
    var Lt = []
      , Rt = /(=)\?(?=&|$)|\?\?/;
    K.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = Lt.pop() || K.expando + "_" + ht++;
            return this[e] = !0,
            e
        }
    }),
    K.ajaxPrefilter("json jsonp", function(t, i, s) {
        var n, a, r, o = t.jsonp !== !1 && (Rt.test(t.url) ? "url" : "string" == typeof t.data && !(t.contentType || "").indexOf("application/x-www-form-urlencoded") && Rt.test(t.data) && "data");
        return o || "jsonp" === t.dataTypes[0] ? (n = t.jsonpCallback = K.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback,
        o ? t[o] = t[o].replace(Rt, "$1" + n) : t.jsonp !== !1 && (t.url += (ct.test(t.url) ? "&" : "?") + t.jsonp + "=" + n),
        t.converters["script json"] = function() {
            return r || K.error(n + " was not called"),
            r[0]
        }
        ,
        t.dataTypes[0] = "json",
        a = e[n],
        e[n] = function() {
            r = arguments
        }
        ,
        s.always(function() {
            e[n] = a,
            t[n] && (t.jsonpCallback = i.jsonpCallback,
            Lt.push(n)),
            r && K.isFunction(a) && a(r[0]),
            r = a = void 0
        }),
        "script") : void 0
    }),
    K.parseHTML = function(e, t, i) {
        if (!e || "string" != typeof e)
            return null;
        "boolean" == typeof t && (i = t,
        t = !1),
        t = t || J;
        var s = re.exec(e)
          , n = !i && [];
        return s ? [t.createElement(s[1])] : (s = K.buildFragment([e], t, n),
        n && n.length && K(n).remove(),
        K.merge([], s.childNodes))
    }
    ;
    var jt = K.fn.load;
    K.fn.load = function(e, t, i) {
        if ("string" != typeof e && jt)
            return jt.apply(this, arguments);
        var s, n, a, r = this, o = e.indexOf(" ");
        return o >= 0 && (s = K.trim(e.slice(o)),
        e = e.slice(0, o)),
        K.isFunction(t) ? (i = t,
        t = void 0) : t && "object" == typeof t && (n = "POST"),
        r.length > 0 && K.ajax({
            url: e,
            type: n,
            dataType: "html",
            data: t
        }).done(function(e) {
            a = arguments,
            r.html(s ? K("<div>").append(K.parseHTML(e)).find(s) : e)
        }).complete(i && function(e, t) {
            r.each(i, a || [e.responseText, t, e])
        }
        ),
        this
    }
    ,
    K.expr.filters.animated = function(e) {
        return K.grep(K.timers, function(t) {
            return e === t.elem
        }).length
    }
    ;
    var Ot = e.document.documentElement;
    K.offset = {
        setOffset: function(e, t, i) {
            var s, n, a, r, o, l, h, c = K.css(e, "position"), d = K(e), u = {};
            "static" === c && (e.style.position = "relative"),
            o = d.offset(),
            a = K.css(e, "top"),
            l = K.css(e, "left"),
            h = ("absolute" === c || "fixed" === c) && (a + l).indexOf("auto") > -1,
            h ? (s = d.position(),
            r = s.top,
            n = s.left) : (r = parseFloat(a) || 0,
            n = parseFloat(l) || 0),
            K.isFunction(t) && (t = t.call(e, i, o)),
            null != t.top && (u.top = t.top - o.top + r),
            null != t.left && (u.left = t.left - o.left + n),
            "using"in t ? t.using.call(e, u) : d.css(u)
        }
    },
    K.fn.extend({
        offset: function(e) {
            if (arguments.length)
                return void 0 === e ? this : this.each(function(t) {
                    K.offset.setOffset(this, e, t)
                });
            var t, i, s = this[0], n = {
                top: 0,
                left: 0
            }, a = s && s.ownerDocument;
            return a ? (t = a.documentElement,
            K.contains(t, s) ? (typeof s.getBoundingClientRect !== Te && (n = s.getBoundingClientRect()),
            i = V(a),
            {
                top: n.top + i.pageYOffset - t.clientTop,
                left: n.left + i.pageXOffset - t.clientLeft
            }) : n) : void 0
        },
        position: function() {
            if (this[0]) {
                var e, t, i = this[0], s = {
                    top: 0,
                    left: 0
                };
                return "fixed" === K.css(i, "position") ? t = i.getBoundingClientRect() : (e = this.offsetParent(),
                t = this.offset(),
                K.nodeName(e[0], "html") || (s = e.offset()),
                s.top += K.css(e[0], "borderTopWidth", !0),
                s.left += K.css(e[0], "borderLeftWidth", !0)),
                {
                    top: t.top - s.top - K.css(i, "marginTop", !0),
                    left: t.left - s.left - K.css(i, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var e = this.offsetParent || Ot; e && !K.nodeName(e, "html") && "static" === K.css(e, "position"); )
                    e = e.offsetParent;
                return e || Ot
            })
        }
    }),
    K.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(t, i) {
        var s = "pageYOffset" === i;
        K.fn[t] = function(n) {
            return me(this, function(t, n, a) {
                var r = V(t);
                return void 0 === a ? r ? r[i] : t[n] : void (r ? r.scrollTo(s ? e.pageXOffset : a, s ? a : e.pageYOffset) : t[n] = a)
            }, t, n, arguments.length, null)
        }
    }),
    K.each(["top", "left"], function(e, t) {
        K.cssHooks[t] = k(Q.pixelPosition, function(e, i) {
            return i ? (i = _(e, t),
            Ne.test(i) ? K(e).position()[t] + "px" : i) : void 0
        })
    }),
    K.each({
        Height: "height",
        Width: "width"
    }, function(e, t) {
        K.each({
            padding: "inner" + e,
            content: t,
            "": "outer" + e
        }, function(i, s) {
            K.fn[s] = function(s, n) {
                var a = arguments.length && (i || "boolean" != typeof s)
                  , r = i || (s === !0 || n === !0 ? "margin" : "border");
                return me(this, function(t, i, s) {
                    var n;
                    return K.isWindow(t) ? t.document.documentElement["client" + e] : 9 === t.nodeType ? (n = t.documentElement,
                    Math.max(t.body["scroll" + e], n["scroll" + e], t.body["offset" + e], n["offset" + e], n["client" + e])) : void 0 === s ? K.css(t, i, r) : K.style(t, i, s, r)
                }, t, a ? s : void 0, a, null)
            }
        })
    }),
    K.fn.size = function() {
        return this.length
    }
    ,
    K.fn.andSelf = K.fn.addBack,
    "function" == typeof define && define.amd && define("jquery", [], function() {
        return K
    });
    var zt = e.jQuery
      , It = e.$;
    return K.noConflict = function(t) {
        return e.$ === K && (e.$ = It),
        t && e.jQuery === K && (e.jQuery = zt),
        K
    }
    ,
    typeof t === Te && (e.jQuery = e.$ = K),
    K
}),
function(e) {
    var t = "object" == typeof self && self.self === self && self || "object" == typeof global && global.global === global && global;
    if ("function" == typeof define && define.amd)
        define("backbone", ["underscore", "jquery", "exports"], function(i, s, n) {
            t.Backbone = e(t, n, i, s)
        });
    else if ("undefined" != typeof exports) {
        var i, s = require("underscore");
        try {
            i = require("jquery")
        } catch (e) {}
        e(t, exports, s, i)
    } else
        t.Backbone = e(t, {}, t._, t.jQuery || t.Zepto || t.ender || t.$)
}(function(e, t, i, s) {
    var n = e.Backbone
      , a = Array.prototype.slice;
    t.VERSION = "1.3.3",
    t.$ = s,
    t.noConflict = function() {
        return e.Backbone = n,
        this
    }
    ,
    t.emulateHTTP = !1,
    t.emulateJSON = !1;
    var r = function(e, t, s) {
        switch (e) {
        case 1:
            return function() {
                return i[t](this[s])
            }
            ;
        case 2:
            return function(e) {
                return i[t](this[s], e)
            }
            ;
        case 3:
            return function(e, n) {
                return i[t](this[s], l(e, this), n)
            }
            ;
        case 4:
            return function(e, n, a) {
                return i[t](this[s], l(e, this), n, a)
            }
            ;
        default:
            return function() {
                var e = a.call(arguments);
                return e.unshift(this[s]),
                i[t].apply(i, e)
            }
        }
    }
      , o = function(e, t, s) {
        i.each(t, function(t, n) {
            i[n] && (e.prototype[n] = r(t, n, s))
        })
    }
      , l = function(e, t) {
        return i.isFunction(e) ? e : i.isObject(e) && !t._isModel(e) ? h(e) : i.isString(e) ? function(t) {
            return t.get(e)
        }
        : e
    }
      , h = function(e) {
        var t = i.matches(e);
        return function(e) {
            return t(e.attributes)
        }
    }
      , c = t.Events = {}
      , d = /\s+/
      , u = function(e, t, s, n, a) {
        var r, o = 0;
        if (s && "object" == typeof s) {
            void 0 !== n && "context"in a && void 0 === a.context && (a.context = n);
            for (r = i.keys(s); o < r.length; o++)
                t = u(e, t, r[o], s[r[o]], a)
        } else if (s && d.test(s))
            for (r = s.split(d); o < r.length; o++)
                t = e(t, r[o], n, a);
        else
            t = e(t, s, n, a);
        return t
    };
    c.on = function(e, t, i) {
        return p(this, e, t, i)
    }
    ;
    var p = function(e, t, i, s, n) {
        if (e._events = u(f, e._events || {}, t, i, {
            context: s,
            ctx: e,
            listening: n
        }),
        n) {
            var a = e._listeners || (e._listeners = {});
            a[n.id] = n
        }
        return e
    };
    c.listenTo = function(e, t, s) {
        if (!e)
            return this;
        var n = e._listenId || (e._listenId = i.uniqueId("l"))
          , a = this._listeningTo || (this._listeningTo = {})
          , r = a[n];
        if (!r) {
            var o = this._listenId || (this._listenId = i.uniqueId("l"));
            r = a[n] = {
                obj: e,
                objId: n,
                id: o,
                listeningTo: a,
                count: 0
            }
        }
        return p(e, t, s, this, r),
        this
    }
    ;
    var f = function(e, t, i, s) {
        if (i) {
            var n = e[t] || (e[t] = [])
              , a = s.context
              , r = s.ctx
              , o = s.listening;
            o && o.count++,
            n.push({
                callback: i,
                context: a,
                ctx: a || r,
                listening: o
            })
        }
        return e
    };
    c.off = function(e, t, i) {
        return this._events ? (this._events = u(g, this._events, e, t, {
            context: i,
            listeners: this._listeners
        }),
        this) : this
    }
    ,
    c.stopListening = function(e, t, s) {
        var n = this._listeningTo;
        if (!n)
            return this;
        for (var a = e ? [e._listenId] : i.keys(n), r = 0; r < a.length; r++) {
            var o = n[a[r]];
            if (!o)
                break;
            o.obj.off(t, s, this)
        }
        return this
    }
    ;
    var g = function(e, t, s, n) {
        if (e) {
            var a, r = 0, o = n.context, l = n.listeners;
            if (t || s || o) {
                for (var h = t ? [t] : i.keys(e); r < h.length; r++) {
                    t = h[r];
                    var c = e[t];
                    if (!c)
                        break;
                    for (var d = [], u = 0; u < c.length; u++) {
                        var p = c[u];
                        s && s !== p.callback && s !== p.callback._callback || o && o !== p.context ? d.push(p) : (a = p.listening,
                        a && 0 === --a.count && (delete l[a.id],
                        delete a.listeningTo[a.objId]))
                    }
                    d.length ? e[t] = d : delete e[t]
                }
                return e
            }
            for (var f = i.keys(l); r < f.length; r++)
                a = l[f[r]],
                delete l[a.id],
                delete a.listeningTo[a.objId]
        }
    };
    c.once = function(e, t, s) {
        var n = u(m, {}, e, t, i.bind(this.off, this));
        return "string" == typeof e && null == s && (t = void 0),
        this.on(n, t, s)
    }
    ,
    c.listenToOnce = function(e, t, s) {
        var n = u(m, {}, t, s, i.bind(this.stopListening, this, e));
        return this.listenTo(e, n)
    }
    ;
    var m = function(e, t, s, n) {
        if (s) {
            var a = e[t] = i.once(function() {
                n(t, a),
                s.apply(this, arguments)
            });
            a._callback = s
        }
        return e
    };
    c.trigger = function(e) {
        if (!this._events)
            return this;
        for (var t = Math.max(0, arguments.length - 1), i = Array(t), s = 0; s < t; s++)
            i[s] = arguments[s + 1];
        return u(v, this._events, e, void 0, i),
        this
    }
    ;
    var v = function(e, t, i, s) {
        if (e) {
            var n = e[t]
              , a = e.all;
            n && a && (a = a.slice()),
            n && b(n, s),
            a && b(a, [t].concat(s))
        }
        return e
    }
      , b = function(e, t) {
        var i, s = -1, n = e.length, a = t[0], r = t[1], o = t[2];
        switch (t.length) {
        case 0:
            for (; ++s < n; )
                (i = e[s]).callback.call(i.ctx);
            return;
        case 1:
            for (; ++s < n; )
                (i = e[s]).callback.call(i.ctx, a);
            return;
        case 2:
            for (; ++s < n; )
                (i = e[s]).callback.call(i.ctx, a, r);
            return;
        case 3:
            for (; ++s < n; )
                (i = e[s]).callback.call(i.ctx, a, r, o);
            return;
        default:
            for (; ++s < n; )
                (i = e[s]).callback.apply(i.ctx, t);
            return
        }
    };
    c.bind = c.on,
    c.unbind = c.off,
    i.extend(t, c);
    var y = t.Model = function(e, t) {
        var s = e || {};
        t || (t = {}),
        this.cid = i.uniqueId(this.cidPrefix),
        this.attributes = {},
        t.collection && (this.collection = t.collection),
        t.parse && (s = this.parse(s, t) || {});
        var n = i.result(this, "defaults");
        s = i.defaults(i.extend({}, n, s), n),
        this.set(s, t),
        this.changed = {},
        this.initialize.apply(this, arguments)
    }
    ;
    i.extend(y.prototype, c, {
        changed: null,
        validationError: null,
        idAttribute: "id",
        cidPrefix: "c",
        initialize: function() {},
        toJSON: function(e) {
            return i.clone(this.attributes)
        },
        sync: function() {
            return t.sync.apply(this, arguments)
        },
        get: function(e) {
            return this.attributes[e]
        },
        escape: function(e) {
            return i.escape(this.get(e))
        },
        has: function(e) {
            return null != this.get(e)
        },
        matches: function(e) {
            return !!i.iteratee(e, this)(this.attributes)
        },
        set: function(e, t, s) {
            if (null == e)
                return this;
            var n;
            if ("object" == typeof e ? (n = e,
            s = t) : (n = {})[e] = t,
            s || (s = {}),
            !this._validate(n, s))
                return !1;
            var a = s.unset
              , r = s.silent
              , o = []
              , l = this._changing;
            this._changing = !0,
            l || (this._previousAttributes = i.clone(this.attributes),
            this.changed = {});
            var h = this.attributes
              , c = this.changed
              , d = this._previousAttributes;
            for (var u in n)
                t = n[u],
                i.isEqual(h[u], t) || o.push(u),
                i.isEqual(d[u], t) ? delete c[u] : c[u] = t,
                a ? delete h[u] : h[u] = t;
            if (this.idAttribute in n && (this.id = this.get(this.idAttribute)),
            !r) {
                o.length && (this._pending = s);
                for (var p = 0; p < o.length; p++)
                    this.trigger("change:" + o[p], this, h[o[p]], s)
            }
            if (l)
                return this;
            if (!r)
                for (; this._pending; )
                    s = this._pending,
                    this._pending = !1,
                    this.trigger("change", this, s);
            return this._pending = !1,
            this._changing = !1,
            this
        },
        unset: function(e, t) {
            return this.set(e, void 0, i.extend({}, t, {
                unset: !0
            }))
        },
        clear: function(e) {
            var t = {};
            for (var s in this.attributes)
                t[s] = void 0;
            return this.set(t, i.extend({}, e, {
                unset: !0
            }))
        },
        hasChanged: function(e) {
            return null == e ? !i.isEmpty(this.changed) : i.has(this.changed, e)
        },
        changedAttributes: function(e) {
            if (!e)
                return !!this.hasChanged() && i.clone(this.changed);
            var t = this._changing ? this._previousAttributes : this.attributes
              , s = {};
            for (var n in e) {
                var a = e[n];
                i.isEqual(t[n], a) || (s[n] = a)
            }
            return !!i.size(s) && s
        },
        previous: function(e) {
            return null != e && this._previousAttributes ? this._previousAttributes[e] : null
        },
        previousAttributes: function() {
            return i.clone(this._previousAttributes)
        },
        fetch: function(e) {
            e = i.extend({
                parse: !0
            }, e);
            var t = this
              , s = e.success;
            return e.success = function(i) {
                var n = e.parse ? t.parse(i, e) : i;
                return !!t.set(n, e) && (s && s.call(e.context, t, i, e),
                void t.trigger("sync", t, i, e))
            }
            ,
            V(this, e),
            this.sync("read", this, e)
        },
        save: function(e, t, s) {
            var n;
            null == e || "object" == typeof e ? (n = e,
            s = t) : (n = {})[e] = t,
            s = i.extend({
                validate: !0,
                parse: !0
            }, s);
            var a = s.wait;
            if (n && !a) {
                if (!this.set(n, s))
                    return !1
            } else if (!this._validate(n, s))
                return !1;
            var r = this
              , o = s.success
              , l = this.attributes;
            s.success = function(e) {
                r.attributes = l;
                var t = s.parse ? r.parse(e, s) : e;
                return a && (t = i.extend({}, n, t)),
                !(t && !r.set(t, s)) && (o && o.call(s.context, r, e, s),
                void r.trigger("sync", r, e, s))
            }
            ,
            V(this, s),
            n && a && (this.attributes = i.extend({}, l, n));
            var h = this.isNew() ? "create" : s.patch ? "patch" : "update";
            "patch" !== h || s.attrs || (s.attrs = n);
            var c = this.sync(h, this, s);
            return this.attributes = l,
            c
        },
        destroy: function(e) {
            e = e ? i.clone(e) : {};
            var t = this
              , s = e.success
              , n = e.wait
              , a = function() {
                t.stopListening(),
                t.trigger("destroy", t, t.collection, e)
            };
            e.success = function(i) {
                n && a(),
                s && s.call(e.context, t, i, e),
                t.isNew() || t.trigger("sync", t, i, e)
            }
            ;
            var r = !1;
            return this.isNew() ? i.defer(e.success) : (V(this, e),
            r = this.sync("delete", this, e)),
            n || a(),
            r
        },
        url: function() {
            var e = i.result(this, "urlRoot") || i.result(this.collection, "url") || F();
            if (this.isNew())
                return e;
            var t = this.get(this.idAttribute);
            return e.replace(/[^\/]$/, "$&/") + encodeURIComponent(t)
        },
        parse: function(e, t) {
            return e
        },
        clone: function() {
            return new this.constructor(this.attributes)
        },
        isNew: function() {
            return !this.has(this.idAttribute)
        },
        isValid: function(e) {
            return this._validate({}, i.extend({}, e, {
                validate: !0
            }))
        },
        _validate: function(e, t) {
            if (!t.validate || !this.validate)
                return !0;
            e = i.extend({}, this.attributes, e);
            var s = this.validationError = this.validate(e, t) || null;
            return !s || (this.trigger("invalid", this, s, i.extend(t, {
                validationError: s
            })),
            !1)
        }
    });
    var w = {
        keys: 1,
        values: 1,
        pairs: 1,
        invert: 1,
        pick: 0,
        omit: 0,
        chain: 1,
        isEmpty: 1
    };
    o(y, w, "attributes");
    var _ = t.Collection = function(e, t) {
        t || (t = {}),
        t.model && (this.model = t.model),
        void 0 !== t.comparator && (this.comparator = t.comparator),
        this._reset(),
        this.initialize.apply(this, arguments),
        e && this.reset(e, i.extend({
            silent: !0
        }, t))
    }
      , k = {
        add: !0,
        remove: !0,
        merge: !0
    }
      , x = {
        add: !0,
        remove: !1
    }
      , C = function(e, t, i) {
        i = Math.min(Math.max(i, 0), e.length);
        var s, n = Array(e.length - i), a = t.length;
        for (s = 0; s < n.length; s++)
            n[s] = e[s + i];
        for (s = 0; s < a; s++)
            e[s + i] = t[s];
        for (s = 0; s < n.length; s++)
            e[s + a + i] = n[s]
    };
    i.extend(_.prototype, c, {
        model: y,
        initialize: function() {},
        toJSON: function(e) {
            return this.map(function(t) {
                return t.toJSON(e)
            })
        },
        sync: function() {
            return t.sync.apply(this, arguments)
        },
        add: function(e, t) {
            return this.set(e, i.extend({
                merge: !1
            }, t, x))
        },
        remove: function(e, t) {
            t = i.extend({}, t);
            var s = !i.isArray(e);
            e = s ? [e] : e.slice();
            var n = this._removeModels(e, t);
            return !t.silent && n.length && (t.changes = {
                added: [],
                merged: [],
                removed: n
            },
            this.trigger("update", this, t)),
            s ? n[0] : n
        },
        set: function(e, t) {
            if (null != e) {
                t = i.extend({}, k, t),
                t.parse && !this._isModel(e) && (e = this.parse(e, t) || []);
                var s = !i.isArray(e);
                e = s ? [e] : e.slice();
                var n = t.at;
                null != n && (n = +n),
                n > this.length && (n = this.length),
                n < 0 && (n += this.length + 1);
                var a, r, o = [], l = [], h = [], c = [], d = {}, u = t.add, p = t.merge, f = t.remove, g = !1, m = this.comparator && null == n && t.sort !== !1, v = i.isString(this.comparator) ? this.comparator : null;
                for (r = 0; r < e.length; r++) {
                    a = e[r];
                    var b = this.get(a);
                    if (b) {
                        if (p && a !== b) {
                            var y = this._isModel(a) ? a.attributes : a;
                            t.parse && (y = b.parse(y, t)),
                            b.set(y, t),
                            h.push(b),
                            m && !g && (g = b.hasChanged(v))
                        }
                        d[b.cid] || (d[b.cid] = !0,
                        o.push(b)),
                        e[r] = b
                    } else
                        u && (a = e[r] = this._prepareModel(a, t),
                        a && (l.push(a),
                        this._addReference(a, t),
                        d[a.cid] = !0,
                        o.push(a)))
                }
                if (f) {
                    for (r = 0; r < this.length; r++)
                        a = this.models[r],
                        d[a.cid] || c.push(a);
                    c.length && this._removeModels(c, t)
                }
                var w = !1
                  , _ = !m && u && f;
                if (o.length && _ ? (w = this.length !== o.length || i.some(this.models, function(e, t) {
                    return e !== o[t]
                }),
                this.models.length = 0,
                C(this.models, o, 0),
                this.length = this.models.length) : l.length && (m && (g = !0),
                C(this.models, l, null == n ? this.length : n),
                this.length = this.models.length),
                g && this.sort({
                    silent: !0
                }),
                !t.silent) {
                    for (r = 0; r < l.length; r++)
                        null != n && (t.index = n + r),
                        a = l[r],
                        a.trigger("add", a, this, t);
                    (g || w) && this.trigger("sort", this, t),
                    (l.length || c.length || h.length) && (t.changes = {
                        added: l,
                        removed: c,
                        merged: h
                    },
                    this.trigger("update", this, t))
                }
                return s ? e[0] : e
            }
        },
        reset: function(e, t) {
            t = t ? i.clone(t) : {};
            for (var s = 0; s < this.models.length; s++)
                this._removeReference(this.models[s], t);
            return t.previousModels = this.models,
            this._reset(),
            e = this.add(e, i.extend({
                silent: !0
            }, t)),
            t.silent || this.trigger("reset", this, t),
            e
        },
        push: function(e, t) {
            return this.add(e, i.extend({
                at: this.length
            }, t))
        },
        pop: function(e) {
            var t = this.at(this.length - 1);
            return this.remove(t, e)
        },
        unshift: function(e, t) {
            return this.add(e, i.extend({
                at: 0
            }, t))
        },
        shift: function(e) {
            var t = this.at(0);
            return this.remove(t, e)
        },
        slice: function() {
            return a.apply(this.models, arguments)
        },
        get: function(e) {
            if (null != e)
                return this._byId[e] || this._byId[this.modelId(e.attributes || e)] || e.cid && this._byId[e.cid]
        },
        has: function(e) {
            return null != this.get(e)
        },
        at: function(e) {
            return e < 0 && (e += this.length),
            this.models[e]
        },
        where: function(e, t) {
            return this[t ? "find" : "filter"](e)
        },
        findWhere: function(e) {
            return this.where(e, !0)
        },
        sort: function(e) {
            var t = this.comparator;
            if (!t)
                throw new Error("Cannot sort a set without a comparator");
            e || (e = {});
            var s = t.length;
            return i.isFunction(t) && (t = i.bind(t, this)),
            1 === s || i.isString(t) ? this.models = this.sortBy(t) : this.models.sort(t),
            e.silent || this.trigger("sort", this, e),
            this
        },
        pluck: function(e) {
            return this.map(e + "")
        },
        fetch: function(e) {
            e = i.extend({
                parse: !0
            }, e);
            var t = e.success
              , s = this;
            return e.success = function(i) {
                var n = e.reset ? "reset" : "set";
                s[n](i, e),
                t && t.call(e.context, s, i, e),
                s.trigger("sync", s, i, e)
            }
            ,
            V(this, e),
            this.sync("read", this, e)
        },
        create: function(e, t) {
            t = t ? i.clone(t) : {};
            var s = t.wait;
            if (e = this._prepareModel(e, t),
            !e)
                return !1;
            s || this.add(e, t);
            var n = this
              , a = t.success;
            return t.success = function(e, t, i) {
                s && n.add(e, i),
                a && a.call(i.context, e, t, i)
            }
            ,
            e.save(null, t),
            e
        },
        parse: function(e, t) {
            return e
        },
        clone: function() {
            return new this.constructor(this.models,{
                model: this.model,
                comparator: this.comparator
            })
        },
        modelId: function(e) {
            return e[this.model.prototype.idAttribute || "id"]
        },
        _reset: function() {
            this.length = 0,
            this.models = [],
            this._byId = {}
        },
        _prepareModel: function(e, t) {
            if (this._isModel(e))
                return e.collection || (e.collection = this),
                e;
            t = t ? i.clone(t) : {},
            t.collection = this;
            var s = new this.model(e,t);
            return s.validationError ? (this.trigger("invalid", this, s.validationError, t),
            !1) : s
        },
        _removeModels: function(e, t) {
            for (var i = [], s = 0; s < e.length; s++) {
                var n = this.get(e[s]);
                if (n) {
                    var a = this.indexOf(n);
                    this.models.splice(a, 1),
                    this.length--,
                    delete this._byId[n.cid];
                    var r = this.modelId(n.attributes);
                    null != r && delete this._byId[r],
                    t.silent || (t.index = a,
                    n.trigger("remove", n, this, t)),
                    i.push(n),
                    this._removeReference(n, t)
                }
            }
            return i
        },
        _isModel: function(e) {
            return e instanceof y
        },
        _addReference: function(e, t) {
            this._byId[e.cid] = e;
            var i = this.modelId(e.attributes);
            null != i && (this._byId[i] = e),
            e.on("all", this._onModelEvent, this)
        },
        _removeReference: function(e, t) {
            delete this._byId[e.cid];
            var i = this.modelId(e.attributes);
            null != i && delete this._byId[i],
            this === e.collection && delete e.collection,
            e.off("all", this._onModelEvent, this)
        },
        _onModelEvent: function(e, t, i, s) {
            if (t) {
                if (("add" === e || "remove" === e) && i !== this)
                    return;
                if ("destroy" === e && this.remove(t, s),
                "change" === e) {
                    var n = this.modelId(t.previousAttributes())
                      , a = this.modelId(t.attributes);
                    n !== a && (null != n && delete this._byId[n],
                    null != a && (this._byId[a] = t))
                }
            }
            this.trigger.apply(this, arguments)
        }
    });
    var T = {
        forEach: 3,
        each: 3,
        map: 3,
        collect: 3,
        reduce: 0,
        foldl: 0,
        inject: 0,
        reduceRight: 0,
        foldr: 0,
        find: 3,
        detect: 3,
        filter: 3,
        select: 3,
        reject: 3,
        every: 3,
        all: 3,
        some: 3,
        any: 3,
        include: 3,
        includes: 3,
        contains: 3,
        invoke: 0,
        max: 3,
        min: 3,
        toArray: 1,
        size: 1,
        first: 3,
        head: 3,
        take: 3,
        initial: 3,
        rest: 3,
        tail: 3,
        drop: 3,
        last: 3,
        without: 0,
        difference: 0,
        indexOf: 3,
        shuffle: 1,
        lastIndexOf: 3,
        isEmpty: 1,
        chain: 1,
        sample: 3,
        partition: 3,
        groupBy: 3,
        countBy: 3,
        sortBy: 3,
        indexBy: 3,
        findIndex: 3,
        findLastIndex: 3
    };
    o(_, T, "models");
    var S = t.View = function(e) {
        this.cid = i.uniqueId("view"),
        i.extend(this, i.pick(e, M)),
        this._ensureElement(),
        this.initialize.apply(this, arguments)
    }
      , P = /^(\S+)\s*(.*)$/
      , M = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
    i.extend(S.prototype, c, {
        tagName: "div",
        $: function(e) {
            return this.$el.find(e)
        },
        initialize: function() {},
        render: function() {
            return this
        },
        remove: function() {
            return this._removeElement(),
            this.stopListening(),
            this
        },
        _removeElement: function() {
            this.$el.remove()
        },
        setElement: function(e) {
            return this.undelegateEvents(),
            this._setElement(e),
            this.delegateEvents(),
            this
        },
        _setElement: function(e) {
            this.$el = e instanceof t.$ ? e : t.$(e),
            this.el = this.$el[0]
        },
        delegateEvents: function(e) {
            if (e || (e = i.result(this, "events")),
            !e)
                return this;
            this.undelegateEvents();
            for (var t in e) {
                var s = e[t];
                if (i.isFunction(s) || (s = this[s]),
                s) {
                    var n = t.match(P);
                    this.delegate(n[1], n[2], i.bind(s, this))
                }
            }
            return this
        },
        delegate: function(e, t, i) {
            return this.$el.on(e + ".delegateEvents" + this.cid, t, i),
            this
        },
        undelegateEvents: function() {
            return this.$el && this.$el.off(".delegateEvents" + this.cid),
            this
        },
        undelegate: function(e, t, i) {
            return this.$el.off(e + ".delegateEvents" + this.cid, t, i),
            this
        },
        _createElement: function(e) {
            return document.createElement(e)
        },
        _ensureElement: function() {
            if (this.el)
                this.setElement(i.result(this, "el"));
            else {
                var e = i.extend({}, i.result(this, "attributes"));
                this.id && (e.id = i.result(this, "id")),
                this.className && (e.class = i.result(this, "className")),
                this.setElement(this._createElement(i.result(this, "tagName"))),
                this._setAttributes(e)
            }
        },
        _setAttributes: function(e) {
            this.$el.attr(e)
        }
    }),
    t.sync = function(e, s, n) {
        var a = E[e];
        i.defaults(n || (n = {}), {
            emulateHTTP: t.emulateHTTP,
            emulateJSON: t.emulateJSON
        });
        var r = {
            type: a,
            dataType: "json"
        };
        if (n.url || (r.url = i.result(s, "url") || F()),
        null != n.data || !s || "create" !== e && "update" !== e && "patch" !== e || (r.contentType = "application/json",
        r.data = JSON.stringify(n.attrs || s.toJSON(n))),
        n.emulateJSON && (r.contentType = "application/x-www-form-urlencoded",
        r.data = r.data ? {
            model: r.data
        } : {}),
        n.emulateHTTP && ("PUT" === a || "DELETE" === a || "PATCH" === a)) {
            r.type = "POST",
            n.emulateJSON && (r.data._method = a);
            var o = n.beforeSend;
            n.beforeSend = function(e) {
                if (e.setRequestHeader("X-HTTP-Method-Override", a),
                o)
                    return o.apply(this, arguments)
            }
        }
        "GET" === r.type || n.emulateJSON || (r.processData = !1);
        var l = n.error;
        n.error = function(e, t, i) {
            n.textStatus = t,
            n.errorThrown = i,
            l && l.call(n.context, e, t, i)
        }
        ;
        var h = n.xhr = t.ajax(i.extend(r, n));
        return s.trigger("request", s, h, n),
        h
    }
    ;
    var E = {
        create: "POST",
        update: "PUT",
        patch: "PATCH",
        delete: "DELETE",
        read: "GET"
    };
    t.ajax = function() {
        return t.$.ajax.apply(t.$, arguments)
    }
    ;
    var A = t.Router = function(e) {
        e || (e = {}),
        e.routes && (this.routes = e.routes),
        this._bindRoutes(),
        this.initialize.apply(this, arguments)
    }
      , D = /\((.*?)\)/g
      , L = /(\(\?)?:\w+/g
      , R = /\*\w+/g
      , j = /[\-{}\[\]+?.,\\\^$|#\s]/g;
    i.extend(A.prototype, c, {
        initialize: function() {},
        route: function(e, s, n) {
            i.isRegExp(e) || (e = this._routeToRegExp(e)),
            i.isFunction(s) && (n = s,
            s = ""),
            n || (n = this[s]);
            var a = this;
            return t.history.route(e, function(i) {
                var r = a._extractParameters(e, i);
                a.execute(n, r, s) !== !1 && (a.trigger.apply(a, ["route:" + s].concat(r)),
                a.trigger("route", s, r),
                t.history.trigger("route", a, s, r))
            }),
            this
        },
        execute: function(e, t, i) {
            e && e.apply(this, t)
        },
        navigate: function(e, i) {
            return t.history.navigate(e, i),
            this
        },
        _bindRoutes: function() {
            if (this.routes) {
                this.routes = i.result(this, "routes");
                for (var e, t = i.keys(this.routes); null != (e = t.pop()); )
                    this.route(e, this.routes[e])
            }
        },
        _routeToRegExp: function(e) {
            return e = e.replace(j, "\\$&").replace(D, "(?:$1)?").replace(L, function(e, t) {
                return t ? e : "([^/?]+)"
            }).replace(R, "([^?]*?)"),
            new RegExp("^" + e + "(?:\\?([\\s\\S]*))?$")
        },
        _extractParameters: function(e, t) {
            var s = e.exec(t).slice(1);
            return i.map(s, function(e, t) {
                return t === s.length - 1 ? e || null : e ? decodeURIComponent(e) : null
            })
        }
    });
    var O = t.History = function() {
        this.handlers = [],
        this.checkUrl = i.bind(this.checkUrl, this),
        "undefined" != typeof window && (this.location = window.location,
        this.history = window.history)
    }
      , z = /^[#\/]|\s+$/g
      , I = /^\/+|\/+$/g
      , q = /#.*$/;
    O.started = !1,
    i.extend(O.prototype, c, {
        interval: 50,
        atRoot: function() {
            var e = this.location.pathname.replace(/[^\/]$/, "$&/");
            return e === this.root && !this.getSearch()
        },
        matchRoot: function() {
            var e = this.decodeFragment(this.location.pathname)
              , t = e.slice(0, this.root.length - 1) + "/";
            return t === this.root
        },
        decodeFragment: function(e) {
            return decodeURI(e.replace(/%25/g, "%2525"))
        },
        getSearch: function() {
            var e = this.location.href.replace(/#.*/, "").match(/\?.+/);
            return e ? e[0] : ""
        },
        getHash: function(e) {
            var t = (e || this).location.href.match(/#(.*)$/);
            return t ? t[1] : ""
        },
        getPath: function() {
            var e = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
            return "/" === e.charAt(0) ? e.slice(1) : e
        },
        getFragment: function(e) {
            return null == e && (e = this._usePushState || !this._wantsHashChange ? this.getPath() : this.getHash()),
            e.replace(z, "")
        },
        start: function(e) {
            if (O.started)
                throw new Error("Backbone.history has already been started");
            if (O.started = !0,
            this.options = i.extend({
                root: "/"
            }, this.options, e),
            this.root = this.options.root,
            this._wantsHashChange = this.options.hashChange !== !1,
            this._hasHashChange = "onhashchange"in window && (void 0 === document.documentMode || document.documentMode > 7),
            this._useHashChange = this._wantsHashChange && this._hasHashChange,
            this._wantsPushState = !!this.options.pushState,
            this._hasPushState = !(!this.history || !this.history.pushState),
            this._usePushState = this._wantsPushState && this._hasPushState,
            this.fragment = this.getFragment(),
            this.root = ("/" + this.root + "/").replace(I, "/"),
            this._wantsHashChange && this._wantsPushState) {
                if (!this._hasPushState && !this.atRoot()) {
                    var t = this.root.slice(0, -1) || "/";
                    return this.location.replace(t + "#" + this.getPath()),
                    !0
                }
                this._hasPushState && this.atRoot() && this.navigate(this.getHash(), {
                    replace: !0
                })
            }
            if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {
                this.iframe = document.createElement("iframe"),
                this.iframe.src = "javascript:0",
                this.iframe.style.display = "none",
                this.iframe.tabIndex = -1;
                var s = document.body
                  , n = s.insertBefore(this.iframe, s.firstChild).contentWindow;
                n.document.open(),
                n.document.close(),
                n.location.hash = "#" + this.fragment
            }
            var a = window.addEventListener || function(e, t) {
                return attachEvent("on" + e, t)
            }
            ;
            if (this._usePushState ? a("popstate", this.checkUrl, !1) : this._useHashChange && !this.iframe ? a("hashchange", this.checkUrl, !1) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)),
            !this.options.silent)
                return this.loadUrl()
        },
        stop: function() {
            var e = window.removeEventListener || function(e, t) {
                return detachEvent("on" + e, t)
            }
            ;
            this._usePushState ? e("popstate", this.checkUrl, !1) : this._useHashChange && !this.iframe && e("hashchange", this.checkUrl, !1),
            this.iframe && (document.body.removeChild(this.iframe),
            this.iframe = null),
            this._checkUrlInterval && clearInterval(this._checkUrlInterval),
            O.started = !1
        },
        route: function(e, t) {
            this.handlers.unshift({
                route: e,
                callback: t
            })
        },
        checkUrl: function(e) {
            var t = this.getFragment();
            return t === this.fragment && this.iframe && (t = this.getHash(this.iframe.contentWindow)),
            t !== this.fragment && (this.iframe && this.navigate(t),
            void this.loadUrl())
        },
        loadUrl: function(e) {
            return !!this.matchRoot() && (e = this.fragment = this.getFragment(e),
            i.some(this.handlers, function(t) {
                if (t.route.test(e))
                    return t.callback(e),
                    !0
            }))
        },
        navigate: function(e, t) {
            if (!O.started)
                return !1;
            t && t !== !0 || (t = {
                trigger: !!t
            }),
            e = this.getFragment(e || "");
            var i = this.root;
            "" !== e && "?" !== e.charAt(0) || (i = i.slice(0, -1) || "/");
            var s = i + e;
            if (e = this.decodeFragment(e.replace(q, "")),
            this.fragment !== e) {
                if (this.fragment = e,
                this._usePushState)
                    this.history[t.replace ? "replaceState" : "pushState"]({}, document.title, s);
                else {
                    if (!this._wantsHashChange)
                        return this.location.assign(s);
                    if (this._updateHash(this.location, e, t.replace),
                    this.iframe && e !== this.getHash(this.iframe.contentWindow)) {
                        var n = this.iframe.contentWindow;
                        t.replace || (n.document.open(),
                        n.document.close()),
                        this._updateHash(n.location, e, t.replace)
                    }
                }
                return t.trigger ? this.loadUrl(e) : void 0
            }
        },
        _updateHash: function(e, t, i) {
            if (i) {
                var s = e.href.replace(/(javascript:|#).*$/, "");
                e.replace(s + "#" + t)
            } else
                e.hash = "#" + t
        }
    }),
    t.history = new O;
    var $ = function(e, t) {
        var s, n = this;
        return s = e && i.has(e, "constructor") ? e.constructor : function() {
            return n.apply(this, arguments)
        }
        ,
        i.extend(s, n, t),
        s.prototype = i.create(n.prototype, e),
        s.prototype.constructor = s,
        s.__super__ = n.prototype,
        s
    };
    y.extend = _.extend = A.extend = S.extend = O.extend = $;
    var F = function() {
        throw new Error('A "url" property or function must be specified')
    }
      , V = function(e, t) {
        var i = t.error;
        t.error = function(s) {
            i && i.call(t.context, e, s, t),
            e.trigger("error", e, s, t)
        }
    };
    return t
}),
define("router", ["require", "jquery", "underscore", "backbone"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = s.Router.extend({
        routes: {
            "en_US(/)(index.html)": "index",
            "(:app/)en_US/news/articles/*path": "article",
            "en_US/news/:photos/*path": "photo_gallery",
            "en_US/news/:gallery/*path": "photo_gallery",
            "en_US/watch/live.html(?*queryString)": "watch_live",
            "en_US/watch/(index.html)(?*queryString)": "watch_index",
            "en_US/watch/*path(?*queryString)": "watch_vod",
            "en_US/info/*path": "static_page_info",
            "en_US/tournament/past_winners.html(?*queryString)": "past_winners",
            "en_US/tournament/schedule.html(?*queryString)": "schedule",
            ":app/en_US/schedule/*path": "schedule",
            "en_US/tournament/*path": "static_page_tourn",
            "en_US/patron/(index.html)": "patron",
            "(:app/)en_US/scores/track/track.html": "track",
            "(:app/)en_US/scores/track/*path": "track_index",
            "(:app/)en_US/scores/about_leader_board.html": "leaderboard_info",
            "(:app/)en_US/scores/par3contest/about_par3_contest.html": "par3contest_info",
            "en_US/scores/par3contest/(index.html)": "par3contest_leaderboard",
            "en_US/scores/stats/historical/*path": "historic_stats",
            "en_US/scores/stats/*path": "stats",
            "en_US/scores/(*path)": "leaderboard",
            "en_US/players/player_list.html": "players",
            "en_US/course/(index.html)": "course",
            "en_US/course/*path": "hole_detail",
            "en_US/players/pairings/(index.html)": "tee_times",
            "en_US/players/player_*path": "player_bio",
            ":app/en_US/players/*path": "player_bio_webview",
            "en_US/players/invitees_*path": "invitees",
            "en_US/tribute/*path": "tribute",
            "en_US/shop/*path": "shop",
            "en_US/feedback/*path": "feedback",
            "en_US/search/(*path)": "search",
            "MediaGuide:year(/)(index.html)": "media_guide",
            "*path": "error"
        },
        currentAppView: void 0,
        isFirstLoad: !0,
        referrer: "",
        scroll_pages: {},
        scroll_stack: [],
        scroll_store_length: 2,
        no_scroll_modules: ["controllers/watch-live", "controllers/watch-vod"],
        initialize: function() {
            this.logger = new eventsCore.util.Logger("MasRouter");
            var e = this;
            t("body").on("click", "a:not(a[data-bypass])", function(i) {
                var n = t(this).attr("href")
                  , a = this.protocol + "//";
                if (n && (n.slice(0, a.length) !== a || n.indexOf(".masters.com/") > -1) && 0 !== n.indexOf("javascript:") && 0 !== n.indexOf("#") && "" !== n) {
                    if (n.slice(0, a.length) === a) {
                        var r = n.indexOf("masters.com");
                        r += 11,
                        n = n.slice(r, n.length)
                    }
                    if (i.preventDefault(),
                    document.location.search.length > 1)
                        for (var o = document.location.search, l = ["ios", "ipad", "iphone", "android", "loglevel"], h = 0, c = l.length; h < c; h++) {
                            var d = o.indexOf(l[h]);
                            if (d > -1) {
                                var u = o.indexOf("&", d + 1);
                                if (u === -1 && d > -1 && (u = o.length),
                                u > -1) {
                                    d < 1 && (d = 1);
                                    var p = o.substring(d, u);
                                    n += (n.indexOf("?") > -1 ? "&" : "?") + p
                                }
                            }
                        }
                    e.storeScrollPosition(),
                    s.history.navigate(n, !0)
                } else
                    "#" === n && i.preventDefault()
            })
        },
        index: function() {
            this.loadPage("/en_US/index.html", ["controllers/index"])
        },
        article: function(e, t) {
            var i = "";
            null !== e && (i = "/" + e),
            this.loadPage(i + "/en_US/news/articles/" + t, ["controllers/article"])
        },
        watch_index: function(e, t) {
            this.loadPage("/en_US/watch/index.html", ["controllers/watch-index"])
        },
        watch_live: function(e, t) {
            this.loadPage("/en_US/watch/live.html", ["controllers/watch-live"])
        },
        watch_vod: function(e, t) {
            this.loadPage("/en_US/watch/" + e, ["controllers/watch-vod"])
        },
        static_page_info: function(e) {
            this.loadPage("/en_US/info/" + e, ["controllers/static-page"])
        },
        static_page_tourn: function(e) {
            null === e && (e = "index.html"),
            this.loadPage("/en_US/tournament/" + e, ["controllers/static-page"])
        },
        patron: function() {
            this.loadPage("/en_US/patron/index.html", ["controllers/patron"])
        },
        past_winners: function() {
            this.loadPage("/en_US/tournament/past_winners.html", ["controllers/past-winners"])
        },
        schedule: function(e) {
            var t = "";
            null !== e && (t = "/" + e),
            this.loadPage(t + "/en_US/tournament/schedule.html", ["controllers/schedule"])
        },
        leaderboard: function(e) {
            null === e && (e = "index.html"),
            this.loadPage("/en_US/scores/" + e, ["controllers/leaderboard"])
        },
        leaderboard_info: function(e) {
            var t = "";
            null !== e && (t = "/" + e),
            this.loadPage(t + "/en_US/scores/about_leader_board.html", ["controllers/static-page"])
        },
        par3contest_leaderboard: function() {
            this.loadPage("/en_US/scores/par3contest/index.html", ["controllers/par3contest"])
        },
        par3contest_info: function(e) {
            var t = "";
            null !== e && (t = "/" + e),
            this.loadPage(t + "/en_US/scores/par3contest/about_par3_contest.html", ["controllers/static-page"])
        },
        track_index: function(e, t) {
            var i = "";
            null !== e && (i = "/" + e),
            this.loadPage(i + "/en_US/scores/track/index.html", ["controllers/track-index"])
        },
        track: function(e, t) {
            var i = "";
            null !== e && (i = "/" + e),
            this.loadPage(i + "/en_US/scores/track/track.html", ["controllers/track"])
        },
        players: function() {
            this.loadPage("/en_US/players/player_list.html", ["controllers/players"])
        },
        course: function() {
            this.loadPage("/en_US/course/index.html", ["controllers/course"])
        },
        hole_detail: function(e, t) {
            this.loadPage("/en_US/course/" + e, ["controllers/hole-detail"])
        },
        tee_times: function() {
            this.loadPage("/en_US/players/pairings/index.html", ["controllers/tee-times"])
        },
        photo_gallery: function(e, t) {
            this.loadPage("/en_US/news/" + e + "/" + t, ["controllers/photo-gallery"])
        },
        invitees: function(e) {
            this.loadPage("/en_US/players/invitees_" + e, ["controllers/invitees"])
        },
        player_bio: function(e) {
            this.loadPage("/en_US/players/player_" + e, ["controllers/player-bio"])
        },
        player_bio_webview: function(e, t) {
            var i = "";
            null !== e && (i = "/" + e),
            this.loadPage(i + "/en_US/players/player_bio.html", ["controllers/player-bio-webview"])
        },
        historic_stats: function(e) {
            null === e && (e = "index.html"),
            this.loadPage("/en_US/scores/stats/historical/" + e, ["controllers/historic-stats"])
        },
        stats: function(e) {
            null === e && (e = "index.html"),
            this.loadPage("/en_US/scores/stats/" + e, ["controllers/stats"])
        },
        tribute: function(e) {
            null === e && (e = "index.html"),
            this.loadPage("/en_US/tribute/" + e, ["controllers/tribute"])
        },
        shop: function(e) {
            null === e && (e = "index.html"),
            this.loadPage("/en_US/shop/" + e, ["controllers/static-page"])
        },
        feedback: function(e) {
            null === e && (e = "index.html"),
            this.loadPage("/en_US/feedback/" + e, ["controllers/static-page"])
        },
        search: function(e) {
            this.loadPage("/en_US/search/index.html", ["controllers/search"])
        },
        media_guide: function(e) {
            null === e && (e = "2017"),
            this.loadPage("/MediaGuide" + e + "/index.html", ["controllers/static-page"])
        },
        error: function(e) {
            console.log("breaking on error, %o", e),
            this.loadPage("/404.html", ["controllers/static-page"])
        },
        loadPage: function(t, s) {
            this.logger.out("loading %o with modules %o", t, s),
            this.loadContent(t).done(function(n) {
                e(s, function(e) {
                    if (this.currentAppView = new e({
                        html: n,
                        path: t
                    }),
                    this.currentAppView.is_404 && "/404.html" !== t)
                        return void this.error(t);
                    if (this.currentAppView.continue_load === !0) {
                        var a = this.scroll_pages[t] || 0;
                        a > 0 && i.intersection(this.no_scroll_modules, s).length >= 1 && (a = 0),
                        this.currentAppView.scroll_on_load = a,
                        this.currentAppView.render()
                    }
                    this.isFirstLoad = !1,
                    this.last_referrer = document.location.pathname,
                    this.currentAppView.continue_load !== !0 && this.navigate(this.currentAppView.continue_load, {
                        trigger: !0,
                        replace: !0
                    })
                }
                .bind(this))
            }
            .bind(this)).fail(function() {
                this.error(t)
            }
            .bind(this))
        },
        loadContent: function(e) {
            if (!this.isFirstLoad)
                return this.loadUrl(e).done(function() {
                    this.currentAppView && this.currentAppView.dispose(!0)
                }
                .bind(this));
            var i = new t.Deferred;
            return i.resolve(),
            i.promise()
        },
        loadUrl: function(e) {
            var i = e;
            return i += (e.search(/\?/) > -1 ? "&" : "?") + "ajax=true",
            t.ajax(i, {
                headers: {}
            })
        },
        storeScrollPosition: function() {
            var e = this.currentAppView.load_path || window.location.pathname;
            if (this.scroll_stack.length > this.scroll_store_length) {
                var i = this.scroll_stack.shift();
                delete this.scroll_pages[i]
            }
            this.scroll_pages[e] = document.body.scrollTop || t(document).scrollTop(),
            this.scroll_stack.push(e)
        }
    });
    return n
}),
function(e, t) {
    "function" == typeof define && define.amd ? define("settings", ["jquery"], t) : "object" == typeof exports ? module.exports = t(require("jquery")) : e.Settings = t($)
}(this, function(e) {
    var t = {
        tournament_year: 2017,
        playersListNav: !0,
        leaderboardPar3: !1,
        showFavorites: !0,
        default_pairings_round: 1,
        enable_logging: !0,
        default_broadcast_channel: "simul",
        Scores: {
            pre: !1,
            live: !0,
            post: !1,
            stub_track: !1
        }
    };
    return e.ajax("/en_US/xml/man/settings.json", {
        async: !1,
        dataType: "json",
        success: function(e) {
            t = {
                tournament_year: e.ty,
                playersListNav: e.pln,
                leaderboardPar3: e.p3,
                showFavorites: e.f,
                default_pairings_round: e.pr,
                enable_logging: e.el,
                default_broadcast_channel: e.ch,
                Scores: {
                    pre: e.s.p,
                    live: e.s.l,
                    post: e.s.t,
                    stub_track: e.s.st
                }
            }
        }
    }),
    t
}),
function(e, t) {
    "function" == typeof define && define.amd ? define("utils/querystring", t) : "object" == typeof exports ? module.exports = t() : e.Querystring = t()
}(this, function() {
    var e = function(e) {
        return this.params = [],
        this.init(e),
        this
    };
    return e.prototype.init = function(e) {
        var t = e;
        if (null !== t && void 0 !== t || (t = location.search.substring(1, location.search.length)),
        0 !== t.length) {
            t = t.replace(/\+/g, " ");
            for (var i = t.split("&"), s = 0; s < i.length; s++) {
                var n, a = i[s].split("="), r = unescape(a[0]);
                n = 2 === a.length ? unescape(a[1]) : r,
                this.params[r] = n
            }
        }
    }
    ,
    e.prototype.refresh = function(e) {
        this.params = [],
        this.init(e)
    }
    ,
    e.prototype.get = function(e, t) {
        var i = t;
        null === i && (i = null);
        var s = this.params[e];
        return null === s && (s = i),
        s
    }
    ,
    new e
}),
define("utils/pubsub", ["require", "underscore", "jquery", "backbone"], function(e) {
    var t = e("underscore")
      , i = e("jquery")
      , s = e("backbone")
      , n = t.extend({}, s.Events)
      , a = i("<div>")
      , r = {
        bound: {},
        triggered: {}
    }
      , o = "resize|scroll|touchmove|unload|lookup"
      , l = new RegExp("^(" + o + ")[.:]*")
      , h = i(window)
      , c = !1
      , d = window.console;
    "undefined" != typeof eventsCore && (d = new eventsCore.util.Logger("PubSub"),
    d.log = d.out);
    var u = n.on;
    n.on = function(e, t, i) {
        if (e && "object" == typeof e)
            u.apply(n, arguments);
        else
            for (var s = e.split(" "), o = s.length - 1; o >= 0; o--)
                if (0 === s[o].search(l) ? (h.on(s[o] + ".delegateWindow" + i.cid, t),
                d.log("[PubSub] attaching window event: %o", s[o] + ".delegateWindow" + i.cid)) : s[o].search(/\./) > -1 ? a.on(s[o], t) : (arguments[0] = s[o],
                u.apply(n, arguments)),
                c) {
                    var p = r.bound[s[o]];
                    void 0 === p ? r.bound[s[o]] = 1 : r.bound[s[o]] += 1
                }
        return n
    }
    ;
    var p = n.off;
    n.off = function(e, t, i) {
        if (e) {
            for (var s = e.split(" "), o = s.length - 1; o >= 0; o--)
                if (0 === s[o].search(l) ? h.off(s[o] + ".delegateWindow" + i.cid) : s[o].search(/\./) > -1 ? a.off(s[o], t) : (arguments[0] = s[o],
                p.apply(n, arguments)),
                c) {
                    var d = r.bound[s[o]];
                    void 0 !== d && (r.bound[s[o]] -= 1)
                }
        } else
            p.apply(n, arguments);
        return n
    }
    ;
    var f = n.trigger;
    return n.trigger = function() {
        for (var e = arguments[0].split(" "), t = e.length - 1; t >= 0; t--)
            if (arguments[0] = e[t],
            0 === e[t].search(l))
                d.log("[PubSub] triggering window event %o", e[t]),
                h.trigger.apply(h, arguments);
            else if (d.log("[PubSub] triggering event %o", e[t]),
            e[t].search(/\./) > -1 ? a.trigger.apply(a, arguments) : f.apply(n, arguments),
            c) {
                var i = r.triggered[e[t]];
                void 0 === i ? r.triggered[e[t]] = 1 : r.triggered[e[t]] += 1
            }
    }
    ,
    n
}),
function(e) {
    "function" == typeof define && define.amd ? define("utils/window-size", ["utils/pubsub"], e) : "object" == typeof exports ? module.exports = e(require("utils/pubsub")) : e(PubSub)
}(function(e) {
    var t = function() {
        var t, i, s, n = "", a = "", r = "45em", o = "57.5em", l = {
            global: 0,
            tablet: 1,
            desktop: 2
        }, h = {
            landscape: 0,
            portrait: 1
        }, c = window.console;
        "undefined" != typeof eventsCore && (c = new eventsCore.util.Logger("WindowSize"),
        c.log = c.out);
        var d = function(e) {
            c.log("[windowSize.js] setting window size to %o", _.findKey(l, function(t) {
                return t === e
            })),
            n = e
        }
          , u = function(e) {
            c.log("[windowSize.js] setting window orientation to %o", _.findKey(h, function(t) {
                return t === e
            })),
            a = e
        }
          , p = function() {
            return n
        }
          , f = function() {
            return a
        }
          , g = function() {
            t = window.matchMedia("screen and (min-width:" + o + ")"),
            i = window.matchMedia("screen and (min-width:" + r + ")"),
            t.addListener(function(t) {
                t.matches ? (d(l.desktop),
                e.trigger("windowsize:desktop:enter")) : (d(l.tablet),
                e.trigger("windowsize:tablet:enter"))
            }),
            i.addListener(function(t) {
                t.matches ? (n !== l.desktop && (d(l.tablet),
                e.trigger("windowsize:tablet:enter")),
                e.trigger("windowsize:global:exit")) : (d(l.global),
                e.trigger("windowsize:global:enter"))
            }),
            s = window.matchMedia("screen and (max-aspect-ratio: 13/9)"),
            s.addListener(function(t) {
                t.matches ? (u(h.portrait),
                e.trigger("windowsize:orientation:portrait")) : (u(h.landscape),
                e.trigger("windowsize:orientation:landscape"))
            })
        }
          , m = function() {
            g(),
            u(h.landscape),
            s.matches && u(h.portrait);
            var e = l.global;
            t.matches ? e = l.desktop : i.matches && (e = l.tablet),
            d(e)
        };
        return m(),
        {
            size: p,
            orientation: f,
            sizes: l,
            orientations: h
        }
    }
      , i = new t;
    return window.windowInfo = i,
    i
}),
define("utils/common", ["require", "utils/querystring", "utils/pubsub", "underscore", "jquery", "utils/window-size", "settings"], function(e) {
    var t = e("utils/querystring")
      , i = e("utils/pubsub")
      , s = e("underscore")
      , n = e("jquery")
      , a = e("utils/window-size")
      , r = e("settings")
      , o = {
        defaultLang: "en_US",
        lang: "",
        referrer: "",
        small_header_height: 40,
        large_header_height: 50,
        header_height: 50,
        enable_logging: r.enable_logging,
        video_panel: void 0,
        video_panel_float: !1,
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Common"),
            this.setDefaults(),
            this.patchConsole(),
            this.watchHeaderHeight(),
            this.logger.out("initializing")
        },
        setDefaults: function() {
            var e, t = location.pathname;
            0 === t.indexOf("/en_FR/") ? e = "en_FR" : 0 === t.indexOf("/fr_FR/") ? e = "fr_FR" : 0 === t.indexOf("/es_FR/") ? e = "es_FR" : 0 === t.indexOf("/en_GB/") ? e = "en_GB" : 0 === t.indexOf("/en_AU/") ? e = "en_AU" : this.defaultLang && (e = this.defaultLang),
            this.lang = e
        },
        patchConsole: function() {
            (!this.enable_logging && "console" !== t.get("debug") && "true" !== t.get("debug") && "all" !== t.get("loglevel") || "undefined" == typeof console) && !function() {
                for (var e, t = function() {}, i = ["assert", "clear", "count", "debug", "dir", "dirxml", "error", "exception", "group", "groupCollapsed", "groupEnd", "info", "log", "markTimeline", "profile", "profileEnd", "table", "time", "timeEnd", "timeStamp", "trace", "warn"], s = i.length, n = window.console = window.console || {}; s--; )
                    e = i[s],
                    n[e] = t
            }()
        },
        sendAppMessage: function(e, t) {
            if ("ios" === e) {
                "Array" != typeof t.value && (t.value = [t.value]);
                try {
                    var i = window.webkit.messageHandlers[t.type];
                    i.postMessage.apply(i, t.value)
                } catch (e) {
                    this.logger.out("sending app message failed: window.webkit.messageHandlers." + t.type + ".postMessage.apply(window, %o);", t.value)
                }
            } else
                "android" === e && (location.href = "mobileapps://" + t)
        },
        sendiOSMessage: function(e, t) {
            this.sendAppMessage("ios", {
                type: e,
                value: t
            })
        },
        sendAndroidMessage: function(e) {
            this.sendAppMessage("android", e)
        },
        openTimeline: function(e) {
            e.preventDefault();
            var t = n(e.currentTarget).attr("href");
            return window.open(t, "timelineWindow", "width=1024,height=758,resizable=yes,status=no,toolbar=no,menubar=no,location=no"),
            !1
        },
        launchALC: function(e, t, i, s, n) {
            if (Geo.isBlocked())
                location.href = "/en_US/watch/index.html";
            else {
                var a = ""
                  , r = "";
                if ("undefined" == typeof i || !i || "false" === i) {
                    var o = document.location.pathname;
                    "undefined" != typeof n ? a = n : o.indexOf("/en_US/scores/index") !== -1 ? (a = "lb",
                    r = "live_lb") : o.indexOf("/en_US/tournament/schedule") !== -1 ? a = "sch" : o.indexOf("/en_US/index") !== -1 ? a = "home" : (a = o,
                    r = o)
                }
                var l = "/en_US/watch/live.html";
                l += "?videoChannel=" + e,
                l += "&ref=" + a,
                l += "&promo=" + r;
                var h = new Date
                  , c = h.getTime();
                l += "&ts=" + c,
                location.href = l
            }
        },
        getInstallFlashHtml: function() {
            e(["swfobject"], function(e) {
                var i = ""
                  , s = t.get("fl")
                  , a = t.get("br");
                e.hasFlashPlayerVersion("11.2.0") || (i = "<a href='http://get.adobe.com/flashplayer/' title='Download and install Flash here' target='_blank'>Download and install Flash here.</a>");
                var r = "";
                "true" !== s && null !== s && (r += "It has been determined that you need to upgrade or install Flash Player to view the selected content. Please install or upgrade your Flash Player to view the latest content from masters.com.<br><br>",
                r += i + "<br><br>"),
                "true" !== a && null !== a && (r += "The content selected requires features of Flash Player only supported on the following browsers:<br>&nbsp;&nbsp;Internet Explorer 7.0 and higher<br>&nbsp;&nbsp;Mozilla 1.7.5 and higher<br>&nbsp;&nbsp;Firefox 1.0 and higher<br>&nbsp;&nbsp;Opera 9 and higher<br>&nbsp;&nbsp;Safari 1.3 and higher<br><br>Please use one of these browsers to see this content.<br><br>"),
                n("#errorMessage").html(r)
            })
        },
        extractIDs: function(e, t) {
            var i = t;
            return "undefined" == typeof t && (i = "id"),
            Array.prototype.map ? e.map(function(e, t) {
                return parseInt(e[i], 10)
            }) : s.map(e, function(e) {
                return parseInt(e[i], 10)
            })
        },
        isFullScreen: function() {
            return !!(document.fullScreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)
        },
        internalRef: function() {
            var e = document.referrer;
            return "" !== this.referrer || e.search(/\.masters\.com/) > -1
        },
        hideBackLink: function() {
            return !this.internalRef() || window.history.length <= 1
        },
        isExitLink: function(e) {
            if (e.search(/^https?:\/\//) > -1) {
                var t = e.search(/masters\.com/)
                  , i = e.search(/tickets\.masters\.com/);
                if (t === -1 || t > 20 || i > -1)
                    return !0
            }
            return !1
        },
        toTitleCase: function(e) {
            return e.charAt(0).toUpperCase() + e.slice(1)
        },
        watchHeaderHeight: function() {
            a.size() === a.sizes.global ? this.header_height = this.small_header_height : this.header_height = this.large_header_height,
            i.on("windowsize:global:enter", function() {
                this.header_height = this.small_header_height
            }, this),
            i.on("windowsize:global:exit", function() {
                this.header_height = this.large_header_height
            }, this)
        },
        collapseMenus: function(e) {
            a.size() !== a.sizes.global && n.each(e, function(e, t) {
                if ("function" == typeof this.toggleOpenState)
                    this.toggleOpenState(!1);
                else {
                    var i = this;
                    i = i instanceof jQuery ? i : n(i),
                    i.filter(".open").removeClass("open").find(".clone").remove()
                }
            })
        }
    };
    return o
});
var RelatedContent = function(e) {
    var t = {
        event_id: "",
        lang: "en"
    }
      , s = "/relatedcontent/rest/#{event_id}/#{lang}/tags/"
      , n = "/relatedcontent/rest/#{event_id}/#{lang}/content"
      , a = "/#{event_id}_#{id}_#{lang}"
      , r = function(e) {
        var r = ["event_id", "lang"];
        for (i = 0; i < 2; i++) {
            var o = r[i];
            if (void 0 !== e[o] && (t[o] = e[o]),
            "" !== t[o] && s.indexOf(o) > -1) {
                var l = "#{" + o + "}";
                s = s.replace(l, t[o]),
                n = n.replace(l, t[o]),
                a = a.replace(l, t[o])
            }
        }
        "function" == typeof e.callback && e.callback.call(this)
    }
      , o = function() {
        var t, i = {
            type: "tag",
            related: !0,
            filter: "",
            limit: 0,
            start: 1,
            startdate: "",
            enddate: "",
            link_suffix: {},
            normalize: !0,
            title: !0,
            date: !1,
            layout: "single",
            open_in_new: !1,
            stub_text: ""
        };
        return this.content = [],
        this.result = [],
        this.request = e.Deferred().resolve(),
        this.events = e("<div>"),
        this.container = void 0,
        this.create = function(s) {
            if (this.container = s.container,
            this.id = s.id,
            this.url = void 0 !== s.url ? s.url : "",
            this.type = s.type || i.type,
            this.related = void 0 !== s.related ? s.related : i.related,
            this.filter = s.filter || i.filter,
            this.limit = s.limit || i.limit,
            this.start = s.start || i.start,
            this.startdate = s.startdate || i.startdate,
            this.enddate = s.enddate || i.enddate,
            this.adIndex = s.adIndex,
            this.link_suffix = s.link_suffix || i.link_suffix,
            this.normalize = void 0 !== s.normalize ? s.normalize : i.normalize,
            this.title = void 0 !== s.title ? s.title : i.title,
            this.date = void 0 !== s.date ? s.date : i.date,
            this.layout = s.layout || i.layout,
            this.open_in_new = void 0 !== s.open_in_new ? s.open_in_new : i.open_in_new,
            this.stub_text = s.stub_text || i.stub_text,
            this.callback = s.callback,
            "" !== this.stub_text) {
                var n = this.stub_text.match(/#{([^}]*)}/);
                if (null !== n) {
                    var a = n.length - 1;
                    if (a > 0)
                        for (var r = 0; r < a; r++) {
                            var o = n[r + 1]
                              , l = new RegExp("#{" + o + "}");
                            this.stub_text = this.stub_text.replace(l, this[o])
                        }
                }
            }
            t = e.extend(!0, {}, i, t, s)
        }
        ,
        this.reinitialize = function(i) {
            var s = e.extend(!0, {}, t, i);
            this.create(s)
        }
        ,
        arguments.length > 0 ? this.create.apply(this, arguments) : this
    };
    return o.prototype.load = function() {
        var t, i, r = "", o = "", l = 0;
        if ("url" === this.type)
            return "" !== this.url ? this.loadJSON(this.url) : e.Deferred().reject();
        if ("tag" === this.type) {
            r = s;
            var h = this.id;
            if (void 0 !== h.push)
                if (i = h.length,
                o = "",
                i > 0) {
                    if (o = h[0] + "?",
                    i > 1)
                        for (t = 1; t < i; t++)
                            o += "tags=" + h[t] + "&";
                    r += o
                } else
                    r += "?";
            else
                r += h + "?"
        } else if ("content" === this.type) {
            var c = "types";
            if (this.id) {
                var d = a.replace("#{id}", this.id);
                r = n + d,
                this.related && (r += "/content/related",
                c = "type")
            } else
                r = n;
            if ("" !== this.filter) {
                var u = this.filter;
                void 0 !== u.push && (u = u[0]),
                r += "/" + c + "/" + u,
                l = 1
            }
            r += "?"
        }
        if ("" !== this.filter) {
            var p = this.filter;
            if (void 0 !== p.push) {
                for (o = "",
                t = l,
                i = p.length; t < i; t++)
                    o += "types=" + p[t] + "&";
                r += o
            } else
                0 === l && (r += "types=" + p + "&")
        }
        return this.start > 1 && (r += "start=" + this.start + "&"),
        this.limit > 0 && (r += "total=" + this.limit + "&"),
        "" !== this.startdate && (r += "startdate=" + this.startdate + "&"),
        "" !== this.enddate && (r += "enddate=" + this.enddate + "&"),
        this.loadJSON(r)
    }
    ,
    o.prototype.loadJSON = function(t) {
        var i = this;
        return this.request = e.getJSON(t, function(e) {
            var t = "results";
            if (i.result = e[t],
            void 0 !== i.result && i.result.length > 0) {
                if ("url" === i.type)
                    for (var s = 0, n = i.result.length; s < n; s++)
                        if (i.id === i.result[s].cmsId) {
                            i.result.splice(s, 1);
                            break
                        }
                i.normalize ? i.convertContent() : i.content = i.result.slice(0)
            }
            i.postProcess(),
            i.buildHTML()
        }).success(function() {
            "function" == typeof i.callback && i.callback.call(i, {
                status: "success"
            }),
            i.events.trigger("request.success")
        }).fail(function(e) {
            "function" == typeof i.callback && i.callback.call(i, {
                status: "error",
                error: e
            }),
            i.events.trigger("request.error")
        }),
        this.request
    }
    ,
    o.prototype.postProcess = function() {}
    ,
    o.prototype.buildHTML = function() {}
    ,
    o.prototype.convertContent = function() {
        var e = 0
          , t = this.result.length;
        for (e; e < t; e++) {
            var i = this.convertContentItem(this.result[e]);
            if (i !== !1) {
                i.id = t - e;
                var s = i.link;
                void 0 !== this.link_suffix[i.type] && s.search(/^https?:\/\//) === -1 && (s += s.search(/\\\?/) === -1 ? "?" : "&",
                s += "promo=" + this.link_suffix[i.type],
                i.link = s),
                this.content.push(i)
            }
        }
    }
    ,
    o.prototype.convertContentItem = function(e) {
        var t = e;
        return t.link = e.url,
        t
    }
    ,
    {
        init: r,
        List: o,
        daysInWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        shortMonthsInYear: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        longMonthsInYear: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
    }
}($);
define("relatedcontent", ["jquery"], function(e) {
    return function() {
        var t;
        return t || e.RelatedContent
    }
}(this)),
!function(e, t, i) {
    function s(e, t) {
        return typeof e === t
    }
    function n() {
        var e, t, i, n, a, r, o;
        for (var l in y)
            if (y.hasOwnProperty(l)) {
                if (e = [],
                t = y[l],
                t.name && (e.push(t.name.toLowerCase()),
                t.options && t.options.aliases && t.options.aliases.length))
                    for (i = 0; i < t.options.aliases.length; i++)
                        e.push(t.options.aliases[i].toLowerCase());
                for (n = s(t.fn, "function") ? t.fn() : t.fn,
                a = 0; a < e.length; a++)
                    r = e[a],
                    o = r.split("."),
                    1 === o.length ? _[o[0]] = n : (!_[o[0]] || _[o[0]]instanceof Boolean || (_[o[0]] = new Boolean(_[o[0]])),
                    _[o[0]][o[1]] = n),
                    b.push((n ? "" : "no-") + o.join("-"))
            }
    }
    function a(e) {
        var t = x.className
          , i = _._config.classPrefix || "";
        if (C && (t = t.baseVal),
        _._config.enableJSClass) {
            var s = new RegExp("(^|\\s)" + i + "no-js(\\s|$)");
            t = t.replace(s, "$1" + i + "js$2")
        }
        _._config.enableClasses && (t += " " + i + e.join(" " + i),
        C ? x.className.baseVal = t : x.className = t)
    }
    function r(e) {
        return e.replace(/([a-z])-([a-z])/g, function(e, t, i) {
            return t + i.toUpperCase()
        }).replace(/^-/, "")
    }
    function o() {
        return "function" != typeof t.createElement ? t.createElement(arguments[0]) : C ? t.createElementNS.call(t, "http://www.w3.org/2000/svg", arguments[0]) : t.createElement.apply(t, arguments)
    }
    function l(e, t) {
        return !!~("" + e).indexOf(t)
    }
    function h() {
        var e = t.body;
        return e || (e = o(C ? "svg" : "body"),
        e.fake = !0),
        e
    }
    function c(e, i, s, n) {
        var a, r, l, c, d = "modernizr", u = o("div"), p = h();
        if (parseInt(s, 10))
            for (; s--; )
                l = o("div"),
                l.id = n ? n[s] : d + (s + 1),
                u.appendChild(l);
        return a = o("style"),
        a.type = "text/css",
        a.id = "s" + d,
        (p.fake ? p : u).appendChild(a),
        p.appendChild(u),
        a.styleSheet ? a.styleSheet.cssText = e : a.appendChild(t.createTextNode(e)),
        u.id = d,
        p.fake && (p.style.background = "",
        p.style.overflow = "hidden",
        c = x.style.overflow,
        x.style.overflow = "hidden",
        x.appendChild(p)),
        r = i(u, e),
        p.fake ? (p.parentNode.removeChild(p),
        x.style.overflow = c,
        x.offsetHeight) : u.parentNode.removeChild(u),
        !!r
    }
    function d(e, t) {
        return function() {
            return e.apply(t, arguments)
        }
    }
    function u(e, t, i) {
        var n;
        for (var a in e)
            if (e[a]in t)
                return i === !1 ? e[a] : (n = t[e[a]],
                s(n, "function") ? d(n, i || t) : n);
        return !1
    }
    function p(e) {
        return e.replace(/([A-Z])/g, function(e, t) {
            return "-" + t.toLowerCase()
        }).replace(/^ms-/, "-ms-")
    }
    function f(t, s) {
        var n = t.length;
        if ("CSS"in e && "supports"in e.CSS) {
            for (; n--; )
                if (e.CSS.supports(p(t[n]), s))
                    return !0;
            return !1
        }
        if ("CSSSupportsRule"in e) {
            for (var a = []; n--; )
                a.push("(" + p(t[n]) + ":" + s + ")");
            return a = a.join(" or "),
            c("@supports (" + a + ") { #modernizr { position: absolute; } }", function(e) {
                return "absolute" == getComputedStyle(e, null).position
            })
        }
        return i
    }
    function g(e, t, n, a) {
        function h() {
            d && (delete j.style,
            delete j.modElem)
        }
        if (a = !s(a, "undefined") && a,
        !s(n, "undefined")) {
            var c = f(e, n);
            if (!s(c, "undefined"))
                return c
        }
        for (var d, u, p, g, m, v = ["modernizr", "tspan"]; !j.style; )
            d = !0,
            j.modElem = o(v.shift()),
            j.style = j.modElem.style;
        for (p = e.length,
        u = 0; p > u; u++)
            if (g = e[u],
            m = j.style[g],
            l(g, "-") && (g = r(g)),
            j.style[g] !== i) {
                if (a || s(n, "undefined"))
                    return h(),
                    "pfx" != t || g;
                try {
                    j.style[g] = n
                } catch (e) {}
                if (j.style[g] != m)
                    return h(),
                    "pfx" != t || g
            }
        return h(),
        !1
    }
    function m(e, t, i, n, a) {
        var r = e.charAt(0).toUpperCase() + e.slice(1)
          , o = (e + " " + E.join(r + " ") + r).split(" ");
        return s(t, "string") || s(t, "undefined") ? g(o, t, n, a) : (o = (e + " " + S.join(r + " ") + r).split(" "),
        u(o, t, i))
    }
    function v(e, t, s) {
        return m(e, i, i, t, s)
    }
    var b = []
      , y = []
      , w = {
        _version: "3.3.1",
        _config: {
            classPrefix: "",
            enableClasses: !0,
            enableJSClass: !0,
            usePrefixes: !0
        },
        _q: [],
        on: function(e, t) {
            var i = this;
            setTimeout(function() {
                t(i[e])
            }, 0)
        },
        addTest: function(e, t, i) {
            y.push({
                name: e,
                fn: t,
                options: i
            })
        },
        addAsyncTest: function(e) {
            y.push({
                name: null,
                fn: e
            })
        }
    }
      , _ = function() {};
    _.prototype = w,
    _ = new _;
    var k = w._config.usePrefixes ? " -webkit- -moz- -o- -ms- ".split(" ") : ["", ""];
    w._prefixes = k;
    var x = t.documentElement
      , C = "svg" === x.nodeName.toLowerCase();
    C || !function(e, t) {
        function i(e, t) {
            var i = e.createElement("p")
              , s = e.getElementsByTagName("head")[0] || e.documentElement;
            return i.innerHTML = "x<style>" + t + "</style>",
            s.insertBefore(i.lastChild, s.firstChild)
        }
        function s() {
            var e = y.elements;
            return "string" == typeof e ? e.split(" ") : e
        }
        function n(e, t) {
            var i = y.elements;
            "string" != typeof i && (i = i.join(" ")),
            "string" != typeof e && (e = e.join(" ")),
            y.elements = i + " " + e,
            h(t)
        }
        function a(e) {
            var t = b[e[m]];
            return t || (t = {},
            v++,
            e[m] = v,
            b[v] = t),
            t
        }
        function r(e, i, s) {
            if (i || (i = t),
            d)
                return i.createElement(e);
            s || (s = a(i));
            var n;
            return n = s.cache[e] ? s.cache[e].cloneNode() : g.test(e) ? (s.cache[e] = s.createElem(e)).cloneNode() : s.createElem(e),
            !n.canHaveChildren || f.test(e) || n.tagUrn ? n : s.frag.appendChild(n)
        }
        function o(e, i) {
            if (e || (e = t),
            d)
                return e.createDocumentFragment();
            i = i || a(e);
            for (var n = i.frag.cloneNode(), r = 0, o = s(), l = o.length; l > r; r++)
                n.createElement(o[r]);
            return n
        }
        function l(e, t) {
            t.cache || (t.cache = {},
            t.createElem = e.createElement,
            t.createFrag = e.createDocumentFragment,
            t.frag = t.createFrag()),
            e.createElement = function(i) {
                return y.shivMethods ? r(i, e, t) : t.createElem(i)
            }
            ,
            e.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + s().join().replace(/[\w\-:]+/g, function(e) {
                return t.createElem(e),
                t.frag.createElement(e),
                'c("' + e + '")'
            }) + ");return n}")(y, t.frag)
        }
        function h(e) {
            e || (e = t);
            var s = a(e);
            return !y.shivCSS || c || s.hasCSS || (s.hasCSS = !!i(e, "article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),
            d || l(e, s),
            e
        }
        var c, d, u = "3.7.3", p = e.html5 || {}, f = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i, g = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i, m = "_html5shiv", v = 0, b = {};
        !function() {
            try {
                var e = t.createElement("a");
                e.innerHTML = "<xyz></xyz>",
                c = "hidden"in e,
                d = 1 == e.childNodes.length || function() {
                    t.createElement("a");
                    var e = t.createDocumentFragment();
                    return "undefined" == typeof e.cloneNode || "undefined" == typeof e.createDocumentFragment || "undefined" == typeof e.createElement
                }()
            } catch (e) {
                c = !0,
                d = !0
            }
        }();
        var y = {
            elements: p.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",
            version: u,
            shivCSS: p.shivCSS !== !1,
            supportsUnknownElements: d,
            shivMethods: p.shivMethods !== !1,
            type: "default",
            shivDocument: h,
            createElement: r,
            createDocumentFragment: o,
            addElements: n
        };
        e.html5 = y,
        h(t),
        "object" == typeof module && module.exports && (module.exports = y)
    }("undefined" != typeof e ? e : this, t);
    var T = "Moz O ms Webkit"
      , S = w._config.usePrefixes ? T.toLowerCase().split(" ") : [];
    w._domPrefixes = S,
    _.addTest("video", function() {
        var e = o("video")
          , t = !1;
        try {
            (t = !!e.canPlayType) && (t = new Boolean(t),
            t.ogg = e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/, ""),
            t.h264 = e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/, ""),
            t.webm = e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/, ""),
            t.vp9 = e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/, ""),
            t.hls = e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/, ""))
        } catch (e) {}
        return t
    }),
    _.addTest("webgl", function() {
        var t = o("canvas")
          , i = "probablySupportsContext"in t ? "probablySupportsContext" : "supportsContext";
        return i in t ? t[i]("webgl") || t[i]("experimental-webgl") : "WebGLRenderingContext"in e
    }),
    _.addTest("csscalc", function() {
        var e = "width:"
          , t = "calc(10px);"
          , i = o("a");
        return i.style.cssText = e + k.join(t + e),
        !!i.style.length
    });
    var P = "CSS"in e && "supports"in e.CSS
      , M = "supportsCSS"in e;
    _.addTest("supports", P || M);
    var E = w._config.usePrefixes ? T.split(" ") : [];
    w._cssomPrefixes = E;
    var A = function(t) {
        var s, n = k.length, a = e.CSSRule;
        if ("undefined" == typeof a)
            return i;
        if (!t)
            return !1;
        if (t = t.replace(/^@/, ""),
        s = t.replace(/-/g, "_").toUpperCase() + "_RULE",
        s in a)
            return "@" + t;
        for (var r = 0; n > r; r++) {
            var o = k[r]
              , l = o.toUpperCase() + "_" + s;
            if (l in a)
                return "@-" + o.toLowerCase() + "-" + t
        }
        return !1
    };
    w.atRule = A;
    var D = w.testStyles = c
      , L = function() {
        var e = navigator.userAgent
          , t = e.match(/applewebkit\/([0-9]+)/gi) && parseFloat(RegExp.$1)
          , i = e.match(/w(eb)?osbrowser/gi)
          , s = e.match(/windows phone/gi) && e.match(/iemobile\/([0-9])+/gi) && parseFloat(RegExp.$1) >= 9
          , n = 533 > t && e.match(/android/gi);
        return i || n || s
    }();
    L ? _.addTest("fontface", !1) : D('@font-face {font-family:"font";src:url("https://")}', function(e, i) {
        var s = t.getElementById("smodernizr")
          , n = s.sheet || s.styleSheet
          , a = n ? n.cssRules && n.cssRules[0] ? n.cssRules[0].cssText : n.cssText || "" : ""
          , r = /src/i.test(a) && 0 === a.indexOf(i.split(" ")[0]);
        _.addTest("fontface", r)
    });
    var R = {
        elem: o("modernizr")
    };
    _._q.push(function() {
        delete R.elem
    });
    var j = {
        style: R.elem.style
    };
    _._q.unshift(function() {
        delete j.style
    }),
    w.testProp = function(e, t, s) {
        return g([e], i, t, s)
    }
    ,
    w.testAllProps = m;
    var O = w.prefixed = function(e, t, i) {
        return 0 === e.indexOf("@") ? A(e) : (-1 != e.indexOf("-") && (e = r(e)),
        t ? m(e, t, i) : m(e, "pfx"))
    }
    ;
    _.addTest("fullscreen", !(!O("exitFullscreen", t, !1) && !O("cancelFullScreen", t, !1))),
    w.testAllProps = v,
    _.addTest("csstransforms3d", function() {
        var e = !!v("perspective", "1px", !0)
          , t = _._config.usePrefixes;
        if (e && (!t || "webkitPerspective"in x.style)) {
            var i, s = "#modernizr{width:0;height:0}";
            _.supports ? i = "@supports (perspective: 1px)" : (i = "@media (transform-3d)",
            t && (i += ",(-webkit-transform-3d)")),
            i += "{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",
            D(s + i, function(t) {
                e = 7 === t.offsetWidth && 18 === t.offsetHeight
            })
        }
        return e
    }),
    function() {
        _.addTest("csscolumns", function() {
            var e = !1
              , t = v("columnCount");
            try {
                (e = !!t) && (e = new Boolean(e))
            } catch (e) {}
            return e
        });
        for (var e, t, i = ["Width", "Span", "Fill", "Gap", "Rule", "RuleColor", "RuleStyle", "RuleWidth", "BreakBefore", "BreakAfter", "BreakInside"], s = 0; s < i.length; s++)
            e = i[s].toLowerCase(),
            t = v("column" + i[s]),
            ("breakbefore" === e || "breakafter" === e || "breakinside" == e) && (t = t || v(i[s])),
            _.addTest("csscolumns." + e, t)
    }(),
    n(),
    a(b),
    delete w.addTest,
    delete w.addAsyncTest;
    for (var z = 0; z < _._q.length; z++)
        _._q[z]();
    e.Modernizr = _
}(window, document),
define("modernizr", function() {}),
!function(e) {
    function t() {
        var e = new Object
          , t = this;
        return this.core = {
            version: "1.1.4",
            initialized: !1,
            loglevel: ""
        },
        this.json = {},
        this.view = {},
        this.model = {},
        this.collection = {},
        this.service = {},
        this.constants = {
            MINIMUM_REFRESH_TIME_S: 4
        },
        e.start = function() {
            t.core.initialized = !0,
            this.util.updateParams(),
            void 0 != this.util.getUrlParam("loglevel") && (t.core.loglevel = this.util.getUrlParam("loglevel"));
            var e = new this.util.Logger("EventsCore");
            e.info("start - version:%s ll:%o", t.core.version, t.core.loglevel)
        }
        ,
        e.setLogLevel = function(e) {
            t.core.loglevel = e,
            this.util.urlParams.loglevel && (t.core.loglevel = this.util.urlParams.loglevel)
        }
        ,
        e.getLogLevel = function() {
            return t.core.loglevel
        }
        ,
        e.getVersion = function() {
            return t.core.version
        }
        ,
        e
    }
    window.eventsCore = new t
}(jQuery),
function(e, t) {
    "use strict";
    function i() {
        var e = this
          , t = new Object;
        this.urlParams = {},
        this.hashParams = {};
        var i = function() {
            var t, i, s, n = /\+/g, a = /([^&=]+)=?([^&]*)/g, r = function(e) {
                return decodeURIComponent(e.replace(n, " "))
            }, o = {
                hash: "hashParams",
                search: "urlParams"
            };
            for (i in o)
                for (s = window.location[i].substring(1); t = a.exec(s); )
                    e[o[i]][r(t[1])] = r(t[2])
        }
          , n = function(e, t, i) {
            null == i && (i = null);
            var s = this[e][t];
            return null == s && (s = i),
            s
        }
        .bind(this);
        return t.urlParams = e.urlParams,
        t.hashParams = e.hashParams,
        t.getUrlParam = function(e, t) {
            return n("urlParams", e, t)
        }
        ,
        t.getHashParam = function(e, t) {
            return n("hashParams", e, t)
        }
        ,
        t.updateParams = function() {
            e.urlParams = {},
            e.hashParams = {},
            i()
        }
        ,
        t.updateParams(),
        t.Logger = s,
        t
    }
    function s(e) {
        var e = e || "Events"
          , i = new Object
          , s = ""
          , n = function(i, n) {
            var a = Array.prototype.slice.call(n);
            a[0] = "[" + e + "] " + a[0],
            a.join(","),
            s = t.getLogLevel(),
            "function" == typeof console[i] && (s.indexOf(i) > -1 || s.indexOf("all") > -1) && console[i].apply(console, a)
        };
        return i.info = function() {
            n("info", arguments)
        }
        ,
        i.out = function() {
            n("log", arguments)
        }
        ,
        i.debug = function() {
            n("debug", arguments)
        }
        ,
        i.warn = function() {
            n("warn", arguments)
        }
        ,
        i.error = function() {
            n("error", arguments)
        }
        ,
        i
    }
    t.util = new i
}(jQuery, window.eventsCore),
!function(e, t) {
    "use strict";
    function i(i) {
        var s, n, a, r, o, l = i ? "Poller-" + i : "Poller", h = new t.util.Logger(l), c = new Object, d = !1, u = 4e3, p = 2, f = {}, g = {
            cycle: 0,
            lastUpdate: !1,
            paused: !0,
            items: 0,
            fails: 0
        };
        c.getId = function() {
            return l
        }
        ,
        c.getActive = function() {
            return d
        }
        ,
        c.add = function(e, t, i, l) {
            d = !0,
            t >= 0 ? n = u > t ? u : t : (n = -1,
            g.paused = !0),
            s = e || {},
            a = i || !1,
            f = {},
            r = l || !1,
            o = null,
            _.each(s, function(e, t) {
                f[t] = e,
                g.items++
            }),
            h.info("add - feeds:%o interval2:%s", f, n),
            _.isEmpty(f) ? h.warn("error adding feeds - interval:%s feeds:%o", n, f) : c.resume()
        }
        ,
        c.register = function(e, t) {
            if (e = e || "",
            f[e])
                throw new Error("This feed is already registered on this Poller instance.");
            if ("http" !== e.substr(0, 4))
                throw new Error("Path must begin with http (ie. be a fully-fledged URL)");
            f[e] = t,
            1 === f.length && n > FALCON_MIN_POLLING_INTERVAL && resume()
        }
        ,
        c.unregister = function(e, i) {
            i = i || !1,
            e = "string" == typeof e ? e : "",
            f[e] && (delete f[e],
            h.info("Feed detached - %o", e),
            i === !0 && t.json[r] && t.json[r][e] && delete t.json[r][e])
        }
        ,
        c.pause = function() {
            g.paused === !1 && o && (clearInterval(o),
            g.paused = !0)
        }
        ,
        c.resume = function() {
            g.paused === !0 && (g.paused = !1,
            v())
        }
        ,
        c.setFinalCallback = function(e) {
            "function" == typeof e && (a = e)
        }
        ;
        var m = function(e) {
            if (-1 != n) {
                var t = e && e >= u ? e : n;
                o = setTimeout(function() {
                    v()
                }, t)
            }
        }
          , v = function() {
            var i, s = [];
            g.paused !== !0 && (_.each(f, function(i, a) {
                s.push(e.ajax({
                    dataType: "json",
                    url: a
                }).done(function(e) {
                    var s = "function" == typeof i ? i : _.noop;
                    r && (t.json[r] || (t.json[r] = {}),
                    t.json[r][a] = e),
                    g.fails = 0,
                    s(e)
                }).fail(function(e) {
                    g.fails++,
                    g.fails <= p && n > -1 ? (h.info("load - failed feed:%s nextTry:%s", a, g.fails * n * 2),
                    m(g.fails * n * 2)) : g.paused = !0
                }))
            }),
            i = e.when.apply(this, s),
            i.then(function() {
                var e = Array.prototype.slice.call(arguments);
                g.lastUpdate = Math.round(Date.now() / 1e3),
                g.cycle++,
                "function" == typeof a && a(e),
                m()
            }))
        };
        return c
    }
    t.Poller = i
}(jQuery, window.eventsCore),
define("eventsCore", ["jquery"], function() {}),
define("models/news-item", ["require", "backbone", "underscore"], function(e) {
    var t = e("backbone")
      , i = e("underscore")
      , s = {
        photo: "Photo",
        link: "Photo",
        gallery: "Photo",
        video: "Video",
        article: "Article",
        track: "Article",
        text: "Breaking",
        social: "Social",
        stat: "Stats",
        insight: "Insight"
    }
      , n = ["text", "social", "stat"]
      , a = t.Model.extend({
        defaults: {
            size: "full",
            id: "",
            type: "article",
            icon: "",
            label: "",
            caption: "",
            credit: "",
            image: {
                small: "",
                medium: "",
                large: "",
                video: ""
            },
            link: "",
            players: "",
            text: "",
            background: "",
            share: "",
            visible: !0
        },
        idAttribute: "_id",
        initialize: function() {
            this.layout = {
                class: s[this.get("type")],
                isAtomic: i.indexOf(n, this.get("type")) > -1
            }
        },
        parse: function(e) {
            return e.image && void 0 === e.image.video && (e.image.video = ""),
            e
        }
    });
    return a
}),
define("utils/relatedcontent.masters", ["require", "relatedcontent", "models/news-item"], function(e) {
    var t = e("relatedcontent")
      , i = e("models/news-item");
    t.List.prototype.convertContentItem = function(e) {
        var t = new Date(e.date)
          , s = t.getFullYear();
        isNaN(t) && (s = parseInt(e.date.substring(0, 4), 10));
        var n = "half";
        "player" === this.layout && (n = "third");
        var a, r = e.thumb, o = r.match(/\/[ha]_(.*)$/);
        if (null !== o) {
            var l = o[1];
            a = "/images/pics/",
            r = "third" !== n ? {
                small: a + "large/b_" + l,
                medium: a + "thumbs/a_" + l,
                large: a + "large/b_" + l
            } : {
                small: a + "large/b_" + l,
                medium: a + "thumbs/a_" + l,
                large: a + "thumbs/a_" + l
            }
        } else if (o = r.match(/(.*\/)([a-zA-Z]+_.*)1280x720\.jpg$/),
        null !== o) {
            var h = o[2];
            a = o[1],
            r = "third" !== n ? {
                small: a + h + "748x420.jpg",
                medium: a + h + "492x277.jpg",
                large: a + h + "748x420.jpg"
            } : {
                small: a + h + "748x420.jpg",
                medium: a + h + "236x133.jpg",
                large: a + h + "492x277.jpg"
            }
        } else
            r = {
                small: r,
                medium: r,
                large: r
            };
        var c = ""
          , d = "";
        switch (e.type) {
        case "articles":
            c = "article",
            d = "news";
            break;
        case "video":
        case "video_leaderboard":
        case "video_replay":
        case "video_shot_highlight":
            c = "video",
            d = "video";
            break;
        case "photo":
            c = "photo",
            d = "photo";
            break;
        case "galleries":
            c = "galleries",
            d = "gallery"
        }
        return void 0 === e.extradata && (e.extradata = {}),
        new i({
            year: s,
            size: n,
            type: c,
            label: "",
            icon: d,
            caption: e.title,
            image: r,
            link: e.url,
            cmsId: e.cmsId,
            published: e.published,
            photo_count: e.extradata.photo_count,
            sort: e.extradata.sort
        })
    }
    ,
    t.List.prototype.convertContent = function() {
        var e = 0
          , t = this.result.length;
        for (e; e < t; e++) {
            var i = this.convertContentItem(this.result[e]);
            if (i && i !== !1) {
                i.set("id", t - e);
                var s = i.get("link");
                void 0 !== this.link_suffix[i.get("type")] && s.search(/^https?:\/\//) === -1 && (s += s.search(/\\\?/) === -1 ? "?" : "&",
                s += "promo=" + this.link_suffix[i.get("type")],
                i.set("link", s)),
                this.content.push(i)
            }
        }
    }
    ,
    t.List.prototype.fetchContentFromYear = function(e) {
        return e = parseInt(e, 10),
        isNaN(e) ? [] : _.filter(this.content, function(t) {
            return t.year === e
        })
    }
}),
require.config({}),
define("base-app", ["require", "backbone", "router", "settings", "utils/common", "relatedcontent", "modernizr", "eventsCore", "utils/relatedcontent.masters"], function(e) {
    var t = e("backbone")
      , i = e("router")
      , s = e("settings")
      , n = e("utils/common")
      , a = e("relatedcontent");
    e("modernizr"),
    e("eventsCore"),
    e("utils/relatedcontent.masters"),
    t.View.prototype.unveil = function(e, t) {
        var i = _.extend({
            context: this.cid
        }, t);
        e.unveil(i)
    }
    ,
    t.View.prototype.clearUnveil = function() {
        $(window).off(".delegate" + this.cid)
    }
    ,
    t.View.prototype.dispose = function(e) {
        this.onBeforeDispose && this.onBeforeDispose(),
        this.undelegateEvents(),
        e ? (this.$el.empty(),
        this.stopListening()) : this.remove(),
        this.off(),
        this.clearUnveil(),
        console.log("[View disposal] disposing view " + this.cid + ": %o", this),
        this.onDispose && this.onDispose()
    }
    ;
    var r = function() {
        this.init = function() {
            n.initialize(),
            a.init({
                event_id: "masters_" + s.tournament_year
            }),
            this.router = new i
        }
    };
    return r
}),
define("views/menusearch", ["require", "jquery", "backbone"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = t.View.extend({
        el: "#searchBox",
        events: {
            "submit form": "validateSearchForm",
            "submit #searchButton": "validateSearchForm"
        },
        initialize: function() {
            this.query = this.$('input[type="text"]')
        },
        render: function() {},
        validateSearchForm: function() {
            var e = this.query.val();
            return null != e && "" != e && "Search" != e
        }
    });
    return i
}),
function(e, t) {
    "function" == typeof define && define.amd ? define("utils/browser", ["jquery", "underscore", "utils/querystring"], t) : "object" == typeof exports ? module.exports = t(require("jquery"), require("underscore"), require("utils/querystring")) : e.Browser = t(jQuery, _, Querystring)
}(this, function(e, t, i) {
    var s = {
        ua: navigator.userAgent.toLowerCase(),
        name: navigator.appName.toLowerCase(),
        version: parseFloat(navigator.appVersion),
        oldIE: !1,
        ie8: !1,
        ie9: !1,
        ie11: !1,
        ie: !1,
        osx: !1,
        win: !1,
        win7: !1,
        ios: !1,
        ipad: !1,
        android: !1,
        touch: !1,
        safari: !1,
        firefox: !1,
        facebook: !1,
        facebook_ios: !1,
        hls: !1,
        hls_live: !1,
        mobiledevice: !1,
        tabletdevice: !1,
        app: !1,
        apptype: {
            ipad: !1,
            iphone: !1,
            ios: !1,
            android: !1,
            version: 0
        },
        performChecks: function() {
            this.checkOldIE(),
            this.checkHLSDevice(),
            this.checkInApp(),
            this.checkMobileTabletDevice(),
            this.ua.match("firefox") && (this.firefox = !0),
            this.ua.match("win") && (this.win = !0,
            this.ua.match("nt 6.1") && (this.win7 = !0),
            this.ua.match("trident/7.0") && (this.ie11 = !0)),
            this.ua.match("fbios") && (this.facebook = !0,
            this.ios && (this.facebook_ios = !0))
        },
        checkOldIE: function() {
            var t = document.getElementsByTagName("html")[0].className;
            null !== t.match("ie8") && (this.oldIE = !0,
            this.ie8 = !0),
            null !== t.match("ie9") && (this.oldIE = !0,
            this.ie9 = !0),
            this.ie = "microsoft internet explorer" === this.name && this.ua.search("msie") > -1 || "netscape" === this.name && this.ua.search("trident") > -1,
            this.ie && e("html").addClass("ie")
        },
        checkHLSDevice: function() {
            var e, t;
            (this.ua.match(/ip(a|o)d/) || this.ua.match("iphone")) && (this.ios = !0,
            this.hls = !0,
            this.hls_live = !0),
            this.ua.match("safari") && !this.ua.match("chrome") && this.ua.match("mac") && (this.osx = !0,
            this.safari = !0,
            this.hls = !0,
            e = this.ua.match(/version\/([\d.]*)/),
            null !== e && "" !== e[1] && (t = parseFloat(e[1]),
            t >= 7 && (this.hls_live = !0))),
            e = this.ua.match(/android ([\d.]+)/),
            e && e[0] && (this.android = !0,
            this.version = parseFloat(e[1]),
            this.version > 4 && (this.hls = !0,
            this.hls_live = !0))
        },
        checkMobileTabletDevice: function() {
            this.ua.match(/iphone/i) && (this.mobiledevice = !0),
            this.ua.match(/ipad/i) && (this.mobiledevice = !0,
            this.tabletdevice = !0,
            this.ipad = !0),
            this.ua.match(/touch/i) && (this.mobiledevice = !0,
            this.tabletdevice = !0,
            this.touch = !0),
            (this.ua.match(/android/i) || this.ua.match(/silk/i)) && (this.mobiledevice = !0,
            this.tabletdevice = !0)
        },
        checkInApp: function() {
            var s, n = i.params, a = [];
            void 0 !== n.app && (this.app = !0,
            a.push("app")),
            void 0 !== n.ios && (this.app = !0,
            this.apptype.ios = !0,
            a.push("app"),
            a.push("ios")),
            void 0 !== n.ipad && (this.app = !0,
            this.apptype.ipad = !0,
            this.apptype.ios = !0,
            a.push("app"),
            a.push("ios"),
            a.push("ipad")),
            void 0 !== n.iphone && (this.app = !0,
            this.apptype.iphone = !0,
            this.apptype.ios = !0,
            a.push("app"),
            a.push("ios"),
            a.push("iphone")),
            (void 0 !== n.android || this.ua.match("ibm_events_android_apk")) && (this.app = !0,
            this.apptype.android = !0,
            a.push("app"),
            a.push("android"),
            s = this.ua.match(/android ([\d.]+)/),
            s && (this.apptype.version = parseFloat(s[1]))),
            a = t.uniq(a).join(" "),
            e("html").addClass(a)
        }
    };
    return s
}),
function(e) {
    "function" == typeof define && define.amd ? define("jquery.cookie", ["jquery"], e) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
}(function(e) {
    function t(e) {
        return o.raw ? e : encodeURIComponent(e)
    }
    function i(e) {
        return o.raw ? e : decodeURIComponent(e)
    }
    function s(e) {
        return t(o.json ? JSON.stringify(e) : String(e))
    }
    function n(e) {
        0 === e.indexOf('"') && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
        try {
            return e = decodeURIComponent(e.replace(r, " ")),
            o.json ? JSON.parse(e) : e
        } catch (e) {}
    }
    function a(t, i) {
        var s = o.raw ? t : n(t);
        return e.isFunction(i) ? i(s) : s
    }
    var r = /\+/g
      , o = e.cookie = function(n, r, l) {
        if (arguments.length > 1 && !e.isFunction(r)) {
            if (l = e.extend({}, o.defaults, l),
            "number" == typeof l.expires) {
                var h = l.expires
                  , c = l.expires = new Date;
                c.setMilliseconds(c.getMilliseconds() + 864e5 * h)
            }
            return document.cookie = [t(n), "=", s(r), l.expires ? "; expires=" + l.expires.toUTCString() : "", l.path ? "; path=" + l.path : "", l.domain ? "; domain=" + l.domain : "", l.secure ? "; secure" : ""].join("")
        }
        for (var d = n ? void 0 : {}, u = document.cookie ? document.cookie.split("; ") : [], p = 0, f = u.length; p < f; p++) {
            var g = u[p].split("=")
              , m = i(g.shift())
              , v = g.join("=");
            if (n === m) {
                d = a(v, r);
                break
            }
            n || void 0 === (v = a(v)) || (d[m] = v)
        }
        return d
    }
    ;
    o.defaults = {},
    e.removeCookie = function(t, i) {
        return e.cookie(t, "", e.extend({}, i, {
            expires: -1
        })),
        !e.cookie(t)
    }
}),
define("utils/geoblock", ["require", "jquery", "settings", "utils/pubsub", "jquery.cookie"], function(e) {
    var t = e("jquery")
      , i = e("settings")
      , s = e("utils/pubsub");
    e("jquery.cookie");
    var n = function(e) {
        var t = !1
          , a = !1
          , r = void 0
          , o = function(t, i) {
            i = i ? "true" : "false",
            e.cookie("geo_cookie", i, {
                path: "/"
            }),
            l()
        }
          , l = function() {
            t = "true" === e.cookie("geo_cookie"),
            t || (void 0 !== r || i.Scores.post || (r = setInterval(function() {
                d()
            }, 3e4)),
            d()),
            a = !0,
            "function" == typeof n.checkAction && n.checkAction()
        }
          , h = function() {
            return t
        }
          , c = function() {
            return a
        }
          , d = function() {
            e.ajax({
                type: "GET",
                url: "/en_US/xml/gen/alc/liveVideo.js",
                success: function() {
                    s.trigger("livevideo:update")
                },
                error: function() {},
                dataType: "script",
                cache: !0
            })
        };
        return {
            isBlocked: h,
            isLoaded: c,
            geoBlock: o,
            geoBlockHelper: l
        }
    }(t);
    if (window.geoBlock = n.geoBlock,
    ("undefined" == typeof section || void 0 !== section && "welcome" !== section) && ("undefined" == typeof inlineVideo || void 0 !== inlineVideo && !inlineVideo.embed))
        if (t.cookie("geo_cookie"))
            n.geoBlockHelper();
        else {
            var a = document.createElement("script");
            a.src = "http://masters3.edgesuite.net/amencornerlive/geo/geocheck.js",
            a.type = "text/javascript",
            document.getElementsByTagName("head")[0].appendChild(a)
        }
    return n
}),
define("views/submenu", ["require", "jquery", "backbone", "settings", "views/menusearch", "utils/window-size", "utils/browser", "utils/pubsub", "utils/geoblock"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("settings")
      , n = e("views/menusearch")
      , a = e("utils/window-size")
      , r = e("utils/browser")
      , o = e("utils/pubsub")
      , l = (e("utils/geoblock"),
    i.View.extend({
        el: "section.nav-wrap",
        events: {
            "submit form#ksearch": "searchForm"
        },
        initialize: function(e, i) {
            this.$lb_li = this.$("#leaderboard"),
            this.$players_li = this.$("#players"),
            this.$watch_link = this.$("#watch a"),
            this.$shiftPageContainers = this.$el.add(i).add(e),
            this.$html = t("html"),
            this.$submenu = this.$("#submenu"),
            this.search = new n,
            this.listenTo(o, "windowsize:global:exit", this.autoclose),
            this.listenTo(o, "livevideo:update", this.setLiveState),
            this.on("route:change", this.updateNavHighlight),
            this.render()
        },
        render: function() {
            this.setLiveState(),
            this.determineLinks()
        },
        searchForm: function(e) {
            e.preventDefault();
            var s = t(e.currentTarget)
              , n = s.find("#words").val()
              , a = s.attr("action");
            i.history.navigate(a + "?query=" + n, !0),
            this.close(!0),
            s.find("#words").val("")
        },
        determineLinks: function() {
            var e = this.$("#menu_option_lb");
            s.leaderboardPar3 && (e = this.$("#menu_option_par3")),
            this.$lb_li.html(e.html());
            var t = this.$("#menu_option_players");
            s.playersListNav || (t = this.$("#menu_option_invitees")),
            this.$players_li.html(t.html())
        },
        updateNavHighlight: function(e) {
            this.$("li > a.selected").removeClass("selected"),
            this.$('ul li > a[href$="' + e + '"]').addClass("selected")
        },
        open: function() {
            if (console.log("[submenu.js] running open, windowsize: " + a.size()),
            a.size() === a.sizes.global)
                this.$html.addClass("js-nav"),
                r.oldIE && (t("section.page-wrap").css("z-index", -1),
                this.$shiftPageContainers.animate({
                    left: "+=280"
                }, 500, function() {
                    this.$html.addClass("active")
                }
                .bind(this)));
            else if (this.$submenu.addClass("active"),
            r.ie) {
                var e = t("#welcome");
                e.hasClass("hasVideo") && e.hasClass("heroVideo") && e.find(".videoPlayerWrapper object").hide()
            }
        },
        close: function(e) {
            if (console.log("[submenu.js] running close, windowsize: " + a.size()),
            this.$submenu.removeClass("active"),
            a.size() === a.sizes.global)
                r.oldIE ? e ? (t("section.page-wrap").css("z-index", ""),
                this.$html.removeClass("active js-nav")) : this.$shiftPageContainers.animate({
                    left: "-=280"
                }, 500, function() {
                    t("section.page-wrap").css("z-index", ""),
                    this.$html.removeClass("active js-nav")
                }
                .bind(this)) : (e && (this.$html.addClass("js-navigate"),
                setTimeout(function() {
                    this.$html.removeClass("js-navigate")
                }
                .bind(this), 500)),
                this.$html.removeClass("js-nav"));
            else if (this.$html.removeClass("js-nav"),
            r.ie) {
                var i = t("#welcome");
                i.hasClass("hasVideo") && i.hasClass("heroVideo") && i.find(".videoPlayerWrapper object").show()
            }
        },
        autoclose: function() {
            r.oldIE && (this.$html.removeClass("active js-nav"),
            this.$shiftPageContainers.css("left", ""))
        },
        setLiveState: function() {
            var e = this.$watch_link.find(".live")
              , t = e.length > 0;
            "undefined" != typeof live_video && live_video ? t || this.$watch_link.append('<span class="live">Live</span>') : t && e.remove()
        }
    }));
    return l
}),
define("views/sponsors", ["require", "backbone"], function(e) {
    var t = e("backbone")
      , i = t.View.extend({
        el: "#sponsors",
        counter: 1,
        interval: 3e4,
        initialize: function() {
            this.counter = this.getRandomStart()
        },
        render: function() {
            void 0 !== this.timerID && clearInterval(this.timerID),
            this.rotate(),
            this.timerID = setInterval(this.rotate.bind(this), this.interval)
        },
        rotate: function() {
            switch (this.counter % 4) {
            case 3:
                this.$el.children().hide().eq(2).show();
                break;
            case 2:
                this.$el.children().hide().eq(1).show();
                break;
            case 1:
            case 0:
            default:
                this.$el.children().hide().eq(0).show()
            }
            this.counter += 1,
            this.counter >= 4 && (this.counter -= 4)
        },
        getRandomStart: function() {
            var e = 0
              , t = 4;
            return Math.floor(Math.random() * (t - e)) + e
        }
    });
    return i
}),
function(e, t) {
    "undefined" != typeof module ? module.exports = t() : "function" == typeof define && "undefined" != typeof define.amd ? define("AppMeasurement", t) : e.s = t()
}(this, function() {
    function e(e) {
        e.server = window.location.hostname,
        e.pageURL = window.location.href,
        e.isEvent = 1,
        1 == e.isEvent && (e.prop40 = "2017 Masters Pre-Tournament",
        e.prop14 = e.getNewRepeat(999)),
        e.prop37 = location.search.substring(1);
        var t = e.getTimeParting("n", "-5")
          , i = t.substring(0, t.indexOf("|"))
          , s = i.substring(i.indexOf(":") + 1, i.indexOf(" "));
        if (s >= 15 && s < 30 ? e.prop8 = i.substring(0, i.indexOf(":") + 1) + "15" + i.substring(i.indexOf(" ")) : s >= 30 && s < 45 ? e.prop8 = i.substring(0, i.indexOf(":") + 1) + "30" + i.substring(i.indexOf(" ")) : s >= 45 ? e.prop8 = i.substring(0, i.indexOf(":") + 1) + "45" + i.substring(i.indexOf(" ")) : e.prop8 = i.substring(0, i.indexOf(":") + 1) + "00" + i.substring(i.indexOf(" ")),
        e.eVar8 = e.prop8,
        e.eVar9 = e.prop9 = t.substring(t.indexOf("|") + 1),
        "Sunday" == e.eVar9 || "Saturday" == e.eVar9 ? e.eVar10 = e.prop10 = "Weekend" : e.eVar10 = e.prop10 = "Weekday",
        e.prop7 = e.Util.getQueryParam("query"),
        e.prop7 = "Search" == e.prop7 ? "" : e.prop7,
        e.prop7 = "search" == e.prop7 ? "" : e.prop7,
        e.eVar7 = "",
        e.prop7 && (e.uniqueSearch = e.prop7 = e.prop7.toLowerCase(),
        e.eVar7 = e.prop7,
        e.uniqueSearch = e.getValOnce(e.uniqueSearch, "s_c7", 0),
        e.uniqueSearch && (e.events = e.apl(e.events, "event1", ",", 2))),
        e.eVar13 = e.Util.getQueryParam("fpos"),
        e.eVar13 = e.getValOnce(e.eVar13, "s_v13", 0),
        e.eVar14 = e.Util.getQueryParam("fid"),
        "true" == e.eVar14 && (e.eVar14 = e.pageName),
        e.eVar14 = e.getValOnce(e.eVar14, "s_v14", 0),
        (e.eVar13 || e.eVar14) && (e.events = e.apl(e.events, "event6", ",", 2)),
        e.eVar15 = e.prop14 = e.getNewRepeat(999),
        e.promoReferrer = e.referrer ? e.referrer : document.referrer,
        e.promocheck = e.Util.getQueryParam("promo"),
        e.internalPromo = "",
        e.promocheck && (e.internalPromo = e.promoReferrer.indexOf("masters.com") > -1 ? "true" : ""),
        e._channel = e.eVar18 = e.eVar19 = e.eVar20 = e.eVar21 = e.eVar22 = e.campaign = "",
        e.internalPromo || (e.channelManager("promo", "", "", "1"),
        e._channel = "Paid Non-Search" == e._channel ? "Promo" : e._channel,
        e.eVar18 = e._channel,
        e.eVar19 = e._campaignID,
        e.eVar20 = e._keywords,
        e.campaign = e._campaign,
        e.eVar22 = e.crossVisitParticipation(e._channel, "v22", "90", "5", ">", "", 0),
        e.eVar21 = e.crossVisitParticipation(e._campaign, "v21", "90", "5", ">", "", 0)),
        e.eVar11 = e.pageName ? e.pageName : "",
        e.eVar12 = e.channel ? e.channel : "",
        e.eVar1 = e.prop1 ? e.prop1 : "",
        e.eVar2 = e.prop2 ? e.prop2 : "",
        e.hier1 = e.eVar3 = e.prop3 ? e.prop3 : "",
        e.eVar4 = e.prop4 ? e.prop4 : "",
        e.eVar5 = e.prop5 ? e.prop5 : "",
        e.eVar6 = e.prop6 ? e.prop6 : "",
        e.eVar15 = e.prop15 ? e.prop15 : "",
        e.eVar17 = e.prop17 ? e.prop17 : "",
        e.eVar23 = e.prop23 ? e.prop23 : "",
        e.eVar26 = e.prop26 ? e.prop26 : "",
        e.eVar28 = e.prop28 ? e.prop28 : "",
        e.eVar29 = e.prop29 ? e.prop29 : "",
        e.eVar30 = e.prop30 ? e.prop30 : "",
        e.eVar31 = e.prop31 ? e.prop31 : "",
        e.eVar33 = e.prop33 ? e.prop33 : "",
        e.eVar35 = e.prop35 ? e.prop35 : "",
        e.eVar36 = e.prop36 ? e.prop36 : "",
        e.eVar43 = e.prop43 ? e.prop43 : "",
        e.referrer = e.dedupeReferrer(),
        e.bounceCheck(e.eVar18, "event3", "event4"),
        "e" == e.linkType) {
            var n = "";
            try {
                var a = e.Util.getQueryParam("promo", e.linkObject.href);
                a.search(/^hero_/) > -1 && (n += ",event6")
            } catch (e) {}
            e.events = n,
            e.linkTrackVars = "events,prop11,prop12,prop13",
            e.linkTrackEvents = n
        }
        if ("d" == e.linkType && (e.events = "",
        e.linkTrackVars = "events,prop11,prop12,prop13",
        e.linkTrackEvents = ""),
        e.campaign = e.Util.getQueryParam("cmpid"),
        e.campaign = e.getValOnce(e.campaign, "s_v0", 0),
        "Home:Masters 2013 Homepage" == e.pageName) {
            var r = ("http://" + location.host + "/",
            location.host + "/index.html",
            $.cookie("masWelcome"))
              , o = ""
              , l = 0;
            if (null != r && void 0 != r && "" != r)
                var h = r.split(",")
                  , o = h[0]
                  , l = h[1];
            var c = ((new Date).getTime() - l) / 1e3;
            c = Math.floor(c),
            void 0 == o || "" == o ? (e.linkTrackVars = e.apl(e.linkTrackVars, "events", ",", 1),
            e.linkTrackEvents = e.apl(e.linkTrackEvents, "event2", ",", 1),
            e.events = e.apl(e.events, "event2", ",", 1)) : (e.prop43 = o,
            e.eVar43 = e.prop43 ? e.prop43 : "",
            "noflash" != o && (e.prop44 = c,
            e.eVar44 = e.prop44 ? e.prop44 : ""),
            "videoincomplete" != o && "noflash" != o && "clickbeforevideo" != o || (e.linkTrackVars = e.apl(e.linkTrackVars, "events", ",", 1),
            e.linkTrackEvents = e.apl(e.linkTrackEvents, "event2", ",", 1),
            e.events = e.apl(e.events, "event2", ",", 1)),
            $.cookie("masWelcome", "false", {
                path: "/",
                expires: -1
            }))
        } else
            void 0 != e.linkName ? 0 !== e.linkName && e.linkName.indexOf("Welcome") !== -1 ? (e.linkTrackVars = e.apl(e.linkTrackVars, "events", ",", 1),
            e.linkTrackEvents = e.apl(e.linkTrackEvents, "event37", ",", 1),
            e.events = e.apl(e.events, "event37", ",", 1)) : (e.linkTrackVars = e.apl(e.linkTrackVars, "events", ",", 1),
            e.linkTrackEvents = e.apl(e.linkTrackEvents, "event2", ",", 1),
            e.events = e.apl(e.events, "event2", ",", 1)) : "Live:Live Index Page:Geoblocked User" != e.pageName && (e.linkTrackVars = e.apl(e.linkTrackVars, "events", ",", 1),
            e.linkTrackEvents = e.apl(e.linkTrackEvents, "event2", ",", 1),
            e.events = e.apl(e.events, "event2", ",", 1));
        "no" != e.suppressEvent2 && (e.events = null,
        e.events = e.suppressEvent2),
        e.prop51 = e.getPreviousValue(e.pageName, "s_ppn"),
        e.prop52 = e.getPercentPageViewed(),
        e.prop51 && "no value" != e.prop51 || (e.prop52 = "")
    }
    function t() {
        var e = this;
        e.version = "1.7.0";
        var t = window;
        t.s_c_in || (t.s_c_il = [],
        t.s_c_in = 0),
        e._il = t.s_c_il,
        e._in = t.s_c_in,
        e._il[e._in] = e,
        t.s_c_in++,
        e._c = "s_c";
        var i = t.AppMeasurement.Jb;
        i || (i = null);
        var s, n, a = t;
        try {
            for (s = a.parent,
            n = a.location; s && s.location && n && "" + s.location != "" + n && a.location && "" + s.location != "" + a.location && s.location.host == n.host; )
                a = s,
                s = a.parent
        } catch (e) {}
        e.yb = function(e) {
            try {
                console.log(e)
            } catch (e) {}
        }
        ,
        e.Ha = function(e) {
            return "" + parseInt(e) == "" + e
        }
        ,
        e.replace = function(e, t, i) {
            return !e || 0 > e.indexOf(t) ? e : e.split(t).join(i)
        }
        ,
        e.escape = function(t) {
            var i, s;
            if (!t)
                return t;
            for (t = encodeURIComponent(t),
            i = 0; 7 > i; i++)
                s = "+~!*()'".substring(i, i + 1),
                0 <= t.indexOf(s) && (t = e.replace(t, s, "%" + s.charCodeAt(0).toString(16).toUpperCase()));
            return t
        }
        ,
        e.unescape = function(t) {
            if (!t)
                return t;
            t = 0 <= t.indexOf("+") ? e.replace(t, "+", " ") : t;
            try {
                return decodeURIComponent(t)
            } catch (e) {}
            return unescape(t)
        }
        ,
        e.pb = function() {
            var i, s = t.location.hostname, n = e.fpCookieDomainPeriods;
            if (n || (n = e.cookieDomainPeriods),
            s && !e.cookieDomain && !/^[0-9.]+$/.test(s) && (n = n ? parseInt(n) : 2,
            n = 2 < n ? n : 2,
            i = s.lastIndexOf("."),
            0 <= i)) {
                for (; 0 <= i && 1 < n; )
                    i = s.lastIndexOf(".", i - 1),
                    n--;
                e.cookieDomain = 0 < i ? s.substring(i) : s
            }
            return e.cookieDomain
        }
        ,
        e.c_r = e.cookieRead = function(t) {
            t = e.escape(t);
            var i = " " + e.d.cookie
              , s = i.indexOf(" " + t + "=")
              , n = 0 > s ? s : i.indexOf(";", s);
            return t = 0 > s ? "" : e.unescape(i.substring(s + 2 + t.length, 0 > n ? i.length : n)),
            "[[B]]" != t ? t : ""
        }
        ,
        e.c_w = e.cookieWrite = function(t, i, s) {
            var n, a = e.pb(), r = e.cookieLifetime;
            return i = "" + i,
            r = r ? ("" + r).toUpperCase() : "",
            s && "SESSION" != r && "NONE" != r && ((n = "" != i ? parseInt(r ? r : 0) : -60) ? (s = new Date,
            s.setTime(s.getTime() + 1e3 * n)) : 1 == s && (s = new Date,
            n = s.getYear(),
            s.setYear(n + 5 + (1900 > n ? 1900 : 0)))),
            t && "NONE" != r ? (e.d.cookie = e.escape(t) + "=" + e.escape("" != i ? i : "[[B]]") + "; path=/;" + (s && "SESSION" != r ? " expires=" + s.toGMTString() + ";" : "") + (a ? " domain=" + a + ";" : ""),
            e.cookieRead(t) == i) : 0
        }
        ,
        e.K = [],
        e.ha = function(t, i, s) {
            if (e.Aa)
                return 0;
            e.maxDelay || (e.maxDelay = 250);
            var n = 0
              , a = (new Date).getTime() + e.maxDelay
              , r = e.d.visibilityState
              , o = ["webkitvisibilitychange", "visibilitychange"];
            if (r || (r = e.d.webkitVisibilityState),
            r && "prerender" == r) {
                if (!e.ia)
                    for (e.ia = 1,
                    s = 0; s < o.length; s++)
                        e.d.addEventListener(o[s], function() {
                            var t = e.d.visibilityState;
                            t || (t = e.d.webkitVisibilityState),
                            "visible" == t && (e.ia = 0,
                            e.delayReady())
                        });
                n = 1,
                a = 0
            } else
                s || e.p("_d") && (n = 1);
            return n && (e.K.push({
                m: t,
                a: i,
                t: a
            }),
            e.ia || setTimeout(e.delayReady, e.maxDelay)),
            n
        }
        ,
        e.delayReady = function() {
            var t, i = (new Date).getTime(), s = 0;
            for (e.p("_d") ? s = 1 : e.va(); 0 < e.K.length; ) {
                if (t = e.K.shift(),
                s && !t.t && t.t > i) {
                    e.K.unshift(t),
                    setTimeout(e.delayReady, parseInt(e.maxDelay / 2));
                    break
                }
                e.Aa = 1,
                e[t.m].apply(e, t.a),
                e.Aa = 0
            }
        }
        ,
        e.setAccount = e.sa = function(t) {
            var i, s;
            if (!e.ha("setAccount", arguments))
                if (e.account = t,
                e.allAccounts)
                    for (i = e.allAccounts.concat(t.split(",")),
                    e.allAccounts = [],
                    i.sort(),
                    s = 0; s < i.length; s++)
                        0 != s && i[s - 1] == i[s] || e.allAccounts.push(i[s]);
                else
                    e.allAccounts = t.split(",")
        }
        ,
        e.foreachVar = function(t, i) {
            var s, n, a, r, o = "";
            for (a = n = "",
            e.lightProfileID ? (s = e.O,
            (o = e.lightTrackVars) && (o = "," + o + "," + e.ma.join(",") + ",")) : (s = e.g,
            (e.pe || e.linkType) && (o = e.linkTrackVars,
            n = e.linkTrackEvents,
            e.pe && (a = e.pe.substring(0, 1).toUpperCase() + e.pe.substring(1),
            e[a] && (o = e[a].Hb,
            n = e[a].Gb))),
            o && (o = "," + o + "," + e.G.join(",") + ","),
            n && o && (o += ",events,")),
            i && (i = "," + i + ","),
            n = 0; n < s.length; n++)
                a = s[n],
                (r = e[a]) && (!o || 0 <= o.indexOf("," + a + ",")) && (!i || 0 <= i.indexOf("," + a + ",")) && t(a, r)
        }
        ,
        e.r = function(t, i, s, n, a) {
            var r, o, l, h, c = "", d = 0;
            if ("contextData" == t && (t = "c"),
            i) {
                for (r in i)
                    if (!(Object.prototype[r] || a && r.substring(0, a.length) != a) && i[r] && (!s || 0 <= s.indexOf("," + (n ? n + "." : "") + r + ","))) {
                        if (l = !1,
                        d)
                            for (o = 0; o < d.length; o++)
                                r.substring(0, d[o].length) == d[o] && (l = !0);
                        if (!l && ("" == c && (c += "&" + t + "."),
                        o = i[r],
                        a && (r = r.substring(a.length)),
                        0 < r.length))
                            if (l = r.indexOf("."),
                            0 < l)
                                o = r.substring(0, l),
                                l = (a ? a : "") + o + ".",
                                d || (d = []),
                                d.push(l),
                                c += e.r(o, i, s, n, l);
                            else if ("boolean" == typeof o && (o = o ? "true" : "false"),
                            o) {
                                if ("retrieveLightData" == n && 0 > a.indexOf(".contextData."))
                                    switch (l = r.substring(0, 4),
                                    h = r.substring(4),
                                    r) {
                                    case "transactionID":
                                        r = "xact";
                                        break;
                                    case "channel":
                                        r = "ch";
                                        break;
                                    case "campaign":
                                        r = "v0";
                                        break;
                                    default:
                                        e.Ha(h) && ("prop" == l ? r = "c" + h : "eVar" == l ? r = "v" + h : "list" == l ? r = "l" + h : "hier" == l && (r = "h" + h,
                                        o = o.substring(0, 255)))
                                    }
                                c += "&" + e.escape(r) + "=" + e.escape(o)
                            }
                    }
                "" != c && (c += "&." + t)
            }
            return c
        }
        ,
        e.usePostbacks = 0,
        e.sb = function() {
            var t, s, n, a, r, o, l, h, c = "", d = "", u = "", p = a = "";
            if (e.lightProfileID ? (t = e.O,
            (d = e.lightTrackVars) && (d = "," + d + "," + e.ma.join(",") + ",")) : (t = e.g,
            (e.pe || e.linkType) && (d = e.linkTrackVars,
            u = e.linkTrackEvents,
            e.pe && (a = e.pe.substring(0, 1).toUpperCase() + e.pe.substring(1),
            e[a] && (d = e[a].Hb,
            u = e[a].Gb))),
            d && (d = "," + d + "," + e.G.join(",") + ","),
            u && (u = "," + u + ",",
            d && (d += ",events,")),
            e.events2 && (p += ("" != p ? "," : "") + e.events2)),
            e.visitor && 1.5 <= parseFloat(e.visitor.version) && e.visitor.getCustomerIDs) {
                if (a = i,
                r = e.visitor.getCustomerIDs())
                    for (s in r)
                        Object.prototype[s] || (n = r[s],
                        a || (a = {}),
                        n.id && (a[s + ".id"] = n.id),
                        n.authState && (a[s + ".as"] = n.authState));
                a && (c += e.r("cid", a))
            }
            for (e.AudienceManagement && e.AudienceManagement.isReady() && (c += e.r("d", e.AudienceManagement.getEventCallConfigParams())),
            s = 0; s < t.length; s++) {
                if (a = t[s],
                r = e[a],
                n = a.substring(0, 4),
                o = a.substring(4),
                !r && "events" == a && p && (r = p,
                p = ""),
                r && (!d || 0 <= d.indexOf("," + a + ","))) {
                    switch (a) {
                    case "supplementalDataID":
                        a = "sdid";
                        break;
                    case "timestamp":
                        a = "ts";
                        break;
                    case "dynamicVariablePrefix":
                        a = "D";
                        break;
                    case "visitorID":
                        a = "vid";
                        break;
                    case "marketingCloudVisitorID":
                        a = "mid";
                        break;
                    case "analyticsVisitorID":
                        a = "aid";
                        break;
                    case "audienceManagerLocationHint":
                        a = "aamlh";
                        break;
                    case "audienceManagerBlob":
                        a = "aamb";
                        break;
                    case "authState":
                        a = "as";
                        break;
                    case "pageURL":
                        a = "g",
                        255 < r.length && (e.pageURLRest = r.substring(255),
                        r = r.substring(0, 255));
                        break;
                    case "pageURLRest":
                        a = "-g";
                        break;
                    case "referrer":
                        a = "r";
                        break;
                    case "vmk":
                    case "visitorMigrationKey":
                        a = "vmt";
                        break;
                    case "visitorMigrationServer":
                        a = "vmf",
                        e.ssl && e.visitorMigrationServerSecure && (r = "");
                        break;
                    case "visitorMigrationServerSecure":
                        a = "vmf",
                        !e.ssl && e.visitorMigrationServer && (r = "");
                        break;
                    case "charSet":
                        a = "ce";
                        break;
                    case "visitorNamespace":
                        a = "ns";
                        break;
                    case "cookieDomainPeriods":
                        a = "cdp";
                        break;
                    case "cookieLifetime":
                        a = "cl";
                        break;
                    case "variableProvider":
                        a = "vvp";
                        break;
                    case "currencyCode":
                        a = "cc";
                        break;
                    case "channel":
                        a = "ch";
                        break;
                    case "transactionID":
                        a = "xact";
                        break;
                    case "campaign":
                        a = "v0";
                        break;
                    case "latitude":
                        a = "lat";
                        break;
                    case "longitude":
                        a = "lon";
                        break;
                    case "resolution":
                        a = "s";
                        break;
                    case "colorDepth":
                        a = "c";
                        break;
                    case "javascriptVersion":
                        a = "j";
                        break;
                    case "javaEnabled":
                        a = "v";
                        break;
                    case "cookiesEnabled":
                        a = "k";
                        break;
                    case "browserWidth":
                        a = "bw";
                        break;
                    case "browserHeight":
                        a = "bh";
                        break;
                    case "connectionType":
                        a = "ct";
                        break;
                    case "homepage":
                        a = "hp";
                        break;
                    case "events":
                        if (p && (r += ("" != r ? "," : "") + p),
                        u)
                            for (o = r.split(","),
                            r = "",
                            n = 0; n < o.length; n++)
                                l = o[n],
                                h = l.indexOf("="),
                                0 <= h && (l = l.substring(0, h)),
                                h = l.indexOf(":"),
                                0 <= h && (l = l.substring(0, h)),
                                0 <= u.indexOf("," + l + ",") && (r += (r ? "," : "") + o[n]);
                        break;
                    case "events2":
                        r = "";
                        break;
                    case "contextData":
                        c += e.r("c", e[a], d, a),
                        r = "";
                        break;
                    case "lightProfileID":
                        a = "mtp";
                        break;
                    case "lightStoreForSeconds":
                        a = "mtss",
                        e.lightProfileID || (r = "");
                        break;
                    case "lightIncrementBy":
                        a = "mti",
                        e.lightProfileID || (r = "");
                        break;
                    case "retrieveLightProfiles":
                        a = "mtsr";
                        break;
                    case "deleteLightProfiles":
                        a = "mtsd";
                        break;
                    case "retrieveLightData":
                        e.retrieveLightProfiles && (c += e.r("mts", e[a], d, a)),
                        r = "";
                        break;
                    default:
                        e.Ha(o) && ("prop" == n ? a = "c" + o : "eVar" == n ? a = "v" + o : "list" == n ? a = "l" + o : "hier" == n && (a = "h" + o,
                        r = r.substring(0, 255)))
                    }
                    r && (c += "&" + a + "=" + ("pev" != a.substring(0, 3) ? e.escape(r) : r))
                }
                "pev3" == a && e.e && (c += e.e)
            }
            return c
        }
        ,
        e.D = function(e) {
            var t = e.tagName;
            return "undefined" != "" + e.Mb || "undefined" != "" + e.Cb && "HTML" != ("" + e.Cb).toUpperCase() ? "" : (t = t && t.toUpperCase ? t.toUpperCase() : "",
            "SHAPE" == t && (t = ""),
            t && (("INPUT" == t || "BUTTON" == t) && e.type && e.type.toUpperCase ? t = e.type.toUpperCase() : !t && e.href && (t = "A")),
            t)
        }
        ,
        e.Da = function(e) {
            var t, i, s, n = e.href ? e.href : "";
            return t = n.indexOf(":"),
            i = n.indexOf("?"),
            s = n.indexOf("/"),
            n && (0 > t || 0 <= i && t > i || 0 <= s && t > s) && (i = e.protocol && 1 < e.protocol.length ? e.protocol : l.protocol ? l.protocol : "",
            t = l.pathname.lastIndexOf("/"),
            n = (i ? i + "//" : "") + (e.host ? e.host : l.host ? l.host : "") + ("/" != h.substring(0, 1) ? l.pathname.substring(0, 0 > t ? 0 : t) + "/" : "") + n),
            n
        }
        ,
        e.L = function(t) {
            var i, s, n = e.D(t), a = "", r = 0;
            return n && (i = t.protocol,
            s = t.onclick,
            !t.href || "A" != n && "AREA" != n || s && i && !(0 > i.toLowerCase().indexOf("javascript")) ? s ? (a = e.replace(e.replace(e.replace(e.replace("" + s, "\r", ""), "\n", ""), "\t", ""), " ", ""),
            r = 2) : "INPUT" == n || "SUBMIT" == n ? (t.value ? a = t.value : t.innerText ? a = t.innerText : t.textContent && (a = t.textContent),
            r = 3) : "IMAGE" == n && t.src && (a = t.src) : a = e.Da(t),
            a) ? {
                id: a.substring(0, 100),
                type: r
            } : 0
        }
        ,
        e.Kb = function(t) {
            for (var i = e.D(t), s = e.L(t); t && !s && "BODY" != i; )
                (t = t.parentElement ? t.parentElement : t.parentNode) && (i = e.D(t),
                s = e.L(t));
            return s && "BODY" != i || (t = 0),
            t && (i = t.onclick ? "" + t.onclick : "",
            0 <= i.indexOf(".tl(") || 0 <= i.indexOf(".trackLink(")) && (t = 0),
            t
        }
        ,
        e.Bb = function() {
            var i, s, n, a, r = e.linkObject, o = e.linkType, l = e.linkURL;
            if (e.na = 1,
            r || (e.na = 0,
            r = e.clickObject),
            r) {
                for (i = e.D(r),
                s = e.L(r); r && !s && "BODY" != i; )
                    (r = r.parentElement ? r.parentElement : r.parentNode) && (i = e.D(r),
                    s = e.L(r));
                if (s && "BODY" != i || (r = 0),
                r && !e.linkObject) {
                    var h = r.onclick ? "" + r.onclick : "";
                    (0 <= h.indexOf(".tl(") || 0 <= h.indexOf(".trackLink(")) && (r = 0)
                }
            } else
                e.na = 1;
            if (!l && r && (l = e.Da(r)),
            l && !e.linkLeaveQueryString && (n = l.indexOf("?"),
            0 <= n && (l = l.substring(0, n))),
            !o && l) {
                var c, d = 0, u = 0;
                if (e.trackDownloadLinks && e.linkDownloadFileTypes)
                    for (h = l.toLowerCase(),
                    n = h.indexOf("?"),
                    a = h.indexOf("#"),
                    0 <= n ? 0 <= a && a < n && (n = a) : n = a,
                    0 <= n && (h = h.substring(0, n)),
                    n = e.linkDownloadFileTypes.toLowerCase().split(","),
                    a = 0; a < n.length; a++)
                        (c = n[a]) && h.substring(h.length - (c.length + 1)) == "." + c && (o = "d");
                if (e.trackExternalLinks && !o && (h = l.toLowerCase(),
                e.Ga(h) && (e.linkInternalFilters || (e.linkInternalFilters = t.location.hostname),
                n = 0,
                e.linkExternalFilters ? (n = e.linkExternalFilters.toLowerCase().split(","),
                d = 1) : e.linkInternalFilters && (n = e.linkInternalFilters.toLowerCase().split(",")),
                n))) {
                    for (a = 0; a < n.length; a++)
                        c = n[a],
                        0 <= h.indexOf(c) && (u = 1);
                    u ? d && (o = "e") : d || (o = "e")
                }
            }
            e.linkObject = r,
            e.linkURL = l,
            e.linkType = o,
            (e.trackClickMap || e.trackInlineStats) && (e.e = "",
            r && (o = e.pageName,
            l = 1,
            r = r.sourceIndex,
            o || (o = e.pageURL,
            l = 0),
            t.s_objectID && (s.id = t.s_objectID,
            r = s.type = 1),
            o && s && s.id && i && (e.e = "&pid=" + e.escape(o.substring(0, 255)) + (l ? "&pidt=" + l : "") + "&oid=" + e.escape(s.id.substring(0, 100)) + (s.type ? "&oidt=" + s.type : "") + "&ot=" + i + (r ? "&oi=" + r : ""))))
        }
        ,
        e.tb = function() {
            var t = e.na
              , i = e.linkType
              , s = e.linkURL
              , n = e.linkName;
            if (i && (s || n) && (i = i.toLowerCase(),
            "d" != i && "e" != i && (i = "o"),
            e.pe = "lnk_" + i,
            e.pev1 = s ? e.escape(s) : "",
            e.pev2 = n ? e.escape(n) : "",
            t = 1),
            e.abort && (t = 0),
            e.trackClickMap || e.trackInlineStats || e.ActivityMap) {
                var a, r, o, i = {}, s = 0, l = e.cookieRead("s_sq"), h = l ? l.split("&") : 0, l = 0;
                if (h)
                    for (a = 0; a < h.length; a++)
                        r = h[a].split("="),
                        n = e.unescape(r[0]).split(","),
                        r = e.unescape(r[1]),
                        i[r] = n;
                n = e.account.split(","),
                a = {};
                for (o in e.contextData)
                    o && !Object.prototype[o] && "a.activitymap." == o.substring(0, 14) && (a[o] = e.contextData[o],
                    e.contextData[o] = "");
                if (e.e = e.r("c", a) + (e.e ? e.e : ""),
                t || e.e) {
                    t && !e.e && (l = 1);
                    for (r in i)
                        if (!Object.prototype[r])
                            for (o = 0; o < n.length; o++)
                                for (l && (h = i[r].join(","),
                                h == e.account && (e.e += ("&" != r.charAt(0) ? "&" : "") + r,
                                i[r] = [],
                                s = 1)),
                                a = 0; a < i[r].length; a++)
                                    h = i[r][a],
                                    h == n[o] && (l && (e.e += "&u=" + e.escape(h) + ("&" != r.charAt(0) ? "&" : "") + r + "&u=0"),
                                    i[r].splice(a, 1),
                                    s = 1);
                    if (t || (s = 1),
                    s) {
                        l = "",
                        a = 2,
                        !t && e.e && (l = e.escape(n.join(",")) + "=" + e.escape(e.e),
                        a = 1);
                        for (r in i)
                            !Object.prototype[r] && 0 < a && 0 < i[r].length && (l += (l ? "&" : "") + e.escape(i[r].join(",")) + "=" + e.escape(r),
                            a--);
                        e.cookieWrite("s_sq", l)
                    }
                }
            }
            return t
        }
        ,
        e.ub = function() {
            if (!e.Fb) {
                var t, i, s = new Date, n = a.location, r = i = t = "", o = "", l = "", h = "1.2", c = e.cookieWrite("s_cc", "true", 0) ? "Y" : "N", d = "", u = "";
                if (s.setUTCDate && (h = "1.3",
                (0).toPrecision && (h = "1.5",
                s = [],
                s.forEach))) {
                    h = "1.6",
                    i = 0,
                    t = {};
                    try {
                        i = new Iterator(t),
                        i.next && (h = "1.7",
                        s.reduce && (h = "1.8",
                        h.trim && (h = "1.8.1",
                        Date.parse && (h = "1.8.2",
                        Object.create && (h = "1.8.5")))))
                    } catch (e) {}
                }
                t = screen.width + "x" + screen.height,
                r = navigator.javaEnabled() ? "Y" : "N",
                i = screen.pixelDepth ? screen.pixelDepth : screen.colorDepth,
                o = e.w.innerWidth ? e.w.innerWidth : e.d.documentElement.offsetWidth,
                l = e.w.innerHeight ? e.w.innerHeight : e.d.documentElement.offsetHeight;
                try {
                    e.b.addBehavior("#default#homePage"),
                    d = e.b.Lb(n) ? "Y" : "N"
                } catch (e) {}
                try {
                    e.b.addBehavior("#default#clientCaps"),
                    u = e.b.connectionType
                } catch (e) {}
                e.resolution = t,
                e.colorDepth = i,
                e.javascriptVersion = h,
                e.javaEnabled = r,
                e.cookiesEnabled = c,
                e.browserWidth = o,
                e.browserHeight = l,
                e.connectionType = u,
                e.homepage = d,
                e.Fb = 1
            }
        }
        ,
        e.P = {},
        e.loadModule = function(i, s) {
            var n = e.P[i];
            if (!n) {
                n = t["AppMeasurement_Module_" + i] ? new t["AppMeasurement_Module_" + i](e) : {},
                e.P[i] = e[i] = n,
                n.Xa = function() {
                    return n.ab
                }
                ,
                n.bb = function(t) {
                    (n.ab = t) && (e[i + "_onLoad"] = t,
                    e.ha(i + "_onLoad", [e, n], 1) || t(e, n))
                }
                ;
                try {
                    Object.defineProperty ? Object.defineProperty(n, "onLoad", {
                        get: n.Xa,
                        set: n.bb
                    }) : n._olc = 1
                } catch (e) {
                    n._olc = 1
                }
            }
            s && (e[i + "_onLoad"] = s,
            e.ha(i + "_onLoad", [e, n], 1) || s(e, n))
        }
        ,
        e.p = function(t) {
            var i, s;
            for (i in e.P)
                if (!Object.prototype[i] && (s = e.P[i]) && (s._olc && s.onLoad && (s._olc = 0,
                s.onLoad(e, s)),
                s[t] && s[t]()))
                    return 1;
            return 0
        }
        ,
        e.wb = function() {
            var t = Math.floor(1e13 * Math.random())
              , i = e.visitorSampling
              , s = e.visitorSamplingGroup
              , s = "s_vsn_" + (e.visitorNamespace ? e.visitorNamespace : e.account) + (s ? "_" + s : "")
              , n = e.cookieRead(s);
            if (i) {
                if (n && (n = parseInt(n)),
                !n) {
                    if (!e.cookieWrite(s, t))
                        return 0;
                    n = t
                }
                if (n % 1e4 > v)
                    return 0
            }
            return 1
        }
        ,
        e.Q = function(t, i) {
            var s, n, a, r, o, l;
            for (s = 0; 2 > s; s++)
                for (n = 0 < s ? e.wa : e.g,
                a = 0; a < n.length; a++)
                    if (r = n[a],
                    (o = t[r]) || t["!" + r]) {
                        if (!i && ("contextData" == r || "retrieveLightData" == r) && e[r])
                            for (l in e[r])
                                o[l] || (o[l] = e[r][l]);
                        e[r] = o
                    }
        }
        ,
        e.Qa = function(t, i) {
            var s, n, a, r;
            for (s = 0; 2 > s; s++)
                for (n = 0 < s ? e.wa : e.g,
                a = 0; a < n.length; a++)
                    r = n[a],
                    t[r] = e[r],
                    i || t[r] || (t["!" + r] = 1)
        }
        ,
        e.ob = function(e) {
            var t, i, s, n, a, r, o = 0, l = "", h = "";
            if (e && 255 < e.length && (t = "" + e,
            i = t.indexOf("?"),
            0 < i && (r = t.substring(i + 1),
            t = t.substring(0, i),
            n = t.toLowerCase(),
            s = 0,
            "http://" == n.substring(0, 7) ? s += 7 : "https://" == n.substring(0, 8) && (s += 8),
            i = n.indexOf("/", s),
            0 < i && (n = n.substring(s, i),
            a = t.substring(i),
            t = t.substring(0, i),
            0 <= n.indexOf("google") ? o = ",q,ie,start,search_key,word,kw,cd," : 0 <= n.indexOf("yahoo.co") && (o = ",p,ei,"),
            o && r)))) {
                if ((e = r.split("&")) && 1 < e.length) {
                    for (s = 0; s < e.length; s++)
                        n = e[s],
                        i = n.indexOf("="),
                        0 < i && 0 <= o.indexOf("," + n.substring(0, i) + ",") ? l += (l ? "&" : "") + n : h += (h ? "&" : "") + n;
                    l && h ? r = l + "&" + h : h = ""
                }
                i = 253 - (r.length - h.length) - t.length,
                e = t + (0 < i ? a.substring(0, i) : "") + "?" + r
            }
            return e
        }
        ,
        e.Wa = function(t) {
            var i = e.d.visibilityState
              , s = ["webkitvisibilitychange", "visibilitychange"];
            if (i || (i = e.d.webkitVisibilityState),
            i && "prerender" == i) {
                if (t)
                    for (i = 0; i < s.length; i++)
                        e.d.addEventListener(s[i], function() {
                            var i = e.d.visibilityState;
                            i || (i = e.d.webkitVisibilityState),
                            "visible" == i && t()
                        });
                return !1
            }
            return !0
        }
        ,
        e.da = !1,
        e.I = !1,
        e.eb = function() {
            e.I = !0,
            e.j()
        }
        ,
        e.ba = !1,
        e.U = !1,
        e.$a = function(t) {
            e.marketingCloudVisitorID = t,
            e.U = !0,
            e.j()
        }
        ,
        e.ea = !1,
        e.V = !1,
        e.fb = function(t) {
            e.visitorOptedOut = t,
            e.V = !0,
            e.j()
        }
        ,
        e.Y = !1,
        e.R = !1,
        e.Sa = function(t) {
            e.analyticsVisitorID = t,
            e.R = !0,
            e.j()
        }
        ,
        e.aa = !1,
        e.T = !1,
        e.Ua = function(t) {
            e.audienceManagerLocationHint = t,
            e.T = !0,
            e.j()
        }
        ,
        e.Z = !1,
        e.S = !1,
        e.Ta = function(t) {
            e.audienceManagerBlob = t,
            e.S = !0,
            e.j()
        }
        ,
        e.Va = function(t) {
            return e.maxDelay || (e.maxDelay = 250),
            !e.p("_d") || (t && setTimeout(function() {
                t()
            }, e.maxDelay),
            !1)
        }
        ,
        e.ca = !1,
        e.H = !1,
        e.va = function() {
            e.H = !0,
            e.j()
        }
        ,
        e.isReadyToTrack = function() {
            var t, s, n, a = !0, r = e.visitor;
            return e.da || e.I || (e.Wa(e.eb) ? e.I = !0 : e.da = !0),
            !(e.da && !e.I) && (r && r.isAllowed() && (e.ba || e.marketingCloudVisitorID || !r.getMarketingCloudVisitorID || (e.ba = !0,
            e.marketingCloudVisitorID = r.getMarketingCloudVisitorID([e, e.$a]),
            e.marketingCloudVisitorID && (e.U = !0)),
            e.ea || e.visitorOptedOut || !r.isOptedOut || (e.ea = !0,
            e.visitorOptedOut = r.isOptedOut([e, e.fb]),
            e.visitorOptedOut != i && (e.V = !0)),
            e.Y || e.analyticsVisitorID || !r.getAnalyticsVisitorID || (e.Y = !0,
            e.analyticsVisitorID = r.getAnalyticsVisitorID([e, e.Sa]),
            e.analyticsVisitorID && (e.R = !0)),
            e.aa || e.audienceManagerLocationHint || !r.getAudienceManagerLocationHint || (e.aa = !0,
            e.audienceManagerLocationHint = r.getAudienceManagerLocationHint([e, e.Ua]),
            e.audienceManagerLocationHint && (e.T = !0)),
            e.Z || e.audienceManagerBlob || !r.getAudienceManagerBlob || (e.Z = !0,
            e.audienceManagerBlob = r.getAudienceManagerBlob([e, e.Ta]),
            e.audienceManagerBlob && (e.S = !0)),
            a = e.ba && !e.U && !e.marketingCloudVisitorID,
            r = e.Y && !e.R && !e.analyticsVisitorID,
            t = e.aa && !e.T && !e.audienceManagerLocationHint,
            s = e.Z && !e.S && !e.audienceManagerBlob,
            n = e.ea && !e.V,
            a = !(a || r || t || s || n)),
            e.ca || e.H || (e.Va(e.va) ? e.H = !0 : e.ca = !0),
            e.ca && !e.H && (a = !1),
            a)
        }
        ,
        e.o = i,
        e.u = 0,
        e.callbackWhenReadyToTrack = function(t, s, n) {
            var a;
            a = {},
            a.jb = t,
            a.ib = s,
            a.gb = n,
            e.o == i && (e.o = []),
            e.o.push(a),
            0 == e.u && (e.u = setInterval(e.j, 100))
        }
        ,
        e.j = function() {
            var t;
            if (e.isReadyToTrack() && (e.cb(),
            e.o != i))
                for (; 0 < e.o.length; )
                    t = e.o.shift(),
                    t.ib.apply(t.jb, t.gb)
        }
        ,
        e.cb = function() {
            e.u && (clearInterval(e.u),
            e.u = 0)
        }
        ,
        e.Ya = function(t) {
            var s, n, a = i, r = i;
            if (!e.isReadyToTrack()) {
                if (s = [],
                t != i)
                    for (n in a = {},
                    t)
                        a[n] = t[n];
                return r = {},
                e.Qa(r, !0),
                s.push(a),
                s.push(r),
                e.callbackWhenReadyToTrack(e, e.track, s),
                !0
            }
            return !1
        }
        ,
        e.qb = function() {
            var t, i = e.cookieRead("s_fid"), s = "", n = "";
            t = 8;
            var a = 4;
            if (!i || 0 > i.indexOf("-")) {
                for (i = 0; 16 > i; i++)
                    t = Math.floor(Math.random() * t),
                    s += "0123456789ABCDEF".substring(t, t + 1),
                    t = Math.floor(Math.random() * a),
                    n += "0123456789ABCDEF".substring(t, t + 1),
                    t = a = 16;
                i = s + "-" + n
            }
            return e.cookieWrite("s_fid", i, 1) || (i = 0),
            i
        }
        ,
        e.t = e.track = function(i, s) {
            var n, r = new Date, o = "s" + Math.floor(r.getTime() / 108e5) % 10 + Math.floor(1e13 * Math.random()), l = r.getYear(), l = "t=" + e.escape(r.getDate() + "/" + r.getMonth() + "/" + (1900 > l ? l + 1900 : l) + " " + r.getHours() + ":" + r.getMinutes() + ":" + r.getSeconds() + " " + r.getDay() + " " + r.getTimezoneOffset());
            e.visitor && (e.visitor.getAuthState && (e.authState = e.visitor.getAuthState()),
            !e.supplementalDataID && e.visitor.getSupplementalDataID && (e.supplementalDataID = e.visitor.getSupplementalDataID("AppMeasurement:" + e._in, !e.expectSupplementalData))),
            e.p("_s"),
            e.Ya(i) || (s && e.Q(s),
            i && (n = {},
            e.Qa(n, 0),
            e.Q(i)),
            e.wb() && !e.visitorOptedOut && (e.analyticsVisitorID || e.marketingCloudVisitorID || (e.fid = e.qb()),
            e.Bb(),
            e.usePlugins && e.doPlugins && e.doPlugins(e),
            e.account && (e.abort || (e.trackOffline && !e.timestamp && (e.timestamp = Math.floor(r.getTime() / 1e3)),
            r = t.location,
            e.pageURL || (e.pageURL = r.href ? r.href : r),
            e.referrer || e.Ra || (e.referrer = a.document.referrer),
            e.Ra = 1,
            e.referrer = e.ob(e.referrer),
            e.p("_g")),
            e.tb() && !e.abort && (e.ub(),
            l += e.sb(),
            e.Ab(o, l),
            e.p("_t"),
            e.referrer = ""))),
            i && e.Q(n, 1)),
            e.abort = e.supplementalDataID = e.timestamp = e.pageURLRest = e.linkObject = e.clickObject = e.linkURL = e.linkName = e.linkType = t.s_objectID = e.pe = e.pev1 = e.pev2 = e.pev3 = e.e = e.lightProfileID = 0
        }
        ,
        e.tl = e.trackLink = function(t, i, s, n, a) {
            return e.linkObject = t,
            e.linkType = i,
            e.linkName = s,
            a && (e.l = t,
            e.A = a),
            e.track(n)
        }
        ,
        e.trackLight = function(t, i, s, n) {
            return e.lightProfileID = t,
            e.lightStoreForSeconds = i,
            e.lightIncrementBy = s,
            e.track(n)
        }
        ,
        e.clearVars = function() {
            var t, i;
            for (t = 0; t < e.g.length; t++)
                i = e.g[t],
                ("prop" == i.substring(0, 4) || "eVar" == i.substring(0, 4) || "hier" == i.substring(0, 4) || "list" == i.substring(0, 4) || "channel" == i || "events" == i || "eventList" == i || "products" == i || "productList" == i || "purchaseID" == i || "transactionID" == i || "state" == i || "zip" == i || "campaign" == i) && (e[i] = void 0)
        }
        ,
        e.tagContainerMarker = "",
        e.Ab = function(t, i) {
            var s, n = e.trackingServer;
            s = "";
            var a = e.dc
              , r = "sc."
              , o = e.visitorNamespace;
            n ? e.trackingServerSecure && e.ssl && (n = e.trackingServerSecure) : (o || (o = e.account,
            n = o.indexOf(","),
            0 <= n && (o = o.substring(0, n)),
            o = o.replace(/[^A-Za-z0-9]/g, "")),
            s || (s = "2o7.net"),
            a = a ? ("" + a).toLowerCase() : "d1",
            "2o7.net" == s && ("d1" == a ? a = "112" : "d2" == a && (a = "122"),
            r = ""),
            n = o + "." + a + "." + r + s),
            s = e.ssl ? "https://" : "http://",
            a = e.AudienceManagement && e.AudienceManagement.isReady() || 0 != e.usePostbacks,
            s += n + "/b/ss/" + e.account + "/" + (e.mobile ? "5." : "") + (a ? "10" : "1") + "/JS-" + e.version + (e.Eb ? "T" : "") + (e.tagContainerMarker ? "-" + e.tagContainerMarker : "") + "/" + t + "?AQB=1&ndh=1&pf=1&" + (a ? "callback=s_c_il[" + e._in + "].doPostbacks&et=1&" : "") + i + "&AQE=1",
            e.mb(s),
            e.ja()
        }
        ,
        e.Pa = /{(%?)(.*?)(%?)}/,
        e.Ib = RegExp(e.Pa.source, "g"),
        e.nb = function(t) {
            if ("object" == typeof t.dests)
                for (var i = 0; i < t.dests.length; ++i)
                    if (o = t.dests[i],
                    "string" == typeof o.c && "aa." == o.id.substr(0, 3))
                        for (var s = o.c.match(e.Ib), i = 0; i < s.length; ++i) {
                            match = s[i];
                            var n = match.match(e.Pa)
                              , a = "";
                            "%" == n[1] && "timezone_offset" == n[2] ? a = (new Date).getTimezoneOffset() : "%" == n[1] && "timestampz" == n[2] && (a = e.rb()),
                            o.c = o.c.replace(match, e.escape(a))
                        }
        }
        ,
        e.rb = function() {
            var t = new Date
              , i = new Date(6e4 * Math.abs(t.getTimezoneOffset()));
            return e.k(4, t.getFullYear()) + "-" + e.k(2, t.getMonth() + 1) + "-" + e.k(2, t.getDate()) + "T" + e.k(2, t.getHours()) + ":" + e.k(2, t.getMinutes()) + ":" + e.k(2, t.getSeconds()) + (0 < t.getTimezoneOffset() ? "-" : "+") + e.k(2, i.getUTCHours()) + ":" + e.k(2, i.getUTCMinutes())
        }
        ,
        e.k = function(e, t) {
            return (Array(e + 1).join(0) + t).slice(-e)
        }
        ,
        e.ra = {},
        e.doPostbacks = function(t) {
            if ("object" == typeof t)
                if (e.nb(t),
                "object" == typeof e.AudienceManagement && "function" == typeof e.AudienceManagement.isReady && e.AudienceManagement.isReady() && "function" == typeof e.AudienceManagement.passData)
                    e.AudienceManagement.passData(t);
                else if ("object" == typeof t && "object" == typeof t.dests)
                    for (var i = 0; i < t.dests.length; ++i)
                        dest = t.dests[i],
                        "object" == typeof dest && "string" == typeof dest.c && "string" == typeof dest.id && "aa." == dest.id.substr(0, 3) && (e.ra[dest.id] = new Image,
                        e.ra[dest.id].alt = "",
                        e.ra[dest.id].src = dest.c)
        }
        ,
        e.mb = function(t) {
            e.i || e.vb(),
            e.i.push(t),
            e.la = e.C(),
            e.Na()
        }
        ,
        e.vb = function() {
            e.i = e.xb(),
            e.i || (e.i = [])
        }
        ,
        e.xb = function() {
            var i, s;
            if (e.qa()) {
                try {
                    (s = t.localStorage.getItem(e.oa())) && (i = t.JSON.parse(s))
                } catch (e) {}
                return i
            }
        }
        ,
        e.qa = function() {
            var i = !0;
            return e.trackOffline && e.offlineFilename && t.localStorage && t.JSON || (i = !1),
            i
        }
        ,
        e.Ea = function() {
            var t = 0;
            return e.i && (t = e.i.length),
            e.q && t++,
            t
        }
        ,
        e.ja = function() {
            if (!e.q || (e.B && e.B.complete && e.B.F && e.B.ua(),
            !e.q))
                if (e.Fa = i,
                e.pa)
                    e.la > e.N && e.La(e.i),
                    e.ta(500);
                else {
                    var t = e.hb();
                    0 < t ? e.ta(t) : (t = e.Ba()) && (e.q = 1,
                    e.zb(t),
                    e.Db(t))
                }
        }
        ,
        e.ta = function(t) {
            e.Fa || (t || (t = 0),
            e.Fa = setTimeout(e.ja, t))
        }
        ,
        e.hb = function() {
            var t;
            return !e.trackOffline || 0 >= e.offlineThrottleDelay ? 0 : (t = e.C() - e.Ka,
            e.offlineThrottleDelay < t ? 0 : e.offlineThrottleDelay - t)
        }
        ,
        e.Ba = function() {
            if (0 < e.i.length)
                return e.i.shift()
        }
        ,
        e.zb = function(t) {
            if (e.debugTracking) {
                var i = "AppMeasurement Debug: " + t;
                t = t.split("&");
                var s;
                for (s = 0; s < t.length; s++)
                    i += "\n\t" + e.unescape(t[s]);
                e.yb(i)
            }
        }
        ,
        e.Za = function() {
            return e.marketingCloudVisitorID || e.analyticsVisitorID
        }
        ,
        e.X = !1;
        var r;
        try {
            r = JSON.parse('{"x":"y"}')
        } catch (e) {
            r = null
        }
        r && "y" == r.x ? (e.X = !0,
        e.W = function(e) {
            return JSON.parse(e)
        }
        ) : t.$ && t.$.parseJSON ? (e.W = function(e) {
            return t.$.parseJSON(e)
        }
        ,
        e.X = !0) : e.W = function() {
            return null
        }
        ,
        e.Db = function(s) {
            var n, a, r;
            if (e.Za() && 2047 < s.length && ("undefined" != typeof XMLHttpRequest && (n = new XMLHttpRequest,
            "withCredentials"in n ? a = 1 : n = 0),
            n || "undefined" == typeof XDomainRequest || (n = new XDomainRequest,
            a = 2),
            n && (e.AudienceManagement && e.AudienceManagement.isReady() || 0 != e.usePostbacks) && (e.X ? n.xa = !0 : n = 0)),
            !n && e.Oa && (s = s.substring(0, 2047)),
            !n && e.d.createElement && (0 != e.usePostbacks || e.AudienceManagement && e.AudienceManagement.isReady()) && (n = e.d.createElement("SCRIPT")) && "async"in n && ((r = (r = e.d.getElementsByTagName("HEAD")) && r[0] ? r[0] : e.d.body) ? (n.type = "text/javascript",
            n.setAttribute("async", "async"),
            a = 3) : n = 0),
            n || (n = new Image,
            n.alt = "",
            n.abort || "undefined" == typeof t.InstallTrigger || (n.abort = function() {
                n.src = i
            }
            )),
            n.za = function() {
                try {
                    n.F && (clearTimeout(n.F),
                    n.F = 0)
                } catch (e) {}
            }
            ,
            n.onload = n.ua = function() {
                if (n.za(),
                e.lb(),
                e.fa(),
                e.q = 0,
                e.ja(),
                n.xa) {
                    n.xa = !1;
                    try {
                        e.doPostbacks(e.W(n.responseText))
                    } catch (e) {}
                }
            }
            ,
            n.onabort = n.onerror = n.Ca = function() {
                n.za(),
                (e.trackOffline || e.pa) && e.q && e.i.unshift(e.kb),
                e.q = 0,
                e.la > e.N && e.La(e.i),
                e.fa(),
                e.ta(500)
            }
            ,
            n.onreadystatechange = function() {
                4 == n.readyState && (200 == n.status ? n.ua() : n.Ca())
            }
            ,
            e.Ka = e.C(),
            1 == a || 2 == a) {
                var o = s.indexOf("?");
                r = s.substring(0, o),
                o = s.substring(o + 1),
                o = o.replace(/&callback=[a-zA-Z0-9_.\[\]]+/, ""),
                1 == a ? (n.open("POST", r, !0),
                n.send(o)) : 2 == a && (n.open("POST", r),
                n.send(o))
            } else if (n.src = s,
            3 == a) {
                if (e.Ia)
                    try {
                        r.removeChild(e.Ia)
                    } catch (e) {}
                r.firstChild ? r.insertBefore(n, r.firstChild) : r.appendChild(n),
                e.Ia = e.B
            }
            n.F = setTimeout(function() {
                n.F && (n.complete ? n.ua() : (e.trackOffline && n.abort && n.abort(),
                n.Ca()))
            }, 5e3),
            e.kb = s,
            e.B = t["s_i_" + e.replace(e.account, ",", "_")] = n,
            (e.useForcedLinkTracking && e.J || e.A) && (e.forcedLinkTrackingTimeout || (e.forcedLinkTrackingTimeout = 250),
            e.ga = setTimeout(e.fa, e.forcedLinkTrackingTimeout))
        }
        ,
        e.lb = function() {
            if (e.qa() && !(e.Ja > e.N))
                try {
                    t.localStorage.removeItem(e.oa()),
                    e.Ja = e.C()
                } catch (e) {}
        }
        ,
        e.La = function(i) {
            if (e.qa()) {
                e.Na();
                try {
                    t.localStorage.setItem(e.oa(), t.JSON.stringify(i)),
                    e.N = e.C()
                } catch (e) {}
            }
        }
        ,
        e.Na = function() {
            if (e.trackOffline)
                for ((!e.offlineLimit || 0 >= e.offlineLimit) && (e.offlineLimit = 10); e.i.length > e.offlineLimit; )
                    e.Ba()
        }
        ,
        e.forceOffline = function() {
            e.pa = !0
        }
        ,
        e.forceOnline = function() {
            e.pa = !1
        }
        ,
        e.oa = function() {
            return e.offlineFilename + "-" + e.visitorNamespace + e.account
        }
        ,
        e.C = function() {
            return (new Date).getTime()
        }
        ,
        e.Ga = function(e) {
            return e = e.toLowerCase(),
            0 != e.indexOf("#") && 0 != e.indexOf("about:") && 0 != e.indexOf("opera:") && 0 != e.indexOf("javascript:")
        }
        ,
        e.setTagContainer = function(t) {
            var i, s, n;
            for (e.Eb = t,
            i = 0; i < e._il.length; i++)
                if ((s = e._il[i]) && "s_l" == s._c && s.tagContainerName == t) {
                    if (e.Q(s),
                    s.lmq)
                        for (i = 0; i < s.lmq.length; i++)
                            n = s.lmq[i],
                            e.loadModule(n.n);
                    if (s.ml)
                        for (n in s.ml)
                            if (e[n])
                                for (i in t = e[n],
                                n = s.ml[n])
                                    !Object.prototype[i] && ("function" != typeof n[i] || 0 > ("" + n[i]).indexOf("s_c_il")) && (t[i] = n[i]);
                    if (s.mmq)
                        for (i = 0; i < s.mmq.length; i++)
                            n = s.mmq[i],
                            e[n.m] && (t = e[n.m],
                            t[n.f] && "function" == typeof t[n.f] && (n.a ? t[n.f].apply(t, n.a) : t[n.f].apply(t)));
                    if (s.tq)
                        for (i = 0; i < s.tq.length; i++)
                            e.track(s.tq[i]);
                    s.s = e;
                    break
                }
        }
        ,
        e.Util = {
            urlEncode: e.escape,
            urlDecode: e.unescape,
            cookieRead: e.cookieRead,
            cookieWrite: e.cookieWrite,
            getQueryParam: function(i, s, n) {
                var a;
                return s || (s = e.pageURL ? e.pageURL : t.location),
                n || (n = "&"),
                i && s && (s = "" + s,
                a = s.indexOf("?"),
                0 <= a && (s = n + s.substring(a + 1) + n,
                a = s.indexOf(n + i + "="),
                0 <= a && (s = s.substring(a + n.length + i.length + 1),
                a = s.indexOf(n),
                0 <= a && (s = s.substring(0, a)),
                0 < s.length))) ? e.unescape(s) : ""
            }
        },
        e.G = "supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),
        e.g = e.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),
        e.ma = "timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),
        e.O = e.ma.slice(0),
        e.wa = "account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks AudienceManagement".split(" ");
        for (s = 0; 250 >= s; s++)
            76 > s && (e.g.push("prop" + s),
            e.O.push("prop" + s)),
            e.g.push("eVar" + s),
            e.O.push("eVar" + s),
            6 > s && e.g.push("hier" + s),
            4 > s && e.g.push("list" + s);
        s = "pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" "),
        e.g = e.g.concat(s),
        e.G = e.G.concat(s),
        e.ssl = 0 <= t.location.protocol.toLowerCase().indexOf("https"),
        e.charSet = "UTF-8",
        e.contextData = {},
        e.offlineThrottleDelay = 0,
        e.offlineFilename = "AppMeasurement.offline",
        e.Ka = 0,
        e.la = 0,
        e.N = 0,
        e.Ja = 0,
        e.linkDownloadFileTypes = "exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",
        e.w = t,
        e.d = t.document;
        try {
            if (e.Oa = !1,
            navigator) {
                var c = navigator.userAgent;
                ("Microsoft Internet Explorer" == navigator.appName || 0 <= c.indexOf("MSIE ") || 0 <= c.indexOf("Trident/") && 0 <= c.indexOf("Windows NT 6")) && (e.Oa = !0)
            }
        } catch (e) {}
        e.fa = function() {
            e.ga && (t.clearTimeout(e.ga),
            e.ga = i),
            e.l && e.J && e.l.dispatchEvent(e.J),
            e.A && ("function" == typeof e.A ? e.A() : e.l && e.l.href && (e.d.location = e.l.href)),
            e.l = e.J = e.A = 0
        }
        ,
        e.Ma = function() {
            e.b = e.d.body,
            e.b ? (e.v = function(i) {
                var s, n, a, r, o;
                if (!(e.d && e.d.getElementById("cppXYctnr") || i && i["s_fe_" + e._in])) {
                    if (e.ya) {
                        if (!e.useForcedLinkTracking)
                            return e.b.removeEventListener("click", e.v, !0),
                            void (e.ya = e.useForcedLinkTracking = 0);
                        e.b.removeEventListener("click", e.v, !1)
                    } else
                        e.useForcedLinkTracking = 0;
                    e.clickObject = i.srcElement ? i.srcElement : i.target;
                    try {
                        if (!e.clickObject || e.M && e.M == e.clickObject || !(e.clickObject.tagName || e.clickObject.parentElement || e.clickObject.parentNode))
                            e.clickObject = 0;
                        else {
                            var l = e.M = e.clickObject;
                            if (e.ka && (clearTimeout(e.ka),
                            e.ka = 0),
                            e.ka = setTimeout(function() {
                                e.M == l && (e.M = 0)
                            }, 1e4),
                            a = e.Ea(),
                            e.track(),
                            a < e.Ea() && e.useForcedLinkTracking && i.target) {
                                for (r = i.target; r && r != e.b && "A" != r.tagName.toUpperCase() && "AREA" != r.tagName.toUpperCase(); )
                                    r = r.parentNode;
                                if (r && (o = r.href,
                                e.Ga(o) || (o = 0),
                                n = r.target,
                                i.target.dispatchEvent && o && (!n || "_self" == n || "_top" == n || "_parent" == n || t.name && n == t.name))) {
                                    try {
                                        s = e.d.createEvent("MouseEvents")
                                    } catch (e) {
                                        s = new t.MouseEvent
                                    }
                                    if (s) {
                                        try {
                                            s.initMouseEvent("click", i.bubbles, i.cancelable, i.view, i.detail, i.screenX, i.screenY, i.clientX, i.clientY, i.ctrlKey, i.altKey, i.shiftKey, i.metaKey, i.button, i.relatedTarget)
                                        } catch (e) {
                                            s = 0
                                        }
                                        s && (s["s_fe_" + e._in] = s.s_fe = 1,
                                        i.stopPropagation(),
                                        i.stopImmediatePropagation && i.stopImmediatePropagation(),
                                        i.preventDefault(),
                                        e.l = i.target,
                                        e.J = s)
                                    }
                                }
                            }
                        }
                    } catch (t) {
                        e.clickObject = 0
                    }
                }
            }
            ,
            e.b && e.b.attachEvent ? e.b.attachEvent("onclick", e.v) : e.b && e.b.addEventListener && (navigator && (0 <= navigator.userAgent.indexOf("WebKit") && e.d.createEvent || 0 <= navigator.userAgent.indexOf("Firefox/2") && t.MouseEvent) && (e.ya = 1,
            e.useForcedLinkTracking = 1,
            e.b.addEventListener("click", e.v, !0)),
            e.b.addEventListener("click", e.v, !1))) : setTimeout(e.Ma, 30)
        }
        ,
        e.Ma(),
        e.loadModule("ActivityMap")
    }
    function i(e) {
        var i, s, n, a, r, o = window.s_c_il, l = e.split(","), h = 0;
        if (o)
            for (s = 0; !h && s < o.length; ) {
                if (i = o[s],
                "s_c" == i._c && (i.account || i.oun))
                    if (i.account && i.account == e)
                        h = 1;
                    else
                        for (n = i.account ? i.account : i.oun,
                        n = i.allAccounts ? i.allAccounts : n.split(","),
                        a = 0; a < l.length; a++)
                            for (r = 0; r < n.length; r++)
                                l[a] == n[r] && (h = 1);
                s++
            }
        return h || (i = new t),
        i.setAccount ? i.setAccount(e) : i.sa && i.sa(e),
        i
    }
    function s() {
        var e, t, s, n = window, a = n.s_giq;
        if (a)
            for (e = 0; e < a.length; e++)
                t = a[e],
                s = i(t.oun),
                s.setAccount(t.un),
                s.setTagContainer(t.tagContainerName);
        n.s_giq = 0
    }
    this.AppMeasurement = t;
    var n = "ibmtestmasters1"
      , a = i(n);
    return a.currencyCode = "USD",
    a.trackDownloadLinks = !0,
    a.trackExternalLinks = !0,
    a.trackInlineStats = !0,
    a.linkDownloadFileTypes = "exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",
    a.linkInternalFilters = "javascript:,masters.com,mastersmedia.edgesuite.net,mastersprogressivedl.edgesuite.net,akamaihd.net,mailto,facebook.com/sharer,twitter.com/share,plus.google.com/share",
    a.linkLeaveQueryString = !1,
    a.linkTrackVars = "events,prop11,prop12,prop13",
    a.linkTrackEvents = "",
    a.usePlugins = !0,
    a.suppressEvent2 = "no",
    a._tpDST = {
        2012: "3/11,11/4",
        2013: "3/10,11/3",
        2014: "3/9,11/2",
        2015: "3/8,11/1",
        2016: "3/13,11/6",
        2017: "3/12,11/5",
        2018: "3/11,11/4",
        2019: "3/10,11/3"
    },
    a.doPlugins = e,
    a.getNewRepeat = new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),
    a.bounceCheck = new Function("v","e","b","c","var s=this,a,b,c=c?c:'bc';if(s.p_fo('bounceCheck')==1){a=s.events?s.events+',':'';if(v){s.events=a+e;if(s.c_r(c)){b=parseInt(s.c_r(c))+1;s.c_w(c,b,0);}else{s.c_w(c,1,0);}}else{if(s.c_r(c)>=1){s.c_w(c,0,0);s.events=a+b;}}}"),
    a.p_fo = new Function("n","var s=this;if(!s.__fo){s.__fo=new Object;}if(!s.__fo[n]){s.__fo[n]=new Object;return 1;}else {return 0;}"),
    a.apl = new Function("l","v","d","u","var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)l=l?l+d+v:v;return l"),
    a.crossVisitParticipation = new Function("v","cn","ex","ct","dl","ev","dv","var s=this,ce;if(typeof(dv)==='undefined')dv=0;if(s.events&&ev){var ay=s.split(ev,',');var ea=s.split(s.events,',');for(var u=0;u<ay.length;u++){for(var x=0;x<ea.length;x++){if(ay[u]==ea[x]){ce=1;}}}}if(!v||v=='')return '';v=escape(v);var arry=new Array(),a=new Array(),c=s.c_r(cn),g=0,h=new Array();if(c&&c!='')arry=eval(c);var e=new Date();e.setFullYear(e.getFullYear()+5);if(dv==0 && arry.length>0 && arry[arry.length-1][0]==v)arry[arry.length-1]=[v, new Date().getTime()];else arry[arry.length]=[v, new Date().getTime()];var start=arry.length-ct<0?0:arry.length-ct;var td=new Date();for(var x=start;x<arry.length;x++){var diff=Math.round((td.getTime()-arry[x][1])/86400000);if(diff<ex){h[g]=unescape(arry[x][0]);a[g]=[arry[x][0],arry[x][1]];g++;}}var data=s.join(a,{delim:',',front:'[',back:']',wrap:\"'\"});s.c_w(cn,data,e);var r=s.join(h,{delim:dl});if(ce) s.c_w(cn,'');return r;"),
    a.join = new Function("v","p","var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back:'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0;x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);else str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;"),
    a.getNewRepeat = new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),
    a.repl = new Function("x","o","n","var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l)}return x"),
    a.getTimeParting = new Function("h","z","var s=this,od;od=new Date('1/1/2000');if(od.getDay()!=6||od.getMonth()!=0){return'Data Not Available';}else{var H,M,D,U,ds,de,tm,da=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],d=new Date();z=z?z:0;z=parseFloat(z);if(s._tpDST){var dso=s._tpDST[d.getFullYear()].split(/,/);ds=new Date(dso[0]+'/'+d.getFullYear());de=new Date(dso[1]+'/'+d.getFullYear());if(h=='n'&&d>ds&&d<de){z=z+1;}else if(h=='s'&&(d>de||d<ds)){z=z+1;}}d=d.getTime()+(d.getTimezoneOffset()*60000);d=new Date(d+(3600000*z));H=d.getHours();M=d.getMinutes();M=(M<10)?'0'+M:M;D=d.getDay();U=' AM';if(H>=12){U=' PM';H=H-12;}if(H==0){H=12;}D=da[D];tm=H+':'+M+U;return(tm+'|'+D);}"),
    a.split = new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),
    a.getValOnce = new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v"),
    a.p_gpv = new Function("k","u","var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,'&','p_gvf',k)}return v"),
    a.p_gvf = new Function("t","k","if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'True':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa(v)}return ''"),
    a.channelManager = new Function("a","b","c","V","var s=this,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,W,X,Y;g=s.referrer?s.referrer:document.referrer;g=g.toLowerCase();if(!g){h='1'}i=g.indexOf('?')>-1?g.indexOf('?'):g.length;j=g.substring(0,i);k=s.linkInternalFilters.toLowerCase();k=s.split(k,',');l=k.length;for(m=0;m<l;m++){n=j.indexOf(k[m])==-1?'':g;if(n)o=n}if(!o&&!h){p=g;q=g.indexOf('//')>-1?g.indexOf('//')+2:0;r=g.indexOf('/',q)>-1?g.indexOf('/',q):i;t=g.substring(q,r);t=t.toLowerCase();u=t;P='Referrers';v=s.seList+'>'+s._extraSearchEngines;if(V=='1'){j=s.repl(j,'oogle','%');j=s.repl(j,'ahoo','^');g=s.repl(g,'as_q','*');}A=s.split(v,'>');B=A.length;for(C=0;C<B;C++){D=A[C];D=s.split(D,'|');E=s.split(D[0],',');F=E.length;for(G=0;G<F;G++){H=j.indexOf(E[G]);if(H>-1){I=s.split(D[1],',');J=I.length;for(K=0;K<J;K++){L=s.Util.getQueryParam(I[K],'',g);if(L){L=L.toLowerCase();M=L;if(D[2]){u=D[2];N=D[2]}else{N=t}if(V=='1'){N=s.repl(N,'#',' - ');g=s.repl(g,'*','as_q');N=s.repl(N,'^','ahoo');N=s.repl(N,'%','oogle');}}}}}}}O=s.Util.getQueryParam(a,b);if(O){u=O;if(M){P='Paid Search'}else{P='Paid Non-Search';}}if(!O&&M){u=N;P='Natural Search'}f=s._channelDomain;if(f){k=s.split(f,'>');l=k.length;for(m=0;m<l;m++){Q=s.split(k[m],'|');R=s.split(Q[1],',');S=R.length;for(T=0;T<S;T++){W=j.indexOf(R[T]);if(W>-1)P=Q[0]}}}d=s._channelParameter;if(d){k=s.split(d,'>');l=k.length;for(m=0;m<l;m++){Q=s.split(k[m],'|');R=s.split(Q[1],',');S=R.length;for(T=0;T<S;T++){U=s.Util.getQueryParam(R[T]);if(U)P=Q[0]}}}e=s._channelPattern;if(e){k=s.split(e,'>');l=k.length;for(m=0;m<l;m++){Q=s.split(k[m],'|');R=s.split(Q[1],',');S=R.length;for(T=0;T<S;T++){X=O.indexOf(R[T]);if(X==0)P=Q[0]}}}if(h=='1'&&!O){u=P=t=p='Direct Load'}T=M+u+t;U=c?'c':'c_m';if(c!='0'){T=s.getValOnce(T,U,0);}if(T)M=M?M:'n/a';s._referrer=T&&p?p:'';s._referringDomain=T&&t?t:'';s._partner=T&&N?N:'';s._campaignID=T&&O?O:'';s._campaign=T&&u?u:'';s._keywords=T&&M?M:'';s._channel=T&&P?P:'';"),
    a.seList = "search.com|qu>search.about.com|terms>alltheweb.com|query,q>altavista.co,altavista.de|q,r>.aol.,suche.aolsvc.de|q,query>ask.jp,ask.co|q,ask>www.baidu.com|wd>search.biglobe.ne.jp,search.kbg.jp|q,extrakey>business.com/search|query>centrum.cz|q>clix.pt|question>cuil.com|q>daum.net,search.daum.net|q>Dictionary.com,Dictionary|term,query,q>eniro.|search_word>excite.|qkw,s,search,key,q>fireball.de|q,query>goo.ne.jp,search.mobile.goo.ne.jp|MT>google.,googlesyndication.com|q,as_q>icqit.com|q>infoseek.|qt,query>ixquick.com|query>kvasir.no|q,searchExpr>libero.it|query>bing.com|q>.livedoor.com|q,keyword>lycos.|query>mail.ru/search,go.mail.ru/search|q>bing.com|q>myway.com|searchfor>nate.com,search.nate.com|query>naver.com,search.naver.com|query>netscape.com|query,search>search.nifty.com|q>dmoz.org|search>reference.com|q>searchalot.com|query,q>sensis.com.au|find>seznam|w>starmedia.com|q>abcsok.no|q>terra.es|query>tiscali.it,www.tiscali.co.uk|key,query>toile.com|query,q>busca.uol.com.br|q>usseek.com|string>vinden.nl|query>virgilio.it|qs>walla.co.il|q>web.de|su>yahoo.com,yahoo.co.jp|p,va>yandex|text",
    a.dedupeReferrer = new Function("c","b","var s=this,a,g,i,j,k,l,m,n,o;g=s.referrer?s.referrer:document.referrer;g=g.toLowerCase();if(g){i=g.indexOf('?')>-1?g.indexOf('?'):g.length;j=g.substring(0,i);k=s.linkInternalFilters.toLowerCase();k=s.split(k,',');l=k.length;for(m=0;m<l;m++){n=j.indexOf(k[m])>-1?g:'';if(n)o=n}if(!o){c=c?c:'_dr';b=b?b-1:'1';a=g;a=s.getValOnce(a,c,0);if(a){return a}else{return k[b]}}}"),
    a.getPercentPageViewed = new Function("n","var s=this,W=window,EL=W.addEventListener,AE=W.attachEvent,E=['load','unload','scroll','resize','zoom','keyup','mouseup','touchend','orientationchange','pan'];W.s_Obj=s;s_PPVid=(n=='-'?s.pageName:n)||s.pageName||location.href;if(!W.s_PPVevent){s.s_PPVg=function(n,r){var k='s_ppv',p=k+'l',c=s.c_r(n||r?k:p),a=c.indexOf(',')>-1?c.split(',',10):[''],l=a.length,i;a[0]=unescape(a[0]);r=r||(n&&n!=a[0])||0;a.length=10;if(typeof a[0]!='string')a[0]='';for(i=1;i<10;i++)a[i]=!r&&i<l?parseInt(a[i])||0:0;if(l<10||typeof a[9]!='string')a[9]='';if(r){s.c_w(p,c);s.c_w(k,'?')}return a};W.s_PPVevent=function(e){var W=window,D=document,B=D.body,E=D.documentElement,S=window.screen||0,Ho='offsetHeight',Hs='scrollHeight',Ts='scrollTop',Wc='clientWidth',Hc='clientHeight',C=100,M=Math,J='object',N='number',s=W.s_Obj||W.s||0;e=e&&typeof e==J?e.type||'':'';if(!e.indexOf('on'))e=e.substring(2);s_PPVi=W.s_PPVi||0;if(W.s_PPVt&&!e){clearTimeout(s_PPVt);s_PPVt=0;if(s_PPVi<2)s_PPVi++}if(typeof s==J){var h=M.max(B[Hs]||E[Hs],B[Ho]||E[Ho],B[Hc]||E[Hc]),X=W.innerWidth||E[Wc]||B[Wc]||0,Y=W.innerHeight||E[Hc]||B[Hc]||0,x=S?S.width:0,y=S?S.height:0,r=M.round(C*(W.devicePixelRatio||1))/C,b=(D.pageYOffset||E[Ts]||B[Ts]||0)+Y,p=h>0&&b>0?M.round(C*b/h):0,O=W.orientation,o=!isNaN(O)?M.abs(o)%180:Y>X?0:90,L=e=='load'||s_PPVi<1,a=s.s_PPVg(s_PPVid,L),V=function(i,v,f,n){i=parseInt(typeof a==J&&a.length>i?a[i]:'0')||0;v=typeof v!=N?i:v;v=f||v>i?v:i;return n?v:v>C?C:v<0?0:v};if(new RegExp('(iPod|iPad|iPhone)').exec(navigator.userAgent||'')&&o){o=x;x=y;y=o}o=o?'P':'L';a[9]=L?'':a[9].substring(0,1);s.c_w('s_ppv',escape(W.s_PPVid)+','+V(1,p,L)+','+(L||!V(2)?p:V(2))+','+V(3,b,L,1)+','+X+','+Y+','+x+','+y+','+r+','+a[9]+(a[9]==o?'':o))}if(!W.s_PPVt&&e!='unload')W.s_PPVt=setTimeout(W.s_PPVevent,333)};for(var f=W.s_PPVevent,i=0;i<E.length;i++)if(EL)EL(E[i],f,false);else if(AE)AE('on'+E[i],f);f()};var a=s.s_PPVg();return!n||n=='-'?a[1]:a"),
    a.getPreviousValue = new Function("v","c","el","var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}"),
    a.visitorNamespace = "ibminteractive",
    a.trackingServer = "metrics.masters.com",
    a.trackingServerSecure = "sticketsmetrics.masters.com",
    t.getInstance = i,
    window.s_objectID || (window.s_objectID = 0),
    s(),
    a
});
var ffdebug = !1;
define("utils/metrics", ["require", "jquery", "underscore", "utils/browser", "settings", "AppMeasurement", "utils/common"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("utils/browser")
      , n = e("settings")
      , a = e("AppMeasurement")
      , r = e("utils/common")
      , o = {
        page_section: "",
        page_title: "",
        page_name: "",
        video_action: "VOD",
        autotrackS: !1,
        setProps: {},
        s_code: a,
        noscript: '<noscript><a href="http://www.omniture.com" title="Web Analytics"><img src="http://metrics.masters.com/b/ss/ibmtestmasters1/1/H.21--NS/0?events=event2" height="1" width="1" border="0" alt="" /></a></noscript>',
        trackPageView: function(e) {
            return console.log(e),
            e && (this.resetS(),
            this.s(e)),
            this.measurePage(),
            {
                el: this.noscript
            }
        },
        measureApp: function() {
            var e = ""
              , t = arguments
              , i = t.length;
            fflog("debug", "'globalMeasure measureApp: parameter[0] type: ',mArgs[0].constructor"),
            1 === i && t[0].constructor === Array && (t = t[0]),
            fflog("debug", "'globalMeasure measureApp: interpreted parameters: ' , mlength"),
            "home page" === t[0] && (t[0] = "Home");
            for (var s = 0; s < i; s++) {
                if (console.log("measureApp - constr - args:%o", t[s].constructor),
                t[s].constructor === Array)
                    return console.log("measureApp - error - args:%o", t[s]),
                    void fflog("error", "'globalMeasure measureApp: parameter[%d] is an invalid type: ', i, mArgs[i].constructor");
                fflog("debug", "'globalMeasure measureApp: mArgs[%d] type: ', i, mArgs[i].constructor, ' value: ', mArgs[i]"),
                e += 0 === s ? t[s] : ":" + t[s]
            }
            if (a.suppressEvent2 && (a.events = null),
            a.events = "event17",
            a.linkTrackVars = a.apl(a.linkTrackVars, "events", ",", 1),
            a.linkTrackEvents = a.apl(a.linkTrackEvents, "event17", ",", 1),
            console.log("measureApp - %o", t),
            "Share" === t[2] ? void 0 !== t[3] && "" !== t[3] && "Close" !== t[3] && (a.linkTrackVars += ",prop50") : t[i - 1].indexOf(".smil") !== -1 ? (a.prop33 = t[i - 1],
            a.linkTrackVars += ",prop33") : "Photo Gallery" === t[0] && t[1].indexOf("Caption") === -1 && t[1].indexOf("Full Screen") === -1 ? a.linkTrackVars += ",prop31,prop16,prop20" : i >= 3 && t[i - 2].indexOf("Favorite") !== -1 ? a.linkTrackVars += ",prop47,prop48" : 4 === i && "Track" === t[0] && "Player Picker" === t[2] && parseInt(t[3], 10) > 0 ? a.linkTrackVars += ",prop34" : 5 === i && "Track" === t[0] && "Add Compare Player" === t[2] && parseInt(t[4], 10) > 0 ? a.linkTrackVars += ",prop34" : 4 === i && "Track" === t[0] && "Live Video" === t[2] && "Open" === t[3] ? a.linkTrackVars += ",prop30" : 5 === i && "Track" === t[0] && "Live Video" === t[2] && "Open" !== t[4] && "Close" !== t[4] && (a.linkTrackVars += ",prop30"),
            "event17" !== a.suppressEvent2 && (a.linkTrackVars += ",prop11,prop12,prop13"),
            a.tl(this, "o", e),
            fflog("debug", '"globalMeasure measureApp: id value: ' + e + '"'),
            e.indexOf(":") !== -1) {
                var n = e.substring(0, e.indexOf(":"))
                  , r = e.substring(e.indexOf(":") + 1);
                "function" == typeof cmCreateElementTag && cmCreateElementTag(r, n)
            }
            a.linkTrackVars = "",
            a.linkTrackEvents = ""
        },
        measureAppMediaLoad: function() {
            var e = ""
              , t = arguments
              , i = t.length;
            fflog("debug", "'globalMeasure measureApp: parameter[0] type: ',mArgs[0].constructor"),
            1 === t.length && t[0].constructor === Array && (t = t[0]),
            fflog("debug", "'globalMeasure measureApp: interpreted parameters: ' , mArgs.length"),
            e = "";
            for (var s = 0; s < t.length; s++) {
                if (t[s].constructor === Array)
                    return void fflog("error", "'globalMeasure measureApp: parameter[%d] is an invalid type: ', i, mArgs[i].constructor");
                fflog("debug", "'globalMeasure measureApp: mArgs[%d] type: ', i, mArgs[i].constructor, ' value: ', mArgs[i]"),
                e += 0 === s ? t[s] : ":" + t[s]
            }
            a.linkTrackVars = a.apl(a.linkTrackVars, "events", ",", 1),
            (t[i - 2].indexOf("VOD") > -1 || t[i - 1].indexOf("Flyover") > -1) && (void 0 !== a.prop33 && "" !== a.prop33 || (a.prop33 = t[i - 1]),
            a.prop17 = "VOD:" + a.prop33,
            a.linkTrackVars = a.apl(a.linkTrackVars, "prop17,prop33", ",", 1)),
            a.events = "event17",
            a.linkTrackEvents = "event17",
            a.linkTrackVars = a.apl(a.linkTrackVars, "prop11,prop12,prop13", ",", 1),
            a.tl(this, "o", e),
            fflog("debug", '"globalMeasure measureApp: id value: ' + e + '"'),
            a.prop33 = "",
            a.linkTrackVars = "",
            a.linkTrackEvents = ""
        },
        measureVideoPlayer: function() {
            var e = ""
              , t = arguments
              , i = t.length;
            fflog("debug", "'globalMeasure measureApp: parameter[0] type: ',mArgs[0].constructor"),
            1 === t.length && t[0].constructor === Array && (t = t[0]),
            fflog("debug", "'globalMeasure measureApp: interpreted parameters: ' , mArgs.length");
            for (var s = 0; s < t.length; s++) {
                if (t[s].constructor === Array)
                    return void fflog("error", "'globalMeasure measureApp: parameter[%d] is an invalid type: ', i, mArgs[i].constructor");
                fflog("debug", "'globalMeasure measureApp: mArgs[%d] type: ', i, mArgs[i].constructor, ' value: ', mArgs[i]"),
                e += 0 === s ? t[s] : ":" + t[s]
            }
            a.events = "event17",
            a.linkTrackVars = a.apl(a.linkTrackVars, "prop11,prop12,prop13", ",", 1),
            a.linkTrackEvents = a.apl(a.linkTrackEvents, "event17", ",", 1),
            i >= 3 && "Start" === t[2] ? (a.linkTrackVars = "eVar27",
            a.linkTrackEvents = "event50",
            a.suppressEvent2 = "event50") : i >= 3 && "Complete" === t[2] ? (a.linkTrackVars = "eVar27",
            a.linkTrackEvents = "event51",
            a.suppressEvent2 = "event51") : i >= 3 && t[2].indexOf("Panel") > -1 ? (a.linkTrackVars = "prop57,eVar57",
            a.suppressEvent2 = "") : i >= 3 && t[2].indexOf("Popout") > -1 && (a.linkTrackVars = "",
            a.suppressEvent2 = ""),
            a.tl(this, "o", e),
            fflog("debug", '"globalMeasure measureApp: id value: ' + e + '"'),
            a.linkTrackVars = "",
            a.linkTrackEvents = "",
            a.suppressEvent2 = "no"
        },
        setPageMetrics: function(e) {
            this.setPageSection(),
            this.setPageTitle(e),
            this.setPageName()
        },
        measurePage: function() {
            this.doPageMeasurement(),
            this.autotrackS = !0
        },
        setPageName: function() {
            var e = ""
              , t = this.page_title;
            "" === t && (e = document.getElementsByTagName("htsearch"),
            e.length > 0 && (t = e[0].getAttribute("content"))),
            this.pageNameVal = e,
            this.page_name = t
        },
        doPageMeasurement: function() {
            var e = this.page_section;
            if (e.length > 0) {
                if (a.pageName = e,
                this.page_name.length > 0 && this.page_name !== e) {
                    a.pageName += ":" + this.page_name;
                    var t = a.pageName.split(":");
                    a.prop1 = t[0] + ":" + t[1],
                    a.prop2 = a.prop1,
                    t.length > 2 && (a.prop2 = a.prop2 + ":" + t[2]),
                    a.prop3 = a.prop2,
                    t.length > 3 && (a.prop3 = a.prop3 + ":" + t[3]),
                    a.prop15 = "en_US",
                    a.channel = t[0]
                } else
                    a.prop1 = a.pageName,
                    a.prop2 = a.prop1,
                    a.prop3 = a.prop2,
                    a.prop15 = "en_US",
                    a.channel = a.pageName;
                a.prop11 = a.pageName,
                a.prop12 = a.channel,
                a.prop13 = "www"
            } else
                a.pageName = "",
                a.prop15 = "en_US",
                a.channel = e;
            r.internalRef() || (a.prop18 = document.referrer);
            var i = location.search.substring(1);
            document.referrer.search(/\.masters\.com/) > -1 && i.indexOf("promo=hero_") > -1 && (a.events = a.apl(a.events, "event6", ",", 1)),
            a.prop41 = "D=g",
            a.eVar41 = "D=g",
            console.log("pageMeasurement pageName - %o", a.pageName);
            var s = a.t();
            s && document.writeln(s)
        },
        setPageSection: function() {
            var e = location.pathname.substring(0);
            "" === this.page_section && (e.indexOf("/watch/") !== -1 && (this.page_section = "Watch"),
            e.indexOf("/news/articles/") !== -1 && (this.page_section = "Articles"),
            e.indexOf("/news/gallery/") !== -1 && (this.page_section = "Photo Gallery"),
            e.indexOf("/news/photos/") !== -1 && (this.page_section = "Photo Gallery"),
            e.indexOf("/scores/") !== -1 && (this.page_section = "Leader Board"),
            e.indexOf("/scores/track") !== -1 && (this.page_section = "Track"),
            e.indexOf("/scores/stats/") !== -1 && (this.page_section = "Tournament Info"),
            e.indexOf("/tournament/") !== -1 && (this.page_section = "Tournament Info"),
            e.indexOf("/patron/") !== -1 && (this.page_section = "Patron Info"),
            e.indexOf("/shop/") !== -1 && (this.page_section = "Shop"),
            e.indexOf("/course/") !== -1 && (this.page_section = "Course"),
            e.indexOf("/players/player_") !== -1 && (this.page_section = "Players"),
            e.indexOf("/players/invitees_") !== -1 && (this.page_section = "Players"),
            e.indexOf("/players/pairings/") !== -1 && (this.page_section = "Tee Times"),
            e.indexOf("/info/") !== -1 && (this.page_section = "Site Functions"),
            e.indexOf("/feedback/") !== -1 && (this.page_section = "Site Functions"),
            e.indexOf("/search/") !== -1 && (this.page_section = "Site Functions"),
            e.indexOf("/tribute/") !== -1 && (this.page_section = "Tribute"),
            "" === this.page_section && console.info("still undefined: " + e))
        },
        setPageTitle: function(e) {
            if ("" === this.page_title && (void 0 !== e && (this.page_title = e),
            "" === this.page_title)) {
                this.page_title = t("title").text().replace(" - " + n.tournament_year + " Masters Tournament", "");
                var i = this.page_title.indexOf(" - ");
                i !== -1 && i <= 13 && (this.page_title = this.page_title.substring(i + 3))
            }
        },
        resetPageValues: function() {
            this.page_title = this.page_section = this.page_name = "",
            this.autotrackS = !1
        },
        s: function(e) {
            i.extend(this.setProps, e),
            i.extend(a, e)
        },
        trackS: function(e) {
            i.extend(this.setProps, e),
            e.linkTrackVars = a.linkTrackVars,
            e.linkTrackEvents = a.linkTrackEvents;
            var t = i.keys(e)
              , s = i.groupBy(t, function(e) {
                return e.substring(0, 4)
            });
            s.prop && (e.linkTrackVars += "," + s.prop.join(",")),
            s.eVar && (e.linkTrackVars += "," + s.eVar.join(",")),
            t.events && (e.linkTrackEvents += t.events),
            i.extend(a, e)
        },
        resetS: function() {
            var e = i.keys(this.setProps);
            console.log("resetting s prop values %o", e);
            for (var t = e.length - 1; t >= 0; t--)
                a[e[t]] = "";
            this.setProps = {},
            a.events = null
        },
        appMeasure: function(e) {
            try {
                s.apptype.android ? r.sendAndroidMessage("track?text=" + e) : s.apptype.ios && r.sendiOSMessage("metrics", e)
            } catch (e) {
                console.log(e)
            }
        },
        appState: function(e, t) {
            try {
                if (s.apptype.android) {
                    var n = "track?text=" + e + "&metricType=state"
                      , a = "";
                    if (t) {
                        var o = i.keys(t);
                        a = "";
                        for (var l = 0; l < o.length; l++)
                            a += "&" + o[l] + "=" + t[o[l]]
                    }
                    r.sendAndroidMessage(n + a)
                }
            } catch (e) {
                console.log(e)
            }
        },
        appShare: function(e, t) {
            s.apptype.ios ? r.sendiOSMessage("share", {
                x: e.pageX,
                y: e.pageY
            }) : s.apptype.android && r.sendAndroidMessage("share" + (t ? "?url=" + encodeURIComponent(t) : ""))
        },
        openExternal: function(e, t, i, s, n) {
            if ("function" == typeof cmCreateElementTag && cmCreateElementTag(e, cmCategoryId),
            e.indexOf(!1))
                switch (e) {
                case "ibm":
                    e = "http://www.ibm.com/";
                    break;
                case "tix1":
                    e = "https://oss.ticketmaster.com/html/outsider.htmI?CAMEFROM=&GOTO=https%3A%2F%2Foss.ticketmaster.com%2Fhtml%2Frequest.htmI%3Fl%3DEN%26team%3Dusopentennis%26STAGE%3D1%26PROC%3DBUY%26EventName%3D11DEPSIT"
                }
            a.events = "",
            a.linkTrackVars = "events,prop11,prop12,prop13",
            a.linkTrackEvents = "",
            a.tl(this, "e", e),
            t ? t = i && s ? window.open(e, "consoleWindow", "width=" + i + ",height=" + s + ",resizable=yes,status=yes,toolbar=yes,menubar=yes,location=yes") : window.open(e, "newWindow", "menubar=1,toolbar=1,location=1,directories=1,status=1,scrollbars=1,resizable=1") : document.location.href = e
        }
    };
    return o
}),
define("views/mainmenu", ["require", "backbone", "views/submenu", "views/sponsors", "utils/metrics", "utils/pubsub", "settings"], function(e) {
    var t = e("backbone")
      , i = e("views/submenu")
      , s = e("views/sponsors")
      , n = e("utils/metrics")
      , a = e("utils/pubsub")
      , r = e("settings")
      , o = t.View.extend({
        el: "#top",
        active: !1,
        visible: !0,
        events: {
            "click .menu-link": "toggle",
            "click .leaderboardEverywhereIcon": "toggleLeaderboardEverywhere"
        },
        initialize: function(e) {
            this.$menuIcon = this.$(".menu-link"),
            this.$app = e,
            this.subMenu = new i(e,this.$el),
            this.sponsors = new s,
            this.listenTo(a, "windowsize:global:exit", this.autoclose),
            this.listenTo(a, "windowsize:global:enter", this.autoclose),
            this.listenTo(a, "leaderboardEverywhere:open", this.openLeaderboardEverywhere),
            this.listenTo(a, "leaderboardEverywhere:close", this.closeLeaderboardEverywhere),
            this.on("route:change", this.updatePath),
            this.on("route:change", this.autoclose),
            r.Scores.pre || this.$(".leaderboardEverywhereIcon").removeClass("hidden")
        },
        render: function() {
            return this.sponsors.render(),
            this
        },
        toggle: function(e) {
            e.preventDefault(),
            this.active ? (console.log("[mainmenu.js] triggering close"),
            this.close(),
            n.measureApp("Home", "Close")) : (console.log("[mainmenu.js] triggering open"),
            this.open(),
            n.measureApp("Home", "Open"))
        },
        open: function() {
            console.log("[mainmenu.js] running open"),
            this.$menuIcon.addClass("active"),
            this.subMenu.open(),
            this.$app.on("touchstart click.nav", this.close.bind(this)),
            this.$el.on("touchstart click.nav", function(e) {
                $(e.target).hasClass("menu-link") || 0 !== $(e.target).closest(".menu-link").length || this.close()
            }
            .bind(this)),
            this.active = !0
        },
        close: function(e) {
            return console.log("[mainmenu.js] running close"),
            this.$menuIcon.removeClass("active"),
            this.subMenu.close(e),
            this.$app.off("touchstart click.nav"),
            this.$el.off("touchstart click.nav"),
            this.active = !1,
            !1
        },
        autoclose: function() {
            this.active && this.close(!0)
        },
        updatePath: function() {
            var e = location.pathname.substring(0);
            e.indexOf("/watch/") !== -1 && (e = "/en_US/watch/index.html"),
            e.indexOf("/par3contest/") === -1 && e.indexOf("/scores/index.html") === -1 || (e = r.leaderboardPar3 ? "/en_US/scores/par3contest/index.html" : "/en_US/scores/index.html"),
            e.indexOf("/scores/track/") !== -1 && (e = "/en_US/scores/track/index.html"),
            e.indexOf("/players/") !== -1 && e.indexOf("/pairings/") === -1 && (e = r.playersListNav ? "/en_US/players/player_list.html" : "/en_US/players/invitees_2017.html"),
            e.indexOf("/course/") !== -1 && (e = "/en_US/course/index.html"),
            e.indexOf("/tournament/") !== -1 && e.indexOf("/schedule.html") === -1 && (e = "/en_US/tournament/index.html"),
            e.indexOf("/patron/") !== -1 && location.search.indexOf("ticketing") !== -1 && (e = "/en_US/patron/index.html?page=ticketing"),
            this.subMenu.trigger("route:change", e)
        },
        toggleLeaderboardEverywhere: function() {
            this.$(".leaderboardEverywhereIcon").hasClass("active") ? (a.trigger("leaderboardEverywhere:close"),
            n.trackS({
                prop56: "LB Panel Off",
                eVar56: "LB Panel Off"
            }),
            n.measureApp("Leader Board Everywhere", "LB Panel Off")) : (a.trigger("leaderboardEverywhere:open"),
            n.trackS({
                prop56: "LB Panel On",
                eVar56: "LB Panel On"
            }),
            n.measureApp("Leader Board Everywhere", "LB Panel On"))
        },
        openLeaderboardEverywhere: function() {
            this.$(".leaderboardEverywhereIcon").addClass("active")
        },
        closeLeaderboardEverywhere: function() {
            this.$(".leaderboardEverywhereIcon").removeClass("active")
        }
    });
    return o
}),
define("views/site-alert", ["require", "backbone", "jquery", "utils/pubsub", "utils/common"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/pubsub")
      , n = e("utils/common")
      , a = t.View.extend({
        id: "alert",
        className: "alert_bar",
        on: !1,
        path: "/en_US/xml/gen/alerts.json",
        interval: 60,
        height: 40,
        initialize: function(e) {
            this.options = _.extend({}, e),
            setInterval(this.render.bind(this), 1e3 * this.interval),
            n.alert = this
        },
        render: function() {
            var e = this;
            return i.getJSON(this.path, function(t) {
                t.active && !e.on ? e.create(t) : !t.active && e.on ? e.dispose() : t.active && e.on && e.update(t)
            }),
            this
        },
        create: function(e) {
            this.on = !0,
            this.update(e, this.$el),
            this.options.menu.$el.after(this.$el),
            this.height = this.$el.outerHeight(),
            i("html").addClass("alert"),
            s.trigger("throttle:resize"),
            this.listenTo(s, "throttle:resize", function() {
                this.height = this.$el.outerHeight(),
                s.trigger("hero:resize")
            })
        },
        onDispose: function() {
            this.on = !1,
            i("html").removeClass("alert"),
            s.trigger("throttle:resize")
        },
        update: function(e, t) {
            void 0 === t && (t = this.$el);
            var i = e.text;
            "" !== e.link && (i += ' &nbsp; <a href="' + e.link + '">Read More</a>'),
            t.html(i)
        }
    });
    return a
}),
define("text", ["module"], function(e) {
    "use strict";
    function t(e, t) {
        return void 0 === e || "" === e ? t : e
    }
    function i(e, i, s, n) {
        if (i === n)
            return !0;
        if (e === s) {
            if ("http" === e)
                return t(i, "80") === t(n, "80");
            if ("https" === e)
                return t(i, "443") === t(n, "443")
        }
        return !1
    }
    var s, n, a, r, o, l = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"], h = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im, c = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im, d = "undefined" != typeof location && location.href, u = d && location.protocol && location.protocol.replace(/\:/, ""), p = d && location.hostname, f = d && (location.port || void 0), g = {}, m = e.config && e.config() || {};
    return s = {
        version: "2.0.15",
        strip: function(e) {
            if (e) {
                e = e.replace(h, "");
                var t = e.match(c);
                t && (e = t[1])
            } else
                e = "";
            return e
        },
        jsEscape: function(e) {
            return e.replace(/(['\\])/g, "\\$1").replace(/[\f]/g, "\\f").replace(/[\b]/g, "\\b").replace(/[\n]/g, "\\n").replace(/[\t]/g, "\\t").replace(/[\r]/g, "\\r").replace(/[\u2028]/g, "\\u2028").replace(/[\u2029]/g, "\\u2029")
        },
        createXhr: m.createXhr || function() {
            var e, t, i;
            if ("undefined" != typeof XMLHttpRequest)
                return new XMLHttpRequest;
            if ("undefined" != typeof ActiveXObject)
                for (t = 0; t < 3; t += 1) {
                    i = l[t];
                    try {
                        e = new ActiveXObject(i)
                    } catch (e) {}
                    if (e) {
                        l = [i];
                        break
                    }
                }
            return e
        }
        ,
        parseName: function(e) {
            var t, i, s, n = !1, a = e.lastIndexOf("."), r = 0 === e.indexOf("./") || 0 === e.indexOf("../");
            return a !== -1 && (!r || a > 1) ? (t = e.substring(0, a),
            i = e.substring(a + 1)) : t = e,
            s = i || t,
            a = s.indexOf("!"),
            a !== -1 && (n = "strip" === s.substring(a + 1),
            s = s.substring(0, a),
            i ? i = s : t = s),
            {
                moduleName: t,
                ext: i,
                strip: n
            }
        },
        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,
        useXhr: function(e, t, n, a) {
            var r, o, l, h = s.xdRegExp.exec(e);
            return !h || (r = h[2],
            o = h[3],
            o = o.split(":"),
            l = o[1],
            o = o[0],
            (!r || r === t) && (!o || o.toLowerCase() === n.toLowerCase()) && (!l && !o || i(r, l, t, a)))
        },
        finishLoad: function(e, t, i, n) {
            i = t ? s.strip(i) : i,
            m.isBuild && (g[e] = i),
            n(i)
        },
        load: function(e, t, i, n) {
            if (n && n.isBuild && !n.inlineText)
                return void i();
            m.isBuild = n && n.isBuild;
            var a = s.parseName(e)
              , r = a.moduleName + (a.ext ? "." + a.ext : "")
              , o = t.toUrl(r)
              , l = m.useXhr || s.useXhr;
            return 0 === o.indexOf("empty:") ? void i() : void (!d || l(o, u, p, f) ? s.get(o, function(t) {
                s.finishLoad(e, a.strip, t, i)
            }, function(e) {
                i.error && i.error(e)
            }) : t([r], function(e) {
                s.finishLoad(a.moduleName + "." + a.ext, a.strip, e, i)
            }))
        },
        write: function(e, t, i, n) {
            if (g.hasOwnProperty(t)) {
                var a = s.jsEscape(g[t]);
                i.asModule(e + "!" + t, "define(function () { return '" + a + "';});\n")
            }
        },
        writeFile: function(e, t, i, n, a) {
            var r = s.parseName(t)
              , o = r.ext ? "." + r.ext : ""
              , l = r.moduleName + o
              , h = i.toUrl(r.moduleName + o) + ".js";
            s.load(l, i, function(t) {
                var i = function(e) {
                    return n(h, e)
                };
                i.asModule = function(e, t) {
                    return n.asModule(e, h, t)
                }
                ,
                s.write(e, l, i, a)
            }, a)
        }
    },
    "node" === m.env || !m.env && "undefined" != typeof process && process.versions && process.versions.node && !process.versions["node-webkit"] && !process.versions["atom-shell"] ? (n = require.nodeRequire("fs"),
    s.get = function(e, t, i) {
        try {
            var s = n.readFileSync(e, "utf8");
            "\ufeff" === s[0] && (s = s.substring(1)),
            t(s)
        } catch (e) {
            i && i(e)
        }
    }
    ) : "xhr" === m.env || !m.env && s.createXhr() ? s.get = function(e, t, i, n) {
        var a, r = s.createXhr();
        if (r.open("GET", e, !0),
        n)
            for (a in n)
                n.hasOwnProperty(a) && r.setRequestHeader(a.toLowerCase(), n[a]);
        m.onXhr && m.onXhr(r, e),
        r.onreadystatechange = function(s) {
            var n, a;
            4 === r.readyState && (n = r.status || 0,
            n > 399 && n < 600 ? (a = new Error(e + " HTTP status: " + n),
            a.xhr = r,
            i && i(a)) : t(r.responseText),
            m.onXhrComplete && m.onXhrComplete(r, e))
        }
        ,
        r.send(null)
    }
    : "rhino" === m.env || !m.env && "undefined" != typeof Packages && "undefined" != typeof java ? s.get = function(e, t) {
        var i, s, n = "utf-8", a = new java.io.File(e), r = java.lang.System.getProperty("line.separator"), o = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),n)), l = "";
        try {
            for (i = new java.lang.StringBuffer,
            s = o.readLine(),
            s && s.length() && 65279 === s.charAt(0) && (s = s.substring(1)),
            null !== s && i.append(s); null !== (s = o.readLine()); )
                i.append(r),
                i.append(s);
            l = String(i.toString())
        } finally {
            o.close()
        }
        t(l)
    }
    : ("xpconnect" === m.env || !m.env && "undefined" != typeof Components && Components.classes && Components.interfaces) && (a = Components.classes,
    r = Components.interfaces,
    Components.utils.import("resource://gre/modules/FileUtils.jsm"),
    o = "@mozilla.org/windows-registry-key;1"in a,
    s.get = function(e, t) {
        var i, s, n, l = {};
        o && (e = e.replace(/\//g, "\\")),
        n = new FileUtils.File(e);
        try {
            i = a["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),
            i.init(n, 1, 0, !1),
            s = a["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),
            s.init(i, "utf-8", i.available(), r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),
            s.readString(i.available(), l),
            s.close(),
            i.close(),
            t(l.value)
        } catch (e) {
            throw new Error((n && n.path || "") + ": " + e)
        }
    }
    ),
    s
}),
define("text!templates/notifications.html!strip", [], function() {
    return "<div class='title'>\n <%= title %>\n</div>\n<div class='text'>\n <%= content %>\n</div>\n<% if(channel !== '') { %>\n <div class='channels'>\n <span class='live'>LIVE</span><%= channel %>\n </div>\n<% } %>\n<% if(link_title !== '') { %>\n <div class='link'><%= link_title %>\n <div class='icon <%= link_type %>'>\n <img src='/images/now/trans_16x9.gif' width='13px' height='13px'>\n </div>\n </div>\n<% } %>\n"
}),
define("views/notifications", ["require", "backbone", "jquery", "underscore", "utils/metrics", "text!templates/notifications.html!strip", "jquery.cookie"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("underscore")
      , n = e("utils/metrics")
      , a = e("text!templates/notifications.html!strip");
    e("jquery.cookie");
    var r = t.View.extend({
        el: "#notifications",
        currentID: "",
        dismiss: !1,
        path: "/en_US/xml/gen/notifications.json",
        interval: 15,
        template: s.template(a),
        events: {
            "click .close": "close"
        },
        initialize: function(e) {
            this.options = s.extend({
                metrics_name: "Notifications"
            }, e)
        },
        onDispose: function() {
            this.$el.addClass("hide")
        },
        render: function() {
            return setTimeout(function() {
                this.refreshNotify();
                var e = 1e3 * this.interval;
                setInterval(this.refreshNotify.bind(this), e)
            }
            .bind(this), 2e3),
            this
        },
        refreshNotify: function() {
            var e = this;
            i.getJSON(this.path, function(t) {
                e.currentID = t.id;
                var s = i.cookie("notifyID");
                t.active && t.id !== s ? e.timer || e.create(t) : e.dismissNotify()
            })
        },
        create: function(e) {
            this.dismiss = !1,
            this.update(e),
            this.$el.removeClass("hide").addClass("visible"),
            this.hideNotify()
        },
        update: function(e) {
            var t = "";
            t = this.template({
                title: e.title,
                content: e.content,
                channel: e.channel,
                link_title: e.link_title,
                link_type: e.link_type
            }),
            e.url && "" !== e.url && (t = '<a href="' + e.url + '?promo=notification">' + t + "</a>"),
            this.$(".message").html(t)
        },
        close: function(e) {
            e.preventDefault(),
            this.closeNotify(),
            n.measureApp(this.options.metrics_name, "Close Notification")
        },
        dismissNotify: function() {
            this.dismiss || (this.dismiss = !0,
            clearTimeout(this.timeoutID),
            this.$el.removeClass("visible"),
            setTimeout(function() {
                this.$el.addClass("close")
            }
            .bind(this), 25),
            setTimeout(function() {
                this.$el.removeClass().addClass("hide")
            }
            .bind(this), 525))
        },
        closeNotify: function() {
            this.dismissNotify(),
            this.timer = !1,
            i.cookie("notifyID", this.currentID, {
                path: "/en_US/",
                expires: 365
            })
        },
        hideNotify: function() {
            this.timer = !0,
            this.timeoutID = setTimeout(function() {
                this.closeNotify()
            }
            .bind(this), 6e4)
        }
    });
    return r
}),
define("models/video", ["require", "jquery", "backbone"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = t.Model.extend({
        defaults: {
            id: "",
            title: "",
            streamType: "",
            contentType: "",
            poster: "",
            tracks: "",
            ads: "",
            dashUrl: "",
            hlsUrl: "",
            progUrl: "",
            hlsMimeType: "application/x-mpegURL",
            progMimeType: "video/mp4",
            pageLink: "",
            replay_channel: "",
            track: "",
            cdn: "unknown",
            panelButton: ""
        },
        initialize: function() {}
    });
    return i
}),
function(e) {
    function t() {
        this.version = "1.2.0-60",
        this.buildTime = "2017-04-08T18:51:44Z",
        console.log("[EventsCorePlayer] - version:%o built:%o", this.version, this.buildTime),
        this.players = {},
        this.player = {},
        this.control = {},
        this.control.caption = {},
        this.commons = {},
        this.view = {},
        this.utils = {},
        this.ads = {},
        this.getVersion = function() {
            return self.version
        }
        ,
        this.init = function(t, i, s, n) {
            var a = e(i).selector;
            return console.log("EventsPlayer - init - wrapper:%o wsel:%o player:%o", i, a, this.players[a]),
            a ? (s && (this.players[a] = null),
            this.players[a] ? console.log("EventsPlayer - init - old Main - wrapper:%o", a) : (console.log("EventsPlayer - init - new Main - wrapper:%o", a),
            this.players[a] = new eventsPlayer.Main(this.version,t,i,n)),
            this.players[a]) : void console.error("EventsPlayer - init - no wrapper selector found for player")
        }
        ,
        this.destroy = function(e) {
            this.players[e].removeHandlers(),
            delete this.players[e],
            this.players[e] = null,
            console.log("EventsPlayer - destroy - selector:%o", e)
        }
        ,
        this.move = function(t, i) {
            var s = e(t).selector
              , n = e(i).selector;
            console.log("EventsPlayer - move - wrapper:%o player:%o players:%o", t, this.players[s], this.players),
            this.players[s].stop(),
            this.players[s].move(i),
            this.players[n] = this.players[s],
            delete this.players[s]
        }
    }
    window.eventsPlayer = new t
}(jQuery),
function(e) {
    function t() {
        var e = new Object;
        return e.type = "InitializingEvent",
        e.tech = null,
        e
    }
    function i() {
        var e = new Object;
        return e.type = "PlayerReadyEvent",
        e.tech = null,
        e.fullscreenEnabled = null,
        e
    }
    function s() {
        var e = new Object;
        return e.type = "LoadingEvent",
        e.playObject = null,
        e
    }
    function n() {
        var e = new Object;
        return e.type = "PlayEvent",
        e
    }
    function a() {
        var e = new Object;
        return e.type = "PauseEvent",
        e.paused = null,
        e
    }
    function r() {
        var e = new Object;
        return e.type = "MetadataEvent",
        e.aspect = null,
        e.live = null,
        e.dvr = null,
        e.width = null,
        e.height = null,
        e.renditions = null,
        e.fullscreenEnabled = null,
        e
    }
    function o() {
        var e = new Object;
        return e.type = "CompleteEvent",
        e.postroll = !1,
        e
    }
    function l() {
        var e = new Object;
        return e.type = "TimeUpdateEvent",
        e.time = null,
        e.duration = null,
        e.start = null,
        e.detectedStreamType = null,
        e.programDateTime = null,
        e.qos = null,
        e.loadedTime = null,
        e.buffered = null,
        e
    }
    function h() {
        var e = new Object;
        return e.type = "BufferingEvent",
        e
    }
    function c() {
        var e = new Object;
        return e.type = "SeekEvent",
        e.time = null,
        e
    }
    function d() {
        var e = new Object;
        return e.type = "ErrorEvent",
        e.message = null,
        e.stack = null,
        e.code = null,
        e
    }
    function u() {
        var e = new Object;
        return e.type = "VolumeEvent",
        e.muted = null,
        e.volume = null,
        e
    }
    function p() {
        var e = new Object;
        return e.type = "ResizeEvent",
        e.width,
        e.height,
        e
    }
    function f() {
        var e = new Object;
        return e.type = "QosData",
        e.frameRate = null,
        e.playRate = null,
        e.rendition = null,
        e.stream = null,
        e.activeRendition = null,
        e.totalRenditions = null,
        e.uri = null,
        e.bandwidth = null,
        e.resolution = null,
        e.codecVideo = null,
        e.codecAudio = null,
        e.renderer = null,
        e
    }
    function g() {
        var e = new Object;
        return e.type = "AdStartEvent",
        e
    }
    function m() {
        var e = new Object;
        return e.type = "AdEndEvent",
        e
    }
    function v() {
        var e = new Object;
        return e.type = "TextTrackEvent",
        e.data = null,
        e
    }
    function b() {
        var e = new Object;
        return e.type = "TrackLoadedEvent",
        e.data = null,
        e
    }
    function y() {
        var e = new Object;
        return e.type = "CueChangeEvent",
        e.data = null,
        e
    }
    function w() {
        var e = new Object;
        return e.type = "CaptionEvent",
        e.time = null,
        e.data = null,
        e
    }
    function _() {
        var e = new Object;
        return e.type = "VideoFullscreenEvent",
        e.fullscreen = null,
        e.measure = null,
        e
    }
    window.eventsPlayer.commons.InitializingEvent = t,
    window.eventsPlayer.commons.PlayerReadyEvent = i,
    window.eventsPlayer.commons.LoadingEvent = s,
    window.eventsPlayer.commons.PlayEvent = n,
    window.eventsPlayer.commons.PauseEvent = a,
    window.eventsPlayer.commons.MetadataEvent = r,
    window.eventsPlayer.commons.CompleteEvent = o,
    window.eventsPlayer.commons.TimeUpdateEvent = l,
    window.eventsPlayer.commons.SeekEvent = c,
    window.eventsPlayer.commons.BufferingEvent = h,
    window.eventsPlayer.commons.ErrorEvent = d,
    window.eventsPlayer.commons.VolumeEvent = u,
    window.eventsPlayer.commons.ResizeEvent = p,
    window.eventsPlayer.commons.QosData = f,
    window.eventsPlayer.commons.AdStartEvent = g,
    window.eventsPlayer.commons.AdEndEvent = m,
    window.eventsPlayer.commons.TextTrackEvent = v,
    window.eventsPlayer.commons.TrackLoadedEvent = b,
    window.eventsPlayer.commons.CueChangeEvent = y,
    window.eventsPlayer.commons.CaptionEvent = w,
    window.eventsPlayer.commons.VideoFullscreenEvent = _
}(jQuery),
function(e) {
    function t(e, t) {
        var i, s = new Object, n = new eventsCore.util.Logger("AnalyticsAkamai"), a = e, r = t, o = {};
        window.eventsPlayer.PlayerConstants;
        n.info("constructor - data:%o ", t);
        var l = function() {
            window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH = r.beacon + "?enableGenericAPI=1",
            o.streamHeadPosition = h,
            o.streamLength = c,
            o["streamURL "] = d,
            i = new AkaHTML5MediaAnalytics(o)
        }
          , h = function() {
            return a.currentTime
        }
          , c = function() {
            return a.duration
        }
          , d = function() {
            return a.currentSrc
        };
        return s.loadedmetadata = function(e, t, s) {
            i.setData("title", e),
            i.setData("playerId", t),
            i.setData("viewerId", s),
            i.handleSessionInit()
        }
        ,
        s.onPlay = function() {
            n.info("onPlay"),
            i.handlePlaying()
        }
        ,
        s.onPause = function() {
            n.info("onPause"),
            i.handlePause()
        }
        ,
        s.onBufferStart = function() {
            n.info("onBufferStart"),
            i.handleBufferStart()
        }
        ,
        s.onBufferEnd = function() {
            n.info("onBufferEnd"),
            i.handleBufferEnd()
        }
        ,
        s.onBitrate = function(e) {
            n.info("onBitrate - rate:%o", e),
            i.handleBitRateSwitch(e)
        }
        ,
        s.onEnded = function() {
            n.info("onEnded"),
            i.handlePlayEnd("Play.End.Detected")
        }
        ,
        s.onError = function() {
            n.info("onError"),
            i.handleError("VideoJS.Error")
        }
        ,
        l(),
        s
    }
    window.eventsPlayer.control.AnalyticsAkamai = t
}(jQuery),
function(e) {
    function t(e) {
        var t, i = new Object, s = new eventsCore.util.Logger("AnalyticsConviva"), n = e, a = (window.eventsPlayer.PlayerConstants,
        null);
        s.info("constructor - data:%o ", n);
        var r = function() {
            t = "undefined" != typeof window.Conviva && window.Conviva,
            s.info("init - hasConviva:%o", t),
            t && (Conviva.LivePass.init(n.key),
            Conviva.LivePass.toggleTraces(!0))
        }
          , o = function(e) {
            var t = Conviva.ConvivaContentInfo.CDN_NAME_OTHER;
            return "akamai" == e ? t = Conviva.ConvivaContentInfo.CDN_NAME_AKAMAI : "level3" == e ? t = Conviva.ConvivaContentInfo.CDN_NAME_LEVEL3 : "highwinds" == e && (t = Conviva.ConvivaContentInfo.CDN_NAME_HIGHWINDS),
            t
        }
          , l = function(e) {
            var t = "";
            return StringUtil.contains(e, "mobile") ? t = Conviva.ConvivaContentInfo.DEVICE_TYPE_MOBILE : StringUtil.contains(e, "pc") && (t = Conviva.ConvivaContentInfo.DEVICE_TYPE_PC),
            t
        };
        return i.cleanUpSession = function() {
            null != a && (Conviva.LivePass.cleanupSession(a),
            a = null,
            s.info("cleanUpSession - "))
        }
        ,
        i.startSession = function(e) {
            if (!t)
                return void s.info("startSession - no conviva found");
            s.info("startSession - data:%o src:%o streamer:%o", e, e.url, e.player),
            i.cleanUpSession();
            var n = e.name
              , r = {
                screenType: e.screenType,
                pageURL: e.pageUrl,
                syndicator: e.syndicator,
                renderer: e.renderer
            }
              , h = new Conviva.ConvivaContentInfo(n,r);
            h.defaultReportingCdnName = o(e.cdn),
            h.streamUrl = e.url,
            h.isLive = e.isLive,
            h.playerName = e.playerName,
            h.viewerId = "conviva_tester",
            h.deviceType = l(e.deviceType),
            s.info("startSession - metadata:%o", h);
            var c = {};
            c[Conviva.LivePass.OPTION_EXTERNAL_BITRATE_REPORTING] = !0,
            streamer = new Conviva.ConvivaVideojsStreamerProxy(e.player),
            a = Conviva.LivePass.createSession(streamer, h, c)
        }
        ,
        i.sendEvent = function(e, t) {
            s.info("sendEvent - name:%o data:%o", e, t),
            Conviva.LivePass.sendEvent(e, t)
        }
        ,
        i.reportBitrate = function(e) {
            null != a && (s.info("reportBitrate - bitrateKbps:%o", e),
            Conviva.LivePass.setBitrate(a, e))
        }
        ,
        i.reportError = function(e) {
            null != a && (s.info("reportError - msg:%o", e),
            Conviva.LivePass.reportError(a, e))
        }
        ,
        i.getConvivaData = function() {
            return "testConviva"
        }
        ,
        r(),
        i
    }
    window.eventsPlayer.control.AnalyticsConviva = t
}(jQuery),
function(e) {
    function t(e, t) {
        var i, s, n, a, r = new Object, o = new eventsCore.util.Logger("AnalyticsConvivaHtml5"), l = e, h = t, c = (window.eventsPlayer.PlayerConstants,
        null);
        o.info("constructor - data:%o ", l);
        var d = function(e) {
            if (i = "undefined" != typeof window.Conviva && window.Conviva,
            o.info("init - hasConviva:%o touchstone:%o", i, h),
            i) {
                var t = new Conviva.SystemSettings
                  , n = (new Html5SystemInterfaceFactory).build()
                  , a = new Conviva.SystemFactory(n,t)
                  , r = new Conviva.ClientSettings(l.key);
                h && (r.gatewayUrl = "https://ibm.testonly.conviva.com"),
                s = new Conviva.Client(r,a)
            }
        };
        return r.cleanUpSession = function() {
            null != c && (s.cleanupSession(c),
            c = null,
            o.info("cleanUpSession - client:%o", s))
        }
        ,
        r.startSession = function(e) {
            if (!i)
                return void o.info("startSession - no conviva found");
            o.info("startSession - data:%o src:%o streamer:%o", e, e.url, e.player),
            r.cleanUpSession,
            a = s.getPlayerStateManager();
            var t = new Conviva.ContentMetadata;
            t.assetName = e.name,
            t.streamUrl = e.url,
            t.streamType = e.isLive ? Conviva.ContentMetadata.StreamType.LIVE : Conviva.ContentMetadata.StreamType.VOD,
            t.applicationName = e.playerName,
            t.viewerId = "conviva_tester";
            var l = {
                screenType: e.screenType,
                pageURL: e.pageUrl,
                syndicator: e.syndicator,
                renderer: e.renderer,
                cdn: e.cdn
            };
            t.custom = l,
            o.info("startSession - metadata:%o", t),
            c = s.createSession(t),
            n = new Html5PlayerInterface(a,e.video),
            s.attachPlayer(c, a),
            e.video.addEventListener("error", function() {
                r.cleanUpSession()
            }),
            e.video.addEventListener("ended", function() {
                r.cleanUpSession()
            })
        }
        ,
        r.sendEvent = function(e, t) {
            null != c ? (o.info("sendEvent - name:%o data:%o", e, t),
            s.sendCustomEvent(c, e, t)) : o.info("sendEvent - no sessionKey - name:%o data:%o", e, t)
        }
        ,
        r.reportBitrate = function(e) {
            o.info("reportBitrate - bitrateKbps:%o", e),
            a.setBitrateKbps(e)
        }
        ,
        r.reportError = function(e) {
            null != c && (o.info("reportError - msg:%o", e),
            s.reportError(c, e, Conviva.Client.ErrorSeverity.FATAL))
        }
        ,
        r.getConvivaData = function() {
            return "testConviva"
        }
        ,
        d(),
        r
    }
    window.eventsPlayer.control.AnalyticsConvivaHtml5 = t
}(jQuery),
function(e) {
    function t(e, t, i) {
        var s, n = new Object, a = (new eventsCore.util.Logger("AnalyticsManager"),
        t), r = function() {
            a.omniture && (s = new eventsPlayer.control.AnalyticsOmniture(e,a.omniture))
        };
        return r(),
        n
    }
    window.eventsPlayer.control.AnalyticsManager = t
}(jQuery),
function(e) {
    function t(t, i, s) {
        var n = new Object
          , a = new eventsCore.util.Logger("AnalyticsOmniture")
          , r = t
          , o = i
          , l = window.eventsPlayer.PlayerConstants
          , h = "player:SendMeasureEvent"
          , c = {
            title: "",
            tech: ""
        };
        e(r.container).on("player:LoadEvent", function(e, t) {
            a.info("player:LoadEvent - data:%o ", t),
            c.tech = t.tech,
            c.title = t.playObj.info.title,
            c.type = "",
            t.playObj.streamType === l.VOD ? c.type = "vod" : t.playObj.streamType !== l.LIVE && t.playObj.streamType !== l.DVR || (c.type = "live"),
            a.info("player:LoadEvent - info:%o", c)
        }),
        e(r.container).on("player:MeasureEvent", function(e, t) {
            d(t)
        });
        var d = function(t) {
            if (t.type && "PlayStart" === t.type)
                return void sendPlayStart(t.tech);
            var i, s, n, a = {
                tech: c.tech,
                type: t.values
            };
            if (o.actions)
                if (i = o.actions[t.values]) {
                    n = i;
                    for (var l = /<(.*)>/, d = 0; d < n.length; d++) {
                        var u = n[d].match(l);
                        if (u)
                            try {
                                0 === u[1].indexOf("Metrics") ? (s = u[1].split("."),
                                n[d] = window[s[0]][s[1]]) : "title" === u[1] ? n[d] = c.title : "tech" === u[1] && (n[d] = c.tech)
                            } catch (e) {
                                n[d] = "unknown"
                            }
                    }
                    a.measureLabels = n
                } else
                    t.measureLabels && (a.measureLabels = t.measureLabels);
            if (o["evars_" + c.type] && o["evars_" + c.type][t.values]) {
                a.evars = [],
                i = o["evars_" + c.type][t.values];
                for (var p = 0; p < i.length; p++)
                    "<title>" === i[p][Object.keys(i[p])[0]] && (i[p][Object.keys(i[p])[0]] = c.title),
                    a.evars.push(i[p])
            }
            o["events_" + c.type] && (a.events = o["events_" + c.type][t.values]),
            e(r.container).trigger(h, a)
        };
        return n
    }
    window.eventsPlayer.control.AnalyticsOmniture = t
}(jQuery),
function(e) {
    function t(e, t) {
        var i = new Object
          , s = new eventsCore.util.Logger("AnalyticsYoubora")
          , n = e
          , a = t;
        window.eventsPlayer.PlayerConstants;
        s.info("constructor - data:%o ", t);
        var r = function() {
            n.youbora && (s.info("init - accountCode:%o", a.accountCode),
            n.youbora({
                accountCode: a.accountCode
            }))
        };
        return i.setStreamInfo = function(e, t, i, a) {
            s.info("setStreamInfo - title:%o isLive:%o", e, t, i, a),
            n.youbora({
                media: {
                    isLive: t,
                    title: e
                },
                media: {
                    title: e,
                    isLive: t,
                    resource: i,
                    cdn: a
                }
            })
        }
        ,
        i.setStreamType = function(e) {
            s.info("setStreamType - isLive:%o", e),
            n.youbora({
                media: {
                    isLive: e
                }
            })
        }
        ,
        r(),
        i
    }
    window.eventsPlayer.control.AnalyticsYoubora = t
}(jQuery),
function(e) {
    var t = {};
    Object.defineProperty(t, "NR_ROWS", {
        value: 15,
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "NR_COLS", {
        value: 42,
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "rowsLowCh1", {
        value: {
            17: 1,
            18: 3,
            21: 5,
            22: 7,
            23: 9,
            16: 11,
            19: 12,
            20: 14
        },
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "rowsHighCh1", {
        value: {
            17: 2,
            18: 4,
            21: 6,
            22: 8,
            23: 10,
            19: 13,
            20: 15
        },
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "rowsLowCh2", {
        value: {
            25: 1,
            26: 3,
            29: 5,
            30: 7,
            31: 9,
            24: 11,
            27: 12,
            28: 14
        },
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "rowsHighCh2", {
        value: {
            25: 2,
            26: 4,
            29: 6,
            30: 8,
            31: 10,
            27: 13,
            28: 15
        },
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "backgroundColors", {
        value: ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "black", "transparent"],
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "specialCea608CharsCodes", {
        value: {
            42: 225,
            92: 233,
            94: 237,
            95: 243,
            96: 250,
            123: 231,
            124: 247,
            125: 209,
            126: 241,
            127: 9608,
            128: 174,
            129: 176,
            130: 189,
            131: 191,
            132: 8482,
            133: 162,
            134: 163,
            135: 9834,
            136: 224,
            137: 32,
            138: 232,
            139: 226,
            140: 234,
            141: 238,
            142: 244,
            143: 251,
            144: 193,
            145: 201,
            146: 211,
            147: 218,
            148: 220,
            149: 252,
            150: 8216,
            151: 161,
            152: 42,
            153: 8217,
            154: 9473,
            155: 169,
            156: 8480,
            157: 8226,
            158: 8220,
            159: 8221,
            160: 192,
            161: 194,
            162: 199,
            163: 200,
            164: 202,
            165: 203,
            166: 235,
            167: 206,
            168: 207,
            169: 239,
            170: 212,
            171: 217,
            172: 249,
            173: 219,
            174: 171,
            175: 187,
            176: 195,
            177: 227,
            178: 205,
            179: 204,
            180: 236,
            181: 210,
            182: 242,
            183: 213,
            184: 245,
            185: 123,
            186: 125,
            187: 92,
            188: 94,
            189: 95,
            190: 124,
            191: 8764,
            192: 196,
            193: 228,
            194: 214,
            195: 246,
            196: 223,
            197: 165,
            198: 164,
            199: 9475,
            200: 197,
            201: 229,
            202: 216,
            203: 248,
            204: 9487,
            205: 9491,
            206: 9495,
            207: 9499
        },
        writable: !1,
        enumerable: !0
    }),
    window.eventsPlayer.CaptionConstants = t
}(jQuery),
function(e) {
    function t(t) {
        var i, s, n, a, r, o, l, h, c, d = new Object, u = new eventsCore.util.Logger("CaptionDisplay"), p = !1, f = t, g = !1, m = 0, v = 0, b = [], y = 0, w = -1, _ = [], k = [], x = 1, C = 2.380952, T = 6.666667, S = 15, P = function() {
            u.info("init - active:%o", p);
            var t = e(f.container).find(".playerPoster")[0];
            e('<div class="overlayCaptions"><div class="captionColumns" style="color: white;"><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span></div><div class="captionWindow"></div></div>').insertBefore(t),
            l = new eventsPlayer.control.caption.CaptionSettings,
            i = e(f.container).find(".overlayCaptions")[0],
            o = e(f.wrapper).find(".captionWindow"),
            R(),
            s = new eventsPlayer.control.caption.Cea608Parser(1,{
                updateData: A,
                newCommand: D
            },null),
            e(f.container).on("player:TimeUpdateEvent", function(e, t) {
                E(t)
            }),
            e(f.container).on("player:ResizeEvent", function(e, t) {
                I(t.width, t.height)
            }),
            e(f.container).on("player:MetadataEvent", function(e, t) {}),
            e(f.container).on("player:SeekEvent", function(e, t) {
                O(h && c && (t.time < h || t.time > c) ? !0 : !1)
            })
        }, M = function(e, t) {
            b.push({
                time: e,
                data: t
            })
        }, E = function(t) {
            if (p) {
                g && !e(i).is(":visible") && L(!0, "updateTime");
                var n = [];
                v = t.time,
                t.buffered[0] && (h = t.buffered[0].start,
                c = t.buffered[0].end);
                b && b[0] ? b[0].time : "na";
                if (w == -1)
                    for (var a = 0; a < b.length; a++)
                        if (v <= b[a].time) {
                            w = a;
                            break
                        }
                if (w < 0)
                    return;
                for (var r = b.length - 1; r > w; r--)
                    if (v >= b[r].time) {
                        n = b.slice(w, r + 1),
                        w = r + 1;
                        break
                    }
                if (g && n.length)
                    for (var o = 0; o < n.length; o++)
                        v >= n[o].time - x && s.addData(n[o].time, n[o].data)
            }
        }, A = function(t, i) {
            var s = i.getTextAndFormat();
            i.rollUpRow == a && i.currRow == r || (a = i.rollUpRow,
            r = i.currRow,
            j(r, a));
            for (var h = 0; h < s.length; h++)
                if ("" != s[h].getTextString()) {
                    if (o) {
                        e(_[h].elem).find(".captionText").html(s[h].getTextString());
                        var c = s[h].getTextString().search(/\S/);
                        _[h].elem.css("left", c * C + "%"),
                        l.setBackgroundStyle(e(_[h].elem)),
                        l.setTextStyle(e(_[h].elem.find(".captionText")))
                    }
                } else
                    "MODE_POP-ON" == n && e(_[h].elem).find(".captionText").html("")
        }, D = function(t, i) {
            if ("mode" == i.cmd && (n = i.value),
            "rollup" == i.cmd) {
                for (var s, o, l, h, t, c = _[S - 1].percTop, d = 0; d < _.length; d++)
                    t = 200,
                    tmpVal = _[d].percTop,
                    _[d].percTop = c,
                    c = tmpVal,
                    h = _[d].percTop,
                    l = null,
                    d == r - a + 1 ? (1 == r && (l = _[d],
                    h = k[0]),
                    s = _[d].elem.css("top"),
                    o = _[d].elem.css("height"),
                    _[d].elem.attr("data-value", "shrink")) : parseFloat(h) > parseFloat(tmpVal) && _[d].elem.css("top", "100%"),
                    _[d].elem.animate({
                        top: h
                    }, {
                        duration: t,
                        easing: "linear",
                        progress: function(t, i) {
                            if ("shrink" == e(this).attr("data-value")) {
                                var n = parseFloat(s) - parseFloat(e(this).css("top"));
                                e(this).css("top", s),
                                e(this).css("height", parseFloat(o) - n + "px"),
                                e(this).find(".captionText").css("bottom", n + "px")
                            }
                        },
                        complete: function() {
                            "shrink" == e(this).attr("data-value") && (e(this).css("height", ""),
                            e(this).find(".captionText").css("bottom", ""),
                            e(this).attr("data-value", ""),
                            e(this).find(".captionText").html(""),
                            l && (l.percTop = k[S],
                            e(this).css("top", k[S])))
                        }
                    });
                _.sort(function(e, t) {
                    return parseFloat(e.percTop) - parseFloat(t.percTop)
                })
            } else
                "erase" == i.cmd && z()
        }, L = function(t, s) {
            u.info("showOverlay - show:%o src:%o", t, s),
            t ? e(i).show() : e(i).hide()
        }, R = function() {
            var t = S * T
              , i = 0;
            y = 100 / S,
            r = S - 1,
            o.empty(),
            o.css("height", t + "%"),
            o.css("top", i + "%"),
            k.push(-1 * y + "%");
            for (var s = 0; s < S; s++) {
                var n = e('<div id="row" class="captionRow" data-value="" data-num="' + s + '"><div class="captionText"></div></div>');
                o.append(n),
                _.push({
                    elem: n,
                    percTop: s * y + "%",
                    percTopStart: s * y + "%",
                    id: s
                }),
                _[s].elem.css("top", _[s].percTop),
                _[s].elem.css("height", y + "%"),
                k.push(s * y + "%")
            }
        }, j = function(e, t) {
            return
        }, O = function(t) {
            u.info("resetCaptions - clear:%o", t),
            e(i).hide(),
            L(!1, "resetCaptions"),
            t && (b = []),
            w = -1,
            a = null,
            m = 0,
            r = S - 1,
            s.reset(),
            z()
        }, z = function() {
            for (var e = 0; e < _.length; e++)
                _[e].elem.stop(!0),
                _[e].elem.find(".captionText").html(""),
                _[e].percTop = k[e + 1],
                _[e].elem.css("top", _[e].percTop),
                _[e].elem.attr("data-value", "");
            _.sort(function(e, t) {
                return parseFloat(e.percTop) - parseFloat(t.percTop)
            })
        }, I = function(t, i) {
            var s = i / 360
              , n = 100 * s;
            e(".captionWindow > div").css("font-size", n + "%")
        };
        return d.add608 = function(e, t) {
            p && M(e, t)
        }
        ,
        d.enable = function() {
            p && (u.info("enable"),
            s.reset(),
            I(e(f.wrapper).width(), e(f.wrapper).height()),
            g = !0)
        }
        ,
        d.disable = function() {
            p && (u.info("disable"),
            g = !1,
            O(),
            L(!1, "disable"))
        }
        ,
        d.activate = function(e) {
            O(!0),
            p = e
        }
        ,
        P(),
        d
    }
    window.eventsPlayer.view.CaptionDisplay = t
}(jQuery),
function(e) {
    function t(t) {
        var i = new Object
          , s = (new eventsCore.util.Logger("CaptionSettings"),
        {
            textColor: "White",
            textOpacity: "Opaque",
            bgColor: "Black",
            bgOpacity: "Opaque",
            fontSize: "100%",
            textEdge: "None",
            fontFamily: "Proportional Sans-Serif"
        })
          , n = {
            Black: "#000",
            White: "#FFF",
            Red: "#F00",
            Green: "#0F0",
            Blue: "#00F",
            Yellow: "#FF0",
            Magenta: "#F0F",
            Cyan: "#0FF"
        }
          , a = {
            Transparent: 0,
            "Semi-Transparent": .5,
            Opaque: 1
        }
          , r = {
            "50%": "50%",
            "75%": "75%",
            "100%": "100%",
            "125%": "125%",
            "150%": "150%",
            "175%": "175%",
            "200%": "200%"
        }
          , o = {
            "Proportional Sans-Serif": '"robotoregular"',
            "Monospace Sans-Serif": '"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',
            "Proportional Serif": '"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',
            "Monospace Serif": '"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',
            Casual: '"Comic Sans MS", Impact, Handlee, fantasy',
            Cursive: '"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',
            "Small Caps": '"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif'
        }
          , l = function(e) {
            var t = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
            e = e.replace(t, function(e, t, i, s) {
                return t + t + i + i + s + s
            });
            var i = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
            return i ? {
                r: parseInt(i[1], 16),
                g: parseInt(i[2], 16),
                b: parseInt(i[3], 16)
            } : null
        };
        return i.setBackgroundStyle = function(t) {
            var i = l(n[s.bgColor])
              , r = a[s.bgOpacity];
            e(t).css("background-color", "rgba(" + i.r + "," + i.g + "," + i.b + "," + r + ")")
        }
        ,
        i.setTextStyle = function(t) {
            var i = l(n[s.textColor])
              , h = a[s.textOpacity];
            e(t).css("color", "rgba(" + i.r + "," + i.g + "," + i.b + "," + h + ")"),
            e(t).css("font-family", o[s.fontFamily]),
            e(t).css("font-size", r[s.fontSize])
        }
        ,
        i
    }
    window.eventsPlayer.control.caption.CaptionSettings = t
}(jQuery),
function(e) {
    function t() {
        for (var e = {
            get rows() {
                return i
            },
            get rollUpRow() {
                return a
            },
            get currRow() {
                return n
            }
        }, t = (new eventsCore.util.Logger("Cea608CaptionScreen"),
        eventsPlayer.CaptionConstants.NR_ROWS), i = [], s = 0; s < t; s++)
            i.push(new eventsPlayer.control.caption.Cea608Row(s));
        var n = t - 1
          , a = null;
        return e.reset = function() {
            for (var e = 0; e < t; e++)
                i[e].clear();
            n = t - 1
        }
        ,
        e.equals = function(e) {
            for (var s = !0, n = 0; n < t; n++)
                if (!i[n].equals(e.rows[n])) {
                    s = !1;
                    break
                }
            return s
        }
        ,
        e.copy = function(e) {
            for (var s = 0; s < t; s++)
                i[s].copy(e.rows[s]);
            a = e.rollUpRow,
            n = e.currRow
        }
        ,
        e.isEmpty = function() {
            for (var e = !0, s = 0; s < t; s++)
                if (!i[s].isEmpty()) {
                    e = !1;
                    break
                }
            return e
        }
        ,
        e.backSpace = function() {
            var e = i[n];
            e.backSpace()
        }
        ,
        e.clearToEndOfRow = function() {
            var e = i[n];
            e.clearToEndOfRow()
        }
        ,
        e.insertChar = function(e) {
            var t = i[n];
            t.insertChar(e)
        }
        ,
        e.setPen = function(e) {
            var t = i[n];
            t.setPenStyles(e)
        }
        ,
        e.moveCursor = function(e) {
            var t = i[n];
            t.moveCursor(e)
        }
        ,
        e.setCursor = function(e) {
            var t = i[n];
            t.setCursor(e)
        }
        ,
        e.setPAC = function(t) {
            var s = t.row - 1;
            a && s < a - 1 && (s = a - 1),
            n = s;
            var r = i[n];
            if (null !== t.indent) {
                var o = t.indent
                  , l = Math.max(o - 1, 0);
                r.setCursor(t.indent),
                t.color = r.chars[l].penState.foreground
            }
            var h = {
                foreground: t.color,
                underline: t.underline,
                italics: t.italics,
                background: "black",
                flash: !1
            };
            e.setPen(h)
        }
        ,
        e.setBkgData = function(t) {
            backSpace(),
            e.setPen(t),
            e.insertChar(32)
        }
        ,
        e.setRollUpRows = function(e) {
            a = e
        }
        ,
        e.rollUp = function() {
            if (null !== a) {
                var e = n + 1 - a
                  , t = i.splice(e, 1)[0];
                t.clear(),
                i.splice(n, 0, t)
            }
        }
        ,
        e.getDisplayText = function(e) {
            e = e || !1;
            for (var s = [], n = "", a = -1, r = 0; r < t; r++) {
                var o = i[r].getTextString();
                o && (a = r + 1,
                e ? s.push("Row " + a + ': "' + o + '"') : s.push(o.trim()))
            }
            return s.length > 0 && (n = e ? "[" + s.join(" | ") + "]" : s.join("\n")),
            n
        }
        ,
        e.getTextAndFormat = function() {
            return i
        }
        ,
        e.rows = function() {
            return i
        }
        ,
        e.reset(),
        e
    }
    window.eventsPlayer.control.caption.Cea608CaptionScreen = t
}(jQuery),
function(e) {
    function t(e, t) {
        var i = {}
          , s = new eventsCore.util.Logger("Cea608Channel")
          , n = (eventsPlayer.CaptionConstants.NR_COLS,
        eventsPlayer.CaptionConstants.NR_ROWS)
          , t = t
          , a = null
          , r = new eventsPlayer.control.caption.Cea608CaptionScreen
          , o = new eventsPlayer.control.caption.Cea608CaptionScreen
          , l = new eventsPlayer.control.caption.Cea608CaptionScreen
          , h = r.rows[n - 1]
          , c = r
          , a = null
          , d = null
          , u = null;
        i.reset = function() {
            a = null,
            r.reset(),
            o.reset(),
            l.reset(),
            h = r.rows[n - 1],
            c = r,
            a = null,
            d = null,
            lastCueEndTime = null
        }
        ,
        i.setTime = function(e) {
            u = e
        }
        ,
        i.getHandler = function() {
            return t
        }
        ,
        i.setHandler = function(e) {
            t = e
        }
        ,
        i.setPAC = function(e) {
            c.setPAC(e)
        }
        ,
        i.setBkgData = function(e) {
            c.setBkgData(e)
        }
        ;
        var p = function(e) {
            e !== a && (a = e,
            "MODE_POP-ON" == a ? c = o : (c = r,
            c.reset()),
            "MODE_ROLL-UP" !== a && (r.nrRollUpRows = null,
            o.nrRollUpRows = null),
            a = e,
            f({
                cmd: "mode",
                value: a
            }))
        };
        i.insertChars = function(e, t) {
            var i = "";
            u = e;
            for (var s = 0; s < t.length; s++)
                c.insertChar(t[s]),
                i += h.getCharForByte(t[s]);
            "MODE_PAINT-ON" !== a && "MODE_ROLL-UP" !== a || f()
        }
        ,
        i.cc_RCL = function() {
            p("MODE_POP-ON")
        }
        ,
        i.cc_BS = function() {
            "MODE_TEXT" !== a && (c.backSpace(),
            c === r && f())
        }
        ,
        i.cc_AOF = function() {}
        ,
        i.cc_AON = function() {}
        ,
        i.cc_DER = function() {
            c.clearToEndOfRow(),
            f()
        }
        ,
        i.cc_RU = function(e) {
            c = r,
            p("MODE_ROLL-UP"),
            c.setRollUpRows(e)
        }
        ,
        i.cc_FON = function() {
            c.setPen({
                flash: !0
            })
        }
        ,
        i.cc_RDC = function() {
            p("MODE_PAINT-ON")
        }
        ,
        i.cc_TR = function() {
            p("MODE_TEXT")
        }
        ,
        i.cc_RTD = function() {}
        ,
        i.cc_EDM = function() {
            r.reset(),
            f({
                cmd: "erase"
            })
        }
        ,
        i.cc_CR = function() {
            c.rollUp(),
            f({
                cmd: "rollup"
            })
        }
        ,
        i.cc_ENM = function() {
            o.reset()
        }
        ,
        i.cc_EOC = function() {
            if ("MODE_POP-ON" === a) {
                var e = r;
                r = o,
                o = e,
                c = o
            }
            f()
        }
        ,
        i.cc_TO = function(e) {
            s.info("command - cc_TO - Tab Offset:%o", e),
            c.moveCursor(e)
        }
        ,
        i.cc_MIDROW = function(e) {
            var t = {
                flash: !1
            };
            if (t.underline = e % 2 === 1,
            t.italics = e >= 46,
            t.italics)
                t.foreground = "white";
            else {
                var i = Math.floor(e / 2) - 16
                  , s = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"];
                t.foreground = s[i]
            }
            c.setPen(t)
        }
        ;
        var f = function(e) {
            var i = u;
            if (null !== i && t) {
                if (e)
                    return void (t.newCommand && t.newCommand(i, e));
                t.updateData && t.updateData(i, r),
                null !== d || r.isEmpty() ? r.equals(l) || (t.newCue && t.newCue(i, l),
                d = r.isEmpty() ? null : i) : d = i,
                l.copy(r)
            }
        };
        return i
    }
    window.eventsPlayer.control.caption.Cea608Channel = t
}(jQuery),
function(e) {
    function t(e, t, i) {
        var s = {}
          , n = new eventsCore.util.Logger("Cea608Parser")
          , a = eventsPlayer.CaptionConstants.rowsLowCh1
          , r = eventsPlayer.CaptionConstants.rowsLowCh2
          , o = eventsPlayer.CaptionConstants.rowsHighCh1
          , l = eventsPlayer.CaptionConstants.rowsHighCh2
          , h = [new eventsPlayer.control.caption.Cea608Channel(1,t), new eventsPlayer.control.caption.Cea608Channel(2,i)]
          , c = -1
          , d = null
          , u = null
          , p = null
          , f = {
            padding: 0,
            char: 0,
            cmd: 0,
            other: 0
        }
          , g = function(e) {
            for (var t = [], i = 0; i < e.length; i++)
                t.push(e[i].toString(16));
            return t
        };
        s.addData = function(e, t) {
            var i, s, a, r = !1;
            p = e;
            for (var o = 0; o < t.length; o += 2)
                if (s = 127 & t[o],
                a = 127 & t[o + 1],
                0 !== s || 0 !== a) {
                    if (i = m(e, s, a),
                    i || (i = v(s, a)),
                    i || (i = b(s, a)),
                    i || (i = _(s, a)),
                    !i && (r = w(s, a)))
                        if (c && c >= 0) {
                            var l = h[c - 1];
                            l.insertChars(p, r)
                        } else
                            n.warn("No channel found yet. TEXT-MODE?");
                    i ? f.cmd += 2 : r ? f.char += 2 : (f.other += 2,
                    n.warn("Couldn't parse cleaned data " + g([s, a]) + " orig: " + g([t[o], t[o + 1]])))
                } else
                    f.padding += 2
        }
        ;
        var m = function(e, t, i) {
            var s = null
              , a = (20 === t || 28 === t) && 32 <= i && i <= 47
              , r = (23 === t || 31 === t) && 33 <= i && i <= 35;
            if (!a && !r)
                return !1;
            if (t === d && i === u)
                return d = null,
                u = null,
                n.info("Repeated command (" + g([t, i]) + ") is dropped"),
                !0;
            s = 20 === t || 23 === t ? 1 : 2;
            var o = h[s - 1];
            return o.setTime(e),
            20 === t || 28 === t ? 32 === i ? o.cc_RCL() : 33 === i ? o.cc_BS() : 34 === i ? o.cc_AOF() : 35 === i ? o.cc_AON() : 36 === i ? o.cc_DER() : 37 === i ? o.cc_RU(2) : 38 === i ? o.cc_RU(3) : 39 === i ? o.cc_RU(4) : 40 === i ? o.cc_FON() : 41 === i ? o.cc_RDC() : 42 === i ? o.cc_TR() : 43 === i ? o.cc_RTD() : 44 === i ? o.cc_EDM() : 45 === i ? o.cc_CR(p) : 46 === i ? o.cc_ENM() : 47 === i && o.cc_EOC() : o.cc_TO(i - 32),
            d = t,
            u = i,
            c = s,
            !0
        }
          , v = function(e, t) {
            var i = null;
            if ((17 === e || 25 === e) && 32 <= t && t <= 47) {
                if (i = 17 === e ? 1 : 2,
                i !== c)
                    return n.log("ERROR", "Mismatch channel in midrow parsing"),
                    !1;
                var s = h[i - 1];
                return s.cc_MIDROW(t),
                n.info("MIDROW (" + g([e, t]) + ")"),
                !0
            }
            return !1
        }
          , b = function(e, t) {
            var i = null
              , s = null
              , n = (17 <= e && e <= 23 || 25 <= e && e <= 31) && 64 <= t && t <= 127
              , p = (16 === e || 24 === e) && 64 <= t && t <= 95;
            if (!n && !p)
                return !1;
            if (e === d && t === u)
                return d = null,
                u = null,
                !0;
            i = e <= 23 ? 1 : 2,
            s = 64 <= t && t <= 95 ? 1 === i ? a[e] : r[e] : 1 === i ? o[e] : l[e];
            var f = y(s, t)
              , g = h[i - 1];
            return g.setPAC(f),
            d = e,
            u = t,
            c = i,
            !0
        }
          , y = function(e, t) {
            var i = t
              , s = {
                color: null,
                italics: !1,
                indent: null,
                underline: !1,
                row: e
            };
            return i = t > 95 ? t - 96 : t - 64,
            s.underline = 1 === (1 & i),
            i <= 13 ? s.color = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "white"][Math.floor(i / 2)] : i <= 15 ? (s.italics = !0,
            s.color = "white") : s.indent = 4 * Math.floor((i - 16) / 2),
            s
        }
          , w = function(e, t) {
            var i = null
              , s = null
              , n = null;
            if (e >= 25 ? (i = 2,
            n = e - 8) : (i = 1,
            n = e),
            17 <= n && n <= 19) {
                var a = t;
                a = 17 === n ? t + 80 : 18 === n ? t + 112 : t + 144,
                s = [a]
            } else
                32 <= e && e <= 127 && (s = 0 === t ? [e] : [e, t]);
            if (s) {
                g(s);
                d = null,
                u = null
            }
            return s
        }
          , _ = function(e, t) {
            var i, s, n, a, r = (16 === e || 24 === e) && 32 <= t && t <= 47, o = (23 === e || 31 === e) && 45 <= t && t <= 47;
            return !(!r && !o) && (i = {},
            16 === e || 24 === e ? (s = Math.floor((t - 32) / 2),
            i.background = backgroundColors[s],
            t % 2 === 1 && (i.background = i.background + "_semi")) : 45 === t ? i.background = "transparent" : (i.foreground = "black",
            47 === t && (i.underline = !0)),
            n = e < 24 ? 1 : 2,
            a = h[n - 1],
            a.setBkgData(i),
            d = null,
            u = null,
            !0)
        };
        s.reset = function() {
            for (var e = 0; e < h.length; e++)
                h[e] && h[e].reset();
            d = null,
            u = null
        }
        ;
        return s
    }
    window.eventsPlayer.control.caption.Cea608Parser = t
}(jQuery),
function(e) {
    function t(e) {
        for (var t = {
            get chars() {
                return r
            },
            get id() {
                return i
            }
        }, i = e, s = new eventsCore.util.Logger("Cea608Row-" + i), n = eventsPlayer.CaptionConstants.NR_COLS, a = eventsPlayer.CaptionConstants.specialCea608CharsCodes, r = [], o = 0; o < n; o++)
            r.push(new eventsPlayer.control.caption.StyledCharacter);
        var l = 0
          , h = new eventsPlayer.control.caption.PenState;
        return t.getCharForByte = function(e) {
            var t = e;
            return a.hasOwnProperty(e) && (t = a[e]),
            String.fromCharCode(t)
        }
        ,
        t.equals = function(e) {
            for (var t = !0, i = 0; i < n; i++)
                if (!r[i].equals(e.chars[i])) {
                    t = !1;
                    break
                }
            return t
        }
        ,
        t.copy = function(e) {
            for (var t = 0; t < n; t++)
                r[t].copy(e.chars[t])
        }
        ,
        t.isEmpty = function() {
            for (var e = !0, t = 0; t < n; t++)
                if (!r[t].isEmpty()) {
                    e = !1;
                    break
                }
            return e
        }
        ,
        t.setCursor = function(e) {
            l !== e && (l = e),
            l < 0 ? (s.info("ERROR", "Negative cursor position " + l),
            l = 0) : l > n && (s.info("ERROR", "Too large cursor position " + l),
            l = n)
        }
        ,
        t.moveCursor = function(e) {
            var i = l + e;
            if (e > 1)
                for (var s = l + 1; s < i + 1; s++)
                    r[s].setPenState(h);
            t.setCursor(i)
        }
        ,
        t.backSpace = function() {
            t.moveCursor(-1),
            r[l].setChar(" ", h)
        }
        ,
        t.insertChar = function(e) {
            e >= 144 && t.backSpace();
            var i = t.getCharForByte(e);
            return l >= n ? void s.error("insertChar - error inserting " + e.toString(16) + " (" + i + ") at position " + l + ". Skipping it!") : (r[l].setChar(i, h),
            void t.moveCursor(1))
        }
        ,
        t.clearFromPos = function(e) {
            var t;
            for (t = e; t < n; t++)
                r[t].reset()
        }
        ,
        t.clear = function() {
            t.clearFromPos(0),
            l = 0,
            h.reset()
        }
        ,
        t.clearToEndOfRow = function() {
            t.clearFromPos(l)
        }
        ,
        t.getTextString = function() {
            for (var e = [], t = !0, i = 0; i < n; i++) {
                var s = r[i].uchar;
                " " !== s && (t = !1),
                e.push(s)
            }
            return t ? "" : e.join("")
        }
        ,
        t.setPenStyles = function(e) {
            h.setStyles(e);
            var t = r[l];
            t.setPenState(h)
        }
        ,
        t
    }
    window.eventsPlayer.control.caption.Cea608Row = t
}(jQuery),
function(e) {
    function t(t, i) {
        var s, n = new Object, a = new eventsCore.util.Logger("Config"), r = -1, o = eventsCore.Poller("config"), l = {}, h = "", c = 100 * Math.random(), d = "", u = 0, p = i, f = function(t) {
            h !== JSON.stringify(t) && (s = t,
            h = JSON.stringify(t),
            a.info("configLoadHandler - data:%o", t),
            t.general.refresh !== r && (r = t.general.refresh,
            o.add(l, 1e3 * r)),
            g(t.general),
            null !== p && e.isFunction(p) && p.call(this, null))
        }, g = function(e) {
            var t = e.cdns;
            try {
                for (var i = !1, s = 0; s < t.length; s++)
                    s > 0 && (t[s].percent = parseInt(t[s].percent) + parseInt(t[s - 1].percent)),
                    !i && c < t[s].percent ? (d = t[s].order,
                    u = t[s].retry,
                    i = !0) : !i && c < t[s].percent && (d = t[s].order,
                    u = t[s].retry,
                    i = !0);
                a.info("parseCdn - id:%o group:%o retry:%o", c, d, u)
            } catch (e) {
                a.error("parseCdn - %o", e)
            }
        };
        l[t] = f;
        var m = 1e3 * r;
        return a.info("parseGeneral - inte:%o", m),
        o.add(l, m),
        Object.defineProperty(n, "akamai", {
            get: function() {
                return s.general.akamai || !1
            }
        }),
        Object.defineProperty(n, "players", {
            get: function() {
                return s.general.players || !1
            }
        }),
        Object.defineProperty(n, "defaultVjsOrder", {
            get: function() {
                return s.general.defaultVjsOrder || !1
            }
        }),
        Object.defineProperty(n, "showQos", {
            get: function() {
                return "true" === eventsCore.util.getUrlParam("qos") || !1
            }
        }),
        Object.defineProperty(n, "cdnGroup", {
            get: function() {
                return d
            }
        }),
        Object.defineProperty(n, "retryLimit", {
            get: function() {
                return u
            }
        }),
        Object.defineProperty(n, "techPaths", {
            get: function() {
                return s.general.techPaths ? s.general.techPaths : [{
                    type: "videojs",
                    uri: "tech/tech_videojs.html"
                }]
            }
        }),
        Object.defineProperty(n, "domPath", {
            get: function() {
                return s.general.domPath || !1
            }
        }),
        Object.defineProperty(n, "uiConfig", {
            get: function() {
                return s.ui
            }
        }),
        Object.defineProperty(n, "adsConfig", {
            get: function() {
                return s.ads
            }
        }),
        Object.defineProperty(n, "analyticsConfig", {
            get: function() {
                return s.analytics
            }
        }),
        Object.defineProperty(n, "socialShare", {
            get: function() {
                return s.ui.toolbar.social
            }
        }),
        Object.defineProperty(n, "adConfig", {
            get: function() {
                return s.ads
            }
        }),
        Object.defineProperty(n, "hlsjsConfig", {
            get: function() {
                return s.general.hlsjsConfig
            }
        }),
        n.on = function(e, t) {
            switch (e) {
            case "load":
                p = t
            }
        }
        ,
        n
    }
    window.eventsPlayer.control.Config = t
}(jQuery),
function(e) {
    function t(t, i, s, n, a, r) {
        var o, l, h, c = new Object, d = t, u = new eventsCore.util.Logger("DisplayManager"), p = a.showQos, f = a.uiConfig, g = r;
        e(d.wrapper).show(),
        h = new eventsPlayer.view.QosDisplay(d,i,p),
        l = new eventsPlayer.view.CaptionDisplay(d),
        s && (o = new eventsPlayer.view.PlayerControls(d,s,n,a,r,l)),
        e(d.container).on("player:PlayerReadyEvent", function(e, t) {
            v(t.tech)
        }),
        e(d.container).on("player:TimeUpdateEvent", function(e, t) {
            h && h.update(t.qos)
        }),
        e(d.container).on("player:VideoTypeUpdate", function(e, t) {
            h && h.setStreamType(t.type)
        }),
        e(d.container).on("player:CaptionEvent", function(e, t) {
            l && l.add608(t.time, t.data)
        });
        var m = function() {
            o ? ("default" === g && o.enable(!1),
            f.giantPlayButton) : o.enable(!1)
        }
          , v = function(e) {
            h && h.setTech(e)
        }
          , b = function() {
            e(t.wrapper).keydown(function(e) {
                if ("videoControlsTouch" == e.target.className)
                    return " " === e.key && o.keyEntry(e),
                    h.keyEntry(e),
                    e.preventDefault(),
                    !1
            })
        };
        return c.videoLoad = function(e) {
            u.info("videoLoad - data:%o captions:%o", e, e.captions),
            o && o.setStreamInfo(e),
            h && h.setStreamType(e.streamType),
            l && l.activate("custom" == e.captions)
        }
        ,
        c.reset = function(e) {
            e && (d = e),
            h && h.reset(),
            o.reset()
        }
        ,
        c.close = function() {
            o.resetToolbar()
        }
        ,
        c.seek = function(e) {
            o.seekTime(e)
        }
        ,
        c.pause = function(e) {
            o.pause(e)
        }
        ,
        c.resume = function(e) {
            o.resume(e)
        }
        ,
        c.mute = function(e) {
            o.mute(e)
        }
        ,
        c.buttonClick = function(e) {
            o.buttonClick(e)
        }
        ,
        b(),
        m(),
        c
    }
    window.eventsPlayer.control.DisplayManager = t
}(jQuery);
var Environment = function(e) {
    var t, i, s = new Object, n = new eventsCore.util.Logger("Environment"), a = navigator.userAgent.toLowerCase(), r = null != navigator.userAgent.match(/iPad/i), o = null != navigator.userAgent.match(/iPhone/i), l = null != navigator.userAgent.match(/android/i), h = navigator.userAgent.indexOf("Chrome") > -1, c = (navigator.userAgent.indexOf("MSIE") > -1,
    navigator.userAgent.indexOf("Firefox") > -1), d = navigator.userAgent.toLowerCase().indexOf("op") > -1, u = navigator.userAgent.indexOf("Windows NT 6.1") > 0, p = {
        0: "global",
        1: "tablet",
        2: "desktop"
    };
    h && t && (t = !1),
    h && d && (h = !1);
    var f = navigator.userAgent.toLowerCase();
    f.match("safari") && !f.match("chrome") && f.match("mac") && (match = f.match(/version\/([\d.]*)/),
    null !== match && "" !== match[1] && (ver = parseFloat(match[1]),
    ver >= 10 ? t = !0 : i = !0,
    n.info("getSafariVersion - %o", ver)));
    var g = function() {
        var e = window.navigator.userAgent
          , t = e.indexOf("MSIE");
        return t > 0 ? parseInt(e.substring(t + 5, e.indexOf(".", t))) : navigator.userAgent.match(/Trident\/7\./) ? 11 : 0
    };
    return s.getBrowser = function() {
        return h ? "chrome" : g() > 0 ? "explorer" + g() : c ? "firefox" : i ? "safari9" : t ? "safari" : d ? "opera" : "unknown"
    }
    ,
    s.isSafari = function() {
        return t
    }
    ,
    s.isiPhone = function() {
        return o
    }
    ,
    s.isAndroid = function() {
        return l
    }
    ,
    s.isMobileDevice = function() {
        return !!(a.match(/iphone/i) || a.match(/ipad/i) || a.match(/android/i) || a.match(/silk/i) || a.match(/touch/i))
    }
    ,
    s.isTabletDevice = function() {
        return !!(a.match(/ipad/i) || a.match(/silk/i) || a.match(/android/i) || a.match(/touch/i))
    }
    ,
    s.screenType = function(e) {
        var t = "PC"
          , i = p[e] || "unknown";
        return s.isMobileDevice() && (t = "global" !== i || r ? "Tablet" : "Phone"),
        t
    }
    ,
    s.getDeviceType = function() {
        return s.isMobileDevice() ? "mobile" : "pc"
    }
    ,
    s.getPlatform = function() {
        return o ? "iphone" : r ? "ipad" : l ? "android" : u ? "windows7" : "default"
    }
    ,
    s.getPageUrl = function() {
        return document.location.href
    }
    ,
    s
}(jQuery);
!function(e) {
    function t(t) {
        var i, s = new Object, n = t, a = "playertech_" + n.namespace, r = "80" !== document.location.port ? ":" + document.location.port : "", o = location.protocol + "//" + document.domain + r, l = new eventsCore.util.Logger("FrameMessenger");
        n.path && (o = n.path);
        var h = function(e) {
            var t = e.data;
            if (0 == t.type.indexOf(n.namespace)) {
                var i = t.type.substring(t.type.indexOf(":") + 1);
                "PlayerReadyEvent" === i ? c(i, t) : c(i, t),
                e = null
            }
        }
          , c = function(t, i) {
            var s = "player:" + t;
            e(n.container).trigger(s, [i])
        }
          , d = function(t, s) {
            l.info("sendMessage - iframeid:%o name:%o", a, t),
            e(i)[0].contentWindow ? e(i)[0].contentWindow.postMessage({
                name: t,
                data: s
            }, o) : l.error("sendMessage - no iFrameElem contentWindow: %o", e(i)[0])
        }
          , u = function() {
            window.addEventListener("message", h)
        }
          , p = function() {
            l.error("onFrameUnload - iframe: %o", i)
        };
        return s.sendMessage = function(e, t) {
            d(e, t)
        }
        ,
        s.sendEvent = function(e) {
            h({
                data: e
            })
        }
        ,
        s.reset = function(t) {
            t && (n = t),
            i = e("#" + n.namespace).find("#playertech") || e("#" + n.namespace).find("#" + a),
            l.info("reset - ns:%o iframeid:%o iframe:%o", n.namespace, a, i),
            i.id = a,
            e(i)[0] && (e(i)[0].onunload = p)
        }
        ,
        u(),
        s
    }
    window.eventsPlayer.control.FrameMessenger = t
}(jQuery),
function(e) {
    function t(t, i) {
        var s = new Object
          , n = t
          , a = i
          , r = null
          , o = null
          , l = !!(document.fullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled || document.webkitSupportsFullscreen || document.webkitFullscreenEnabled || document.createElement("video").webkitRequestFullScreen)
          , h = new eventsCore.util.Logger("FullscreenManager");
        h.info("constructor - video:%o enabled:%o", n, l);
        var c = function() {
            var t;
            a ? t = e(a.wrapper) : n && (t = e(n))
        }
          , d = function() {
            h.info("sendFullscreenOnCallback - cb:%o", e.isFunction(r)),
            null !== r && e.isFunction(r) && r.call(this, null)
        }
          , u = function() {
            h.info("sendFullscreenOffCallback - cb:%o", e.isFunction(o)),
            null !== o && e.isFunction(o) && o.call(this, !0)
        };
        return s.fullScreenOn = function(t) {
            var i = t;
            return e(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange", function(t) {
                h.info("onFullscreenChange - isFs:%o", s.isFullscreen()),
                s.isFullscreen() ? d() : (e(document).off("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange"),
                u())
            }),
            i.requestFullscreen ? (i.requestFullscreen(),
            !0) : i.mozRequestFullScreen ? (i.mozRequestFullScreen(),
            !0) : i.webkitRequestFullScreen ? (i.webkitRequestFullScreen(),
            !0) : !!i.msRequestFullscreen && (i.msRequestFullscreen(),
            !0)
        }
        ,
        s.fullScreenOff = function(e) {
            return h.info("fullScreenOff - elem:%o", e),
            document.exitFullscreen ? (document.exitFullscreen(),
            !0) : document.mozCancelFullScreen ? (document.mozCancelFullScreen(),
            !0) : document.webkitCancelFullScreen ? (document.webkitCancelFullScreen(),
            !0) : !!document.msExitFullscreen && (document.msExitFullscreen(),
            !0)
        }
        ,
        s.isFullscreenEnabled = function() {
            return l
        }
        ,
        s.isFullscreen = function() {
            return !!(document.fullScreen || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement || document.fullscreenElement)
        }
        ,
        s.on = function(e, t) {
            switch (e) {
            case "fullscreenOn":
                r = t;
                break;
            case "fullscreenOff":
                o = t
            }
        }
        ,
        c(),
        s
    }
    window.eventsPlayer.utils.FullscreenManager = t
}(jQuery),
function(e) {
    function t(t) {
        var i, s, n, a, r, o, l, h, c, d = new Object, u = new eventsCore.util.Logger("Ima"), p = window.eventsPlayer.PlayerConstants, f = t, g = [google.ima.AdEvent.Type.ALL_ADS_COMPLETED, google.ima.AdEvent.Type.CLICK, google.ima.AdEvent.Type.COMPLETE, google.ima.AdEvent.Type.FIRST_QUARTILE, google.ima.AdEvent.Type.LOADED, google.ima.AdEvent.Type.MIDPOINT, google.ima.AdEvent.Type.PAUSED, google.ima.AdEvent.Type.STARTED, google.ima.AdEvent.Type.THIRD_QUARTILE], m = !1, v = function() {
            i = f && f.label ? f.label : " Advertisement"
        }, b = function(e, t) {
            return function() {
                t.apply(e, arguments)
            }
        }, y = function(e, t) {
            u.info("getAdTag - ads:%o", s);
            var i = null;
            return _.each(s, function(s) {
                s.type === e && s.position === t ? i = s.tag : s.type === e && null == t && (i = s.tag)
            }),
            i
        }, w = function() {
            c = e("#ima-ad-container"),
            e(c).addClass("constrain_iOS_iFrame");
            for (var t = 0; t < g.length; t++)
                n.ima.addEventListener(g[t], b(this, k));
            n.ima.start()
        }, k = function(e) {
            switch (u.info("onAdEvent - type:%o ev:%o", e.type, e),
            e.type) {
            case "loaded":
                break;
            case "start":
                x();
                break;
            case "firstquartile":
                break;
            case "midpoint":
                break;
            case "thirdquartile":
                break;
            case "complete":
                u.info("complete");
                break;
            case "allAdsCompleted":
                u.info("allAdsCompleted (per pod)"),
                C()
            }
        }, x = function() {
            if (e(c).addClass("constrain_iOS_iFrame"),
            m = !0,
            null !== l && e.isFunction(l))
                try {
                    l.call(this, r)
                } catch (e) {
                    u.error("ima:onAdStart - :%o", e)
                }
        }, C = function() {
            if (u.info("onAdEndHandler - adEnd:%o playPos:%o", h, r),
            m = !1,
            d.hasAd("vmap", null) && o === p.postroll && (r = p.postroll),
            r === p.postroll && (s = null),
            null !== h && e.isFunction(h))
                try {
                    h.call(this, r)
                } catch (e) {
                    u.error("ima:onAdEnd - :%o", e)
                }
            r = null
        }, T = function(e) {}, S = function(e) {
            u.info("onAdsError - data:%o", e),
            C()
        }, P = function(t, o, l) {
            e(c).addClass("constrain_iOS_iFrame"),
            s = l,
            n = t,
            a = o,
            n.on("ended", T),
            n.on("adserror", S);
            var h = {
                id: a,
                adTagUrl: null,
                requestMode: "ondemand",
                adLabel: i,
                adsRenderingSettings: {
                    uiElements: []
                }
            };
            u.info("initAds - options:%o", h),
            u.info("initAds - pos:%o player:%o handler:%o ads:%o options:%o", r, n, T, s, h),
            n.ima(h, b(this, w)),
            n.ima.initializeAdDisplayContainer()
        };
        return d.play = function(e, t, i, s, a, o) {
            P(i, s, a);
            var l = y(e, t);
            u.info("play - type:%o pos:%o src:%o tag:%o", e, t, o, l),
            r = t,
            n.ima.setContent(o, l, !0),
            n.ima.requestAds(),
            n.play()
        }
        ,
        d.setAds = function(e) {
            s = e
        }
        ,
        d.pause = function() {
            n.ima.pauseAd()
        }
        ,
        d.hasAd = function(e, t) {
            return !!y(e, t)
        }
        ,
        d.setPosition = function(e) {
            o = e
        }
        ,
        d.getPosition = function() {
            return r
        }
        ,
        d.isPlayingAd = function() {
            return m
        }
        ,
        d.on = function(e, t) {
            switch (e) {
            case "AdStart":
                l = t;
                break;
            case "AdEnd":
                h = t
            }
        }
        ,
        v(),
        d
    }
    window.eventsPlayer.ads.Ima = t
}(jQuery),
function(e) {
    function t(t, i, s, n) {
        var a, r, o, l, h, c, d, u, p, f, g, m, v, b, y, w, _, k, x, C, T, S, P, M, E = new Object, A = new eventsCore.util.Logger("Main"), D = (window.eventsPlayer.PlayerConstants,
        !1), L = !1, R = !1, j = s, O = "", z = "";
        e(j).on("player:PlayerReadyEvent", function(t, i) {
            i.id = e(j).selector,
            L = !0,
            r && E.load(r)
        }),
        e(j).on("player:CompleteEvent", function(t, i) {
            var s = {
                id: e(j).selector
            };
            if (!s.postroll && null !== g && e.isFunction(g))
                try {
                    R = !1,
                    g.call(this, s)
                } catch (e) {
                    A.error("player:CompleteEvent - :%o", t)
                }
        }),
        e(j).on("player:PauseEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== b && e.isFunction(b))
                try {
                    R = !i.paused,
                    b.call(this, i)
                } catch (e) {}
        }),
        e(j).on("player:TimeUpdateEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== y && e.isFunction(y))
                try {
                    y.call(this, i)
                } catch (e) {}
        }),
        e(j).on("player:PlayEvent", function(t, i) {
            var s = {
                id: e(j).selector
            };
            if (null !== v && e.isFunction(v))
                try {
                    R = !0,
                    v.call(this, s)
                } catch (e) {
                    A.error("player:PlayEvent - :%o", e)
                }
        }),
        e(j).on("player:MetadataEvent", function(t, i) {
            var s = {
                id: e(j).selector
            };
            if (null !== m && e.isFunction(m))
                try {
                    m.call(this, s)
                } catch (e) {
                    A.error("player:MetadataEvent - :%o", e)
                }
        }),
        e(j).on("player:VideoModeUpdate", function(t, i) {
            if (i.id = e(j).selector,
            null !== P && e.isFunction(P))
                try {
                    P.call(this, i)
                } catch (e) {
                    A.error("player:onVideoModeEvent - :%o", e)
                }
        }),
        e(j).on("player:SendMeasureEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== w && e.isFunction(w))
                try {
                    w.call(this, i)
                } catch (e) {
                    A.error("player:SendMeasureEvent - :%o", e)
                }
        }),
        e(j).on("player:TrackLoadedEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== _ && e.isFunction(_))
                try {
                    _.call(this, i)
                } catch (e) {
                    A.error("player:TrackLoadedEvent - :%o", e)
                }
        }),
        e(j).on("player:CueChangeEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== k && e.isFunction(k))
                try {
                    k.call(this, i)
                } catch (e) {
                    A.error("player:CueChangeEvent - :%o", e)
                }
        }),
        e(j).on("player:ShowControlsEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== T && e.isFunction(T))
                try {
                    T.call(this, i)
                } catch (e) {
                    A.error("player:ShowControlsEvent - :%o", e)
                }
        }),
        e(j).on("player:PanelEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== C && e.isFunction(C))
                try {
                    C.call(this, i)
                } catch (e) {
                    A.error("player:PanelEvent - :%o", e)
                }
        }),
        e(j).on("player:ClickEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== x && e.isFunction(x))
                try {
                    x.call(this, i)
                } catch (e) {
                    A.error("player:ClickEvent - :%o", e)
                }
        }),
        e(j).on("player:FullscreenEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== S && e.isFunction(S))
                try {
                    S.call(this, i)
                } catch (e) {
                    A.error("player:FullscreenEvent - :%o", e)
                }
        }),
        e(j).on("player:ErrorEvent", function(t, i) {
            if (i.id = e(j).selector,
            null !== M && e.isFunction(M))
                try {
                    M.call(this, i)
                } catch (e) {
                    A.error("player:ErrorEvent - :%o", e)
                }
        });
        var I = function() {
            O = Environment.getPlatform(),
            z = Environment.getBrowser(),
            "iphone" == O || "android" == O ? e(j).addClass("mobile") : e(j).addClass("desktop"),
            h = e(j).find(".playerwrapper")[0],
            o = e(j).find(".videoControls")[0],
            l = e(j).find("#playertech")[0],
            A.info("init - iframe:%o controls:%o platform:%o container:%o wrapper:%o", l, o, O, e(j).attr("id"), h);
            var i = "custom";
            "undefined" != typeof c.uiConfig.toolbar.show[O] && (i = c.uiConfig.toolbar.show[O]),
            a = new eventsPlayer.control.State,
            a.namespace = e(j).attr("id"),
            a.container = j,
            a.wrapper = h,
            a.path = n,
            A.info("init - toolbar:%o state:%o", i, a),
            f = new eventsPlayer.control.PlayData,
            d = new eventsPlayer.control.FrameMessenger(a),
            u = new eventsPlayer.control.DisplayManager(a,t,o,d,c,i),
            p = new eventsPlayer.control.PlayerManager(a,l,d,c,i),
            analyticsManager = new eventsPlayer.control.AnalyticsManager(a,c.analyticsConfig,d),
            d.reset()
        }
          , q = function() {
            var t = [];
            for (var i in c.uiConfig.toolbar.buttons)
                c.uiConfig.toolbar.buttons[i].display && "right" == c.uiConfig.toolbar.buttons[i].position && t.splice(c.uiConfig.toolbar.buttons[i].order, 0, Strings.getButton(i));
            e(j).html(Strings.getWrapper()),
            e(j).find("#rightSideButtons").html(t.join("")),
            $()
        }
          , $ = function() {
            D || (D = !0,
            I(),
            r && E.load(r))
        };
        return E.load = function(e) {
            if (A.info("load - init:%o ready:%o playObj:%o autoPlay:%o", D, L, e, e.hasOwnProperty("autoPlay")),
            D && L) {
                if (e = f.addMetadata(c, e, O, z),
                !e.captions) {
                    var t = O
                      , i = z;
                    "undefined" == typeof c.players[t] && (t = "default"),
                    "undefined" == typeof c.players[t][i] && (i = "default"),
                    A.info("load - config:%o plat:%o browser:%o", c.players, t, i),
                    e.captions = c.players[t][i].captions
                }
                "disable" === e.adConfig.platform[O] && (e.ads = null),
                c.uiConfig.playbackRates && (e.playbackRates = c.uiConfig.playbackRates),
                A.info("load - auto:%o platform:%o ads:%o adc:%o captions:%o", e.autoPlay, O, e.ads, e.adConfig.platform[O], e.captions),
                r = null,
                p.stop(),
                u.reset(),
                p.load(e, c.cdnGroup, c.retryLimit),
                u.videoLoad(e)
            } else
                r = e
        }
        ,
        E.play = function() {
            p.play()
        }
        ,
        E.stop = function() {
            p.stop(),
            u.reset()
        }
        ,
        E.seek = function(e) {
            u.seek(e)
        }
        ,
        E.pause = function(e) {
            u.pause(e)
        }
        ,
        E.resume = function(e) {
            u.resume(e)
        }
        ,
        E.mute = function(e) {
            u.mute(e)
        }
        ,
        E.close = function() {
            E.stop(),
            u.close()
        }
        ,
        E.sendMessage = function(e, t) {}
        ,
        E.updateTextTrack = function(e) {
            p.updateTextTrack(e)
        }
        ,
        E.move = function(t) {
            var i = e(h).detach();
            e(t).append(i),
            j = t,
            a.namespace = e(j).attr("id"),
            d.reset(a),
            p.reset(a),
            u.reset(a)
        }
        ,
        E.isPlaying = function() {
            return R
        }
        ,
        E.buttonClick = function(e) {
            u.buttonClick(e)
        }
        ,
        E.recordEvent = function(e, t, i) {
            d.sendMessage("recordEvent", {
                service: e,
                name: t,
                data: i
            })
        }
        ,
        E.on = function(e, t) {
            switch (e) {
            case "CompleteEvent":
                g = t;
                break;
            case "StartEvent":
                m = t;
                break;
            case "PlayEvent":
                v = t;
                break;
            case "PauseEvent":
                b = t;
                break;
            case "MeasureEvent":
                w = t;
                break;
            case "TrackLoadedEvent":
                _ = t;
                break;
            case "CueChangeEvent":
                k = t;
                break;
            case "TimeUpdateEvent":
                y = t;
                break;
            case "ControlsEvent":
                T = t;
                break;
            case "PanelEvent":
                C = t;
                break;
            case "ClickEvent":
                x = t;
                break;
            case "VideoModeEvent":
                P = t;
                break;
            case "FullscreenEvent":
                S = t;
                break;
            case "ErrorEvent":
                M = t
            }
        }
        ,
        E.removeHandlers = function() {
            g = null,
            m = null,
            v = null,
            b = null,
            w = null,
            _ = null,
            k = null,
            y = null,
            T = null,
            C = null,
            x = null,
            P = null,
            S = null,
            M = null
        }
        ,
        c = new eventsPlayer.control.Config(i,q),
        E
    }
    window.eventsPlayer.Main = t
}(jQuery),
function(e) {
    function t(e, t, i, s, n) {
        var a = {}
          , e = e || "white"
          , t = t || !1
          , i = i || !1
          , s = s || "black"
          , n = n || !1;
        return a.reset = function() {
            e = "white",
            t = !1,
            i = !1,
            s = "black",
            n = !1
        }
        ,
        a.setStyles = function(e) {
            for (var t = ["foreground", "underline", "italics", "background", "flash"], i = 0; i < t.length; i++) {
                var s = t[i];
                e.hasOwnProperty(s) && (this[s] = e[s])
            }
        }
        ,
        a.isDefault = function() {
            return "white" === e && !t && !i && "black" === s && !n
        }
        ,
        a.equals = function(a) {
            return e === a.foreground && t === a.underline && i === a.italics && s === a.background && n === a.flash
        }
        ,
        a.copy = function(a) {
            e = a.foreground,
            t = a.underline,
            i = a.italics,
            s = a.background,
            n = a.flash
        }
        ,
        a.toString = function() {
            return "color=" + e + ", underline=" + t + ", italics=" + i + ", background=" + s + ", flash=" + n
        }
        ,
        a
    }
    window.eventsPlayer.control.caption.PenState = t
}(jQuery),
function(e) {
    function t() {
        var e = new Object
          , t = window.eventsPlayer.PlayerConstants
          , i = new eventsCore.util.Logger("PlayData");
        return e.addMetadata = function(e, s, n, a) {
            i.info("addMetadata - configConv:%o platform:%o", e.analyticsConfig.conviva, n);
            var r;
            s.hasOwnProperty("autoPlay") || (s.autoPlay = !0),
            (n.toLowerCase().indexOf("ipad") > -1 || n.toLowerCase().indexOf("iphone") > -1 || n.toLowerCase().indexOf("ios") > -1 || n.toLowerCase().indexOf("android") > -1) && (s.autoPlay = !1);
            var o = "";
            if (r = !1,
            s.streamType.toLowerCase().indexOf("live") > -1 ? (o = t.LIVE,
            r = !0) : s.streamType.toLowerCase().indexOf("dvr") > -1 ? (o = t.DVR,
            r = !0) : s.streamType.toLowerCase().indexOf("vod") > -1 ? (o = t.VOD,
            r = !1) : i.warn('addMetadata - streamType should be set to either "live", "dvr", or "vod". Defaulted to "" for autodetection'),
            s.streamType = o,
            s.analytics = {},
            e.analyticsConfig.conviva && e.analyticsConfig.conviva.enable) {
                var l = {
                    enable: e.analyticsConfig.conviva.enable,
                    serviceUrl: e.analyticsConfig.conviva.serviceUrl,
                    key: e.analyticsConfig.conviva.key,
                    syndicator: s.syndicator || e.analyticsConfig.conviva.syndicator,
                    playerName: s.playerName || e.analyticsConfig.conviva.playerName,
                    screenType: Environment.screenType(s.windowSize),
                    deviceType: Environment.getDeviceType(),
                    channelName: s.channelName || "unknownChannel",
                    pageUrl: Environment.getPageUrl(),
                    isLive: r,
                    cdn: s.cdn,
                    traces: "all" === eventsCore.getLogLevel()
                };
                s.analytics.convivaData = l
            }
            if (e.analyticsConfig.akamai && e.analyticsConfig.akamai.enable) {
                var h = {
                    enable: e.analyticsConfig.akamai.enable,
                    beacon: e.analyticsConfig.akamai.beacon
                };
                s.analytics.akamaiData = h
            }
            if (e.analyticsConfig.youbora && e.analyticsConfig.youbora.enable) {
                var c = {
                    enable: e.analyticsConfig.youbora.enable,
                    accountCode: e.analyticsConfig.youbora.accountCode
                };
                s.analytics.youboraData = c
            }
            e.hlsjsConfig && (s.hlsjsConfig = e.hlsjsConfig),
            s.adConfig = e.adConfig,
            s.useNativeTextTracks = !1,
            s.useInbandVtt = !1,
            a.toLowerCase().indexOf("safari") > -1 && (s.useNativeTextTracks = !0,
            s.useInbandVtt = !0),
            s.hasOwnProperty("cdn") || (s.cdn = "unknown"),
            s.akamaiAcceleration = !!e.akamai && e.akamai.acceleration;
            var d = "application/x-mpegURL"
              , u = "video/mp4"
              , p = /\.(mp4)($|\?|#)/
              , f = /\.(m3u8)($|\?|#)/
              , g = p.test(s.url)
              , m = f.test(s.url);
            return g && s.mimeType != u ? (i.warn("loadStream - found mp4 stream, but m3u8 mime, changing mime"),
            s.mimeType = u) : m && s.mimeType != d && (i.warn("loadStream - found m3u8 stream, but mp4 mime, changing mime"),
            s.mimeType = d),
            i.info("addMetadata - playObj:%o", s),
            s
        }
        ,
        e
    }
    window.eventsPlayer.control.PlayData = t
}(jQuery),
function(e) {
    var t = {};
    Object.defineProperty(t, "COMPLETE", {
        value: "complete",
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "TIME_UPDATE", {
        value: "time_update",
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "LIVE", {
        value: "video_live",
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "DVR", {
        value: "video_dvr",
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "VOD", {
        value: "video_vod",
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "preroll", {
        value: "preroll",
        writable: !1,
        enumerable: !0
    }),
    Object.defineProperty(t, "postroll", {
        value: "postroll",
        writable: !1,
        enumerable: !0
    }),
    window.eventsPlayer.PlayerConstants = t
}(jQuery),
function(e) {
    function t(t, i, s, n, a, r) {
        var o, l, h, c, d, u, p, f, g, m, v, b, y = new Object, w = t, k = s, x = (n.analyticsConfig,
        window.eventsPlayer.PlayerConstants), C = new eventsPlayer.utils.FullscreenManager(null,t), T = a, S = !0, P = n.uiConfig.breakpoint, M = n.uiConfig.toolbar.buttons, E = n.uiConfig.toolbar.keyboard, A = !1, D = !1, L = r, R = !0, j = !1, O = !1, z = !1, I = !1, q = !1, $ = !1, F = !1, V = i, N = !1, H = new eventsPlayer.view.SocialShare(t,i,n), B = e(w.container).find(".playerPoster")[0], W = e(w.container).find(".loaderContainer")[0], U = e(w.container).find(".videoControlsTouch")[0], V = e(V), G = e(V).find(".ecp-playBtn")[0], Y = e(V).find(".ecp-rewindBtn")[0], X = e(V).find(".ecp-liveBtn")[0], Q = e(V).find(".ecp-captionsBtn")[0], J = e(V).find(".ecp-muteBtn")[0], Z = e(V).find(".ecp-panelBtn")[0], K = e(V).find(".ecp-shareBtn")[0], ee = e(V).find(".ecp-extraBtn")[0], te = e(V).find(".ecp-fullScreenBtn")[0], ie = e(V).find(".ecp-popOpenBtn")[0], se = (e(V).find(".volume"),
        e(V).find(".volume_bar")[0]), ne = e(V).find(".volume_progress")[0], ae = e(V).find(".timeText")[0], re = e(V).find(".curTimeText"), oe = e(V).find(".durTimeText"), le = (e(V).find(".progress"),
        e(V).find(".progress_bar")[0]), he = e(V).find(".play_progress")[0], ce = "unknown", de = "unknown", ue = !1, pe = !1, fe = !1, ge = !0, me = {
            x: null,
            y: null
        }, ve = 3e3, be = 500, ye = new eventsCore.util.Logger("PlayerControls");
        ye.info("constructor - controls:%o constants:%o fstoggle:%o", V, x, te);
        var we = function() {
            ye.info("init - container:%o wrapper:%o", w.container, w.wrapper),
            e(w.wrapper).addClass("ecp"),
            ke(e(w.wrapper).width(), e(w.wrapper).height()),
            qe(),
            $e(!1, "init"),
            ze(!1, "init"),
            St(!1),
            g = C.isFullscreenEnabled(),
            C.on("fullscreenOn", nt),
            C.on("fullscreenOff", at),
            "none" !== T && "default" !== T || _e(!1, "toolbar"),
            e(w.container).on("player:PlayerReadyEvent", function(e, t) {
                Se(t)
            }),
            e(w.container).on("player:MetadataEvent", function(e, t) {
                Ce(t)
            }),
            e(w.container).on("player:TimeUpdateEvent", function(e, t) {
                xe(t)
            }),
            e(w.container).on("player:ResizeEvent", function(e, t) {
                ke(t.width, t.height),
                Ne()
            }),
            e(w.container).on("player:PlayEvent", function(e, t) {
                Ke()
            }),
            e(w.container).on("player:PauseEvent", function(e, t) {
                et(t.paused)
            }),
            e(w.container).on("player:BufferingEvent", function(e, t) {
                tt()
            }),
            e(w.container).on("player:VolumeEvent", function(e, t) {
                ct(t.muted, t.volume)
            }),
            e(w.container).on("player:CompleteEvent", function(e, t) {
                it(!t.postroll)
            }),
            e(w.container).on("player:ErrorEvent", function(e, t) {
                L.disable(),
                $e(!1, "error_event")
            }),
            e(w.container).on("player:AdStartEvent", function(e, t) {
                Ct()
            }),
            e(w.container).on("player:AdEndEvent", function(e, t) {
                Tt(t)
            }),
            e(w.container).on("player:VideoFullscreenEvent", function(e, t) {
                ye.info("player:VideoFullscreenEvent - ev:%o data:%o", e, t),
                t.fullscreen ? nt() : at(t.measure)
            }),
            e(w.container).on("player:TextTrackEvent", function(e, t) {
                ye.info("player:TextTrackEvent - %o", t.data),
                m = t.data[0].index,
                A = !0,
                h = {},
                h[t.data[0].label] = t.data[0].language,
                Ee(),
                D && De()
            });
            var t = !0;
            t = !1,
            ye.info("init - tablet:%o iphone:%o testTablet:%o", Environment.isTabletDevice(), Environment.isiPhone(), t),
            (Environment.isiPhone() || Environment.isTabletDevice() || t) && (e(G).addClass("touch"),
            e(Y).addClass("touch"),
            e(X).addClass("touch"),
            e(Q).addClass("touch"),
            e(Z).addClass("touch"),
            e(ie).addClass("touch"),
            e(K).addClass("touch"),
            e(ee).addClass("touch"),
            e(te).addClass("touch"),
            (Environment.isTabletDevice() || t) && e(w.wrapper).addClass("tablet"),
            Environment.isiPhone() && e(w.wrapper).addClass("phone")),
            K && K.setAttribute("data-state", ""),
            ie && ie.setAttribute("data-state", ""),
            Z && Z.setAttribute("data-state", ""),
            Pe(g),
            bt(),
            wt(),
            _t(),
            kt(),
            vt(),
            K && mt()
        }
          , _e = function(t, i) {
            t ? ($ = !0,
            e(W).show(),
            e(W).html('<div class="loader">Loading...</div>')) : ($ = !1,
            e(W).hide(),
            e(W).html(""))
        }
          , ke = function(t, i) {
            t <= P ? (e(w.wrapper).hasClass("smallWidth") || H.clear(),
            e(w.wrapper).addClass("smallWidth")) : (e(w.wrapper).hasClass("smallWidth") && H.clear(),
            e(w.wrapper).removeClass("smallWidth")),
            K && (H.positionUpdate(e(K).position().left),
            H.sizeUpdate(t, i))
        }
          , xe = function(t) {
            if (t.time != u && $ && (_e(!1, "time"),
            F && yt()),
            d = t.duration,
            u = t.time,
            p = t.loadedTime,
            f = u - t.start,
            f > d && (f = d),
            pe) {
                var i = ce;
                ce && !ue ? ce === x.DVR && t.detectedStreamType === x.DVR ? i = x.DVR : ce !== x.LIVE || t.detectedStreamType !== x.DVR && t.detectedStreamType !== x.LIVE ? ce === x.VOD && t.detectedStreamType === x.VOD && (i = x.VOD) : i = x.LIVE : ue || (i = t.detectedStreamType),
                i !== de && (de = i,
                Re())
            }
            Fe(),
            Ne(),
            u > 0 && !pe && ("none" != T && "default" != T && $e(!0, "time"),
            pe = !0,
            K && H.positionUpdate(e(K).position().left)),
            i === x.DVR && u < 0
        }
          , Ce = function(e) {
            Te(e.fullscreenEnabled),
            Pe(e.fullscreenEnabled)
        }
          , Te = function(e) {
            Fe(),
            Re()
        }
          , Se = function(e) {
            Pe(e.fullscreenEnabled)
        }
          , Pe = function(e) {
            O = e,
            O && (te.style.display = "block")
        }
          , Me = function() {
            "unknown" !== de && (R ? (G.title = "Play",
            G.setAttribute("data-state", "play")) : de === x.VOD || de == x.DVR ? (G.title = "Pause",
            G.setAttribute("data-state", "pause")) : (G.title = "Stop",
            G.setAttribute("data-state", "stop")))
        }
          , Ee = function() {
            A ? ("active" != Q.getAttribute("data-state") && Q.setAttribute("data-state", ""),
            e(Q).off("click", Ae),
            e(Q).on("click", {
                clicked: !0
            }, Ae)) : (Q.setAttribute("data-state", "disabled"),
            e(Q).off("click", {
                clicked: !0
            }, Ae))
        }
          , Ae = function(e) {
            fe ? Le(e.data.clicked) : De(e.data.clicked)
        }
          , De = function(e) {
            ge && k.sendMessage("captionsOn", {
                index: m
            }),
            Q.setAttribute("data-state", "active"),
            fe = !0,
            L.enable(),
            e && xt("captionsOn")
        }
          , Le = function(e) {
            ge && k.sendMessage("captionsOff"),
            Q.setAttribute("data-state", "inactive"),
            fe = !1,
            L.disable(),
            e && xt("captionsOff")
        }
          , Re = function() {
            ye.info("setControlsType video:%o wrapper:%o", de, e(w.wrapper)),
            e(w.wrapper).removeClass("live_video"),
            e(w.wrapper).removeClass("dvr_video"),
            Y.setAttribute("data-state", ""),
            de === x.LIVE ? (e(w.wrapper).addClass("live_video"),
            he.style.width = "100%",
            ae.setAttribute("data-state", "none"),
            Y.setAttribute("data-state", "none"),
            je(!0)) : de === x.DVR ? (e(w.wrapper).addClass("dvr_video"),
            he.style.width = "100%",
            je(!0)) : de === x.VOD && je(!1);
            var t = Pt(l, "ui", "toolbar", "buttons");
            t && t.panel ? t.panel.indexOf(de) > -1 ? e(Z).show() : e(Z).hide() : "string" == typeof M.panel.display && (M.panel.display.indexOf(de) > -1 ? e(Z).show() : e(Z).hide()),
            t && t.pop_open ? (ye.info("setControlsType pop_open:%o", t.pop_open),
            t.pop_open.indexOf(de) > -1 ? e(ie).show() : e(ie).hide()) : "string" == typeof M.pop_open.display && (M.pop_open.display.indexOf(de) > -1 ? e(ie).show() : e(ie).hide()),
            e(w.container).trigger("player:VideoTypeUpdate", {
                prop: null,
                type: de
            })
        }
          , je = function(t) {
            if (t ? X.setAttribute("data-state", "active") : X.setAttribute("data-state", ""),
            !q && t || q && !t) {
                var i = "live";
                t || (i = "dvr"),
                e(w.container).trigger("player:VideoModeUpdate", {
                    prop: null,
                    mode: i
                })
            }
            q = t
        }
          , Oe = function() {
            q || (Ze(p),
            je(!0),
            xt("live"))
        }
          , ze = function(t, i) {
            V && (t ? (F = !0,
            e(V).removeClass("hidden").addClass("visible"),
            e(w.container).trigger("player:ShowControlsEvent", {
                visible: !0
            })) : (F = !1,
            e(V).removeClass("visible").addClass("hidden"),
            e(w.container).trigger("player:ShowControlsEvent", {
                visible: !1
            })))
        }
          , Ie = function(t, i) {
            t && "none" != T && "default" != T ? (e(U).show(),
            e(U).css({
                bottom: 0
            })) : qe()
        }
          , qe = function() {
            e(U).hide(),
            e(U).css({
                bottom: -5e3
            })
        }
          , $e = function(t, i) {
            V && (t && "none" != T && "default" != T ? (e(V).show(),
            e(V).css({
                bottom: 0
            })) : (e(V).hide(),
            e(V).css({
                bottom: -5e3
            })))
        }
          , Fe = function() {
            if (de === x.VOD) {
                var e = u * (100 / d);
                he.value = e,
                Ve(u, d)
            } else
                de === x.DVR ? (Ve(f, d),
                q && f < d - 10 ? je(!1) : !q && f >= d - 10 && je(!0)) : de === x.LIVE && (re.html(""),
                oe.html(""))
        }
          , Ve = function(e, t) {
            var i = Math.floor(e / 3600)
              , s = Math.floor((e - 3600 * i) / 60)
              , n = Math.floor(e - 3600 * i - 60 * s)
              , a = Math.floor(t / 60 / 60)
              , r = Math.floor((t - 3600 * a) / 60)
              , o = Math.floor(t - 3600 * a - 60 * r);
            n < 10 && (n = "0" + n),
            o < 10 && (o = "0" + o),
            s < 10 && (s = "0" + s),
            r < 10 && (r = "0" + r);
            var l = ""
              , t = "";
            ae.setAttribute("data-state", ""),
            (i > 0 || a > 0) && (t += a > 0 ? a + ":" : "",
            i > 0 ? l += i + ":" : "" != a && (l += "0:"),
            ae.setAttribute("data-state", "hours")),
            isNaN(s) && isNaN(r) || (l += (isNaN(s) ? "00" : s) + ":",
            t += (isNaN(r) ? "00" : r) + ":"),
            isNaN(n) && isNaN(o) || (l += isNaN(n) ? "00" : n,
            t += isNaN(o) ? "00" : o),
            re.html(l),
            oe.html(t)
        }
          , Ne = function() {
            he.style.width = f / d * le.offsetWidth + "px"
        }
          , He = function(e) {
            var t = Math.max(0, Math.min(.999999, (e - Be(le)) / le.offsetWidth));
            Ze(t * d),
            he.style.width = t * le.offsetWidth + "px",
            Fe()
        }
          , Be = function(e) {
            for (var t = e.offsetLeft; e = e.offsetParent; )
                t += e.offsetLeft;
            return t
        }
          , We = function(e) {
            R || j ? (j && Ze(0),
            Ye(),
            e && xt("play")) : (Xe(),
            e && xt("pause"))
        }
          , Ue = function() {
            We(!0)
        }
          , Ge = function() {
            ye.info("posterClickHandler - :%o"),
            St(!1),
            $e(!0, "poster"),
            Ue()
        }
          , Ye = function() {
            k.sendMessage("play")
        }
          , Xe = function() {
            k.sendMessage("pause")
        }
          , Qe = function() {
            Je(-30),
            xt("rewind")
        }
          , Je = function(e) {
            var t = u + e;
            t < 0 ? t = 0 : t > d && (t = d),
            Ze(t)
        }
          , Ze = function(e) {
            u = e,
            k.sendMessage("seek", {
                time: u
            })
        }
          , Ke = function() {
            ye.info("onPlay - "),
            R = !1,
            j = !1,
            Me(),
            Ie(!0, "onPlay"),
            St(!1)
        }
          , et = function(e) {
            R = e,
            j = !1,
            Me()
        }
          , tt = function(e) {
            _e(!0, "buffer")
        }
          , it = function(e) {
            pe = !1,
            e && St(!0, !0),
            C.isFullscreen() && (C.fullScreenOff() ? ye.info("onComplete - fullscreenOff - doc: true") : k.sendMessage("fullscreenOff", {
                wrapper: null
            }))
        }
          , st = function() {
            if (C.isFullscreen())
                C.fullScreenOff();
            else {
                var t = e(w.wrapper)[0];
                e(w.container).trigger("player:FullscreenEvent", {
                    state: "enter"
                }),
                C.fullScreenOn(t) ? ye.info("toggleFullScreen - elem: true") : (ye.info("toggleFullScreen - elem: false"),
                k.sendMessage("fullscreenOn", {
                    wrapper: null
                })),
                xt("enterFullscreen")
            }
            gt()
        }
          , nt = function() {
            ye.info("fullScreenOn - width:%o", e(w.wrapper).width()),
            z = !0,
            e(w.wrapper).addClass("fullscreen"),
            e(te).addClass("fs-active control"),
            rt(!0),
            b = setTimeout(function() {
                e(U).addClass("nocursor")
            }, ve + be),
            ze(!1, "fullscreenOn")
        }
          , at = function(t) {
            ye.info("fullScreenOff - width:%o measure:%o", e(w.wrapper).width(), t),
            e(w.container).trigger("player:FullscreenEvent", {
                state: "exit"
            }),
            z = !1,
            e(w.wrapper).removeClass("fullscreen"),
            e(te).removeClass("fs-active"),
            rt(!1),
            t && xt("exitFullscreen")
        }
          , rt = function(e) {
            var t = !!e;
            te.setAttribute("data-fullscreen", t)
        }
          , ot = function(e) {
            k.sendMessage("mute", {
                mute: e
            })
        }
          , lt = function(e) {
            var t = "object" == typeof e;
            I ? (ot(!1),
            t && xt("unmute")) : (ot(!0),
            t && xt("mute"))
        }
          , ht = function(e) {
            var t = Math.max(0, Math.min(1, (e - Be(se)) / se.offsetWidth));
            k.sendMessage("volume", {
                volume: t
            })
        }
          , ct = function(e, t) {
            I = e,
            c = t,
            I || 0 == c ? (c = 0,
            J.innerHTML = "Unmute",
            J.setAttribute("data-state", "active")) : (J.innerHTML = "Mute",
            J.setAttribute("data-state", "")),
            ne.style.width = 100 * c + "%"
        }
          , dt = function(t) {
            "active" === Z.getAttribute("data-state") ? Z.setAttribute("data-state", "") : Z.setAttribute("data-state", "active");
            var i = "active" === Z.getAttribute("data-state");
            e(w.container).trigger("player:PanelEvent", {
                open: i
            }),
            gt();
            var s = "object" == typeof t;
            if (s) {
                var n = i ? "On" : "Off";
                xt("panel" + n)
            }
        }
          , ut = function() {
            e(w.container).trigger("player:ClickEvent", {
                type: "popOpen"
            }),
            xt("popOpen")
        }
          , pt = function() {
            e(K).parent();
            H.toggleShare(),
            gt()
        }
          , ft = function(t) {
            ye.info("extraClickHandler - %o", e(ee).siblings(".colRow")),
            "active" === ee.getAttribute("data-state") ? gt() : (ee.setAttribute("data-state", "active"),
            e(ee).siblings(".colRow")[0].setAttribute("data-state", "active"))
        }
          , gt = function() {
            ee.setAttribute("data-state", ""),
            e(ee).siblings(".colRow")[0].setAttribute("data-state", "")
        }
          , mt = function() {
            e(K).on("video.deselect", function(t) {
                e(this).parent().removeClass("active"),
                $videoContainer.find(".share_overlay .socialOverlay").removeClass("active"),
                this.setAttribute("data-state", "")
            }),
            e(w.wrapper).find(".share_overlay, .share").on("share.close", function(t) {
                e(w.wrapper).find(".social_services .link.open").removeClass("open").find(".link_url.open").removeClass("open"),
                e(K).attr("data-state", ""),
                e(K).parent().removeClass("active")
            })
        }
          , vt = function() {
            G.addEventListener("click", Ue, !1),
            Y && Y.addEventListener("click", Qe, !1),
            Z && Z.addEventListener("click", dt, !1),
            ie && ie.addEventListener("click", ut, !1),
            J.addEventListener("click", lt, !1),
            te && te.addEventListener("click", st, !1),
            K && K.addEventListener("click", pt, !1),
            X && X.addEventListener("click", Oe, !1),
            ee && ee.addEventListener("click", ft, !1)
        }
          , bt = function() {
            var t = 0;
            Environment.isMobileDevice() || (e(U).mousemove(function(i) {
                me.x ? (t = Math.round(Math.sqrt(Math.pow(me.y - i.clientY, 2) + Math.pow(me.x - i.clientX, 2))),
                e(U).removeClass("nocursor"),
                t > 4 && (me.x = i.clientX,
                me.y = i.clientY,
                clearTimeout(b),
                F ? yt() : (ze(!0, "mouesmove"),
                yt()),
                z && (b = setTimeout(function() {
                    e(U).addClass("nocursor")
                }, ve + be)))) : (me.x = i.clientX,
                me.y = i.clientY)
            }),
            e(V).hover(function(e) {
                N = !0,
                clearTimeout(v),
                F || ze(!0, "controlsHover")
            }, function(e) {
                N = !1,
                v = setTimeout(function() {
                    ze(!1, "hoverTimeout")
                }, ve)
            }))
        }
          , yt = function() {
            clearTimeout(v),
            N || (v = setTimeout(function() {
                ze(!1, "moveTimeout")
            }, ve))
        }
          , wt = function() {
            e(w.wrapper).on("touchstart", function(e) {
                F || (ze(!0, "addMobile"),
                setTimeout(function() {
                    ze(!1, "mobileTimeout")
                }, ve + 2e3))
            }),
            e(w.wrapper).on("touchend", function(e) {})
        }
          , _t = function() {
            e(le).on("mousedown touchstart", function(t) {
                We(!1),
                e(document).on("mousemove.video", function(e) {
                    He(e.pageX)
                }).on("touchmove.touchvideo", function(e) {
                    He(e.originalEvent.touches[0].pageX)
                }),
                e(document).on("mouseup.video", function(t) {
                    e(document).off(".video"),
                    Ye(),
                    He(t.pageX)
                }).on("touchend.touchvideo", function(t) {
                    e(document).off(".touchvideo"),
                    Ye()
                }),
                xt("timeline"),
                t.stopPropagation()
            })
        }
          , kt = function() {
            e(se).on("mousedown", function(t) {
                I && (k.sendMessage("volume", {
                    volume: 0
                }),
                lt(),
                J.innerHTML = "Mute"),
                e(document).on("mousemove.volume", function(e) {
                    ht(e.pageX)
                }),
                e(document).on("mouseup.volume", function(t) {
                    e(document).off(".volume"),
                    ht(t.pageX)
                }),
                t.stopPropagation()
            })
        }
          , xt = function(t) {
            e(w.container).trigger("player:MeasureEvent", {
                prop: null,
                values: t
            })
        }
          , Ct = function() {
            _e(!1, "adstart"),
            St(!1),
            $e(!1, "onAdStart"),
            Ie(!1, "onAdStart")
        }
          , Tt = function(e) {
            $e(!0, "onAdEnd"),
            Ie(!0, "onAdEnd"),
            "postroll" === e.position && it(!0)
        }
          , St = function(t, i) {
            ye.info("setPoster - poster:%o button:%o", t, i),
            t ? (e(B).show(),
            Ie(!1, "poster"),
            i ? e(B).find("img").show() : e(B).find("img").hide(),
            $e(!1, "poster"),
            e(B).on("click", Ge)) : (e(B).hide(),
            e(B).find("img").show(),
            e(B).off("click", Ge))
        }
          , Pt = function() {
            for (var e = arguments[0], t = 1, i = arguments.length; t < i; t++)
                e = _.propertyOf(e)(arguments[t]);
            return e
        };
        return y.reset = function() {
            u = 0,
            ze(!1, "reset"),
            $e(!1, "reset")
        }
        ,
        y.resetToolbar = function() {
            Z.setAttribute("data-state", "")
        }
        ,
        y.setStreamInfo = function(t) {
            if (o = t.info,
            ye.info("setStreamInfo - data:%o toolbar:%o", t, T),
            l = t.config || {},
            ye.info("setStreamInfo - sessionConfig:%o", l),
            de = ce = t.streamType,
            ue = t.typeFixed,
            A = !1,
            D = !1,
            t.tracks) {
                if (ye.info("setStreamInfo - captionsEnabled:%o", t.captionsEnabled),
                t.tracks.length > 0)
                    for (var i = 0; i < t.tracks.length; i++)
                        "captions" == t.tracks[0].type && (A = !0);
                t.captionsEnabled >= 1 ? (y.enableTextTracks(!0, t.captionsEnabled - 1),
                D = !0,
                De()) : t.captionsEnabled && (y.enableTextTracks(!0, -1),
                D = !0,
                De())
            } else
                t.captionsEnabled ? (D = !0,
                y.enableTextTracks(!0, -1)) : (y.enableTextTracks(!1, -1),
                Le());
            pe = !1,
            $e(!1, "setStreamInfo"),
            Ee(),
            Re(),
            ye.info("setStreamInfo - social - info:%o", o),
            H.close(),
            H.loadSocialVideo(w.wrapper, o.link, o.type, o.title, o.title),
            S = t.autoPlay,
            S && _e(!0, "setstream"),
            qe(),
            St(!1),
            L.disable(),
            t.poster && e(B).css("background-image", "url(" + t.poster + ")")
        }
        ,
        y.enable = function(e) {
            $e(e, "enable")
        }
        ,
        y.seekTime = function(e) {
            e < 0 && (e = 0),
            Ze(e)
        }
        ,
        y.pause = function(e) {
            We(e)
        }
        ,
        y.resume = function(e) {
            We(e)
        }
        ,
        y.mute = function(e) {
            I && !e ? lt() : !I && e && lt()
        }
        ,
        y.enableTextTracks = function(e, t) {
            m = t,
            ye.info("enableTextTracks - enabled:%o index:%o capOn:%o", e, m, fe),
            e ? m >= 0 ? De() : fe ? (m = 0,
            De()) : m != -1 && (m = 0,
            Le()) : Q.setAttribute("data-state", "disabled")
        }
        ,
        y.buttonClick = function(e) {
            "panelBtn" == e && dt(!1)
        }
        ,
        y.keyEntry = function(e) {
            " " === e.key && "pause" == E.space && y.pause(!0)
        }
        ,
        we(),
        y
    }
    window.eventsPlayer.view.PlayerControls = t
}(jQuery),
function(e) {
    function t(t, i, s, n, a) {
        var r, o, l, h, c, d, u = new Object, p = t, f = i, g = null, m = null, v = n.techPaths, b = n.defaultVjsOrder, y = (n.uiConfig,
        a), w = !1, _ = new eventsCore.util.Logger("PlayerManager");
        _.info("constructor - defTech:%o vjs:%o config:%o state:%o techs:%o", r, b, l, p, v);
        var k = s;
        e(p.container).on("player:PlayerReadyEvent", function(e, t) {
            _.info("player:PlayerReadyEvent - ev:%o data:%o", e, t),
            S(t.tech)
        }),
        e(p.container).on("player:PlayEvent", function(t, i) {
            w || (w = !0,
            e(p.container).trigger("player:MeasureEvent", {
                props: null,
                values: "start"
            }))
        }),
        e(p.container).on("player:CompleteEvent", function(t, i) {
            e(p.container).trigger("player:MeasureEvent", {
                props: null,
                values: "complete"
            })
        });
        var x = function() {
            if (C(),
            c = Environment.getPlatform(),
            d = Environment.getBrowser(),
            "undefined" == typeof n.players[c] && (c = "default"),
            "undefined" == typeof n.players[c][d] && (d = "default"),
            _.info("init - platform:%o browser:%o", c, d),
            r = n.players[c][d]["application/x-mpegURL"],
            l = n.players[c][d].vjsTechs,
            o = eventsCore.util.getUrlParam("tech") || eventsCore.util.getUrlParam("t"))
                switch (o) {
                case "t":
                case "theoplayer":
                    r = "theoplayer";
                    break;
                case "v":
                case "videojs":
                    r = "videojs";
                    break;
                case "h":
                case "hlsjs":
                    r = "hlsjs";
                    break;
                case "b":
                case "bitmovin":
                    r = "bitmovin";
                    break;
                default:
                    r = r
                }
            _.info("init - defTech:%o vjsTechs:%o", r, l),
            r && T(r)
        }
          , C = function() {
            h = "?",
            "custom" != y && (h += "&controls=" + y),
            p.namespace && (h += "&ns=" + p.namespace),
            eventsCore.util.getUrlParam("loglevel") && (h += "&loglevel=" + eventsCore.util.getUrlParam("loglevel"))
        }
          , T = function(t) {
            if (t !== g) {
                var i = new eventsPlayer.commons.InitializingEvent(t);
                k.sendEvent(i),
                i = null,
                _.info("switchTech - name:%s iframe:%o state:%o", t, f, p);
                for (var s = 0; s < v.length; s++)
                    if (v[s].type === t) {
                        var n = p.path + v[s].uri + h;
                        _.info("switchTech - name:%s type:%o", e(f), n),
                        e(f).attr("src", n);
                        break
                    }
                g = t
            } else
                S(t)
        }
          , S = function(t) {
            _.info("continueLoad: obj:%o tech:%o curTech:%o convivaDataL%o", m, t, g),
            null !== m && t === g ? (e(p.container).trigger("player:LoadEvent", {
                playObj: m,
                tech: g
            }),
            k.sendMessage("load", m),
            m = null) : t !== g && "reset" !== g && _.error("continueLoad - wrong tech ready curTech:%s readyTech:%s", g, t)
        };
        return u.stop = function() {
            try {
                k.sendMessage("stop")
            } catch (e) {}
        }
        ,
        u.play = function() {
            try {
                k.sendMessage("play")
            } catch (e) {}
        }
        ,
        u.load = function(e, t, i) {
            e.techOrder || (e.techOrder = l),
            o ? (e.playerTech = r,
            _.info("load - changing tech based url - tech:%o", e.playerTech)) : e.playerTech || (e.playerTech = n.players[c][d][e.mimeType],
            _.info("load - changing tech based on mime:%o tech:%o", e.mimeType, e.playerTech)),
            _.info("********************"),
            w = !1,
            _.info("load - obj:%o curTech:%o playerTech:%o vjsTechs:%o", e, g, e.playerTech, e.techOrder),
            "videojs" == e.playerTech && (e.sourceOrder = "source" === b),
            m = e,
            e.playerTech || "" === g ? T(e.playerTech) : S(g)
        }
        ,
        u.updateTextTrack = function(e) {
            k.sendMessage("updateTextTrack", e)
        }
        ,
        u.reset = function(e) {
            e && (p = e,
            C()),
            g = "reset"
        }
        ,
        x(),
        u
    }
    window.eventsPlayer.control.PlayerManager = t
}(jQuery),
function(e) {
    function t(t, i, s) {
        var n, a = new Object, r = new eventsCore.util.Logger("QosDisplay"), o = t, l = i, h = s, c = "", d = "videostat", u = "unknown", p = "unknown", f = function() {
            e(o.wrapper).append('<div class="overlayQos"></div>'),
            n = e(o.container).find(".overlayQos")[0],
            h ? e(n).show() : e(n).hide()
        };
        return a.keyEntry = function(t) {
            r.info("keyEntry - key:%o tag:%o", t),
            "Escape" === t.key ? (c = "",
            e(n).hide()) : "div" === t.target.tagName.toLowerCase() && (c += String.fromCharCode(t.keyCode),
            c.length > d.length && (c = c.substr(1)),
            c.toLowerCase() === d && e(n).show())
        }
        ,
        a.update = function(t) {
            if (t) {
                var i = t.bandwidth / 1e3 + " Kbps";
                if (t) {
                    var s = '<table><tr><td class="qosText">ECP version:</td><td class="qosText"> ' + l + '</td></tr><tr><td class="qosText">Path:</td><td class="qosText"> ' + t.path + '</td></tr><tr><td class="qosText">Manifest:</td><td class="qosText"> ' + t.manifest + '</td></tr><tr><td class="qosText">Rendition:</td><td class="qosText"> ' + t.activeRendition + "/" + t.totalRenditions + '</td></tr><tr><td class="qosText">Bitrate:</td><td class="qosText"> ' + i + '</td></tr><tr><td class="qosText">Resolution:</td><td class="qosText"> ' + t.resolution + '</td></tr><tr><td class="qosText">Video:</td><td class="qosText"> ' + t.codecVideo + '</td></tr><tr><td class="qosText">Audio:</td><td class="qosText"> ' + t.codecAudio + '</td></tr><tr><td class="qosText">Video Type:</td><td class="qosText"> ' + p + '</td></tr><tr><td class="qosText">Tech:</td><td class="qosText"> ' + u + '</td></tr><tr><td class="qosText">Renderer:</td><td class="qosText"> ' + t.renderer + "</td></tr></table>";
                    e(".overlayQos").is(":visible") && e(".overlayQos").html(s)
                }
            }
        }
        ,
        a.setTech = function(e) {
            u = e
        }
        ,
        a.setStreamType = function(e) {
            p = e
        }
        ,
        a.reset = function() {
            e(n).empty()
        }
        ,
        f(),
        a
    }
    window.eventsPlayer.view.QosDisplay = t
}(jQuery),
function(e) {
    function t(t, i, s) {
        for (var n = new Object, a = new eventsCore.util.Logger("SocialShare"), r = t, o = s.socialShare, l = "", h = "", c = !1, d = !1, u = e(i).find(".ecp-shareOverlayWrap")[0], p = e(i).find(".ecp-shareOverlay")[0], f = e(u).find(".ecp-shareClose")[0], g = "%0D%0A", m = "", v = 0; v < o.appStrings.length; v++)
            m += o.appStrings[v][0] + encodeURIComponent(o.appStrings[v][1]) + g;
        var b = m
          , y = function() {
            window.location.origin || (window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ":" + window.location.port : "")),
            e(f).on("click", function() {
                T(!0)
            }),
            e(u).hide()
        }
          , w = function(e) {
            var t = window.open(e, "_blank", "menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")
              , i = function(e) {
                try {
                    void 0 !== e.location.hostname && "" === e.location.hostname && e.close()
                } catch (e) {}
            };
            setTimeout(i.bind(this, t), 4e3)
        };
        n.loadSocialVideo = function(e, t, i, s, n) {
            l = s.toUpperCase(),
            h = i.toUpperCase(),
            x(t, i, s, n)
        }
        ;
        var k = function(t) {
            e(r.container).trigger("player:MeasureEvent", {
                prop: null,
                values: t
            })
        }
          , x = function(t, i, s, n) {
            e(p).empty(),
            c ? (t.indexOf("://") > -1 && (t = t.replace(/https?:\/\/[^\/]+/, "")),
            t = location.protocol + "//www.masters.com" + options.url) : t.indexOf("://") === -1 && (t = location.origin + t);
            var r = ""
              , l = ""
              , h = encodeURIComponent(t)
              , u = encodeURIComponent(s)
              , f = encodeURIComponent(n)
              , m = f + g + g + h + g + g;
            _.each(o.services, function(i, s) {
                l = "Share:" + s,
                href = i.path.replace("<url>", h),
                href = href.replace("<title>", u),
                href = href.replace("<email_title>", f),
                href = href.replace("<email_text>", m),
                href = href.replace("<email_footer>", b),
                href = href.replace("<share_url>", t),
                r = '<span class="ecp-' + s + ' ecp-shareItem"><a id="link_' + s + '" href="' + href + '" data-track="' + l + '" data-bypass><img src="' + i.image + '" alt="' + i.label + '"></a></span>',
                "Copy" === s && (r = r.replace("</span>", '<span class="link_url"><input type="text" readonly="readonly" value=""></span></span>')),
                e(p).append(r),
                e(p).find(".ecp-shareItem").hover(function() {
                    e(this).addClass("hover")
                }, function() {
                    e(this).removeClass("hover")
                }),
                "Email" !== s && "Copy" !== s ? e(p).find("#link_" + s).on("click", function(t) {
                    t.preventDefault(),
                    a.info("shareOverlayClick - this:%o", e(this).parent().find(".link_url")),
                    e(p).find(".link_url").removeClass("open"),
                    e(p).find(".ecp-Copy").removeClass("highlight"),
                    T(),
                    w(this.href),
                    k(e(this).data("track"))
                }) : "Copy" === s ? e(p).find("#link_" + s).on("click", function(i) {
                    i.preventDefault(),
                    e(this).siblings(".link_url").find("input").prop("value", t).data("track", l),
                    e(this).siblings(".link_url").toggleClass("open"),
                    e(this).parent(".ecp-Copy").toggleClass("highlight"),
                    e(this).siblings(".link_url").find("input").on("focus", function() {
                        e(this).get(0).setSelectionRange(0, 9999)
                    }).on("copy", function() {
                        d && (k(e(this).data("track")),
                        d = !1)
                    })
                }) : "Email" === s && e(p).find("#link_" + s).on("click", function(t) {
                    t.preventDefault(),
                    T(),
                    e(p).find(".link_url").removeClass("open"),
                    e(p).find(".ecp-Copy").removeClass("highlight"),
                    k(e(this).data("track"))
                })
            })
        }
          , C = function() {
            d = !0,
            e(p).attr("data-state", "active"),
            e(u).show(),
            k("Share:Open")
        }
          , T = function(t) {
            d = !1,
            e(p).find(".link_url").removeClass("open"),
            e(p).find(".ecp-Copy").removeClass("highlight"),
            e(u).hide(),
            e(p).attr("data-state", ""),
            t && k("Share:Close")
        };
        return n.close = function() {
            T()
        }
        ,
        n.clear = function() {
            T()
        }
        ,
        n.positionUpdate = function(t) {
            e(p).css({
                left: t - 10
            })
        }
        ,
        n.sizeUpdate = function(t, i) {
            e(u).width(t),
            e(u).height(i)
        }
        ,
        n.toggleShare = function() {
            "active" === e(p).attr("data-state") ? (e(p).attr("data-state", ""),
            T()) : (e(p).attr("data-state", "active"),
            C())
        }
        ,
        y(),
        n
    }
    window.eventsPlayer.view.SocialShare = t
}(jQuery),
function(e) {
    function t() {
        var e = new Object
          , t = (new eventsCore.util.Logger("State"),
        null)
          , i = null
          , s = null
          , n = null;
        return Object.defineProperty(e, "container", {
            get: function() {
                return t || !1
            },
            set: function(e) {
                t = e
            }
        }),
        Object.defineProperty(e, "wrapper", {
            get: function() {
                return i || !1
            },
            set: function(e) {
                i = e
            }
        }),
        Object.defineProperty(e, "namespace", {
            get: function() {
                return s || !1
            },
            set: function(e) {
                s = e
            }
        }),
        Object.defineProperty(e, "path", {
            get: function() {
                return n || ""
            },
            set: function(e) {
                n = e
            }
        }),
        e
    }
    window.eventsPlayer.control.State = t
}(jQuery);
var StringUtil = function(e) {
    var t = new Object;
    new eventsCore.util.Logger("StringUtil");
    return t.contains = function(e, t) {
        return e.toLowerCase().indexOf(t) > -1
    }
    ,
    t
}(jQuery)
  , Strings = function(e) {
    var t = new Object
      , i = {
        fullscreen: '<button class="icon ecp-fullScreenBtn" title="FullScreen">FS</button>',
        captions: '<button class="icon ecp-captionsBtn" data-state="disabled" title="CC">CC</button>',
        quality: '<button class="icon ecp-qualitysBtn" data-state="disabled" title="Quality">Quality</button>',
        sharing: '<button class="icon ecp-shareBtn" data-state="disabled" title="Share">Share</button>',
        panel: '<button class="icon ecp-panelBtn" data-state="disabled" title="Picture-in-Picture"> Panel </button>',
        pop_open: '<button class="icon ecp-popOpenBtn" data-state="disabled" title="Pop-Out">Open</button>'
    }
      , s = '<div class="playerwrapper" data-fullscreen="false"><iframe id="playertech" class="playerFrame" src="" frameborder="0" allowfullscreen="true" scrolling="no"><p>Your browser does not support iframes.</p></iframe><div class="loaderContainer spinner"><div class="loader">Loading...</div></div><div class="playerPoster"><img alt="Play" class="center" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3ZTFmZDU1OS0zZjVhLTRkZWEtYTcwMi1kNDAyZTdlZjAwMTEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjcwRjNERkFDNDdCMTFFNUI3MkQ4NzYyMkRCNzRBM0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjcwRjNERjlDNDdCMTFFNUI3MkQ4NzYyMkRCNzRBM0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5OUFFREVDOUMzNzExMUU1OTdFOEQ3QTU2NDNBNDREQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5OUFFREVDQUMzNzExMUU1OTdFOEQ3QTU2NDNBNDREQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoOqTUcAAA/mSURBVHja7F0JUFRHGn4z3CCgiByuAgpGBEQxGMy6xqqYTTzQ0kBEQXNtKtkkZk2ZJRoFPJC4JFJZK4mpHMYolwcoScRjE8wmWdeLFTXcAQfEDSCIIJfI4fb36DfbPkcFHGfem5m/qmvmPQZ4/X3Tf/ff/R8KTuJy8+bNweTFlTRn0pxIw7U9aTa0mYt+pYu0dtqaSWskrYG0etJqFQpFo5T7q5AgAS7kxYc0T9JGkmar5X/RRloVaZWklRGCLpsIuZUAPIMHaf6k+ZLmoONHuEZaMWn5IIoQdNMoCSFEQO0E0TbkTp+rvXzZoqCg4ObZs2ctiktKrFQVFXbV1dV2DQ0NNi0tLRbt7e097OdtbGyUgwYN6nRycmp3d3dvHeXl1eo7dmzHxIkTO/39/RWuLi6dd3msq6TloRFimo2CEEIE5oOpdESYiX9eV19vnpOTozx46JD9yZMnXQgBNuR3tNNZhYIjBLWHhIRcnj1rVvOMGTN6hjk7d2n4aDdpBaQdI79Ta5CEEFCHkZcZVC2JR4F5Zmamxa7du11O5+Y6d3V16URtmJubKyYHB9cvioi4HBYW1klGjyZyoM5yCDF1BkEIIWIQeXmcqqZb/t9PP/9s+eFHHw05dPjwiI6ODr3qbisrK8WsmTMvvbFs2dXHpk27Ie4GVWVHCTEtsiSETtaPUDKshPs9PT2KvRkZVu9t3vy78+fPO0px6RkYGNi0Mjr6UnhY2A2lUsl+UTpACmmnHtTkr3hAZAwlL/PpslUtB7KzrdbExnoUFhbaczIQPz+/5oT4+Iuhc+Z0iH6EZXMWIeWK5AkhZEwiLzNJsxTuEQLM31i+fDhRUc6cDIWosPoPt2z5jRDEzjFQa4cJKWckSQghwoK8hJI2Qbh3/fp1ZXxCgv3ft2zxvnHjBidnsbS05N5cvrw8ds2aZmtra3apfQ6DnxDTKRlCCBmYCxaT5ibcy8/Pt4hcutSrqKjInjMgGTduXPOu1FSVaLTUkJZOSGm637+v1AIZ7uTlJZaMTz/7zO7306aNNzQyIOjTlKlTA9FH5jb6/hLFQn8jhDwA9psihVUUVNRrr7/unJyaOoIzAlkaFXVp68cf1zMqDJN/GhkplTonhJAxipKBuYO70tCgnL9ggceJkyedOCOSKSEhDVn7918c6uQkkNJJSVHpjBA6MpYIZFTX1Jg9/sQTPmVlZXacEYqPj0/r0e+/L3N3c+tmSEkZyEhRDoAMd3ZkVFRUmE2bPv0hYyUDgr4DA2BBbwGbyIHMKYp+kuFIJ3B7YWTgQSorK204k3Cenp7tP//4YykzUrBj/EV/Vl/KfpBhQZe29sKcATVlIuP/AiyACbCht4DVYoqd1lVWqLC0xWoKE7gxq6m7qS9gA4yYJXGoVgmh2yFqCxxLW2NbTfVHgA0wYm5NoBjePyF0o3Ama/QZi51xPwKMRMbjTIrlwCd1uoX+Ikd3bbEdAgu8vb3dhHgfxMbGhjtx7Nh5ZpsFu8Rf3m3r/l4j5BGBDOhE7E2ZyOi7AKtFUVGjmPlkJMW0/yqLOenjBbu2hrg39aAFmAE75tbjFNv+qSzyS/PICz8R4Txj8pQpgXLfQteXYOv+9IkTrOo6Q9TWN30eIdQhIUi4xuGSiYyBC7ADhsytIIpxn1XWDGH04NhVrid9UhJgCCwZzTSjTyqL+k29ivdwSAgKDvaRyxm41AVn9Hm5uWWM48QnYr8vTSNkqvAmIzPT0kSG9gRYAlNNWGskhLp3+gvXie+/bzIAtSwiTP0p5nccIZjIzajOs9S339TsmTOdnnryySGGRAgwBbb00oxdPN1CCLXK1T+ER6G+H959+HDLD5KSxu/Yvt3f29vb2lBIEWEbRLG/bYTAiuQ/CF9buHdKpQOTg4OHZu7ZE7z6nXc84N0ud0KALTCml0M4xqGQ7VyA8AaOz/r2tdVgXCmXREZ6HczOfnhuaKisd5qBLTDWhD1LiNorHV7oEjOsekpLSxFYw7kOG2aTuGlTQMrOnQFjxoyRrRoTYex7CyE0jIyPXEJ8BkICpPTwXV1dPQvCw8++t3lz6bXmZn7LYFJQkNPeXbuCY2NiPG1tbWWnxoAxsKaXDpQD9QjxET6IYBldxWf0RxC089WOHTWhc+fmfpud/V9yfRNqbHFEhCdRY8Hz5s4dKidCgDGwZm75sIR4CncRuSTljtRfudK1ctWq8qXPPXempLSUdx5wcXa2/tu77/qnpaQE+Pr6yuaMX4S1J0uIepZHGJkcOnMmL6/16fDwc5sSE0uuXbvGq7GJEyY47UlPf3htbKyXnZ2d5NWYCGueAyWNA7ely10LxPTJ5RsGNZacklI7a86c3KxvvrkENWZubq6MWLjQ49DBg8FhTz8t6U1RYA3M6aUtuMC3yFX4AKJdtRVgqUu52tjYtXrNmguLlyw5U1hUxKsxZycn6/j16/3SU1PH+/n52Ur1CwXMmVuuIET9LULoscy3JVqfiYg4l7BpU3FjUxOvxiYEBg7ZnZY2acO6daPs7e3NpPbMIsydQYjayEIcuNytYHzrUtPSLhM1dnr/119fwmrGzMxMGR4WNjL7wIHgZ8LDh0npeUWYO4GQwYxOMxjHt6ampu41MTEXopYu/U9+QUEjVWNW69euHbc7PT1wfECAJNSYCHN+DlEvvZAhgTMw+SU/v23hokXnN2zcWNTQ2MgHbxIyBqcmJz8cv2HDaAcHB72qMRHm9iBEvapCugrOQGXX7t11s8lqLGPfvqru7u4eJA0IW7BgBIzKRRERelNjIsxtbiEEuUM4AxZir3THrV2rioiMPENGzlVeaQ8ebBUXEzMuY88eMv8H6lxDiDDnCVHnmxIncjFUKSwsbItYvPiXtevXF9U3NPBqzG/cOMf0lJRJ7yYkjHZ0dNSZGhNhbq7kjFj2ZmTUzQkNzc3IzKzCBqaCyPx580Ycys6eHBUZqZcdC6MmBNLc3Nwdt26d6qsdOyrUSx1HR8vnn3/ew2nIEHNdP4+5sRPi7u5uuTE+3ufRkBDeQIbdspeMmM1JSRf1ocJBSJdADI5HjWUeQe6s55591u31V18dbWdnx/e//MKF5ti4uNKz58616uo5REfSXXiQdsEWQSY2QoiZoZPh4+NjnRAfP4bYI7wPQWdnZ/eX27dXfLR1629kSazTzTxgzs7xtxCCtHh1dXWDDJUIMzMzxbLXXhv+4gsveFlYWJhRw/Hq6piYX8vLy6/r45mAuZgQRIq6UH3aWlJSYpCEBE2caLdh/fqHvEeP5r98La2tnVs/+US1Y+fOGn3ucANzdo0BQtR5bJEw8p8GRgR09F/fesvjmbCwkbDOce/Y8eN1xEAsr66u1rtLPzBnLhtBSINwheydhkTG9Mcec4iLjX3I3c2N30jEXlZSUlLZ/qysK1J5RhHmDSCkXrhCKlVDIAKWdszq1aNmz5rlDmMP9w4fOVIdv3GjCodZUnpWEea8G4raHR55bfH8cjw1FAROdNHR0WOw1Y7r6tra9oSEhNKjP/zQJLVnBdbAnLlVa45c6IQApN+2RZJh5LW9oFLJbtfXzdXVgkza3n+YOpVfoOAsOnPfvkubEhMrpWpbAWsmsXMbuBAsdYTrjsUbJBkmhHjKiYwlUVEuf1m2zJus6XsT4lRWtqxdt670dG5ui5SfG1gzl+BAvZelTiOEjM9yIcLLy8sqNTk5YPWqVb4gAy6n27ZvV82bPz9P6mRowLpS2DqBlJH2JN4g/TaWh1L0XmQNvD+/8srwPxEDz9ramjfw4G0SExdXWlxcLItAemAMrJlbZWpCULKBqFw4MzsgFzrSbx8/cUKSrpk4C48nBh4R3he5ra2t69PPP1d9sW1btZwWI8CYyTt/TSibwe72Isc5n2UAudClRoiVlZXyrRUrRi5auBAGHq9qT+XmXomNiyurqqqSnf0EjEXYc2JC8gVCkJj+7VWrFFKJEQEB32ZlBY0YMYI/YoXraNIHH5Ttzciol+PSHHnmgTFzq0B4oxTN8vw5M6oEIDG9VDoAL3eBjJyjR2tC583LlSsZEGDLVGIA5hdvI4RmqMkTrlElQEqduFxff/3NFSvOv7F8eSk84OW8kyDCNo/NDiQ+wgUhfL5AlGxAlQB9PzwMPDhS4+z7H99918jJXIApUw6jmx0EtxFCy/yo9RlKNujz4VUqVTviQOBI3draahAnmSJMC8SllUypNXQoA0qtQT/AL8Pwi6ifYYJSOwIsGTKKNdW3upMbUA7XW+aHQzET1M8wwXl/AgyZwjA3KcZcnwihBbDUkw2KmSAJl0kGvGznMRStrOr6TAgV1FrqoLqvC8VMTNAOTIAdk01OqGOlUe6VlTQEdgzeI5HjI48+6m3Ku9g/QQGYU8ePlzMlLQ6R0XHyTp+/lyvpKWrBc/iDacnJFUh9apK+CbACZgwZVRRTbkCEUAsyi+stgMUFBAR0vp+YWGKCum8CrIAZvQSGWfcqt3dPZ2taGu6wcP3Kyy+3orKMCe67CzACVsytw30ps9fnchVkPlnA0fzvmE/++NRTHqb875oFVXe+O3LkIqOqzhEy9vfld/sTjnCA661Gxs8nKPODyjIm+G8VYAJsGDJqKHacVgmhdfrSuV7XUw41l1DmB0VMTDT0CrAAJkw9KmCV3p8ah/0K2KGVYtIE+wSVZL4/cqTUREovGcCCqa4jVGzr1465qSiYltSU3oqC0ZFSSUdKpzBS/vXTT79iMjPGCRx9F5Ex4FqGA44xpHX6UgT1Bb2JlYUxLYnRV/SZmTM66MhQDRjX+30opoyeeksFlWWiV64ca6i1RmCBw+gT2RnNdGRU38/fNhUn7qdIvjgxs/raxvWWsuaEbRZsqr0dHV1uCFv36AP6gj6JyECft2mDDK2NENFoMdQC99WECNaekHaBexEp8HqczzG5HHlTPzvbak1srIdczuhxBo5jV+akTxDs2mb1ZW9KEoRQUvC34QmJOlbqJF1wnEDJBlQJ0Hey/zsJXHXgHRIeFnaDOQMXVlE4XDp1r11byRHCECMUFwsS/z9UCUBieuRC17fbKtw74VEIJzbGb0rdDa73SPsoIeKBhjkodNVhWnMJZX58xT9DYnrkQkf6bWR81lUoBEIC4IUOx2f42jLunazAAyfnTmfgsiWEIQZ+X6gsg8Ixt2WNQPptZHxGkmHktUUqVW2FGSCmD2FkiFxCsAziM5iQAFZgdcP5/N+aXHUMihCGGHuqxtDuWKsEeW2RShXZO5EwEjkKkRYPmdiQ/EscP4i4dKSrQIYEBOUjDhyhx4h2RYAlE9OnSa5S1ZQn9ig0eEJEkz9WYwFUnTno+BGuUbWEEVH1oCZr2RCigSBE0SIxvSclStvZQ9voshWbf2VC5JJURHKEaCAIaWwx78CoxJExrqHubGgT5/zCnNBOG9QOPOaxCw3vy1qEHku5v/8TYAAsNlN4MKTeiQAAAABJRU5ErkJggg=="></div><div class="videoControlsTouch" tabindex="0"></div><div class="videoControls hidden"><div class="centerholder"><div class="centercol"><div class="progress"><div class="progress_box"><div class="progress_cover"></div><div class="progress_bar"><span class="play_progress"><span class="progress_marker"></span></span></div></div></div></div></div><div class="leftcol"><div class="colRow"><button class="icon ecp-playBtn" title="Play">&nbsp;</button> <button class="icon ecp-rewindBtn" title="Skip Back">&nbsp;</button> <button class="icon ecp-liveBtn" title="Live">&nbsp;</button><div class="timeText"><span class="curTimeText"></span><span class="durTimeText"></span></div><div class="volume"><button class="icon ecp-muteBtn" title="Volume">Mute</button><div class="volume_box"><div class="volume_bar"><span class="volume_progress"><span class="volume_marker"></span></span></div></div></div></div></div><div class="rightcol"><div id="rightSideButtons" class="colRow"><button class="icon ecp-panelBtn" data-state="disabled" title="Picture-in-Picture">Panel</button> <button class="icon ecp-popOpenBtn" data-state="disabled" title="Pop-Out">Open</button> <button class="icon ecp-captionsBtn" data-state="disabled" title="CC">CC</button> <button class="icon ecp-shareBtn" data-state="disabled" title="Share">Share</button> <button class="icon ecp-fullScreenBtn" title="FullScreen">FS</button></div><button class="icon ecp-extraBtn" title="Extra">Extra</button></div><div class="ecp-shareOverlayWrap"><div class="ecp-shareOverlay"></div><a class="ecp-shareClose"></a></div></div></div>';
    return t.getWrapper = function() {
        return s
    }
    ,
    t.getButton = function(e) {
        return i[e]
    }
    ,
    t
}(jQuery);
!function(e) {
    function t(e, t, i, s, n, a) {
        var e = e || " "
          , r = {
            get uchar() {
                return e
            }
        };
        return r.penState = new eventsPlayer.control.caption.PenState(t,i,s,n,a),
        r.reset = function() {
            e = " ",
            r.penState.reset()
        }
        ,
        r.setChar = function(t, i) {
            e = t,
            r.penState.copy(i)
        }
        ,
        r.setPenState = function(e) {
            r.penState.copy(e)
        }
        ,
        r.equals = function(t) {
            return e === t.uchar && r.penState.equals(t.penState)
        }
        ,
        r.copy = function(t) {
            e = t.uchar,
            r.penState.copy(t.penState)
        }
        ,
        r.isEmpty = function() {
            return " " === e && r.penState.isDefault()
        }
        ,
        r.getChar = function() {
            return e
        }
        ,
        r
    }
    window.eventsPlayer.control.caption.StyledCharacter = t
}(jQuery),
define("eventsCorePlayer", ["eventsCore"], function() {}),
define("utils/video-player", ["require", "backbone", "jquery", "underscore", "utils/metrics", "utils/browser", "models/video", "utils/window-size", "eventsCorePlayer"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("underscore")
      , n = e("utils/metrics")
      , a = e("utils/browser")
      , r = e("models/video");
    Win = e("utils/window-size"),
    e("eventsCorePlayer");
    var o = t.Model.extend({
        events: {},
        players: {},
        singlePlayer: !1,
        activeVideo: void 0,
        floated: !1,
        view: "hero",
        initialize: function(e) {
            s.bindAll(this, "onPlayEvent", "onMeasureEvent", "onCompleteEvent", "onPauseEvent", "onPanelEvent", "onStartEvent", "onControlsEvent", "onClickEvent", "onVideoModeEvent", "onFullscreenEvent"),
            "all" === eventsCore.util.getUrlParam("loglevel") && eventsCore.setLogLevel("all"),
            this.listenTo(t.history, "route", this.routeChange),
            this.logger = new eventsCore.util.Logger("VideoPlayer"),
            this.logger.info("initialize - this:%o", this),
            i(".ecp-player").hide()
        },
        dispose: function() {
            var e = Object.keys(this.players);
            this.logger.info("dispose 1 - keys:%o players:%o", e, this.players);
            for (var t = e.length - 1; t >= 0; t--)
                e[t].indexOf("panel") == -1 && e[t].length > 6 && (eventsPlayer.destroy("#wrapper_" + e[t]),
                delete this.players[e[t]]);
            this.singlePlayer = !1,
            this.logger.info("dispose 2 - keys:%o players:%o", Object.keys(this.players), this.players)
        },
        setSinglePlayerMode: function() {
            this.singlePlayer = !0
        },
        initPlayer: function(e) {
            this.logger.info("initPlayer - id:%o", e),
            this.players[e] || a.facebook_ios || (this.players[e] = eventsPlayer.init("/ecp/playerConfig.json", i("#wrapper_" + e), this.singlePlayer),
            this.players[e].on("CompleteEvent", this.onCompleteEvent),
            this.players[e].on("StartEvent", this.onStartEvent),
            this.players[e].on("PlayEvent", this.onPlayEvent),
            this.players[e].on("MeasureEvent", this.onMeasureEvent),
            this.players[e].on("PauseEvent", this.onPauseEvent),
            this.players[e].on("ControlsEvent", this.onControlsEvent),
            this.players[e].on("PanelEvent", this.onPanelEvent),
            this.players[e].on("ClickEvent", this.onClickEvent),
            this.players[e].on("VideoModeEvent", this.onVideoModeEvent),
            this.players[e].on("FullscreenEvent", this.onFullscreenEvent))
        },
        loadVideo: function(e, t, o) {
            var l = {
                forceType: void 0,
                floated: void 0,
                metrics_prefix: n.page_section
            };
            o = s.extend({}, l, o);
            var h = e;
            this.logger.info("loadVideo - data:%o", h);
            var c = (null != navigator.userAgent.match(/android/i),
            h.wwwhlshigh);
            "live" !== h.type && "dvr" !== h.type && a.firefox && !a.mobiledevice && (c += c.indexOf("?") > -1 ? "&" : "?",
            c += "b=600-1700"),
            this.activeVideo = new r({
                id: h.id,
                title: h.title,
                streamType: h.type || "vod",
                contentType: h.contentType,
                poster: h.pictureM,
                dashUrl: h.wwwdash,
                hlsUrl: c,
                progUrl: h.pdl,
                pageLink: h.link,
                replay_channel: h.replay_channel,
                track: h.track,
                cdn: h.cdn,
                panelButton: h.panelButton
            });
            for (var d = "", u = Object.keys(this.players), p = 0; p < u.length; p++)
                u[p].indexOf("panel") == -1 && u[p].length > 6 && (d = u[p]);
            if (this.singlePlayer && t !== d && this.players[d] && t.indexOf("panel") == -1 && (this.trigger("player:stop", {
                id: d
            }),
            i("#wrapper_" + d).closest(".ecp-player").hide(),
            console.log("loadVideo - single:%o key:%o id:%o player:%o", this.singlePlayer, d, t, this.players),
            eventsPlayer.move("#wrapper_" + d, "#wrapper_" + t),
            this.players[t] = this.players[d],
            delete this.players[d]),
            this.players[t] || this.initPlayer(t),
            this.floated = o.floated,
            this.currentId = t,
            this.metrics_prefix = o.metrics_prefix,
            this.logger.info("loadVideo - video:%o id:%o fb:%o", this.activeVideo, this.currentId, a.facebook_ios),
            a.facebook_ios) {
                this.logger.info("loadVideo - facebook - wrap:%o", i("#wrapper_" + d).closest(".ecp-player"));
                var f = '<video id="fbVideo" width="640" height="360" controls autoplay preload="auto"> <source src="' + c + '" type="application/x-mpegURL"></source></video>';
                i(".ecp-player").has('div[id="wrapper_' + t + '"]').after(f);
                var g = i("#fbVideo")[0];
                this.trigger("player:stop", {
                    id: d
                }),
                this.trigger("player:play", {
                    id: t
                }),
                setTimeout(function() {
                    g.load(),
                    g.play()
                }, 500)
            } else
                this.loadStream(t, o.forceType),
                i(".ecp-player").has('div[id="wrapper_' + t + '"]').show()
        },
        pause: function() {
            this.players[id] && this.players[id].pause()
        },
        stop: function(e) {
            this.logger.info("stop - id:%o player:%o", e, this.players[e]),
            this.players[e].stop(),
            this.trigger("player:stop", {
                id: e
            })
        },
        mute: function(e, t) {
            this.logger.info("mute - val:%o id:%o", e, t),
            this.players[t] && this.players[t].mute(e)
        },
        close: function(e) {
            a.facebook_ios || this.players[e].close(),
            this.trigger("player:stop", {
                id: e
            })
        },
        loadStream: function(e, t) {
            var i = {}
              , s = this.activeVideo;
            i.title = s.get("title"),
            i.techOrder = null,
            i.streamType = s.get("streamType") || "unknown",
            i.typeFixed = t,
            i.controls = !1,
            i.poster = s.get("poster"),
            i.cdn = s.get("cdn"),
            i.windowSize = Win.size(),
            s.get("hlsUrl") ? (i.url = s.get("hlsUrl"),
            i.mimeType = s.get("hlsMimeType")) : s.get("progUrl") ? (i.url = s.get("progUrl"),
            i.mimeType = s.get("progMimeType")) : this.logger.error("loadStream - neither hls or prog video type found"),
            s.get("tracks") && (i.tracks = s.get("tracks")),
            s.get("ads") && (i.ads = s.get("ads")),
            i.info = {
                title: s.get("title"),
                type: s.get("streamType") || "unknown",
                id: s.get("id"),
                link: s.get("pageLink")
            },
            s.get("panelButton") && (i.config = {
                ui: {
                    toolbar: {
                        buttons: {
                            panel: s.get("panelButton")
                        }
                    }
                }
            }),
            this.logger.info("loadStream - playObj:%o", i),
            this.players[e].load(i)
        },
        routeChange: function() {
            this.logger.info("routeChange - video:%o", i("#fbVideo")[0]),
            i("#fbVideo")[0] && (i("#fbVideo")[0].pause(),
            i("#fbVideo").remove())
        },
        buttonClick: function(e, t) {
            this.players[e].buttonClick(t)
        },
        recordView: function(e) {
            this.logger.info("recordView: %o", this.view),
            this.players[e].recordEvent("conviva", "mode", {
                position: this.view
            })
        },
        recordVideoMode: function(e, t) {
            this.logger.info("recordVideoMode: %o", t),
            this.players[e].recordEvent("conviva", "videoMode", {
                mode: t
            })
        },
        onPauseEvent: function(e) {
            var t = e.id.replace("#wrapper_", "");
            this.logger.info("onPauseEvent - paused:%o id:%o", e.paused, t),
            s.each(this.players, function(i, s) {
                s != t && !e.paused && i.isPlaying()
            })
        },
        onMeasureEvent: function(e) {
            var t = e.id.replace("#wrapper_", "");
            this.logger.info("onMeasureEvent: %o id:%o type:%o", e, t, e.type);
            var i = "vod" === this.activeVideo.get("streamType") ? "Video" : "Live";
            switch (n.video_action = "vod" === this.activeVideo.get("streamType") ? "VOD" : "Live",
            e.type) {
            case "start":
                "Video" === i && (n.trackS({
                    eVar27: this.activeVideo.get("title")
                }),
                n.measureVideoPlayer(this.metrics_prefix, i, "Start"));
                break;
            case "complete":
                "Video" === i && (n.trackS({
                    eVar27: this.activeVideo.get("title")
                }),
                n.measureVideoPlayer(this.metrics_prefix, i, "Complete"));
                break;
            case "play":
                n.measureVideoPlayer(this.metrics_prefix, i, "Play");
                break;
            case "pause":
                n.measureVideoPlayer(this.metrics_prefix, i, "Pause");
                break;
            case "rewind":
                n.measureVideoPlayer(this.metrics_prefix, i, "Rewind");
                break;
            case "timeline":
                n.measureVideoPlayer(this.metrics_prefix, i, "Timeline");
                break;
            case "mute":
                n.measureVideoPlayer(this.metrics_prefix, i, "Mute");
                break;
            case "unmute":
                n.measureVideoPlayer(this.metrics_prefix, i, "Unmute");
                break;
            case "enterFullscreen":
                n.measureVideoPlayer(this.metrics_prefix, i, "Full Screen");
                break;
            case "exitFullscreen":
                break;
            case "captionsOn":
                n.measureVideoPlayer(this.metrics_prefix, i, "CC On");
                break;
            case "captionsOff":
                n.measureVideoPlayer(this.metrics_prefix, i, "CC Off");
                break;
            case "Share:Open":
                n.measureApp(this.metrics_prefix, n.video_action, this.activeVideo.get("title"), "Share");
                break;
            case "panelOn":
                n.trackS({
                    prop57: n.video_action + " Panel On",
                    eVar57: n.video_action + " Panel On"
                }),
                n.measureVideoPlayer(this.metrics_prefix, i, "Panel On");
                break;
            case "panelOff":
                n.trackS({
                    prop57: n.video_action + " Panel Off",
                    eVar57: n.video_action + " Panel Off"
                }),
                n.measureVideoPlayer(this.metrics_prefix, i, "Panel Off");
                break;
            case "popOpen":
                n.measureVideoPlayer(this.metrics_prefix, i, "Popout");
                break;
            case "live":
                n.measureVideoPlayer(this.metrics_prefix, i, "DVR Seek to Live");
                break;
            default:
                if (0 === e.type.indexOf("Share:")) {
                    var s = e.type.substring(e.type.lastIndexOf(":") + 1, e.type.length);
                    n.trackS({
                        prop50: n.video_action + ":" + this.activeVideo.get("title")
                    }),
                    n.measureApp(this.metrics_prefix, n.video_action, this.activeVideo.get("title"), "Share", s)
                }
            }
        },
        onPlayEvent: function(e) {
            var t = e.id.replace("#wrapper_", "");
            this.trigger("player:play", {
                id: t
            })
        },
        onStartEvent: function(e) {
            var t = this;
            this.logger.info("onStartEvent");
            var i = e.id.replace("#wrapper_", "");
            this.floated || s.each(this.players, function(e, s) {
                t.logger.info("onStartEvent - player:%o key:%o", e, s),
                s != i && e.isPlaying() && t.mute(!0, s)
            }),
            this.floated = !1,
            this.logger.info("onStartEvent: ev:%o", this),
            this.trigger("player:start", {
                id: i
            }),
            this.view = this.floated ? "float" : "hero",
            this.recordView(i)
        },
        onCompleteEvent: function(e) {
            var t = e.id.replace("#wrapper_", "");
            this.trigger("player:complete", {
                id: t
            })
        },
        onControlsEvent: function(e) {
            var t = e.id.replace("#wrapper_", "");
            this.trigger("player:controls", {
                id: t,
                visible: e.visible
            })
        },
        onPanelEvent: function(e) {
            var t = e.id.replace("#wrapper_", "");
            this.logger.info("onPanelEvent: %o", e),
            e.open ? (this.view = "float",
            this.recordView(t),
            this.trigger("player:panelOpen", {
                id: t
            })) : (this.view = "hero",
            this.recordView(t),
            this.trigger("player:panelClosed", {
                id: t
            }))
        },
        onClickEvent: function(e) {
            var t = e.id.replace("#wrapper_", "");
            this.trigger("player:click", {
                id: t,
                type: e.type
            })
        },
        onVideoModeEvent: function(e) {
            var t = e.id.replace("#wrapper_", "");
            this.trigger("player:video_mode", {
                id: t,
                mode: e.mode
            }),
            this.recordVideoMode(t, e.mode)
        },
        onFullscreenEvent: function(e) {
            var t = e.id.replace("#wrapper_", "");
            this.trigger("player:fullscreen", {
                id: t,
                state: e.state
            })
        }
    });
    return new o
}),
define("utils/channel-controller", ["require", "backbone", "jquery", "settings", "utils/browser", "utils/geoblock", "utils/pubsub"], function(e) {
    var t = e("backbone")
      , i = (e("jquery"),
    e("settings"))
      , s = e("utils/browser")
      , n = e("utils/geoblock")
      , a = e("utils/pubsub")
      , r = t.Model.extend({
        defaults: {
            name: "",
            channelId: "",
            live: !1,
            launchUrl: "",
            replay: "",
            desktop: "",
            mobile: "",
            nodvr: "",
            imagePath: "/images/now/trans_16x9.gif",
            closedCaptions: "",
            fg: "",
            relatedContent: "/en_US/xml/gen/video/lastX.json"
        },
        idAttribute: "channelId",
        initialize: function() {},
        parse: function(e, t) {
            return e.imagePathH = e.imagePath,
            e.imagePathM = e.imagePath,
            e.imagePathL = e.imagePath,
            e
        }
    })
      , o = t.Collection.extend({
        url: "/en_US/xml/gen/alc/liveVideoChannels.json",
        model: r,
        geoblock: !1,
        cdn: "unknown",
        initialize: function() {
            this.cdn = this._cdn = {
                desktop: {
                    akamai: "",
                    level3: ""
                },
                mobile: {
                    akamai: "",
                    level3: ""
                },
                nodvr: {
                    akamai: "",
                    level3: ""
                }
            }
        },
        parse: function(e, t) {
            return this.cdn = e.cdnBalance,
            this.setCDN(e.channels),
            e.channels
        },
        setCDN: function(e) {
            for (var t = 0, i = e.length; t < i; t++) {
                var s = e[t];
                if ("radio" !== s.channelId) {
                    var n = Math.floor(10 * Math.random());
                    s.cdn = {
                        desktop: "",
                        mobile: "",
                        nodvr: ""
                    },
                    this.cdn.desktop.akamai.indexOf(n) !== -1 ? (s.desktopURL = s.desktop.akamai,
                    s.cdn.desktop = "akamai") : this.cdn.desktop.level3.indexOf(n) !== -1 && (s.desktopURL = s.desktop.level3,
                    s.cdn.desktop = "level3"),
                    this.cdn.mobile.akamai.indexOf(n) !== -1 ? (s.mobileURL = s.mobile.akamai,
                    s.cdn.mobile = "akamai") : this.cdn.mobile.level3.indexOf(n) !== -1 && (s.mobileURL = s.mobile.level3,
                    s.cdn.mobile = "level3"),
                    this.cdn.nodvr.akamai.indexOf(n) !== -1 ? (s.nodvrURL = s.nodvr.akamai,
                    s.cdn.nodvr = "akamai") : this.cdn.nodvr.level3.indexOf(n) !== -1 && (s.nodvrURL = s.nodvr.level3,
                    s.cdn.nodvr = "level3")
                }
            }
        }
    })
      , l = function() {
        return this.collection,
        this.callback = function() {}
        ,
        this.interval = 30,
        this.timeoutId,
        this.hasOnAirChannel = !1,
        this.init = function(e) {
            return this.setCallback(e),
            i.Scores.post || (clearInterval(this.timeoutId),
            this.timeoutId = setInterval(this.checkVideoJson.bind(this), 1e3 * this.interval)),
            this.collection = new o,
            this.checkVideoJson(),
            this
        }
        ,
        this.setCallback = function(e) {
            "function" == typeof e && (this.callback = e)
        }
        ,
        this.checkVideoJson = function() {
            this.collection.geoblock = n.isBlocked(),
            this.collection.fetch({
                success: function() {
                    this.callback(this.collection),
                    a.trigger("livevideo:reset")
                }
                .bind(this)
            })
        }
        ,
        this.checkChannelStatus = function(e) {
            var t = this.getChannel(e);
            return !!t && t.get("live")
        }
        ,
        this.getChannel = function(e) {
            if (!n.isBlocked())
                return this.collection.get(e)
        }
        ,
        this.getVideoObject = function(e) {
            var t = this.getChannel(e);
            if (t) {
                var i = "desktop";
                return !s.mobiledevice || s.ipad || s.touch || (i = "mobile"),
                s.win7 && s.ie11 && (i = "nodvr"),
                {
                    id: t.id,
                    type: "nodvr" === i ? "live" : "dvr",
                    title: t.get("name"),
                    contentType: "live",
                    cdn: t.get("cdn")[i],
                    pictureL: t.get("imagePath"),
                    pictureM: t.get("imagePath"),
                    pictureH: t.get("imagePath"),
                    wwwdash: "",
                    wwwhlshigh: t.get(i + "URL"),
                    pdl: "",
                    link: "/en_US/watch/index.html"
                }
            }
        }
        ,
        this.init.apply(this, arguments)
    };
    return new l
}),
define("utils/autocolumn", ["require", "jquery", "utils/window-size", "utils/browser"], function(e) {
    var t = e("jquery")
      , i = e("utils/window-size")
      , s = e("utils/browser")
      , n = function() {
        return this.opts,
        this.defaults = {
            max: 3,
            min: 1,
            breakpoint: "949px"
        },
        this.container,
        this.multilist,
        this.column_count = 1,
        this.init = function(e, n) {
            this.opts = t.extend({}, this.defaults, n),
            this.container = e,
            this.multilist = e.find(".multi-column-list"),
            0 === this.multilist.length && (this.multilist = this.container),
            this.column_count = this.options.min,
            i.size() === i.sizes.desktop ? this.column_count = this.options.max : i.size() === i.sizes.tablet && this.options.max >= 2 && (this.column_count = 2);
            var a = this;
            if (s.oldIE && this.opts.max !== this.opts.min) {
                var r = window.matchMedia("screen and (min-width:" + this.opts.breakpoint + ")");
                r.addListener(function(e) {
                    e.matches ? a.column_count = a.opts.max : (a.column_count = a.opts.max - 1,
                    a.column_count < a.opts.min && (a.column_count = a.opts.min)),
                    a.run()
                })
            }
        }
        ,
        this.run = function(e) {
            if (e.find(".columns").length !== this.column_count) {
                var t = e.find("li");
                0 !== e.find(".column").length && t.unwrap().removeClass("column_break");
                var i = t.length
                  , s = Math.ceil(i / this.column_count);
                t.filter("li:nth-of-type(" + s + "n+1)").addClass("column_break");
                for (var n = 100 / this.column_count, a = t.first(), r = 0; r < this.column_count; r++) {
                    var o = a.nextUntil("li.column_break").andSelf();
                    a = o.last().next();
                    var l = "";
                    0 === r && (l += " first"),
                    r === this.column_count - 1 && (l += " last"),
                    o.wrapAll('<div class="column ' + l + '" style="width: ' + n + '%">')
                }
            }
        }
        ,
        arguments.length > 0 ? this.init.apply(this, arguments) : this
    };
    return n
}),
define("utils/title-list", ["require", "backbone", "utils/window-size", "utils/metrics", "utils/browser", "utils/autocolumn", "utils/pubsub"], function(e) {
    var t = e("backbone")
      , i = (e("utils/window-size"),
    e("utils/metrics"))
      , s = (e("utils/browser"),
    e("utils/autocolumn"))
      , n = e("utils/pubsub")
      , a = t.View.extend({
        el: "#pageSelector",
        events: {
            "click .selector a": "toggleList",
            "click .filters a": "selectTab",
            "click .option_wrapper a": "selectOption"
        },
        defaults: {
            max: 3,
            min: 1,
            search: "",
            measure_key: "Multi Column Menu",
            metrics_suffix: ""
        },
        height: 0,
        open: !1,
        selected_tab: 0,
        pageNav: !0,
        initialize: function(e) {
            this.options = _.extend({}, this.defaults, e),
            this.options.measure_prefix = "string" == typeof this.options.measure_key ? this.options.measure_key : this.options.measure_key.join(":"),
            this.multilist = this.$(".multi-column-list"),
            0 === this.multilist.length && (this.multilist = this.$el),
            this.toggleSelector = this.$(".selector"),
            Modernizr.csscolumns || (this.autocolumn = new s(this.$el,e))
        },
        render: function() {},
        onDispose: function() {},
        selectOption: function(e) {
            var t = $(e.currentTarget);
            if (t.parent().hasClass("selected") || t.parent().hasClass("disabled"))
                return console.log("selectOption - prevent page nav to channel:%o", $(e.currentTarget).attr("id")),
                e.preventDefault(),
                !1;
            if (this.closeList(),
            !this.pageNav && this.options.sendPanel)
                return n.trigger(this.options.sendPanel + ":change", t.attr("id"), this.options.sendPanel),
                e.preventDefault(),
                !1;
            if ("" !== this.options.metrics_suffix) {
                var i = t.attr("href");
                i.indexOf("promo") === -1 && (i += (i.indexOf("?") > -1 ? "&" : "?") + "promo=" + this.options.metrics_suffix,
                t.attr("href", i))
            }
        },
        toggleList: function(e) {
            return e.preventDefault(),
            this.open ? (this.closeList(),
            i.measureApp(this.options.measure_prefix, "Close")) : (this.openList(),
            i.measureApp(this.options.measure_prefix, "Open")),
            !1
        },
        openList: function() {
            this.toggleSelector.find("a").addClass("open"),
            this.multilist.addClass("open"),
            this.list = this.$("ul.selected"),
            Modernizr.csscolumns || this.autocolumn.run(this.list),
            this.open = !0,
            this.trigger("list:open")
        },
        closeList: function() {
            this.toggleSelector.find("a").removeClass("open"),
            this.multilist.removeClass("open"),
            this.list = null,
            this.open = !1,
            this.trigger("list:close")
        },
        selectTab: function(e) {
            e.preventDefault();
            var t = $(e.currentTarget)
              , s = t.parent().index();
            s !== this.selected_tab && (t.parent().addClass("selected").siblings().removeClass("selected"),
            this.list = this.$('[data-id="' + t.attr("href").substring(1) + '"]'),
            this.list.addClass("selected").siblings().removeClass("selected"),
            this.autocolumn && this.autocolumn.run(this.list),
            this.selected_tab = s,
            i.measureApp(this.options.measure_prefix, t.text()))
        },
        find: function(e) {
            if ("" === e)
                this.multilist.find(".search").removeClass("active"),
                this.multilist.find(".option_wrapper, .filters").show();
            else {
                e = e.toLowerCase();
                var t = this.multilist.find("div.option_wrapper li").filter(":not(.header)")
                  , i = t.filter(function(t) {
                    return $(this).text().toLowerCase().search(e) > -1
                }).clone();
                0 === i.length ? i = "<li>No Results Found</li>" : i.length > 10 && (i = i.slice(0, 11),
                i.last().html("...")),
                this.multilist.find(".search").addClass("active").siblings(".search_results").find("ul").html(i),
                this.multilist.find(".option_wrapper, .filters").hide()
            }
        },
        setNav: function(e) {
            this.pageNav = e
        }
    });
    return a
}),
define("utils/title-selector", ["require", "backbone", "utils/common", "utils/pubsub", "utils/title-list"], function(e) {
    var t = e("backbone")
      , i = (e("utils/common"),
    e("utils/pubsub"))
      , s = e("utils/title-list")
      , n = t.View.extend({
        el: "#pageTitle",
        events: {},
        height: 0,
        initialize: function(e) {
            this.listenTo(i, "windowsize:global:exit", this.setHeight),
            this.listenTo(i, "windowsize:global:enter", this.setHeight);
            var t = _.extend({}, e, {
                el: this.$("#pageSelector")
            });
            this.multicol = new s(t),
            this.listenTo(this.multicol, "list:open", this.triggerOpen),
            this.listenTo(this.multicol, "list:close", this.triggerClose)
        },
        render: function() {
            this.setHeight()
        },
        onDispose: function() {},
        setHeight: function() {
            this.height = this.$el.outerHeight()
        },
        setNav: function(e) {
            this.multicol.setNav(e)
        },
        triggerOpen: function() {
            this.trigger("list:open")
        },
        triggerClose: function() {
            this.trigger("list:close")
        }
    });
    return n
}),
function(e, t) {
    function i(t, i) {
        var n, a, r, o = t.nodeName.toLowerCase();
        return "area" === o ? (n = t.parentNode,
        a = n.name,
        !(!t.href || !a || "map" !== n.nodeName.toLowerCase()) && (r = e("img[usemap=#" + a + "]")[0],
        !!r && s(r))) : (/input|select|textarea|button|object/.test(o) ? !t.disabled : "a" === o ? t.href || i : i) && s(t)
    }
    function s(t) {
        return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function() {
            return "hidden" === e.css(this, "visibility")
        }).length
    }
    var n = 0
      , a = /^ui-id-\d+$/;
    e.ui = e.ui || {},
    e.extend(e.ui, {
        version: "1.10.4",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            NUMPAD_ADD: 107,
            NUMPAD_DECIMAL: 110,
            NUMPAD_DIVIDE: 111,
            NUMPAD_ENTER: 108,
            NUMPAD_MULTIPLY: 106,
            NUMPAD_SUBTRACT: 109,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }),
    e.fn.extend({
        focus: function(t) {
            return function(i, s) {
                return "number" == typeof i ? this.each(function() {
                    var t = this;
                    setTimeout(function() {
                        e(t).focus(),
                        s && s.call(t)
                    }, i)
                }) : t.apply(this, arguments)
            }
        }(e.fn.focus),
        scrollParent: function() {
            var t;
            return t = e.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function() {
                return /(relative|absolute|fixed)/.test(e.css(this, "position")) && /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
            }).eq(0) : this.parents().filter(function() {
                return /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
            }).eq(0),
            /fixed/.test(this.css("position")) || !t.length ? e(document) : t
        },
        zIndex: function(i) {
            if (i !== t)
                return this.css("zIndex", i);
            if (this.length)
                for (var s, n, a = e(this[0]); a.length && a[0] !== document; ) {
                    if (s = a.css("position"),
                    ("absolute" === s || "relative" === s || "fixed" === s) && (n = parseInt(a.css("zIndex"), 10),
                    !isNaN(n) && 0 !== n))
                        return n;
                    a = a.parent()
                }
            return 0
        },
        uniqueId: function() {
            return this.each(function() {
                this.id || (this.id = "ui-id-" + ++n)
            })
        },
        removeUniqueId: function() {
            return this.each(function() {
                a.test(this.id) && e(this).removeAttr("id")
            })
        }
    }),
    e.extend(e.expr[":"], {
        data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
            return function(i) {
                return !!e.data(i, t)
            }
        }) : function(t, i, s) {
            return !!e.data(t, s[3])
        }
        ,
        focusable: function(t) {
            return i(t, !isNaN(e.attr(t, "tabindex")))
        },
        tabbable: function(t) {
            var s = e.attr(t, "tabindex")
              , n = isNaN(s);
            return (n || s >= 0) && i(t, !n)
        }
    }),
    e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function(i, s) {
        function n(t, i, s, n) {
            return e.each(a, function() {
                i -= parseFloat(e.css(t, "padding" + this)) || 0,
                s && (i -= parseFloat(e.css(t, "border" + this + "Width")) || 0),
                n && (i -= parseFloat(e.css(t, "margin" + this)) || 0)
            }),
            i
        }
        var a = "Width" === s ? ["Left", "Right"] : ["Top", "Bottom"]
          , r = s.toLowerCase()
          , o = {
            innerWidth: e.fn.innerWidth,
            innerHeight: e.fn.innerHeight,
            outerWidth: e.fn.outerWidth,
            outerHeight: e.fn.outerHeight
        };
        e.fn["inner" + s] = function(i) {
            return i === t ? o["inner" + s].call(this) : this.each(function() {
                e(this).css(r, n(this, i) + "px")
            })
        }
        ,
        e.fn["outer" + s] = function(t, i) {
            return "number" != typeof t ? o["outer" + s].call(this, t) : this.each(function() {
                e(this).css(r, n(this, t, !0, i) + "px")
            })
        }
    }),
    e.fn.addBack || (e.fn.addBack = function(e) {
        return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
    }
    ),
    e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function(t) {
        return function(i) {
            return arguments.length ? t.call(this, e.camelCase(i)) : t.call(this)
        }
    }(e.fn.removeData)),
    e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
    e.support.selectstart = "onselectstart"in document.createElement("div"),
    e.fn.extend({
        disableSelection: function() {
            return this.bind((e.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function(e) {
                e.preventDefault()
            })
        },
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        }
    }),
    e.extend(e.ui, {
        plugin: {
            add: function(t, i, s) {
                var n, a = e.ui[t].prototype;
                for (n in s)
                    a.plugins[n] = a.plugins[n] || [],
                    a.plugins[n].push([i, s[n]])
            },
            call: function(e, t, i) {
                var s, n = e.plugins[t];
                if (n && e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType)
                    for (s = 0; n.length > s; s++)
                        e.options[n[s][0]] && n[s][1].apply(e.element, i)
            }
        },
        hasScroll: function(t, i) {
            if ("hidden" === e(t).css("overflow"))
                return !1;
            var s = i && "left" === i ? "scrollLeft" : "scrollTop"
              , n = !1;
            return t[s] > 0 || (t[s] = 1,
            n = t[s] > 0,
            t[s] = 0,
            n)
        }
    })
}(jQuery),
function(e, t) {
    var i = 0
      , s = Array.prototype.slice
      , n = e.cleanData;
    e.cleanData = function(t) {
        for (var i, s = 0; null != (i = t[s]); s++)
            try {
                e(i).triggerHandler("remove")
            } catch (e) {}
        n(t)
    }
    ,
    e.widget = function(i, s, n) {
        var a, r, o, l, h = {}, c = i.split(".")[0];
        i = i.split(".")[1],
        a = c + "-" + i,
        n || (n = s,
        s = e.Widget),
        e.expr[":"][a.toLowerCase()] = function(t) {
            return !!e.data(t, a)
        }
        ,
        e[c] = e[c] || {},
        r = e[c][i],
        o = e[c][i] = function(e, i) {
            return this._createWidget ? (arguments.length && this._createWidget(e, i),
            t) : new o(e,i)
        }
        ,
        e.extend(o, r, {
            version: n.version,
            _proto: e.extend({}, n),
            _childConstructors: []
        }),
        l = new s,
        l.options = e.widget.extend({}, l.options),
        e.each(n, function(i, n) {
            return e.isFunction(n) ? (h[i] = function() {
                var e = function() {
                    return s.prototype[i].apply(this, arguments)
                }
                  , t = function(e) {
                    return s.prototype[i].apply(this, e)
                };
                return function() {
                    var i, s = this._super, a = this._superApply;
                    return this._super = e,
                    this._superApply = t,
                    i = n.apply(this, arguments),
                    this._super = s,
                    this._superApply = a,
                    i
                }
            }(),
            t) : (h[i] = n,
            t)
        }),
        o.prototype = e.widget.extend(l, {
            widgetEventPrefix: r ? l.widgetEventPrefix || i : i
        }, h, {
            constructor: o,
            namespace: c,
            widgetName: i,
            widgetFullName: a
        }),
        r ? (e.each(r._childConstructors, function(t, i) {
            var s = i.prototype;
            e.widget(s.namespace + "." + s.widgetName, o, i._proto)
        }),
        delete r._childConstructors) : s._childConstructors.push(o),
        e.widget.bridge(i, o)
    }
    ,
    e.widget.extend = function(i) {
        for (var n, a, r = s.call(arguments, 1), o = 0, l = r.length; l > o; o++)
            for (n in r[o])
                a = r[o][n],
                r[o].hasOwnProperty(n) && a !== t && (i[n] = e.isPlainObject(a) ? e.isPlainObject(i[n]) ? e.widget.extend({}, i[n], a) : e.widget.extend({}, a) : a);
        return i
    }
    ,
    e.widget.bridge = function(i, n) {
        var a = n.prototype.widgetFullName || i;
        e.fn[i] = function(r) {
            var o = "string" == typeof r
              , l = s.call(arguments, 1)
              , h = this;
            return r = !o && l.length ? e.widget.extend.apply(null, [r].concat(l)) : r,
            o ? this.each(function() {
                var s, n = e.data(this, a);
                return n ? e.isFunction(n[r]) && "_" !== r.charAt(0) ? (s = n[r].apply(n, l),
                s !== n && s !== t ? (h = s && s.jquery ? h.pushStack(s.get()) : s,
                !1) : t) : e.error("no such method '" + r + "' for " + i + " widget instance") : e.error("cannot call methods on " + i + " prior to initialization; attempted to call method '" + r + "'")
            }) : this.each(function() {
                var t = e.data(this, a);
                t ? t.option(r || {})._init() : e.data(this, a, new n(r,this))
            }),
            h
        }
    }
    ,
    e.Widget = function() {}
    ,
    e.Widget._childConstructors = [],
    e.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(t, s) {
            s = e(s || this.defaultElement || this)[0],
            this.element = e(s),
            this.uuid = i++,
            this.eventNamespace = "." + this.widgetName + this.uuid,
            this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t),
            this.bindings = e(),
            this.hoverable = e(),
            this.focusable = e(),
            s !== this && (e.data(s, this.widgetFullName, this),
            this._on(!0, this.element, {
                remove: function(e) {
                    e.target === s && this.destroy()
                }
            }),
            this.document = e(s.style ? s.ownerDocument : s.document || s),
            this.window = e(this.document[0].defaultView || this.document[0].parentWindow)),
            this._create(),
            this._trigger("create", null, this._getCreateEventData()),
            this._init()
        },
        _getCreateOptions: e.noop,
        _getCreateEventData: e.noop,
        _create: e.noop,
        _init: e.noop,
        destroy: function() {
            this._destroy(),
            this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),
            this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"),
            this.bindings.unbind(this.eventNamespace),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus")
        },
        _destroy: e.noop,
        widget: function() {
            return this.element
        },
        option: function(i, s) {
            var n, a, r, o = i;
            if (0 === arguments.length)
                return e.widget.extend({}, this.options);
            if ("string" == typeof i)
                if (o = {},
                n = i.split("."),
                i = n.shift(),
                n.length) {
                    for (a = o[i] = e.widget.extend({}, this.options[i]),
                    r = 0; n.length - 1 > r; r++)
                        a[n[r]] = a[n[r]] || {},
                        a = a[n[r]];
                    if (i = n.pop(),
                    1 === arguments.length)
                        return a[i] === t ? null : a[i];
                    a[i] = s
                } else {
                    if (1 === arguments.length)
                        return this.options[i] === t ? null : this.options[i];
                    o[i] = s
                }
            return this._setOptions(o),
            this
        },
        _setOptions: function(e) {
            var t;
            for (t in e)
                this._setOption(t, e[t]);
            return this
        },
        _setOption: function(e, t) {
            return this.options[e] = t,
            "disabled" === e && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!t).attr("aria-disabled", t),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus")),
            this
        },
        enable: function() {
            return this._setOption("disabled", !1)
        },
        disable: function() {
            return this._setOption("disabled", !0)
        },
        _on: function(i, s, n) {
            var a, r = this;
            "boolean" != typeof i && (n = s,
            s = i,
            i = !1),
            n ? (s = a = e(s),
            this.bindings = this.bindings.add(s)) : (n = s,
            s = this.element,
            a = this.widget()),
            e.each(n, function(n, o) {
                function l() {
                    return i || r.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled") ? ("string" == typeof o ? r[o] : o).apply(r, arguments) : t
                }
                "string" != typeof o && (l.guid = o.guid = o.guid || l.guid || e.guid++);
                var h = n.match(/^(\w+)\s*(.*)$/)
                  , c = h[1] + r.eventNamespace
                  , d = h[2];
                d ? a.delegate(d, c, l) : s.bind(c, l)
            })
        },
        _off: function(e, t) {
            t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
            e.unbind(t).undelegate(t)
        },
        _delay: function(e, t) {
            function i() {
                return ("string" == typeof e ? s[e] : e).apply(s, arguments)
            }
            var s = this;
            return setTimeout(i, t || 0)
        },
        _hoverable: function(t) {
            this.hoverable = this.hoverable.add(t),
            this._on(t, {
                mouseenter: function(t) {
                    e(t.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(t) {
                    e(t.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(t) {
            this.focusable = this.focusable.add(t),
            this._on(t, {
                focusin: function(t) {
                    e(t.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(t) {
                    e(t.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(t, i, s) {
            var n, a, r = this.options[t];
            if (s = s || {},
            i = e.Event(i),
            i.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(),
            i.target = this.element[0],
            a = i.originalEvent)
                for (n in a)
                    n in i || (i[n] = a[n]);
            return this.element.trigger(i, s),
            !(e.isFunction(r) && r.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented())
        }
    },
    e.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(t, i) {
        e.Widget.prototype["_" + t] = function(s, n, a) {
            "string" == typeof n && (n = {
                effect: n
            });
            var r, o = n ? n === !0 || "number" == typeof n ? i : n.effect || i : t;
            n = n || {},
            "number" == typeof n && (n = {
                duration: n
            }),
            r = !e.isEmptyObject(n),
            n.complete = a,
            n.delay && s.delay(n.delay),
            r && e.effects && e.effects.effect[o] ? s[t](n) : o !== t && s[o] ? s[o](n.duration, n.easing, a) : s.queue(function(i) {
                e(this)[t](),
                a && a.call(s[0]),
                i()
            })
        }
    })
}(jQuery),
function(e) {
    var t = !1;
    e(document).mouseup(function() {
        t = !1
    }),
    e.widget("ui.mouse", {
        version: "1.10.4",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var t = this;
            this.element.bind("mousedown." + this.widgetName, function(e) {
                return t._mouseDown(e)
            }).bind("click." + this.widgetName, function(i) {
                return !0 === e.data(i.target, t.widgetName + ".preventClickEvent") ? (e.removeData(i.target, t.widgetName + ".preventClickEvent"),
                i.stopImmediatePropagation(),
                !1) : void 0
            }),
            this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName),
            this._mouseMoveDelegate && e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(i) {
            if (!t) {
                this._mouseStarted && this._mouseUp(i),
                this._mouseDownEvent = i;
                var s = this
                  , n = 1 === i.which
                  , a = !("string" != typeof this.options.cancel || !i.target.nodeName) && e(i.target).closest(this.options.cancel).length;
                return !(n && !a && this._mouseCapture(i)) || (this.mouseDelayMet = !this.options.delay,
                this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                    s.mouseDelayMet = !0
                }, this.options.delay)),
                this._mouseDistanceMet(i) && this._mouseDelayMet(i) && (this._mouseStarted = this._mouseStart(i) !== !1,
                !this._mouseStarted) ? (i.preventDefault(),
                !0) : (!0 === e.data(i.target, this.widgetName + ".preventClickEvent") && e.removeData(i.target, this.widgetName + ".preventClickEvent"),
                this._mouseMoveDelegate = function(e) {
                    return s._mouseMove(e)
                }
                ,
                this._mouseUpDelegate = function(e) {
                    return s._mouseUp(e)
                }
                ,
                e(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate),
                i.preventDefault(),
                t = !0,
                !0))
            }
        },
        _mouseMove: function(t) {
            return e.ui.ie && (!document.documentMode || 9 > document.documentMode) && !t.button ? this._mouseUp(t) : this._mouseStarted ? (this._mouseDrag(t),
            t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1,
            this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)),
            !this._mouseStarted)
        },
        _mouseUp: function(t) {
            return e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
            this._mouseStarted && (this._mouseStarted = !1,
            t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0),
            this._mouseStop(t)),
            !1
        },
        _mouseDistanceMet: function(e) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    })
}(jQuery),
function(e, t) {
    function i(e, t, i) {
        return [parseFloat(e[0]) * (p.test(e[0]) ? t / 100 : 1), parseFloat(e[1]) * (p.test(e[1]) ? i / 100 : 1)]
    }
    function s(t, i) {
        return parseInt(e.css(t, i), 10) || 0
    }
    function n(t) {
        var i = t[0];
        return 9 === i.nodeType ? {
            width: t.width(),
            height: t.height(),
            offset: {
                top: 0,
                left: 0
            }
        } : e.isWindow(i) ? {
            width: t.width(),
            height: t.height(),
            offset: {
                top: t.scrollTop(),
                left: t.scrollLeft()
            }
        } : i.preventDefault ? {
            width: 0,
            height: 0,
            offset: {
                top: i.pageY,
                left: i.pageX
            }
        } : {
            width: t.outerWidth(),
            height: t.outerHeight(),
            offset: t.offset()
        }
    }
    e.ui = e.ui || {};
    var a, r = Math.max, o = Math.abs, l = Math.round, h = /left|center|right/, c = /top|center|bottom/, d = /[\+\-]\d+(\.[\d]+)?%?/, u = /^\w+/, p = /%$/, f = e.fn.position;
    e.position = {
        scrollbarWidth: function() {
            if (a !== t)
                return a;
            var i, s, n = e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), r = n.children()[0];
            return e("body").append(n),
            i = r.offsetWidth,
            n.css("overflow", "scroll"),
            s = r.offsetWidth,
            i === s && (s = n[0].clientWidth),
            n.remove(),
            a = i - s
        },
        getScrollInfo: function(t) {
            var i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x")
              , s = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y")
              , n = "scroll" === i || "auto" === i && t.width < t.element[0].scrollWidth
              , a = "scroll" === s || "auto" === s && t.height < t.element[0].scrollHeight;
            return {
                width: a ? e.position.scrollbarWidth() : 0,
                height: n ? e.position.scrollbarWidth() : 0
            }
        },
        getWithinInfo: function(t) {
            var i = e(t || window)
              , s = e.isWindow(i[0])
              , n = !!i[0] && 9 === i[0].nodeType;
            return {
                element: i,
                isWindow: s,
                isDocument: n,
                offset: i.offset() || {
                    left: 0,
                    top: 0
                },
                scrollLeft: i.scrollLeft(),
                scrollTop: i.scrollTop(),
                width: s ? i.width() : i.outerWidth(),
                height: s ? i.height() : i.outerHeight()
            }
        }
    },
    e.fn.position = function(t) {
        if (!t || !t.of)
            return f.apply(this, arguments);
        t = e.extend({}, t);
        var a, p, g, m, v, b, y = e(t.of), w = e.position.getWithinInfo(t.within), _ = e.position.getScrollInfo(w), k = (t.collision || "flip").split(" "), x = {};
        return b = n(y),
        y[0].preventDefault && (t.at = "left top"),
        p = b.width,
        g = b.height,
        m = b.offset,
        v = e.extend({}, m),
        e.each(["my", "at"], function() {
            var e, i, s = (t[this] || "").split(" ");
            1 === s.length && (s = h.test(s[0]) ? s.concat(["center"]) : c.test(s[0]) ? ["center"].concat(s) : ["center", "center"]),
            s[0] = h.test(s[0]) ? s[0] : "center",
            s[1] = c.test(s[1]) ? s[1] : "center",
            e = d.exec(s[0]),
            i = d.exec(s[1]),
            x[this] = [e ? e[0] : 0, i ? i[0] : 0],
            t[this] = [u.exec(s[0])[0], u.exec(s[1])[0]]
        }),
        1 === k.length && (k[1] = k[0]),
        "right" === t.at[0] ? v.left += p : "center" === t.at[0] && (v.left += p / 2),
        "bottom" === t.at[1] ? v.top += g : "center" === t.at[1] && (v.top += g / 2),
        a = i(x.at, p, g),
        v.left += a[0],
        v.top += a[1],
        this.each(function() {
            var n, h, c = e(this), d = c.outerWidth(), u = c.outerHeight(), f = s(this, "marginLeft"), b = s(this, "marginTop"), C = d + f + s(this, "marginRight") + _.width, T = u + b + s(this, "marginBottom") + _.height, S = e.extend({}, v), P = i(x.my, c.outerWidth(), c.outerHeight());
            "right" === t.my[0] ? S.left -= d : "center" === t.my[0] && (S.left -= d / 2),
            "bottom" === t.my[1] ? S.top -= u : "center" === t.my[1] && (S.top -= u / 2),
            S.left += P[0],
            S.top += P[1],
            e.support.offsetFractions || (S.left = l(S.left),
            S.top = l(S.top)),
            n = {
                marginLeft: f,
                marginTop: b
            },
            e.each(["left", "top"], function(i, s) {
                e.ui.position[k[i]] && e.ui.position[k[i]][s](S, {
                    targetWidth: p,
                    targetHeight: g,
                    elemWidth: d,
                    elemHeight: u,
                    collisionPosition: n,
                    collisionWidth: C,
                    collisionHeight: T,
                    offset: [a[0] + P[0], a[1] + P[1]],
                    my: t.my,
                    at: t.at,
                    within: w,
                    elem: c
                })
            }),
            t.using && (h = function(e) {
                var i = m.left - S.left
                  , s = i + p - d
                  , n = m.top - S.top
                  , a = n + g - u
                  , l = {
                    target: {
                        element: y,
                        left: m.left,
                        top: m.top,
                        width: p,
                        height: g
                    },
                    element: {
                        element: c,
                        left: S.left,
                        top: S.top,
                        width: d,
                        height: u
                    },
                    horizontal: 0 > s ? "left" : i > 0 ? "right" : "center",
                    vertical: 0 > a ? "top" : n > 0 ? "bottom" : "middle"
                };
                d > p && p > o(i + s) && (l.horizontal = "center"),
                u > g && g > o(n + a) && (l.vertical = "middle"),
                l.important = r(o(i), o(s)) > r(o(n), o(a)) ? "horizontal" : "vertical",
                t.using.call(this, e, l)
            }
            ),
            c.offset(e.extend(S, {
                using: h
            }))
        })
    }
    ,
    e.ui.position = {
        fit: {
            left: function(e, t) {
                var i, s = t.within, n = s.isWindow ? s.scrollLeft : s.offset.left, a = s.width, o = e.left - t.collisionPosition.marginLeft, l = n - o, h = o + t.collisionWidth - a - n;
                t.collisionWidth > a ? l > 0 && 0 >= h ? (i = e.left + l + t.collisionWidth - a - n,
                e.left += l - i) : e.left = h > 0 && 0 >= l ? n : l > h ? n + a - t.collisionWidth : n : l > 0 ? e.left += l : h > 0 ? e.left -= h : e.left = r(e.left - o, e.left)
            },
            top: function(e, t) {
                var i, s = t.within, n = s.isWindow ? s.scrollTop : s.offset.top, a = t.within.height, o = e.top - t.collisionPosition.marginTop, l = n - o, h = o + t.collisionHeight - a - n;
                t.collisionHeight > a ? l > 0 && 0 >= h ? (i = e.top + l + t.collisionHeight - a - n,
                e.top += l - i) : e.top = h > 0 && 0 >= l ? n : l > h ? n + a - t.collisionHeight : n : l > 0 ? e.top += l : h > 0 ? e.top -= h : e.top = r(e.top - o, e.top)
            }
        },
        flip: {
            left: function(e, t) {
                var i, s, n = t.within, a = n.offset.left + n.scrollLeft, r = n.width, l = n.isWindow ? n.scrollLeft : n.offset.left, h = e.left - t.collisionPosition.marginLeft, c = h - l, d = h + t.collisionWidth - r - l, u = "left" === t.my[0] ? -t.elemWidth : "right" === t.my[0] ? t.elemWidth : 0, p = "left" === t.at[0] ? t.targetWidth : "right" === t.at[0] ? -t.targetWidth : 0, f = -2 * t.offset[0];
                0 > c ? (i = e.left + u + p + f + t.collisionWidth - r - a,
                (0 > i || o(c) > i) && (e.left += u + p + f)) : d > 0 && (s = e.left - t.collisionPosition.marginLeft + u + p + f - l,
                (s > 0 || d > o(s)) && (e.left += u + p + f))
            },
            top: function(e, t) {
                var i, s, n = t.within, a = n.offset.top + n.scrollTop, r = n.height, l = n.isWindow ? n.scrollTop : n.offset.top, h = e.top - t.collisionPosition.marginTop, c = h - l, d = h + t.collisionHeight - r - l, u = "top" === t.my[1], p = u ? -t.elemHeight : "bottom" === t.my[1] ? t.elemHeight : 0, f = "top" === t.at[1] ? t.targetHeight : "bottom" === t.at[1] ? -t.targetHeight : 0, g = -2 * t.offset[1];
                0 > c ? (s = e.top + p + f + g + t.collisionHeight - r - a,
                e.top + p + f + g > c && (0 > s || o(c) > s) && (e.top += p + f + g)) : d > 0 && (i = e.top - t.collisionPosition.marginTop + p + f + g - l,
                e.top + p + f + g > d && (i > 0 || d > o(i)) && (e.top += p + f + g))
            }
        },
        flipfit: {
            left: function() {
                e.ui.position.flip.left.apply(this, arguments),
                e.ui.position.fit.left.apply(this, arguments)
            },
            top: function() {
                e.ui.position.flip.top.apply(this, arguments),
                e.ui.position.fit.top.apply(this, arguments)
            }
        }
    },
    function() {
        var t, i, s, n, a, r = document.getElementsByTagName("body")[0], o = document.createElement("div");
        t = document.createElement(r ? "div" : "body"),
        s = {
            visibility: "hidden",
            width: 0,
            height: 0,
            border: 0,
            margin: 0,
            background: "none"
        },
        r && e.extend(s, {
            position: "absolute",
            left: "-1000px",
            top: "-1000px"
        });
        for (a in s)
            t.style[a] = s[a];
        t.appendChild(o),
        i = r || document.documentElement,
        i.insertBefore(t, i.firstChild),
        o.style.cssText = "position: absolute; left: 10.7432222px;",
        n = e(o).offset().left,
        e.support.offsetFractions = n > 10 && 11 > n,
        t.innerHTML = "",
        i.removeChild(t)
    }()
}(jQuery),
function(e) {
    e.widget("ui.draggable", e.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" !== this.options.helper || /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative"),
            this.options.addClasses && this.element.addClass("ui-draggable"),
            this.options.disabled && this.element.addClass("ui-draggable-disabled"),
            this._mouseInit()
        },
        _destroy: function() {
            this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),
            this._mouseDestroy()
        },
        _mouseCapture: function(t) {
            var i = this.options;
            return !(this.helper || i.disabled || e(t.target).closest(".ui-resizable-handle").length > 0) && (this.handle = this._getHandle(t),
            !!this.handle && (e(i.iframeFix === !0 ? "iframe" : i.iframeFix).each(function() {
                e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
                    width: this.offsetWidth + "px",
                    height: this.offsetHeight + "px",
                    position: "absolute",
                    opacity: "0.001",
                    zIndex: 1e3
                }).css(e(this).offset()).appendTo("body")
            }),
            !0))
        },
        _mouseStart: function(t) {
            var i = this.options;
            return this.helper = this._createHelper(t),
            this.helper.addClass("ui-draggable-dragging"),
            this._cacheHelperProportions(),
            e.ui.ddmanager && (e.ui.ddmanager.current = this),
            this._cacheMargins(),
            this.cssPosition = this.helper.css("position"),
            this.scrollParent = this.helper.scrollParent(),
            this.offsetParent = this.helper.offsetParent(),
            this.offsetParentCssPosition = this.offsetParent.css("position"),
            this.offset = this.positionAbs = this.element.offset(),
            this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            },
            this.offset.scroll = !1,
            e.extend(this.offset, {
                click: {
                    left: t.pageX - this.offset.left,
                    top: t.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }),
            this.originalPosition = this.position = this._generatePosition(t),
            this.originalPageX = t.pageX,
            this.originalPageY = t.pageY,
            i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt),
            this._setContainment(),
            this._trigger("start", t) === !1 ? (this._clear(),
            !1) : (this._cacheHelperProportions(),
            e.ui.ddmanager && !i.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t),
            this._mouseDrag(t, !0),
            e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t),
            !0)
        },
        _mouseDrag: function(t, i) {
            if ("fixed" === this.offsetParentCssPosition && (this.offset.parent = this._getParentOffset()),
            this.position = this._generatePosition(t),
            this.positionAbs = this._convertPositionTo("absolute"),
            !i) {
                var s = this._uiHash();
                if (this._trigger("drag", t, s) === !1)
                    return this._mouseUp({}),
                    !1;
                this.position = s.position
            }
            return this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"),
            this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"),
            e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
            !1
        },
        _mouseStop: function(t) {
            var i = this
              , s = !1;
            return e.ui.ddmanager && !this.options.dropBehaviour && (s = e.ui.ddmanager.drop(this, t)),
            this.dropped && (s = this.dropped,
            this.dropped = !1),
            !("original" === this.options.helper && !e.contains(this.element[0].ownerDocument, this.element[0])) && ("invalid" === this.options.revert && !s || "valid" === this.options.revert && s || this.options.revert === !0 || e.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                i._trigger("stop", t) !== !1 && i._clear()
            }) : this._trigger("stop", t) !== !1 && this._clear(),
            !1)
        },
        _mouseUp: function(t) {
            return e("div.ui-draggable-iframeFix").each(function() {
                this.parentNode.removeChild(this)
            }),
            e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t),
            e.ui.mouse.prototype._mouseUp.call(this, t)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(),
            this
        },
        _getHandle: function(t) {
            return !this.options.handle || !!e(t.target).closest(this.element.find(this.options.handle)).length
        },
        _createHelper: function(t) {
            var i = this.options
              , s = e.isFunction(i.helper) ? e(i.helper.apply(this.element[0], [t])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
            return s.parents("body").length || s.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo),
            s[0] === this.element[0] || /(fixed|absolute)/.test(s.css("position")) || s.css("position", "absolute"),
            s
        },
        _adjustOffsetFromHelper: function(t) {
            "string" == typeof t && (t = t.split(" ")),
            e.isArray(t) && (t = {
                left: +t[0],
                top: +t[1] || 0
            }),
            "left"in t && (this.offset.click.left = t.left + this.margins.left),
            "right"in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
            "top"in t && (this.offset.click.top = t.top + this.margins.top),
            "bottom"in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            var t = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(),
            t.top += this.scrollParent.scrollTop()),
            (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) && (t = {
                top: 0,
                left: 0
            }),
            {
                top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var e = this.element.position();
                return {
                    top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var t, i, s, n = this.options;
            return n.containment ? "window" === n.containment ? void (this.containment = [e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, e(window).scrollLeft() + e(window).width() - this.helperProportions.width - this.margins.left, e(window).scrollTop() + (e(window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : "document" === n.containment ? void (this.containment = [0, 0, e(document).width() - this.helperProportions.width - this.margins.left, (e(document).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : n.containment.constructor === Array ? void (this.containment = n.containment) : ("parent" === n.containment && (n.containment = this.helper[0].parentNode),
            i = e(n.containment),
            s = i[0],
            void (s && (t = "hidden" !== i.css("overflow"),
            this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (t ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom],
            this.relative_container = i))) : void (this.containment = null)
        },
        _convertPositionTo: function(t, i) {
            i || (i = this.position);
            var s = "absolute" === t ? 1 : -1
              , n = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent;
            return this.offset.scroll || (this.offset.scroll = {
                top: n.scrollTop(),
                left: n.scrollLeft()
            }),
            {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : this.offset.scroll.top) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left) * s
            }
        },
        _generatePosition: function(t) {
            var i, s, n, a, r = this.options, o = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, l = t.pageX, h = t.pageY;
            return this.offset.scroll || (this.offset.scroll = {
                top: o.scrollTop(),
                left: o.scrollLeft()
            }),
            this.originalPosition && (this.containment && (this.relative_container ? (s = this.relative_container.offset(),
            i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment,
            t.pageX - this.offset.click.left < i[0] && (l = i[0] + this.offset.click.left),
            t.pageY - this.offset.click.top < i[1] && (h = i[1] + this.offset.click.top),
            t.pageX - this.offset.click.left > i[2] && (l = i[2] + this.offset.click.left),
            t.pageY - this.offset.click.top > i[3] && (h = i[3] + this.offset.click.top)),
            r.grid && (n = r.grid[1] ? this.originalPageY + Math.round((h - this.originalPageY) / r.grid[1]) * r.grid[1] : this.originalPageY,
            h = i ? n - this.offset.click.top >= i[1] || n - this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - r.grid[1] : n + r.grid[1] : n,
            a = r.grid[0] ? this.originalPageX + Math.round((l - this.originalPageX) / r.grid[0]) * r.grid[0] : this.originalPageX,
            l = i ? a - this.offset.click.left >= i[0] || a - this.offset.click.left > i[2] ? a : a - this.offset.click.left >= i[0] ? a - r.grid[0] : a + r.grid[0] : a)),
            {
                top: h - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : this.offset.scroll.top),
                left: l - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left)
            }
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging"),
            this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(),
            this.helper = null,
            this.cancelHelperRemoval = !1
        },
        _trigger: function(t, i, s) {
            return s = s || this._uiHash(),
            e.ui.plugin.call(this, t, [i, s]),
            "drag" === t && (this.positionAbs = this._convertPositionTo("absolute")),
            e.Widget.prototype._trigger.call(this, t, i, s)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }),
    e.ui.plugin.add("draggable", "connectToSortable", {
        start: function(t, i) {
            var s = e(this).data("ui-draggable")
              , n = s.options
              , a = e.extend({}, i, {
                item: s.element
            });
            s.sortables = [],
            e(n.connectToSortable).each(function() {
                var i = e.data(this, "ui-sortable");
                i && !i.options.disabled && (s.sortables.push({
                    instance: i,
                    shouldRevert: i.options.revert
                }),
                i.refreshPositions(),
                i._trigger("activate", t, a))
            })
        },
        stop: function(t, i) {
            var s = e(this).data("ui-draggable")
              , n = e.extend({}, i, {
                item: s.element
            });
            e.each(s.sortables, function() {
                this.instance.isOver ? (this.instance.isOver = 0,
                s.cancelHelperRemoval = !0,
                this.instance.cancelHelperRemoval = !1,
                this.shouldRevert && (this.instance.options.revert = this.shouldRevert),
                this.instance._mouseStop(t),
                this.instance.options.helper = this.instance.options._helper,
                "original" === s.options.helper && this.instance.currentItem.css({
                    top: "auto",
                    left: "auto"
                })) : (this.instance.cancelHelperRemoval = !1,
                this.instance._trigger("deactivate", t, n))
            })
        },
        drag: function(t, i) {
            var s = e(this).data("ui-draggable")
              , n = this;
            e.each(s.sortables, function() {
                var a = !1
                  , r = this;
                this.instance.positionAbs = s.positionAbs,
                this.instance.helperProportions = s.helperProportions,
                this.instance.offset.click = s.offset.click,
                this.instance._intersectsWith(this.instance.containerCache) && (a = !0,
                e.each(s.sortables, function() {
                    return this.instance.positionAbs = s.positionAbs,
                    this.instance.helperProportions = s.helperProportions,
                    this.instance.offset.click = s.offset.click,
                    this !== r && this.instance._intersectsWith(this.instance.containerCache) && e.contains(r.instance.element[0], this.instance.element[0]) && (a = !1),
                    a
                })),
                a ? (this.instance.isOver || (this.instance.isOver = 1,
                this.instance.currentItem = e(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0),
                this.instance.options._helper = this.instance.options.helper,
                this.instance.options.helper = function() {
                    return i.helper[0]
                }
                ,
                t.target = this.instance.currentItem[0],
                this.instance._mouseCapture(t, !0),
                this.instance._mouseStart(t, !0, !0),
                this.instance.offset.click.top = s.offset.click.top,
                this.instance.offset.click.left = s.offset.click.left,
                this.instance.offset.parent.left -= s.offset.parent.left - this.instance.offset.parent.left,
                this.instance.offset.parent.top -= s.offset.parent.top - this.instance.offset.parent.top,
                s._trigger("toSortable", t),
                s.dropped = this.instance.element,
                s.currentItem = s.element,
                this.instance.fromOutside = s),
                this.instance.currentItem && this.instance._mouseDrag(t)) : this.instance.isOver && (this.instance.isOver = 0,
                this.instance.cancelHelperRemoval = !0,
                this.instance.options.revert = !1,
                this.instance._trigger("out", t, this.instance._uiHash(this.instance)),
                this.instance._mouseStop(t, !0),
                this.instance.options.helper = this.instance.options._helper,
                this.instance.currentItem.remove(),
                this.instance.placeholder && this.instance.placeholder.remove(),
                s._trigger("fromSortable", t),
                s.dropped = !1)
            })
        }
    }),
    e.ui.plugin.add("draggable", "cursor", {
        start: function() {
            var t = e("body")
              , i = e(this).data("ui-draggable").options;
            t.css("cursor") && (i._cursor = t.css("cursor")),
            t.css("cursor", i.cursor)
        },
        stop: function() {
            var t = e(this).data("ui-draggable").options;
            t._cursor && e("body").css("cursor", t._cursor)
        }
    }),
    e.ui.plugin.add("draggable", "opacity", {
        start: function(t, i) {
            var s = e(i.helper)
              , n = e(this).data("ui-draggable").options;
            s.css("opacity") && (n._opacity = s.css("opacity")),
            s.css("opacity", n.opacity)
        },
        stop: function(t, i) {
            var s = e(this).data("ui-draggable").options;
            s._opacity && e(i.helper).css("opacity", s._opacity)
        }
    }),
    e.ui.plugin.add("draggable", "scroll", {
        start: function() {
            var t = e(this).data("ui-draggable");
            t.scrollParent[0] !== document && "HTML" !== t.scrollParent[0].tagName && (t.overflowOffset = t.scrollParent.offset())
        },
        drag: function(t) {
            var i = e(this).data("ui-draggable")
              , s = i.options
              , n = !1;
            i.scrollParent[0] !== document && "HTML" !== i.scrollParent[0].tagName ? (s.axis && "x" === s.axis || (i.overflowOffset.top + i.scrollParent[0].offsetHeight - t.pageY < s.scrollSensitivity ? i.scrollParent[0].scrollTop = n = i.scrollParent[0].scrollTop + s.scrollSpeed : t.pageY - i.overflowOffset.top < s.scrollSensitivity && (i.scrollParent[0].scrollTop = n = i.scrollParent[0].scrollTop - s.scrollSpeed)),
            s.axis && "y" === s.axis || (i.overflowOffset.left + i.scrollParent[0].offsetWidth - t.pageX < s.scrollSensitivity ? i.scrollParent[0].scrollLeft = n = i.scrollParent[0].scrollLeft + s.scrollSpeed : t.pageX - i.overflowOffset.left < s.scrollSensitivity && (i.scrollParent[0].scrollLeft = n = i.scrollParent[0].scrollLeft - s.scrollSpeed))) : (s.axis && "x" === s.axis || (t.pageY - e(document).scrollTop() < s.scrollSensitivity ? n = e(document).scrollTop(e(document).scrollTop() - s.scrollSpeed) : e(window).height() - (t.pageY - e(document).scrollTop()) < s.scrollSensitivity && (n = e(document).scrollTop(e(document).scrollTop() + s.scrollSpeed))),
            s.axis && "y" === s.axis || (t.pageX - e(document).scrollLeft() < s.scrollSensitivity ? n = e(document).scrollLeft(e(document).scrollLeft() - s.scrollSpeed) : e(window).width() - (t.pageX - e(document).scrollLeft()) < s.scrollSensitivity && (n = e(document).scrollLeft(e(document).scrollLeft() + s.scrollSpeed)))),
            n !== !1 && e.ui.ddmanager && !s.dropBehaviour && e.ui.ddmanager.prepareOffsets(i, t)
        }
    }),
    e.ui.plugin.add("draggable", "snap", {
        start: function() {
            var t = e(this).data("ui-draggable")
              , i = t.options;
            t.snapElements = [],
            e(i.snap.constructor !== String ? i.snap.items || ":data(ui-draggable)" : i.snap).each(function() {
                var i = e(this)
                  , s = i.offset();
                this !== t.element[0] && t.snapElements.push({
                    item: this,
                    width: i.outerWidth(),
                    height: i.outerHeight(),
                    top: s.top,
                    left: s.left
                })
            })
        },
        drag: function(t, i) {
            var s, n, a, r, o, l, h, c, d, u, p = e(this).data("ui-draggable"), f = p.options, g = f.snapTolerance, m = i.offset.left, v = m + p.helperProportions.width, b = i.offset.top, y = b + p.helperProportions.height;
            for (d = p.snapElements.length - 1; d >= 0; d--)
                o = p.snapElements[d].left,
                l = o + p.snapElements[d].width,
                h = p.snapElements[d].top,
                c = h + p.snapElements[d].height,
                o - g > v || m > l + g || h - g > y || b > c + g || !e.contains(p.snapElements[d].item.ownerDocument, p.snapElements[d].item) ? (p.snapElements[d].snapping && p.options.snap.release && p.options.snap.release.call(p.element, t, e.extend(p._uiHash(), {
                    snapItem: p.snapElements[d].item
                })),
                p.snapElements[d].snapping = !1) : ("inner" !== f.snapMode && (s = g >= Math.abs(h - y),
                n = g >= Math.abs(c - b),
                a = g >= Math.abs(o - v),
                r = g >= Math.abs(l - m),
                s && (i.position.top = p._convertPositionTo("relative", {
                    top: h - p.helperProportions.height,
                    left: 0
                }).top - p.margins.top),
                n && (i.position.top = p._convertPositionTo("relative", {
                    top: c,
                    left: 0
                }).top - p.margins.top),
                a && (i.position.left = p._convertPositionTo("relative", {
                    top: 0,
                    left: o - p.helperProportions.width
                }).left - p.margins.left),
                r && (i.position.left = p._convertPositionTo("relative", {
                    top: 0,
                    left: l
                }).left - p.margins.left)),
                u = s || n || a || r,
                "outer" !== f.snapMode && (s = g >= Math.abs(h - b),
                n = g >= Math.abs(c - y),
                a = g >= Math.abs(o - m),
                r = g >= Math.abs(l - v),
                s && (i.position.top = p._convertPositionTo("relative", {
                    top: h,
                    left: 0
                }).top - p.margins.top),
                n && (i.position.top = p._convertPositionTo("relative", {
                    top: c - p.helperProportions.height,
                    left: 0
                }).top - p.margins.top),
                a && (i.position.left = p._convertPositionTo("relative", {
                    top: 0,
                    left: o
                }).left - p.margins.left),
                r && (i.position.left = p._convertPositionTo("relative", {
                    top: 0,
                    left: l - p.helperProportions.width
                }).left - p.margins.left)),
                !p.snapElements[d].snapping && (s || n || a || r || u) && p.options.snap.snap && p.options.snap.snap.call(p.element, t, e.extend(p._uiHash(), {
                    snapItem: p.snapElements[d].item
                })),
                p.snapElements[d].snapping = s || n || a || r || u)
        }
    }),
    e.ui.plugin.add("draggable", "stack", {
        start: function() {
            var t, i = this.data("ui-draggable").options, s = e.makeArray(e(i.stack)).sort(function(t, i) {
                return (parseInt(e(t).css("zIndex"), 10) || 0) - (parseInt(e(i).css("zIndex"), 10) || 0)
            });
            s.length && (t = parseInt(e(s[0]).css("zIndex"), 10) || 0,
            e(s).each(function(i) {
                e(this).css("zIndex", t + i)
            }),
            this.css("zIndex", t + s.length))
        }
    }),
    e.ui.plugin.add("draggable", "zIndex", {
        start: function(t, i) {
            var s = e(i.helper)
              , n = e(this).data("ui-draggable").options;
            s.css("zIndex") && (n._zIndex = s.css("zIndex")),
            s.css("zIndex", n.zIndex)
        },
        stop: function(t, i) {
            var s = e(this).data("ui-draggable").options;
            s._zIndex && e(i.helper).css("zIndex", s._zIndex)
        }
    })
}(jQuery),
function(e) {
    function t(e) {
        return parseInt(e, 10) || 0
    }
    function i(e) {
        return !isNaN(parseInt(e, 10))
    }
    e.widget("ui.resizable", e.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _create: function() {
            var t, i, s, n, a, r = this, o = this.options;
            if (this.element.addClass("ui-resizable"),
            e.extend(this, {
                _aspectRatio: !!o.aspectRatio,
                aspectRatio: o.aspectRatio,
                originalElement: this.element,
                _proportionallyResizeElements: [],
                _helper: o.helper || o.ghost || o.animate ? o.helper || "ui-resizable-helper" : null
            }),
            this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                position: this.element.css("position"),
                width: this.element.outerWidth(),
                height: this.element.outerHeight(),
                top: this.element.css("top"),
                left: this.element.css("left")
            })),
            this.element = this.element.parent().data("ui-resizable", this.element.data("ui-resizable")),
            this.elementIsWrapper = !0,
            this.element.css({
                marginLeft: this.originalElement.css("marginLeft"),
                marginTop: this.originalElement.css("marginTop"),
                marginRight: this.originalElement.css("marginRight"),
                marginBottom: this.originalElement.css("marginBottom")
            }),
            this.originalElement.css({
                marginLeft: 0,
                marginTop: 0,
                marginRight: 0,
                marginBottom: 0
            }),
            this.originalResizeStyle = this.originalElement.css("resize"),
            this.originalElement.css("resize", "none"),
            this._proportionallyResizeElements.push(this.originalElement.css({
                position: "static",
                zoom: 1,
                display: "block"
            })),
            this.originalElement.css({
                margin: this.originalElement.css("margin")
            }),
            this._proportionallyResize()),
            this.handles = o.handles || (e(".ui-resizable-handle", this.element).length ? {
                n: ".ui-resizable-n",
                e: ".ui-resizable-e",
                s: ".ui-resizable-s",
                w: ".ui-resizable-w",
                se: ".ui-resizable-se",
                sw: ".ui-resizable-sw",
                ne: ".ui-resizable-ne",
                nw: ".ui-resizable-nw"
            } : "e,s,se"),
            this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"),
                t = this.handles.split(","),
                this.handles = {},
                i = 0; t.length > i; i++)
                    s = e.trim(t[i]),
                    a = "ui-resizable-" + s,
                    n = e("<div class='ui-resizable-handle " + a + "'></div>"),
                    n.css({
                        zIndex: o.zIndex
                    }),
                    "se" === s && n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),
                    this.handles[s] = ".ui-resizable-" + s,
                    this.element.append(n);
            this._renderAxis = function(t) {
                var i, s, n, a;
                t = t || this.element;
                for (i in this.handles)
                    this.handles[i].constructor === String && (this.handles[i] = e(this.handles[i], this.element).show()),
                    this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (s = e(this.handles[i], this.element),
                    a = /sw|ne|nw|se|n|s/.test(i) ? s.outerHeight() : s.outerWidth(),
                    n = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""),
                    t.css(n, a),
                    this._proportionallyResize()),
                    e(this.handles[i]).length
            }
            ,
            this._renderAxis(this.element),
            this._handles = e(".ui-resizable-handle", this.element).disableSelection(),
            this._handles.mouseover(function() {
                r.resizing || (this.className && (n = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),
                r.axis = n && n[1] ? n[1] : "se")
            }),
            o.autoHide && (this._handles.hide(),
            e(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                o.disabled || (e(this).removeClass("ui-resizable-autohide"),
                r._handles.show())
            }).mouseleave(function() {
                o.disabled || r.resizing || (e(this).addClass("ui-resizable-autohide"),
                r._handles.hide())
            })),
            this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var t, i = function(t) {
                e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (i(this.element),
            t = this.element,
            this.originalElement.css({
                position: t.css("position"),
                width: t.outerWidth(),
                height: t.outerHeight(),
                top: t.css("top"),
                left: t.css("left")
            }).insertAfter(t),
            t.remove()),
            this.originalElement.css("resize", this.originalResizeStyle),
            i(this.originalElement),
            this
        },
        _mouseCapture: function(t) {
            var i, s, n = !1;
            for (i in this.handles)
                s = e(this.handles[i])[0],
                (s === t.target || e.contains(s, t.target)) && (n = !0);
            return !this.options.disabled && n
        },
        _mouseStart: function(i) {
            var s, n, a, r = this.options, o = this.element.position(), l = this.element;
            return this.resizing = !0,
            /absolute/.test(l.css("position")) ? l.css({
                position: "absolute",
                top: l.css("top"),
                left: l.css("left")
            }) : l.is(".ui-draggable") && l.css({
                position: "absolute",
                top: o.top,
                left: o.left
            }),
            this._renderProxy(),
            s = t(this.helper.css("left")),
            n = t(this.helper.css("top")),
            r.containment && (s += e(r.containment).scrollLeft() || 0,
            n += e(r.containment).scrollTop() || 0),
            this.offset = this.helper.offset(),
            this.position = {
                left: s,
                top: n
            },
            this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: l.width(),
                height: l.height()
            },
            this.originalSize = this._helper ? {
                width: l.outerWidth(),
                height: l.outerHeight()
            } : {
                width: l.width(),
                height: l.height()
            },
            this.originalPosition = {
                left: s,
                top: n
            },
            this.sizeDiff = {
                width: l.outerWidth() - l.width(),
                height: l.outerHeight() - l.height()
            },
            this.originalMousePosition = {
                left: i.pageX,
                top: i.pageY
            },
            this.aspectRatio = "number" == typeof r.aspectRatio ? r.aspectRatio : this.originalSize.width / this.originalSize.height || 1,
            a = e(".ui-resizable-" + this.axis).css("cursor"),
            e("body").css("cursor", "auto" === a ? this.axis + "-resize" : a),
            l.addClass("ui-resizable-resizing"),
            this._propagate("start", i),
            !0
        },
        _mouseDrag: function(t) {
            var i, s = this.helper, n = {}, a = this.originalMousePosition, r = this.axis, o = this.position.top, l = this.position.left, h = this.size.width, c = this.size.height, d = t.pageX - a.left || 0, u = t.pageY - a.top || 0, p = this._change[r];
            return !!p && (i = p.apply(this, [t, d, u]),
            this._updateVirtualBoundaries(t.shiftKey),
            (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)),
            i = this._respectSize(i, t),
            this._updateCache(i),
            this._propagate("resize", t),
            this.position.top !== o && (n.top = this.position.top + "px"),
            this.position.left !== l && (n.left = this.position.left + "px"),
            this.size.width !== h && (n.width = this.size.width + "px"),
            this.size.height !== c && (n.height = this.size.height + "px"),
            s.css(n),
            !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(),
            e.isEmptyObject(n) || this._trigger("resize", t, this.ui()),
            !1)
        },
        _mouseStop: function(t) {
            this.resizing = !1;
            var i, s, n, a, r, o, l, h = this.options, c = this;
            return this._helper && (i = this._proportionallyResizeElements,
            s = i.length && /textarea/i.test(i[0].nodeName),
            n = s && e.ui.hasScroll(i[0], "left") ? 0 : c.sizeDiff.height,
            a = s ? 0 : c.sizeDiff.width,
            r = {
                width: c.helper.width() - a,
                height: c.helper.height() - n
            },
            o = parseInt(c.element.css("left"), 10) + (c.position.left - c.originalPosition.left) || null,
            l = parseInt(c.element.css("top"), 10) + (c.position.top - c.originalPosition.top) || null,
            h.animate || this.element.css(e.extend(r, {
                top: l,
                left: o
            })),
            c.helper.height(c.size.height),
            c.helper.width(c.size.width),
            this._helper && !h.animate && this._proportionallyResize()),
            e("body").css("cursor", "auto"),
            this.element.removeClass("ui-resizable-resizing"),
            this._propagate("stop", t),
            this._helper && this.helper.remove(),
            !1
        },
        _updateVirtualBoundaries: function(e) {
            var t, s, n, a, r, o = this.options;
            r = {
                minWidth: i(o.minWidth) ? o.minWidth : 0,
                maxWidth: i(o.maxWidth) ? o.maxWidth : 1 / 0,
                minHeight: i(o.minHeight) ? o.minHeight : 0,
                maxHeight: i(o.maxHeight) ? o.maxHeight : 1 / 0
            },
            (this._aspectRatio || e) && (t = r.minHeight * this.aspectRatio,
            n = r.minWidth / this.aspectRatio,
            s = r.maxHeight * this.aspectRatio,
            a = r.maxWidth / this.aspectRatio,
            t > r.minWidth && (r.minWidth = t),
            n > r.minHeight && (r.minHeight = n),
            r.maxWidth > s && (r.maxWidth = s),
            r.maxHeight > a && (r.maxHeight = a)),
            this._vBoundaries = r
        },
        _updateCache: function(e) {
            this.offset = this.helper.offset(),
            i(e.left) && (this.position.left = e.left),
            i(e.top) && (this.position.top = e.top),
            i(e.height) && (this.size.height = e.height),
            i(e.width) && (this.size.width = e.width)
        },
        _updateRatio: function(e) {
            var t = this.position
              , s = this.size
              , n = this.axis;
            return i(e.height) ? e.width = e.height * this.aspectRatio : i(e.width) && (e.height = e.width / this.aspectRatio),
            "sw" === n && (e.left = t.left + (s.width - e.width),
            e.top = null),
            "nw" === n && (e.top = t.top + (s.height - e.height),
            e.left = t.left + (s.width - e.width)),
            e
        },
        _respectSize: function(e) {
            var t = this._vBoundaries
              , s = this.axis
              , n = i(e.width) && t.maxWidth && t.maxWidth < e.width
              , a = i(e.height) && t.maxHeight && t.maxHeight < e.height
              , r = i(e.width) && t.minWidth && t.minWidth > e.width
              , o = i(e.height) && t.minHeight && t.minHeight > e.height
              , l = this.originalPosition.left + this.originalSize.width
              , h = this.position.top + this.size.height
              , c = /sw|nw|w/.test(s)
              , d = /nw|ne|n/.test(s);
            return r && (e.width = t.minWidth),
            o && (e.height = t.minHeight),
            n && (e.width = t.maxWidth),
            a && (e.height = t.maxHeight),
            r && c && (e.left = l - t.minWidth),
            n && c && (e.left = l - t.maxWidth),
            o && d && (e.top = h - t.minHeight),
            a && d && (e.top = h - t.maxHeight),
            e.width || e.height || e.left || !e.top ? e.width || e.height || e.top || !e.left || (e.left = null) : e.top = null,
            e
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length) {
                var e, t, i, s, n, a = this.helper || this.element;
                for (e = 0; this._proportionallyResizeElements.length > e; e++) {
                    if (n = this._proportionallyResizeElements[e],
                    !this.borderDif)
                        for (this.borderDif = [],
                        i = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css("borderLeftWidth")],
                        s = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")],
                        t = 0; i.length > t; t++)
                            this.borderDif[t] = (parseInt(i[t], 10) || 0) + (parseInt(s[t], 10) || 0);
                    n.css({
                        height: a.height() - this.borderDif[0] - this.borderDif[2] || 0,
                        width: a.width() - this.borderDif[1] - this.borderDif[3] || 0
                    })
                }
            }
        },
        _renderProxy: function() {
            var t = this.element
              , i = this.options;
            this.elementOffset = t.offset(),
            this._helper ? (this.helper = this.helper || e("<div style='overflow:hidden;'></div>"),
            this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++i.zIndex
            }),
            this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(e, t) {
                return {
                    width: this.originalSize.width + t
                }
            },
            w: function(e, t) {
                var i = this.originalSize
                  , s = this.originalPosition;
                return {
                    left: s.left + t,
                    width: i.width - t
                }
            },
            n: function(e, t, i) {
                var s = this.originalSize
                  , n = this.originalPosition;
                return {
                    top: n.top + i,
                    height: s.height - i
                }
            },
            s: function(e, t, i) {
                return {
                    height: this.originalSize.height + i
                }
            },
            se: function(t, i, s) {
                return e.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, s]))
            },
            sw: function(t, i, s) {
                return e.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, s]))
            },
            ne: function(t, i, s) {
                return e.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, s]))
            },
            nw: function(t, i, s) {
                return e.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, s]))
            }
        },
        _propagate: function(t, i) {
            e.ui.plugin.call(this, t, [i, this.ui()]),
            "resize" !== t && this._trigger(t, i, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }),
    e.ui.plugin.add("resizable", "animate", {
        stop: function(t) {
            var i = e(this).data("ui-resizable")
              , s = i.options
              , n = i._proportionallyResizeElements
              , a = n.length && /textarea/i.test(n[0].nodeName)
              , r = a && e.ui.hasScroll(n[0], "left") ? 0 : i.sizeDiff.height
              , o = a ? 0 : i.sizeDiff.width
              , l = {
                width: i.size.width - o,
                height: i.size.height - r
            }
              , h = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null
              , c = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
            i.element.animate(e.extend(l, c && h ? {
                top: c,
                left: h
            } : {}), {
                duration: s.animateDuration,
                easing: s.animateEasing,
                step: function() {
                    var s = {
                        width: parseInt(i.element.css("width"), 10),
                        height: parseInt(i.element.css("height"), 10),
                        top: parseInt(i.element.css("top"), 10),
                        left: parseInt(i.element.css("left"), 10)
                    };
                    n && n.length && e(n[0]).css({
                        width: s.width,
                        height: s.height
                    }),
                    i._updateCache(s),
                    i._propagate("resize", t)
                }
            })
        }
    }),
    e.ui.plugin.add("resizable", "containment", {
        start: function() {
            var i, s, n, a, r, o, l, h = e(this).data("ui-resizable"), c = h.options, d = h.element, u = c.containment, p = u instanceof e ? u.get(0) : /parent/.test(u) ? d.parent().get(0) : u;
            p && (h.containerElement = e(p),
            /document/.test(u) || u === document ? (h.containerOffset = {
                left: 0,
                top: 0
            },
            h.containerPosition = {
                left: 0,
                top: 0
            },
            h.parentData = {
                element: e(document),
                left: 0,
                top: 0,
                width: e(document).width(),
                height: e(document).height() || document.body.parentNode.scrollHeight
            }) : (i = e(p),
            s = [],
            e(["Top", "Right", "Left", "Bottom"]).each(function(e, n) {
                s[e] = t(i.css("padding" + n))
            }),
            h.containerOffset = i.offset(),
            h.containerPosition = i.position(),
            h.containerSize = {
                height: i.innerHeight() - s[3],
                width: i.innerWidth() - s[1]
            },
            n = h.containerOffset,
            a = h.containerSize.height,
            r = h.containerSize.width,
            o = e.ui.hasScroll(p, "left") ? p.scrollWidth : r,
            l = e.ui.hasScroll(p) ? p.scrollHeight : a,
            h.parentData = {
                element: p,
                left: n.left,
                top: n.top,
                width: o,
                height: l
            }))
        },
        resize: function(t) {
            var i, s, n, a, r = e(this).data("ui-resizable"), o = r.options, l = r.containerOffset, h = r.position, c = r._aspectRatio || t.shiftKey, d = {
                top: 0,
                left: 0
            }, u = r.containerElement;
            u[0] !== document && /static/.test(u.css("position")) && (d = l),
            h.left < (r._helper ? l.left : 0) && (r.size.width = r.size.width + (r._helper ? r.position.left - l.left : r.position.left - d.left),
            c && (r.size.height = r.size.width / r.aspectRatio),
            r.position.left = o.helper ? l.left : 0),
            h.top < (r._helper ? l.top : 0) && (r.size.height = r.size.height + (r._helper ? r.position.top - l.top : r.position.top),
            c && (r.size.width = r.size.height * r.aspectRatio),
            r.position.top = r._helper ? l.top : 0),
            r.offset.left = r.parentData.left + r.position.left,
            r.offset.top = r.parentData.top + r.position.top,
            i = Math.abs((r._helper ? r.offset.left - d.left : r.offset.left - d.left) + r.sizeDiff.width),
            s = Math.abs((r._helper ? r.offset.top - d.top : r.offset.top - l.top) + r.sizeDiff.height),
            n = r.containerElement.get(0) === r.element.parent().get(0),
            a = /relative|absolute/.test(r.containerElement.css("position")),
            n && a && (i -= Math.abs(r.parentData.left)),
            i + r.size.width >= r.parentData.width && (r.size.width = r.parentData.width - i,
            c && (r.size.height = r.size.width / r.aspectRatio)),
            s + r.size.height >= r.parentData.height && (r.size.height = r.parentData.height - s,
            c && (r.size.width = r.size.height * r.aspectRatio))
        },
        stop: function() {
            var t = e(this).data("ui-resizable")
              , i = t.options
              , s = t.containerOffset
              , n = t.containerPosition
              , a = t.containerElement
              , r = e(t.helper)
              , o = r.offset()
              , l = r.outerWidth() - t.sizeDiff.width
              , h = r.outerHeight() - t.sizeDiff.height;
            t._helper && !i.animate && /relative/.test(a.css("position")) && e(this).css({
                left: o.left - n.left - s.left,
                width: l,
                height: h
            }),
            t._helper && !i.animate && /static/.test(a.css("position")) && e(this).css({
                left: o.left - n.left - s.left,
                width: l,
                height: h
            })
        }
    }),
    e.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var t = e(this).data("ui-resizable")
              , i = t.options
              , s = function(t) {
                e(t).each(function() {
                    var t = e(this);
                    t.data("ui-resizable-alsoresize", {
                        width: parseInt(t.width(), 10),
                        height: parseInt(t.height(), 10),
                        left: parseInt(t.css("left"), 10),
                        top: parseInt(t.css("top"), 10)
                    })
                })
            };
            "object" != typeof i.alsoResize || i.alsoResize.parentNode ? s(i.alsoResize) : i.alsoResize.length ? (i.alsoResize = i.alsoResize[0],
            s(i.alsoResize)) : e.each(i.alsoResize, function(e) {
                s(e)
            })
        },
        resize: function(t, i) {
            var s = e(this).data("ui-resizable")
              , n = s.options
              , a = s.originalSize
              , r = s.originalPosition
              , o = {
                height: s.size.height - a.height || 0,
                width: s.size.width - a.width || 0,
                top: s.position.top - r.top || 0,
                left: s.position.left - r.left || 0
            }
              , l = function(t, s) {
                e(t).each(function() {
                    var t = e(this)
                      , n = e(this).data("ui-resizable-alsoresize")
                      , a = {}
                      , r = s && s.length ? s : t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                    e.each(r, function(e, t) {
                        var i = (n[t] || 0) + (o[t] || 0);
                        i && i >= 0 && (a[t] = i || null)
                    }),
                    t.css(a)
                })
            };
            "object" != typeof n.alsoResize || n.alsoResize.nodeType ? l(n.alsoResize) : e.each(n.alsoResize, function(e, t) {
                l(e, t)
            })
        },
        stop: function() {
            e(this).removeData("resizable-alsoresize")
        }
    }),
    e.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var t = e(this).data("ui-resizable")
              , i = t.options
              , s = t.size;
            t.ghost = t.originalElement.clone(),
            t.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: s.height,
                width: s.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost : ""),
            t.ghost.appendTo(t.helper)
        },
        resize: function() {
            var t = e(this).data("ui-resizable");
            t.ghost && t.ghost.css({
                position: "relative",
                height: t.size.height,
                width: t.size.width
            })
        },
        stop: function() {
            var t = e(this).data("ui-resizable");
            t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0))
        }
    }),
    e.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var t = e(this).data("ui-resizable")
              , i = t.options
              , s = t.size
              , n = t.originalSize
              , a = t.originalPosition
              , r = t.axis
              , o = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid
              , l = o[0] || 1
              , h = o[1] || 1
              , c = Math.round((s.width - n.width) / l) * l
              , d = Math.round((s.height - n.height) / h) * h
              , u = n.width + c
              , p = n.height + d
              , f = i.maxWidth && u > i.maxWidth
              , g = i.maxHeight && p > i.maxHeight
              , m = i.minWidth && i.minWidth > u
              , v = i.minHeight && i.minHeight > p;
            i.grid = o,
            m && (u += l),
            v && (p += h),
            f && (u -= l),
            g && (p -= h),
            /^(se|s|e)$/.test(r) ? (t.size.width = u,
            t.size.height = p) : /^(ne)$/.test(r) ? (t.size.width = u,
            t.size.height = p,
            t.position.top = a.top - d) : /^(sw)$/.test(r) ? (t.size.width = u,
            t.size.height = p,
            t.position.left = a.left - c) : (p - h > 0 ? (t.size.height = p,
            t.position.top = a.top - d) : (t.size.height = h,
            t.position.top = a.top + n.height - h),
            u - l > 0 ? (t.size.width = u,
            t.position.left = a.left - c) : (t.size.width = l,
            t.position.left = a.left + n.width - l))
        }
    })
}(jQuery),
function(e) {
    var t = 0
      , i = {}
      , s = {};
    i.height = i.paddingTop = i.paddingBottom = i.borderTopWidth = i.borderBottomWidth = "hide",
    s.height = s.paddingTop = s.paddingBottom = s.borderTopWidth = s.borderBottomWidth = "show",
    e.widget("ui.accordion", {
        version: "1.10.4",
        options: {
            active: 0,
            animate: {},
            collapsible: !1,
            event: "click",
            header: "> li > :first-child,> :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        _create: function() {
            var t = this.options;
            this.prevShow = this.prevHide = e(),
            this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"),
            t.collapsible || t.active !== !1 && null != t.active || (t.active = 0),
            this._processPanels(),
            0 > t.active && (t.active += this.headers.length),
            this._refresh()
        },
        _getCreateEventData: function() {
            return {
                header: this.active,
                panel: this.active.length ? this.active.next() : e(),
                content: this.active.length ? this.active.next() : e()
            }
        },
        _createIcons: function() {
            var t = this.options.icons;
            t && (e("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers),
            this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),
            this.headers.addClass("ui-accordion-icons"))
        },
        _destroyIcons: function() {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
        },
        _destroy: function() {
            var e;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),
            this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function() {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id")
            }),
            this._destroyIcons(),
            e = this.headers.next().css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function() {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id")
            }),
            "content" !== this.options.heightStyle && e.css("height", "")
        },
        _setOption: function(e, t) {
            return "active" === e ? void this._activate(t) : ("event" === e && (this.options.event && this._off(this.headers, this.options.event),
            this._setupEvents(t)),
            this._super(e, t),
            "collapsible" !== e || t || this.options.active !== !1 || this._activate(0),
            "icons" === e && (this._destroyIcons(),
            t && this._createIcons()),
            void ("disabled" === e && this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t)))
        },
        _keydown: function(t) {
            if (!t.altKey && !t.ctrlKey) {
                var i = e.ui.keyCode
                  , s = this.headers.length
                  , n = this.headers.index(t.target)
                  , a = !1;
                switch (t.keyCode) {
                case i.RIGHT:
                case i.DOWN:
                    a = this.headers[(n + 1) % s];
                    break;
                case i.LEFT:
                case i.UP:
                    a = this.headers[(n - 1 + s) % s];
                    break;
                case i.SPACE:
                case i.ENTER:
                    this._eventHandler(t);
                    break;
                case i.HOME:
                    a = this.headers[0];
                    break;
                case i.END:
                    a = this.headers[s - 1]
                }
                a && (e(t.target).attr("tabIndex", -1),
                e(a).attr("tabIndex", 0),
                a.focus(),
                t.preventDefault())
            }
        },
        _panelKeyDown: function(t) {
            t.keyCode === e.ui.keyCode.UP && t.ctrlKey && e(t.currentTarget).prev().focus()
        },
        refresh: function() {
            var t = this.options;
            this._processPanels(),
            t.active === !1 && t.collapsible === !0 || !this.headers.length ? (t.active = !1,
            this.active = e()) : t.active === !1 ? this._activate(0) : this.active.length && !e.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1,
            this.active = e()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active),
            this._destroyIcons(),
            this._refresh()
        },
        _processPanels: function() {
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),
            this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
        },
        _refresh: function() {
            var i, s = this.options, n = s.heightStyle, a = this.element.parent(), r = this.accordionId = "ui-accordion-" + (this.element.attr("id") || ++t);
            this.active = this._findActive(s.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),
            this.active.next().addClass("ui-accordion-content-active").show(),
            this.headers.attr("role", "tab").each(function(t) {
                var i = e(this)
                  , s = i.attr("id")
                  , n = i.next()
                  , a = n.attr("id");
                s || (s = r + "-header-" + t,
                i.attr("id", s)),
                a || (a = r + "-panel-" + t,
                n.attr("id", a)),
                i.attr("aria-controls", a),
                n.attr("aria-labelledby", s)
            }).next().attr("role", "tabpanel"),
            this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide(),
            this.active.length ? this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }).next().attr({
                "aria-hidden": "false"
            }) : this.headers.eq(0).attr("tabIndex", 0),
            this._createIcons(),
            this._setupEvents(s.event),
            "fill" === n ? (i = a.height(),
            this.element.siblings(":visible").each(function() {
                var t = e(this)
                  , s = t.css("position");
                "absolute" !== s && "fixed" !== s && (i -= t.outerHeight(!0))
            }),
            this.headers.each(function() {
                i -= e(this).outerHeight(!0)
            }),
            this.headers.next().each(function() {
                e(this).height(Math.max(0, i - e(this).innerHeight() + e(this).height()))
            }).css("overflow", "auto")) : "auto" === n && (i = 0,
            this.headers.next().each(function() {
                i = Math.max(i, e(this).css("height", "").height())
            }).height(i))
        },
        _activate: function(t) {
            var i = this._findActive(t)[0];
            i !== this.active[0] && (i = i || this.active[0],
            this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: e.noop
            }))
        },
        _findActive: function(t) {
            return "number" == typeof t ? this.headers.eq(t) : e()
        },
        _setupEvents: function(t) {
            var i = {
                keydown: "_keydown"
            };
            t && e.each(t.split(" "), function(e, t) {
                i[t] = "_eventHandler"
            }),
            this._off(this.headers.add(this.headers.next())),
            this._on(this.headers, i),
            this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            }),
            this._hoverable(this.headers),
            this._focusable(this.headers)
        },
        _eventHandler: function(t) {
            var i = this.options
              , s = this.active
              , n = e(t.currentTarget)
              , a = n[0] === s[0]
              , r = a && i.collapsible
              , o = r ? e() : n.next()
              , l = s.next()
              , h = {
                oldHeader: s,
                oldPanel: l,
                newHeader: r ? e() : n,
                newPanel: o
            };
            t.preventDefault(),
            a && !i.collapsible || this._trigger("beforeActivate", t, h) === !1 || (i.active = !r && this.headers.index(n),
            this.active = a ? e() : n,
            this._toggle(h),
            s.removeClass("ui-accordion-header-active ui-state-active"),
            i.icons && s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),
            a || (n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
            i.icons && n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),
            n.next().addClass("ui-accordion-content-active")))
        },
        _toggle: function(t) {
            var i = t.newPanel
              , s = this.prevShow.length ? this.prevShow : t.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0),
            this.prevShow = i,
            this.prevHide = s,
            this.options.animate ? this._animate(i, s, t) : (s.hide(),
            i.show(),
            this._toggleComplete(t)),
            s.attr({
                "aria-hidden": "true"
            }),
            s.prev().attr("aria-selected", "false"),
            i.length && s.length ? s.prev().attr({
                tabIndex: -1,
                "aria-expanded": "false"
            }) : i.length && this.headers.filter(function() {
                return 0 === e(this).attr("tabIndex")
            }).attr("tabIndex", -1),
            i.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                tabIndex: 0,
                "aria-expanded": "true"
            })
        },
        _animate: function(e, t, n) {
            var a, r, o, l = this, h = 0, c = e.length && (!t.length || e.index() < t.index()), d = this.options.animate || {}, u = c && d.down || d, p = function() {
                l._toggleComplete(n)
            };
            return "number" == typeof u && (o = u),
            "string" == typeof u && (r = u),
            r = r || u.easing || d.easing,
            o = o || u.duration || d.duration,
            t.length ? e.length ? (a = e.show().outerHeight(),
            t.animate(i, {
                duration: o,
                easing: r,
                step: function(e, t) {
                    t.now = Math.round(e)
                }
            }),
            void e.hide().animate(s, {
                duration: o,
                easing: r,
                complete: p,
                step: function(e, i) {
                    i.now = Math.round(e),
                    "height" !== i.prop ? h += i.now : "content" !== l.options.heightStyle && (i.now = Math.round(a - t.outerHeight() - h),
                    h = 0)
                }
            })) : t.animate(i, o, r, p) : e.animate(s, o, r, p);
        },
        _toggleComplete: function(e) {
            var t = e.oldPanel;
            t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),
            t.length && (t.parent()[0].className = t.parent()[0].className),
            this._trigger("activate", null, e)
        }
    })
}(jQuery),
function(e) {
    e.widget("ui.autocomplete", {
        version: "1.10.4",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
            var t, i, s, n = this.element[0].nodeName.toLowerCase(), a = "textarea" === n, r = "input" === n;
            this.isMultiLine = !!a || !r && this.element.prop("isContentEditable"),
            this.valueMethod = this.element[a || r ? "val" : "text"],
            this.isNewMenu = !0,
            this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"),
            this._on(this.element, {
                keydown: function(n) {
                    if (this.element.prop("readOnly"))
                        return t = !0,
                        s = !0,
                        void (i = !0);
                    t = !1,
                    s = !1,
                    i = !1;
                    var a = e.ui.keyCode;
                    switch (n.keyCode) {
                    case a.PAGE_UP:
                        t = !0,
                        this._move("previousPage", n);
                        break;
                    case a.PAGE_DOWN:
                        t = !0,
                        this._move("nextPage", n);
                        break;
                    case a.UP:
                        t = !0,
                        this._keyEvent("previous", n);
                        break;
                    case a.DOWN:
                        t = !0,
                        this._keyEvent("next", n);
                        break;
                    case a.ENTER:
                    case a.NUMPAD_ENTER:
                        this.menu.active && (t = !0,
                        n.preventDefault(),
                        this.menu.select(n));
                        break;
                    case a.TAB:
                        this.menu.active && this.menu.select(n);
                        break;
                    case a.ESCAPE:
                        this.menu.element.is(":visible") && (this._value(this.term),
                        this.close(n),
                        n.preventDefault());
                        break;
                    default:
                        i = !0,
                        this._searchTimeout(n)
                    }
                },
                keypress: function(s) {
                    if (t)
                        return t = !1,
                        void ((!this.isMultiLine || this.menu.element.is(":visible")) && s.preventDefault());
                    if (!i) {
                        var n = e.ui.keyCode;
                        switch (s.keyCode) {
                        case n.PAGE_UP:
                            this._move("previousPage", s);
                            break;
                        case n.PAGE_DOWN:
                            this._move("nextPage", s);
                            break;
                        case n.UP:
                            this._keyEvent("previous", s);
                            break;
                        case n.DOWN:
                            this._keyEvent("next", s)
                        }
                    }
                },
                input: function(e) {
                    return s ? (s = !1,
                    void e.preventDefault()) : void this._searchTimeout(e)
                },
                focus: function() {
                    this.selectedItem = null,
                    this.previous = this._value()
                },
                blur: function(e) {
                    return this.cancelBlur ? void delete this.cancelBlur : (clearTimeout(this.searching),
                    this.close(e),
                    void this._change(e))
                }
            }),
            this._initSource(),
            this.menu = e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                role: null
            }).hide().data("ui-menu"),
            this._on(this.menu.element, {
                mousedown: function(t) {
                    t.preventDefault(),
                    this.cancelBlur = !0,
                    this._delay(function() {
                        delete this.cancelBlur
                    });
                    var i = this.menu.element[0];
                    e(t.target).closest(".ui-menu-item").length || this._delay(function() {
                        var t = this;
                        this.document.one("mousedown", function(s) {
                            s.target === t.element[0] || s.target === i || e.contains(i, s.target) || t.close()
                        })
                    })
                },
                menufocus: function(t, i) {
                    if (this.isNewMenu && (this.isNewMenu = !1,
                    t.originalEvent && /^mouse/.test(t.originalEvent.type)))
                        return this.menu.blur(),
                        void this.document.one("mousemove", function() {
                            e(t.target).trigger(t.originalEvent)
                        });
                    var s = i.item.data("ui-autocomplete-item");
                    !1 !== this._trigger("focus", t, {
                        item: s
                    }) ? t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(s.value) : this.liveRegion.text(s.value)
                },
                menuselect: function(e, t) {
                    var i = t.item.data("ui-autocomplete-item")
                      , s = this.previous;
                    this.element[0] !== this.document[0].activeElement && (this.element.focus(),
                    this.previous = s,
                    this._delay(function() {
                        this.previous = s,
                        this.selectedItem = i
                    })),
                    !1 !== this._trigger("select", e, {
                        item: i
                    }) && this._value(i.value),
                    this.term = this._value(),
                    this.close(e),
                    this.selectedItem = i
                }
            }),
            this.liveRegion = e("<span>", {
                role: "status",
                "aria-live": "polite"
            }).addClass("ui-helper-hidden-accessible").insertBefore(this.element),
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function() {
            clearTimeout(this.searching),
            this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),
            this.menu.element.remove(),
            this.liveRegion.remove()
        },
        _setOption: function(e, t) {
            this._super(e, t),
            "source" === e && this._initSource(),
            "appendTo" === e && this.menu.element.appendTo(this._appendTo()),
            "disabled" === e && t && this.xhr && this.xhr.abort()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)),
            t || (t = this.element.closest(".ui-front")),
            t.length || (t = this.document[0].body),
            t
        },
        _initSource: function() {
            var t, i, s = this;
            e.isArray(this.options.source) ? (t = this.options.source,
            this.source = function(i, s) {
                s(e.ui.autocomplete.filter(t, i.term))
            }
            ) : "string" == typeof this.options.source ? (i = this.options.source,
            this.source = function(t, n) {
                s.xhr && s.xhr.abort(),
                s.xhr = e.ajax({
                    url: i,
                    data: t,
                    dataType: "json",
                    success: function(e) {
                        n(e)
                    },
                    error: function() {
                        n([])
                    }
                })
            }
            ) : this.source = this.options.source
        },
        _searchTimeout: function(e) {
            clearTimeout(this.searching),
            this.searching = this._delay(function() {
                this.term !== this._value() && (this.selectedItem = null,
                this.search(null, e))
            }, this.options.delay)
        },
        search: function(e, t) {
            return e = null != e ? e : this._value(),
            this.term = this._value(),
            e.length < this.options.minLength ? this.close(t) : this._trigger("search", t) !== !1 ? this._search(e) : void 0
        },
        _search: function(e) {
            this.pending++,
            this.element.addClass("ui-autocomplete-loading"),
            this.cancelSearch = !1,
            this.source({
                term: e
            }, this._response())
        },
        _response: function() {
            var t = ++this.requestIndex;
            return e.proxy(function(e) {
                t === this.requestIndex && this.__response(e),
                this.pending--,
                this.pending || this.element.removeClass("ui-autocomplete-loading")
            }, this)
        },
        __response: function(e) {
            e && (e = this._normalize(e)),
            this._trigger("response", null, {
                content: e
            }),
            !this.options.disabled && e && e.length && !this.cancelSearch ? (this._suggest(e),
            this._trigger("open")) : this._close()
        },
        close: function(e) {
            this.cancelSearch = !0,
            this._close(e)
        },
        _close: function(e) {
            this.menu.element.is(":visible") && (this.menu.element.hide(),
            this.menu.blur(),
            this.isNewMenu = !0,
            this._trigger("close", e))
        },
        _change: function(e) {
            this.previous !== this._value() && this._trigger("change", e, {
                item: this.selectedItem
            })
        },
        _normalize: function(t) {
            return t.length && t[0].label && t[0].value ? t : e.map(t, function(t) {
                return "string" == typeof t ? {
                    label: t,
                    value: t
                } : e.extend({
                    label: t.label || t.value,
                    value: t.value || t.label
                }, t)
            })
        },
        _suggest: function(t) {
            var i = this.menu.element.empty();
            this._renderMenu(i, t),
            this.isNewMenu = !0,
            this.menu.refresh(),
            i.show(),
            this._resizeMenu(),
            i.position(e.extend({
                of: this.element
            }, this.options.position)),
            this.options.autoFocus && this.menu.next()
        },
        _resizeMenu: function() {
            var e = this.menu.element;
            e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function(t, i) {
            var s = this;
            e.each(i, function(e, i) {
                s._renderItemData(t, i)
            })
        },
        _renderItemData: function(e, t) {
            return this._renderItem(e, t).data("ui-autocomplete-item", t)
        },
        _renderItem: function(t, i) {
            return e("<li>").append(e("<a>").text(i.label)).appendTo(t)
        },
        _move: function(e, t) {
            return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e) ? (this._value(this.term),
            void this.menu.blur()) : void this.menu[e](t) : void this.search(null, t)
        },
        widget: function() {
            return this.menu.element
        },
        _value: function() {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function(e, t) {
            (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(e, t),
            t.preventDefault())
        }
    }),
    e.extend(e.ui.autocomplete, {
        escapeRegex: function(e) {
            return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function(t, i) {
            var s = RegExp(e.ui.autocomplete.escapeRegex(i), "i");
            return e.grep(t, function(e) {
                return s.test(e.label || e.value || e)
            })
        }
    }),
    e.widget("ui.autocomplete", e.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function(e) {
                    return e + (e > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function(e) {
            var t;
            this._superApply(arguments),
            this.options.disabled || this.cancelSearch || (t = e && e.length ? this.options.messages.results(e.length) : this.options.messages.noResults,
            this.liveRegion.text(t))
        }
    })
}(jQuery),
function(e) {
    var t, i = "ui-button ui-widget ui-state-default ui-corner-all", s = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", n = function() {
        var t = e(this);
        setTimeout(function() {
            t.find(":ui-button").button("refresh")
        }, 1)
    }, a = function(t) {
        var i = t.name
          , s = t.form
          , n = e([]);
        return i && (i = i.replace(/'/g, "\\'"),
        n = s ? e(s).find("[name='" + i + "']") : e("[name='" + i + "']", t.ownerDocument).filter(function() {
            return !this.form
        })),
        n
    };
    e.widget("ui.button", {
        version: "1.10.4",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, n),
            "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled),
            this._determineButtonType(),
            this.hasTitle = !!this.buttonElement.attr("title");
            var s = this
              , r = this.options
              , o = "checkbox" === this.type || "radio" === this.type
              , l = o ? "" : "ui-state-active";
            null === r.label && (r.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()),
            this._hoverable(this.buttonElement),
            this.buttonElement.addClass(i).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                r.disabled || this === t && e(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function() {
                r.disabled || e(this).removeClass(l)
            }).bind("click" + this.eventNamespace, function(e) {
                r.disabled && (e.preventDefault(),
                e.stopImmediatePropagation())
            }),
            this._on({
                focus: function() {
                    this.buttonElement.addClass("ui-state-focus")
                },
                blur: function() {
                    this.buttonElement.removeClass("ui-state-focus")
                }
            }),
            o && this.element.bind("change" + this.eventNamespace, function() {
                s.refresh()
            }),
            "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                return !r.disabled && void 0
            }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (r.disabled)
                    return !1;
                e(this).addClass("ui-state-active"),
                s.buttonElement.attr("aria-pressed", "true");
                var t = s.element[0];
                a(t).not(t).map(function() {
                    return e(this).button("widget")[0]
                }).removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                return !r.disabled && (e(this).addClass("ui-state-active"),
                t = this,
                void s.document.one("mouseup", function() {
                    t = null
                }))
            }).bind("mouseup" + this.eventNamespace, function() {
                return !r.disabled && void e(this).removeClass("ui-state-active")
            }).bind("keydown" + this.eventNamespace, function(t) {
                return !r.disabled && void ((t.keyCode === e.ui.keyCode.SPACE || t.keyCode === e.ui.keyCode.ENTER) && e(this).addClass("ui-state-active"))
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                e(this).removeClass("ui-state-active")
            }),
            this.buttonElement.is("a") && this.buttonElement.keyup(function(t) {
                t.keyCode === e.ui.keyCode.SPACE && e(this).click()
            })),
            this._setOption("disabled", r.disabled),
            this._resetButton()
        },
        _determineButtonType: function() {
            var e, t, i;
            this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button",
            "checkbox" === this.type || "radio" === this.type ? (e = this.element.parents().last(),
            t = "label[for='" + this.element.attr("id") + "']",
            this.buttonElement = e.find(t),
            this.buttonElement.length || (e = e.length ? e.siblings() : this.element.siblings(),
            this.buttonElement = e.filter(t),
            this.buttonElement.length || (this.buttonElement = e.find(t))),
            this.element.addClass("ui-helper-hidden-accessible"),
            i = this.element.is(":checked"),
            i && this.buttonElement.addClass("ui-state-active"),
            this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
        },
        widget: function() {
            return this.buttonElement
        },
        _destroy: function() {
            this.element.removeClass("ui-helper-hidden-accessible"),
            this.buttonElement.removeClass(i + " ui-state-active " + s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),
            this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function(e, t) {
            return this._super(e, t),
            "disabled" === e ? (this.element.prop("disabled", !!t),
            void (t && this.buttonElement.removeClass("ui-state-focus"))) : void this._resetButton()
        },
        refresh: function() {
            var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            t !== this.options.disabled && this._setOption("disabled", t),
            "radio" === this.type ? a(this.element[0]).each(function() {
                e(this).is(":checked") ? e(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function() {
            if ("input" === this.type)
                return void (this.options.label && this.element.val(this.options.label));
            var t = this.buttonElement.removeClass(s)
              , i = e("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text()
              , n = this.options.icons
              , a = n.primary && n.secondary
              , r = [];
            n.primary || n.secondary ? (this.options.text && r.push("ui-button-text-icon" + (a ? "s" : n.primary ? "-primary" : "-secondary")),
            n.primary && t.prepend("<span class='ui-button-icon-primary ui-icon " + n.primary + "'></span>"),
            n.secondary && t.append("<span class='ui-button-icon-secondary ui-icon " + n.secondary + "'></span>"),
            this.options.text || (r.push(a ? "ui-button-icons-only" : "ui-button-icon-only"),
            this.hasTitle || t.attr("title", e.trim(i)))) : r.push("ui-button-text-only"),
            t.addClass(r.join(" "))
        }
    }),
    e.widget("ui.buttonset", {
        version: "1.10.4",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function() {
            this.element.addClass("ui-buttonset")
        },
        _init: function() {
            this.refresh()
        },
        _setOption: function(e, t) {
            "disabled" === e && this.buttons.button("option", e, t),
            this._super(e, t)
        },
        refresh: function() {
            var t = "rtl" === this.element.css("direction");
            this.buttons = this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function() {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(t ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function() {
            this.element.removeClass("ui-buttonset"),
            this.buttons.map(function() {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    })
}(jQuery),
function(e) {
    var t = {
        buttons: !0,
        height: !0,
        maxHeight: !0,
        maxWidth: !0,
        minHeight: !0,
        minWidth: !0,
        width: !0
    }
      , i = {
        maxHeight: !0,
        maxWidth: !0,
        minHeight: !0,
        minWidth: !0
    };
    e.widget("ui.dialog", {
        version: "1.10.4",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function(t) {
                    var i = e(this).css(t).offset().top;
                    0 > i && e(this).css("top", t.top - i)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        _create: function() {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            },
            this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            },
            this.originalTitle = this.element.attr("title"),
            this.options.title = this.options.title || this.originalTitle,
            this._createWrapper(),
            this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),
            this._createTitlebar(),
            this._createButtonPane(),
            this.options.draggable && e.fn.draggable && this._makeDraggable(),
            this.options.resizable && e.fn.resizable && this._makeResizable(),
            this._isOpen = !1
        },
        _init: function() {
            this.options.autoOpen && this.open()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t.jquery || t.nodeType) ? e(t) : this.document.find(t || "body").eq(0)
        },
        _destroy: function() {
            var e, t = this.originalPosition;
            this._destroyOverlay(),
            this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),
            this.uiDialog.stop(!0, !0).remove(),
            this.originalTitle && this.element.attr("title", this.originalTitle),
            e = t.parent.children().eq(t.index),
            e.length && e[0] !== this.element[0] ? e.before(this.element) : t.parent.append(this.element)
        },
        widget: function() {
            return this.uiDialog
        },
        disable: e.noop,
        enable: e.noop,
        close: function(t) {
            var i, s = this;
            if (this._isOpen && this._trigger("beforeClose", t) !== !1) {
                if (this._isOpen = !1,
                this._destroyOverlay(),
                !this.opener.filter(":focusable").focus().length)
                    try {
                        i = this.document[0].activeElement,
                        i && "body" !== i.nodeName.toLowerCase() && e(i).blur()
                    } catch (e) {}
                this._hide(this.uiDialog, this.options.hide, function() {
                    s._trigger("close", t)
                })
            }
        },
        isOpen: function() {
            return this._isOpen
        },
        moveToTop: function() {
            this._moveToTop()
        },
        _moveToTop: function(e, t) {
            var i = !!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
            return i && !t && this._trigger("focus", e),
            i
        },
        open: function() {
            var t = this;
            return this._isOpen ? void (this._moveToTop() && this._focusTabbable()) : (this._isOpen = !0,
            this.opener = e(this.document[0].activeElement),
            this._size(),
            this._position(),
            this._createOverlay(),
            this._moveToTop(null, !0),
            this._show(this.uiDialog, this.options.show, function() {
                t._focusTabbable(),
                t._trigger("focus")
            }),
            void this._trigger("open"))
        },
        _focusTabbable: function() {
            var e = this.element.find("[autofocus]");
            e.length || (e = this.element.find(":tabbable")),
            e.length || (e = this.uiDialogButtonPane.find(":tabbable")),
            e.length || (e = this.uiDialogTitlebarClose.filter(":tabbable")),
            e.length || (e = this.uiDialog),
            e.eq(0).focus()
        },
        _keepFocus: function(t) {
            function i() {
                var t = this.document[0].activeElement
                  , i = this.uiDialog[0] === t || e.contains(this.uiDialog[0], t);
                i || this._focusTabbable()
            }
            t.preventDefault(),
            i.call(this),
            this._delay(i)
        },
        _createWrapper: function() {
            this.uiDialog = e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()),
            this._on(this.uiDialog, {
                keydown: function(t) {
                    if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === e.ui.keyCode.ESCAPE)
                        return t.preventDefault(),
                        void this.close(t);
                    if (t.keyCode === e.ui.keyCode.TAB) {
                        var i = this.uiDialog.find(":tabbable")
                          , s = i.filter(":first")
                          , n = i.filter(":last");
                        t.target !== n[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== s[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (n.focus(1),
                        t.preventDefault()) : (s.focus(1),
                        t.preventDefault())
                    }
                },
                mousedown: function(e) {
                    this._moveToTop(e) && this._focusTabbable()
                }
            }),
            this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
            })
        },
        _createTitlebar: function() {
            var t;
            this.uiDialogTitlebar = e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),
            this._on(this.uiDialogTitlebar, {
                mousedown: function(t) {
                    e(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                }
            }),
            this.uiDialogTitlebarClose = e("<button type='button'></button>").button({
                label: this.options.closeText,
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: !1
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),
            this._on(this.uiDialogTitlebarClose, {
                click: function(e) {
                    e.preventDefault(),
                    this.close(e)
                }
            }),
            t = e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),
            this._title(t),
            this.uiDialog.attr({
                "aria-labelledby": t.attr("id")
            })
        },
        _title: function(e) {
            this.options.title || e.html("&#160;"),
            e.text(this.options.title)
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane = e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),
            this.uiButtonSet = e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),
            this._createButtons()
        },
        _createButtons: function() {
            var t = this
              , i = this.options.buttons;
            return this.uiDialogButtonPane.remove(),
            this.uiButtonSet.empty(),
            e.isEmptyObject(i) || e.isArray(i) && !i.length ? void this.uiDialog.removeClass("ui-dialog-buttons") : (e.each(i, function(i, s) {
                var n, a;
                s = e.isFunction(s) ? {
                    click: s,
                    text: i
                } : s,
                s = e.extend({
                    type: "button"
                }, s),
                n = s.click,
                s.click = function() {
                    n.apply(t.element[0], arguments)
                }
                ,
                a = {
                    icons: s.icons,
                    text: s.showText
                },
                delete s.icons,
                delete s.showText,
                e("<button></button>", s).button(a).appendTo(t.uiButtonSet)
            }),
            this.uiDialog.addClass("ui-dialog-buttons"),
            void this.uiDialogButtonPane.appendTo(this.uiDialog))
        },
        _makeDraggable: function() {
            function t(e) {
                return {
                    position: e.position,
                    offset: e.offset
                }
            }
            var i = this
              , s = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function(s, n) {
                    e(this).addClass("ui-dialog-dragging"),
                    i._blockFrames(),
                    i._trigger("dragStart", s, t(n))
                },
                drag: function(e, s) {
                    i._trigger("drag", e, t(s))
                },
                stop: function(n, a) {
                    s.position = [a.position.left - i.document.scrollLeft(), a.position.top - i.document.scrollTop()],
                    e(this).removeClass("ui-dialog-dragging"),
                    i._unblockFrames(),
                    i._trigger("dragStop", n, t(a))
                }
            })
        },
        _makeResizable: function() {
            function t(e) {
                return {
                    originalPosition: e.originalPosition,
                    originalSize: e.originalSize,
                    position: e.position,
                    size: e.size
                }
            }
            var i = this
              , s = this.options
              , n = s.resizable
              , a = this.uiDialog.css("position")
              , r = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: s.maxWidth,
                maxHeight: s.maxHeight,
                minWidth: s.minWidth,
                minHeight: this._minHeight(),
                handles: r,
                start: function(s, n) {
                    e(this).addClass("ui-dialog-resizing"),
                    i._blockFrames(),
                    i._trigger("resizeStart", s, t(n))
                },
                resize: function(e, s) {
                    i._trigger("resize", e, t(s))
                },
                stop: function(n, a) {
                    s.height = e(this).height(),
                    s.width = e(this).width(),
                    e(this).removeClass("ui-dialog-resizing"),
                    i._unblockFrames(),
                    i._trigger("resizeStop", n, t(a))
                }
            }).css("position", a)
        },
        _minHeight: function() {
            var e = this.options;
            return "auto" === e.height ? e.minHeight : Math.min(e.minHeight, e.height)
        },
        _position: function() {
            var e = this.uiDialog.is(":visible");
            e || this.uiDialog.show(),
            this.uiDialog.position(this.options.position),
            e || this.uiDialog.hide()
        },
        _setOptions: function(s) {
            var n = this
              , a = !1
              , r = {};
            e.each(s, function(e, s) {
                n._setOption(e, s),
                e in t && (a = !0),
                e in i && (r[e] = s)
            }),
            a && (this._size(),
            this._position()),
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", r)
        },
        _setOption: function(e, t) {
            var i, s, n = this.uiDialog;
            "dialogClass" === e && n.removeClass(this.options.dialogClass).addClass(t),
            "disabled" !== e && (this._super(e, t),
            "appendTo" === e && this.uiDialog.appendTo(this._appendTo()),
            "buttons" === e && this._createButtons(),
            "closeText" === e && this.uiDialogTitlebarClose.button({
                label: "" + t
            }),
            "draggable" === e && (i = n.is(":data(ui-draggable)"),
            i && !t && n.draggable("destroy"),
            !i && t && this._makeDraggable()),
            "position" === e && this._position(),
            "resizable" === e && (s = n.is(":data(ui-resizable)"),
            s && !t && n.resizable("destroy"),
            s && "string" == typeof t && n.resizable("option", "handles", t),
            s || t === !1 || this._makeResizable()),
            "title" === e && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function() {
            var e, t, i, s = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }),
            s.minWidth > s.width && (s.width = s.minWidth),
            e = this.uiDialog.css({
                height: "auto",
                width: s.width
            }).outerHeight(),
            t = Math.max(0, s.minHeight - e),
            i = "number" == typeof s.maxHeight ? Math.max(0, s.maxHeight - e) : "none",
            "auto" === s.height ? this.element.css({
                minHeight: t,
                maxHeight: i,
                height: "auto"
            }) : this.element.height(Math.max(0, s.height - e)),
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function() {
            this.iframeBlocks = this.document.find("iframe").map(function() {
                var t = e(this);
                return e("<div>").css({
                    position: "absolute",
                    width: t.outerWidth(),
                    height: t.outerHeight()
                }).appendTo(t.parent()).offset(t.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(),
            delete this.iframeBlocks)
        },
        _allowInteraction: function(t) {
            return !!e(t.target).closest(".ui-dialog").length || !!e(t.target).closest(".ui-datepicker").length
        },
        _createOverlay: function() {
            if (this.options.modal) {
                var t = this
                  , i = this.widgetFullName;
                e.ui.dialog.overlayInstances || this._delay(function() {
                    e.ui.dialog.overlayInstances && this.document.bind("focusin.dialog", function(s) {
                        t._allowInteraction(s) || (s.preventDefault(),
                        e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())
                    })
                }),
                this.overlay = e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),
                this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }),
                e.ui.dialog.overlayInstances++
            }
        },
        _destroyOverlay: function() {
            this.options.modal && this.overlay && (e.ui.dialog.overlayInstances--,
            e.ui.dialog.overlayInstances || this.document.unbind("focusin.dialog"),
            this.overlay.remove(),
            this.overlay = null)
        }
    }),
    e.ui.dialog.overlayInstances = 0,
    e.uiBackCompat !== !1 && e.widget("ui.dialog", e.ui.dialog, {
        _position: function() {
            var t, i = this.options.position, s = [], n = [0, 0];
            i ? (("string" == typeof i || "object" == typeof i && "0"in i) && (s = i.split ? i.split(" ") : [i[0], i[1]],
            1 === s.length && (s[1] = s[0]),
            e.each(["left", "top"], function(e, t) {
                +s[e] === s[e] && (n[e] = s[e],
                s[e] = t)
            }),
            i = {
                my: s[0] + (0 > n[0] ? n[0] : "+" + n[0]) + " " + s[1] + (0 > n[1] ? n[1] : "+" + n[1]),
                at: s.join(" ")
            }),
            i = e.extend({}, e.ui.dialog.prototype.options.position, i)) : i = e.ui.dialog.prototype.options.position,
            t = this.uiDialog.is(":visible"),
            t || this.uiDialog.show(),
            this.uiDialog.position(i),
            t || this.uiDialog.hide()
        }
    })
}(jQuery),
function(e) {
    e.widget("ui.menu", {
        version: "1.10.4",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            menus: "ul",
            position: {
                my: "left top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function() {
            this.activeMenu = this.element,
            this.mouseHandled = !1,
            this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                role: this.options.role,
                tabIndex: 0
            }).bind("click" + this.eventNamespace, e.proxy(function(e) {
                this.options.disabled && e.preventDefault()
            }, this)),
            this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"),
            this._on({
                "mousedown .ui-menu-item > a": function(e) {
                    e.preventDefault()
                },
                "click .ui-state-disabled > a": function(e) {
                    e.preventDefault()
                },
                "click .ui-menu-item:has(a)": function(t) {
                    var i = e(t.target).closest(".ui-menu-item");
                    !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(t),
                    t.isPropagationStopped() || (this.mouseHandled = !0),
                    i.has(".ui-menu").length ? this.expand(t) : !this.element.is(":focus") && e(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]),
                    this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },
                "mouseenter .ui-menu-item": function(t) {
                    var i = e(t.currentTarget);
                    i.siblings().children(".ui-state-active").removeClass("ui-state-active"),
                    this.focus(t, i)
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(e, t) {
                    var i = this.active || this.element.children(".ui-menu-item").eq(0);
                    t || this.focus(e, i)
                },
                blur: function(t) {
                    this._delay(function() {
                        e.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(t)
                    })
                },
                keydown: "_keydown"
            }),
            this.refresh(),
            this._on(this.document, {
                click: function(t) {
                    e(t.target).closest(".ui-menu").length || this.collapseAll(t),
                    this.mouseHandled = !1
                }
            })
        },
        _destroy: function() {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),
            this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                var t = e(this);
                t.data("ui-menu-submenu-carat") && t.remove()
            }),
            this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
        },
        _keydown: function(t) {
            function i(e) {
                return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            }
            var s, n, a, r, o, l = !0;
            switch (t.keyCode) {
            case e.ui.keyCode.PAGE_UP:
                this.previousPage(t);
                break;
            case e.ui.keyCode.PAGE_DOWN:
                this.nextPage(t);
                break;
            case e.ui.keyCode.HOME:
                this._move("first", "first", t);
                break;
            case e.ui.keyCode.END:
                this._move("last", "last", t);
                break;
            case e.ui.keyCode.UP:
                this.previous(t);
                break;
            case e.ui.keyCode.DOWN:
                this.next(t);
                break;
            case e.ui.keyCode.LEFT:
                this.collapse(t);
                break;
            case e.ui.keyCode.RIGHT:
                this.active && !this.active.is(".ui-state-disabled") && this.expand(t);
                break;
            case e.ui.keyCode.ENTER:
            case e.ui.keyCode.SPACE:
                this._activate(t);
                break;
            case e.ui.keyCode.ESCAPE:
                this.collapse(t);
                break;
            default:
                l = !1,
                n = this.previousFilter || "",
                a = String.fromCharCode(t.keyCode),
                r = !1,
                clearTimeout(this.filterTimer),
                a === n ? r = !0 : a = n + a,
                o = RegExp("^" + i(a), "i"),
                s = this.activeMenu.children(".ui-menu-item").filter(function() {
                    return o.test(e(this).children("a").text())
                }),
                s = r && -1 !== s.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : s,
                s.length || (a = String.fromCharCode(t.keyCode),
                o = RegExp("^" + i(a), "i"),
                s = this.activeMenu.children(".ui-menu-item").filter(function() {
                    return o.test(e(this).children("a").text())
                })),
                s.length ? (this.focus(t, s),
                s.length > 1 ? (this.previousFilter = a,
                this.filterTimer = this._delay(function() {
                    delete this.previousFilter
                }, 1e3)) : delete this.previousFilter) : delete this.previousFilter
            }
            l && t.preventDefault()
        },
        _activate: function(e) {
            this.active.is(".ui-state-disabled") || (this.active.children("a[aria-haspopup='true']").length ? this.expand(e) : this.select(e))
        },
        refresh: function() {
            var t, i = this.options.icons.submenu, s = this.element.find(this.options.menus);
            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length),
            s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function() {
                var t = e(this)
                  , s = t.prev("a")
                  , n = e("<span>").addClass("ui-menu-icon ui-icon " + i).data("ui-menu-submenu-carat", !0);
                s.attr("aria-haspopup", "true").prepend(n),
                t.attr("aria-labelledby", s.attr("id"))
            }),
            t = s.add(this.element),
            t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "presentation").children("a").uniqueId().addClass("ui-corner-all").attr({
                tabIndex: -1,
                role: this._itemRole()
            }),
            t.children(":not(.ui-menu-item)").each(function() {
                var t = e(this);
                /[^\-\u2014\u2013\s]/.test(t.text()) || t.addClass("ui-widget-content ui-menu-divider")
            }),
            t.children(".ui-state-disabled").attr("aria-disabled", "true"),
            this.active && !e.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role]
        },
        _setOption: function(e, t) {
            "icons" === e && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),
            this._super(e, t)
        },
        focus: function(e, t) {
            var i, s;
            this.blur(e, e && "focus" === e.type),
            this._scrollIntoView(t),
            this.active = t.first(),
            s = this.active.children("a").addClass("ui-state-focus"),
            this.options.role && this.element.attr("aria-activedescendant", s.attr("id")),
            this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),
            e && "keydown" === e.type ? this._close() : this.timer = this._delay(function() {
                this._close()
            }, this.delay),
            i = t.children(".ui-menu"),
            i.length && e && /^mouse/.test(e.type) && this._startOpening(i),
            this.activeMenu = t.parent(),
            this._trigger("focus", e, {
                item: t
            })
        },
        _scrollIntoView: function(t) {
            var i, s, n, a, r, o;
            this._hasScroll() && (i = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0,
            s = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0,
            n = t.offset().top - this.activeMenu.offset().top - i - s,
            a = this.activeMenu.scrollTop(),
            r = this.activeMenu.height(),
            o = t.height(),
            0 > n ? this.activeMenu.scrollTop(a + n) : n + o > r && this.activeMenu.scrollTop(a + n - r + o))
        },
        blur: function(e, t) {
            t || clearTimeout(this.timer),
            this.active && (this.active.children("a").removeClass("ui-state-focus"),
            this.active = null,
            this._trigger("blur", e, {
                item: this.active
            }))
        },
        _startOpening: function(e) {
            clearTimeout(this.timer),
            "true" === e.attr("aria-hidden") && (this.timer = this._delay(function() {
                this._close(),
                this._open(e)
            }, this.delay))
        },
        _open: function(t) {
            var i = e.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer),
            this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"),
            t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
        },
        collapseAll: function(t, i) {
            clearTimeout(this.timer),
            this.timer = this._delay(function() {
                var s = i ? this.element : e(t && t.target).closest(this.element.find(".ui-menu"));
                s.length || (s = this.element),
                this._close(s),
                this.blur(t),
                this.activeMenu = s
            }, this.delay)
        },
        _close: function(e) {
            e || (e = this.active ? this.active.parent() : this.element),
            e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find("a.ui-state-active").removeClass("ui-state-active")
        },
        collapse: function(e) {
            var t = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            t && t.length && (this._close(),
            this.focus(e, t))
        },
        expand: function(e) {
            var t = this.active && this.active.children(".ui-menu ").children(".ui-menu-item").first();
            t && t.length && (this._open(t.parent()),
            this._delay(function() {
                this.focus(e, t)
            }))
        },
        next: function(e) {
            this._move("next", "first", e)
        },
        previous: function(e) {
            this._move("prev", "last", e)
        },
        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function(e, t, i) {
            var s;
            this.active && (s = "first" === e || "last" === e ? this.active["first" === e ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[e + "All"](".ui-menu-item").eq(0)),
            s && s.length && this.active || (s = this.activeMenu.children(".ui-menu-item")[t]()),
            this.focus(i, s)
        },
        nextPage: function(t) {
            var i, s, n;
            return this.active ? void (this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top,
            n = this.element.height(),
            this.active.nextAll(".ui-menu-item").each(function() {
                return i = e(this),
                0 > i.offset().top - s - n
            }),
            this.focus(t, i)) : this.focus(t, this.activeMenu.children(".ui-menu-item")[this.active ? "last" : "first"]()))) : void this.next(t)
        },
        previousPage: function(t) {
            var i, s, n;
            return this.active ? void (this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top,
            n = this.element.height(),
            this.active.prevAll(".ui-menu-item").each(function() {
                return i = e(this),
                i.offset().top - s + n > 0
            }),
            this.focus(t, i)) : this.focus(t, this.activeMenu.children(".ui-menu-item").first()))) : void this.next(t)
        },
        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function(t) {
            this.active = this.active || e(t.target).closest(".ui-menu-item");
            var i = {
                item: this.active
            };
            this.active.has(".ui-menu").length || this.collapseAll(t, !0),
            this._trigger("select", t, i)
        }
    })
}(jQuery),
function(e, t) {
    e.widget("ui.progressbar", {
        version: "1.10.4",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue(),
            this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }),
            this.valueDiv = e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),
            this._refreshValue()
        },
        _destroy: function() {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
            this.valueDiv.remove()
        },
        value: function(e) {
            return e === t ? this.options.value : (this.options.value = this._constrainedValue(e),
            this._refreshValue(),
            t)
        },
        _constrainedValue: function(e) {
            return e === t && (e = this.options.value),
            this.indeterminate = e === !1,
            "number" != typeof e && (e = 0),
            !this.indeterminate && Math.min(this.options.max, Math.max(this.min, e))
        },
        _setOptions: function(e) {
            var t = e.value;
            delete e.value,
            this._super(e),
            this.options.value = this._constrainedValue(t),
            this._refreshValue()
        },
        _setOption: function(e, t) {
            "max" === e && (t = Math.max(this.min, t)),
            this._super(e, t)
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function() {
            var t = this.options.value
              , i = this._percentage();
            this.valueDiv.toggle(this.indeterminate || t > this.min).toggleClass("ui-corner-right", t === this.options.max).width(i.toFixed(0) + "%"),
            this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate),
            this.indeterminate ? (this.element.removeAttr("aria-valuenow"),
            this.overlayDiv || (this.overlayDiv = e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": t
            }),
            this.overlayDiv && (this.overlayDiv.remove(),
            this.overlayDiv = null)),
            this.oldValue !== t && (this.oldValue = t,
            this._trigger("change")),
            t === this.options.max && this._trigger("complete")
        }
    })
}(jQuery),
function(e) {
    var t = 5;
    e.widget("ui.slider", e.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._keySliding = !1,
            this._mouseSliding = !1,
            this._animateOff = !0,
            this._handleIndex = null,
            this._detectOrientation(),
            this._mouseInit(),
            this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"),
            this._refresh(),
            this._setOption("disabled", this.options.disabled),
            this._animateOff = !1
        },
        _refresh: function() {
            this._createRange(),
            this._createHandles(),
            this._setupEvents(),
            this._refreshValue()
        },
        _createHandles: function() {
            var t, i, s = this.options, n = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"), a = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>", r = [];
            for (i = s.values && s.values.length || 1,
            n.length > i && (n.slice(i).remove(),
            n = n.slice(0, i)),
            t = n.length; i > t; t++)
                r.push(a);
            this.handles = n.add(e(r.join("")).appendTo(this.element)),
            this.handle = this.handles.eq(0),
            this.handles.each(function(t) {
                e(this).data("ui-slider-handle-index", t)
            })
        },
        _createRange: function() {
            var t = this.options
              , i = "";
            t.range ? (t.range === !0 && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]),
            this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                left: "",
                bottom: ""
            }) : (this.range = e("<div></div>").appendTo(this.element),
            i = "ui-slider-range ui-widget-header ui-corner-all"),
            this.range.addClass(i + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range : ""))) : (this.range && this.range.remove(),
            this.range = null)
        },
        _setupEvents: function() {
            var e = this.handles.add(this.range).filter("a");
            this._off(e),
            this._on(e, this._handleEvents),
            this._hoverable(e),
            this._focusable(e)
        },
        _destroy: function() {
            this.handles.remove(),
            this.range && this.range.remove(),
            this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),
            this._mouseDestroy()
        },
        _mouseCapture: function(t) {
            var i, s, n, a, r, o, l, h, c = this, d = this.options;
            return !d.disabled && (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            },
            this.elementOffset = this.element.offset(),
            i = {
                x: t.pageX,
                y: t.pageY
            },
            s = this._normValueFromMouse(i),
            n = this._valueMax() - this._valueMin() + 1,
            this.handles.each(function(t) {
                var i = Math.abs(s - c.values(t));
                (n > i || n === i && (t === c._lastChangedValue || c.values(t) === d.min)) && (n = i,
                a = e(this),
                r = t)
            }),
            o = this._start(t, r),
            o !== !1 && (this._mouseSliding = !0,
            this._handleIndex = r,
            a.addClass("ui-state-active").focus(),
            l = a.offset(),
            h = !e(t.target).parents().addBack().is(".ui-slider-handle"),
            this._clickOffset = h ? {
                left: 0,
                top: 0
            } : {
                left: t.pageX - l.left - a.width() / 2,
                top: t.pageY - l.top - a.height() / 2 - (parseInt(a.css("borderTopWidth"), 10) || 0) - (parseInt(a.css("borderBottomWidth"), 10) || 0) + (parseInt(a.css("marginTop"), 10) || 0)
            },
            this.handles.hasClass("ui-state-hover") || this._slide(t, r, s),
            this._animateOff = !0,
            !0))
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(e) {
            var t = {
                x: e.pageX,
                y: e.pageY
            }
              , i = this._normValueFromMouse(t);
            return this._slide(e, this._handleIndex, i),
            !1
        },
        _mouseStop: function(e) {
            return this.handles.removeClass("ui-state-active"),
            this._mouseSliding = !1,
            this._stop(e, this._handleIndex),
            this._change(e, this._handleIndex),
            this._handleIndex = null,
            this._clickOffset = null,
            this._animateOff = !1,
            !1
        },
        _detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(e) {
            var t, i, s, n, a;
            return "horizontal" === this.orientation ? (t = this.elementSize.width,
            i = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height,
            i = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)),
            s = i / t,
            s > 1 && (s = 1),
            0 > s && (s = 0),
            "vertical" === this.orientation && (s = 1 - s),
            n = this._valueMax() - this._valueMin(),
            a = this._valueMin() + s * n,
            this._trimAlignValue(a)
        },
        _start: function(e, t) {
            var i = {
                handle: this.handles[t],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (i.value = this.values(t),
            i.values = this.values()),
            this._trigger("start", e, i)
        },
        _slide: function(e, t, i) {
            var s, n, a;
            this.options.values && this.options.values.length ? (s = this.values(t ? 0 : 1),
            2 === this.options.values.length && this.options.range === !0 && (0 === t && i > s || 1 === t && s > i) && (i = s),
            i !== this.values(t) && (n = this.values(),
            n[t] = i,
            a = this._trigger("slide", e, {
                handle: this.handles[t],
                value: i,
                values: n
            }),
            s = this.values(t ? 0 : 1),
            a !== !1 && this.values(t, i))) : i !== this.value() && (a = this._trigger("slide", e, {
                handle: this.handles[t],
                value: i
            }),
            a !== !1 && this.value(i))
        },
        _stop: function(e, t) {
            var i = {
                handle: this.handles[t],
                value: this.value()
            };
            this.options.values && this.options.values.length && (i.value = this.values(t),
            i.values = this.values()),
            this._trigger("stop", e, i)
        },
        _change: function(e, t) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {
                    handle: this.handles[t],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (i.value = this.values(t),
                i.values = this.values()),
                this._lastChangedValue = t,
                this._trigger("change", e, i)
            }
        },
        value: function(e) {
            return arguments.length ? (this.options.value = this._trimAlignValue(e),
            this._refreshValue(),
            void this._change(null, 0)) : this._value()
        },
        values: function(t, i) {
            var s, n, a;
            if (arguments.length > 1)
                return this.options.values[t] = this._trimAlignValue(i),
                this._refreshValue(),
                void this._change(null, t);
            if (!arguments.length)
                return this._values();
            if (!e.isArray(arguments[0]))
                return this.options.values && this.options.values.length ? this._values(t) : this.value();
            for (s = this.options.values,
            n = arguments[0],
            a = 0; s.length > a; a += 1)
                s[a] = this._trimAlignValue(n[a]),
                this._change(null, a);
            this._refreshValue()
        },
        _setOption: function(t, i) {
            var s, n = 0;
            switch ("range" === t && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0),
            this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1),
            this.options.values = null)),
            e.isArray(this.options.values) && (n = this.options.values.length),
            e.Widget.prototype._setOption.apply(this, arguments),
            t) {
            case "orientation":
                this._detectOrientation(),
                this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation),
                this._refreshValue();
                break;
            case "value":
                this._animateOff = !0,
                this._refreshValue(),
                this._change(null, 0),
                this._animateOff = !1;
                break;
            case "values":
                for (this._animateOff = !0,
                this._refreshValue(),
                s = 0; n > s; s += 1)
                    this._change(null, s);
                this._animateOff = !1;
                break;
            case "min":
            case "max":
                this._animateOff = !0,
                this._refreshValue(),
                this._animateOff = !1;
                break;
            case "range":
                this._animateOff = !0,
                this._refresh(),
                this._animateOff = !1
            }
        },
        _value: function() {
            var e = this.options.value;
            return e = this._trimAlignValue(e)
        },
        _values: function(e) {
            var t, i, s;
            if (arguments.length)
                return t = this.options.values[e],
                t = this._trimAlignValue(t);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(),
                s = 0; i.length > s; s += 1)
                    i[s] = this._trimAlignValue(i[s]);
                return i
            }
            return []
        },
        _trimAlignValue: function(e) {
            if (this._valueMin() >= e)
                return this._valueMin();
            if (e >= this._valueMax())
                return this._valueMax();
            var t = this.options.step > 0 ? this.options.step : 1
              , i = (e - this._valueMin()) % t
              , s = e - i;
            return 2 * Math.abs(i) >= t && (s += i > 0 ? t : -t),
            parseFloat(s.toFixed(5))
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.options.max
        },
        _refreshValue: function() {
            var t, i, s, n, a, r = this.options.range, o = this.options, l = this, h = !this._animateOff && o.animate, c = {};
            this.options.values && this.options.values.length ? this.handles.each(function(s) {
                i = 100 * ((l.values(s) - l._valueMin()) / (l._valueMax() - l._valueMin())),
                c["horizontal" === l.orientation ? "left" : "bottom"] = i + "%",
                e(this).stop(1, 1)[h ? "animate" : "css"](c, o.animate),
                l.options.range === !0 && ("horizontal" === l.orientation ? (0 === s && l.range.stop(1, 1)[h ? "animate" : "css"]({
                    left: i + "%"
                }, o.animate),
                1 === s && l.range[h ? "animate" : "css"]({
                    width: i - t + "%"
                }, {
                    queue: !1,
                    duration: o.animate
                })) : (0 === s && l.range.stop(1, 1)[h ? "animate" : "css"]({
                    bottom: i + "%"
                }, o.animate),
                1 === s && l.range[h ? "animate" : "css"]({
                    height: i - t + "%"
                }, {
                    queue: !1,
                    duration: o.animate
                }))),
                t = i
            }) : (s = this.value(),
            n = this._valueMin(),
            a = this._valueMax(),
            i = a !== n ? 100 * ((s - n) / (a - n)) : 0,
            c["horizontal" === this.orientation ? "left" : "bottom"] = i + "%",
            this.handle.stop(1, 1)[h ? "animate" : "css"](c, o.animate),
            "min" === r && "horizontal" === this.orientation && this.range.stop(1, 1)[h ? "animate" : "css"]({
                width: i + "%"
            }, o.animate),
            "max" === r && "horizontal" === this.orientation && this.range[h ? "animate" : "css"]({
                width: 100 - i + "%"
            }, {
                queue: !1,
                duration: o.animate
            }),
            "min" === r && "vertical" === this.orientation && this.range.stop(1, 1)[h ? "animate" : "css"]({
                height: i + "%"
            }, o.animate),
            "max" === r && "vertical" === this.orientation && this.range[h ? "animate" : "css"]({
                height: 100 - i + "%"
            }, {
                queue: !1,
                duration: o.animate
            }))
        },
        _handleEvents: {
            keydown: function(i) {
                var s, n, a, r, o = e(i.target).data("ui-slider-handle-index");
                switch (i.keyCode) {
                case e.ui.keyCode.HOME:
                case e.ui.keyCode.END:
                case e.ui.keyCode.PAGE_UP:
                case e.ui.keyCode.PAGE_DOWN:
                case e.ui.keyCode.UP:
                case e.ui.keyCode.RIGHT:
                case e.ui.keyCode.DOWN:
                case e.ui.keyCode.LEFT:
                    if (i.preventDefault(),
                    !this._keySliding && (this._keySliding = !0,
                    e(i.target).addClass("ui-state-active"),
                    s = this._start(i, o),
                    s === !1))
                        return
                }
                switch (r = this.options.step,
                n = a = this.options.values && this.options.values.length ? this.values(o) : this.value(),
                i.keyCode) {
                case e.ui.keyCode.HOME:
                    a = this._valueMin();
                    break;
                case e.ui.keyCode.END:
                    a = this._valueMax();
                    break;
                case e.ui.keyCode.PAGE_UP:
                    a = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / t);
                    break;
                case e.ui.keyCode.PAGE_DOWN:
                    a = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / t);
                    break;
                case e.ui.keyCode.UP:
                case e.ui.keyCode.RIGHT:
                    if (n === this._valueMax())
                        return;
                    a = this._trimAlignValue(n + r);
                    break;
                case e.ui.keyCode.DOWN:
                case e.ui.keyCode.LEFT:
                    if (n === this._valueMin())
                        return;
                    a = this._trimAlignValue(n - r)
                }
                this._slide(i, o, a)
            },
            click: function(e) {
                e.preventDefault()
            },
            keyup: function(t) {
                var i = e(t.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1,
                this._stop(t, i),
                this._change(t, i),
                e(t.target).removeClass("ui-state-active"))
            }
        }
    })
}(jQuery),
function(e, t) {
    function i() {
        return ++n
    }
    function s(e) {
        return e = e.cloneNode(!1),
        e.hash.length > 1 && decodeURIComponent(e.href.replace(a, "")) === decodeURIComponent(location.href.replace(a, ""))
    }
    var n = 0
      , a = /#.*$/;
    e.widget("ui.tabs", {
        version: "1.10.4",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _create: function() {
            var t = this
              , i = this.options;
            this.running = !1,
            this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function(t) {
                e(this).is(".ui-state-disabled") && t.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                e(this).closest("li").is(".ui-state-disabled") && this.blur()
            }),
            this._processTabs(),
            i.active = this._initialActive(),
            e.isArray(i.disabled) && (i.disabled = e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"), function(e) {
                return t.tabs.index(e)
            }))).sort()),
            this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(i.active) : e(),
            this._refresh(),
            this.active.length && this.load(i.active)
        },
        _initialActive: function() {
            var i = this.options.active
              , s = this.options.collapsible
              , n = location.hash.substring(1);
            return null === i && (n && this.tabs.each(function(s, a) {
                return e(a).attr("aria-controls") === n ? (i = s,
                !1) : t
            }),
            null === i && (i = this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
            (null === i || -1 === i) && (i = !!this.tabs.length && 0)),
            i !== !1 && (i = this.tabs.index(this.tabs.eq(i)),
            -1 === i && (i = !s && 0)),
            !s && i === !1 && this.anchors.length && (i = 0),
            i
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : e()
            }
        },
        _tabKeydown: function(i) {
            var s = e(this.document[0].activeElement).closest("li")
              , n = this.tabs.index(s)
              , a = !0;
            if (!this._handlePageNav(i)) {
                switch (i.keyCode) {
                case e.ui.keyCode.RIGHT:
                case e.ui.keyCode.DOWN:
                    n++;
                    break;
                case e.ui.keyCode.UP:
                case e.ui.keyCode.LEFT:
                    a = !1,
                    n--;
                    break;
                case e.ui.keyCode.END:
                    n = this.anchors.length - 1;
                    break;
                case e.ui.keyCode.HOME:
                    n = 0;
                    break;
                case e.ui.keyCode.SPACE:
                    return i.preventDefault(),
                    clearTimeout(this.activating),
                    this._activate(n),
                    t;
                case e.ui.keyCode.ENTER:
                    return i.preventDefault(),
                    clearTimeout(this.activating),
                    this._activate(n !== this.options.active && n),
                    t;
                default:
                    return
                }
                i.preventDefault(),
                clearTimeout(this.activating),
                n = this._focusNextTab(n, a),
                i.ctrlKey || (s.attr("aria-selected", "false"),
                this.tabs.eq(n).attr("aria-selected", "true"),
                this.activating = this._delay(function() {
                    this.option("active", n)
                }, this.delay))
            }
        },
        _panelKeydown: function(t) {
            this._handlePageNav(t) || t.ctrlKey && t.keyCode === e.ui.keyCode.UP && (t.preventDefault(),
            this.active.focus())
        },
        _handlePageNav: function(i) {
            return i.altKey && i.keyCode === e.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)),
            !0) : i.altKey && i.keyCode === e.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)),
            !0) : t
        },
        _findNextTab: function(t, i) {
            function s() {
                return t > n && (t = 0),
                0 > t && (t = n),
                t
            }
            for (var n = this.tabs.length - 1; -1 !== e.inArray(s(), this.options.disabled); )
                t = i ? t + 1 : t - 1;
            return t
        },
        _focusNextTab: function(e, t) {
            return e = this._findNextTab(e, t),
            this.tabs.eq(e).focus(),
            e
        },
        _setOption: function(e, i) {
            return "active" === e ? (this._activate(i),
            t) : "disabled" === e ? (this._setupDisabled(i),
            t) : (this._super(e, i),
            "collapsible" === e && (this.element.toggleClass("ui-tabs-collapsible", i),
            i || this.options.active !== !1 || this._activate(0)),
            "event" === e && this._setupEvents(i),
            "heightStyle" === e && this._setupHeightStyle(i),
            t)
        },
        _tabId: function(e) {
            return e.attr("aria-controls") || "ui-tabs-" + i()
        },
        _sanitizeSelector: function(e) {
            return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function() {
            var t = this.options
              , i = this.tablist.children(":has(a[href])");
            t.disabled = e.map(i.filter(".ui-state-disabled"), function(e) {
                return i.index(e)
            }),
            this._processTabs(),
            t.active !== !1 && this.anchors.length ? this.active.length && !e.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1,
            this.active = e()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1,
            this.active = e()),
            this._refresh()
        },
        _refresh: function() {
            this._setupDisabled(this.options.disabled),
            this._setupEvents(this.options.event),
            this._setupHeightStyle(this.options.heightStyle),
            this.tabs.not(this.active).attr({
                "aria-selected": "false",
                tabIndex: -1
            }),
            this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-expanded": "false",
                "aria-hidden": "true"
            }),
            this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                tabIndex: 0
            }),
            this._getPanelForTab(this.active).show().attr({
                "aria-expanded": "true",
                "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function() {
            var t = this;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist"),
            this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            }),
            this.anchors = this.tabs.map(function() {
                return e("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            }),
            this.panels = e(),
            this.anchors.each(function(i, n) {
                var a, r, o, l = e(n).uniqueId().attr("id"), h = e(n).closest("li"), c = h.attr("aria-controls");
                s(n) ? (a = n.hash,
                r = t.element.find(t._sanitizeSelector(a))) : (o = t._tabId(h),
                a = "#" + o,
                r = t.element.find(a),
                r.length || (r = t._createPanel(o),
                r.insertAfter(t.panels[i - 1] || t.tablist)),
                r.attr("aria-live", "polite")),
                r.length && (t.panels = t.panels.add(r)),
                c && h.data("ui-tabs-aria-controls", c),
                h.attr({
                    "aria-controls": a.substring(1),
                    "aria-labelledby": l
                }),
                r.attr("aria-labelledby", l)
            }),
            this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel")
        },
        _getList: function() {
            return this.tablist || this.element.find("ol,ul").eq(0)
        },
        _createPanel: function(t) {
            return e("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function(t) {
            e.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1);
            for (var i, s = 0; i = this.tabs[s]; s++)
                t === !0 || -1 !== e.inArray(s, t) ? e(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = t
        },
        _setupEvents: function(t) {
            var i = {
                click: function(e) {
                    e.preventDefault()
                }
            };
            t && e.each(t.split(" "), function(e, t) {
                i[t] = "_eventHandler"
            }),
            this._off(this.anchors.add(this.tabs).add(this.panels)),
            this._on(this.anchors, i),
            this._on(this.tabs, {
                keydown: "_tabKeydown"
            }),
            this._on(this.panels, {
                keydown: "_panelKeydown"
            }),
            this._focusable(this.tabs),
            this._hoverable(this.tabs)
        },
        _setupHeightStyle: function(t) {
            var i, s = this.element.parent();
            "fill" === t ? (i = s.height(),
            i -= this.element.outerHeight() - this.element.height(),
            this.element.siblings(":visible").each(function() {
                var t = e(this)
                  , s = t.css("position");
                "absolute" !== s && "fixed" !== s && (i -= t.outerHeight(!0))
            }),
            this.element.children().not(this.panels).each(function() {
                i -= e(this).outerHeight(!0)
            }),
            this.panels.each(function() {
                e(this).height(Math.max(0, i - e(this).innerHeight() + e(this).height()))
            }).css("overflow", "auto")) : "auto" === t && (i = 0,
            this.panels.each(function() {
                i = Math.max(i, e(this).height("").height())
            }).height(i))
        },
        _eventHandler: function(t) {
            var i = this.options
              , s = this.active
              , n = e(t.currentTarget)
              , a = n.closest("li")
              , r = a[0] === s[0]
              , o = r && i.collapsible
              , l = o ? e() : this._getPanelForTab(a)
              , h = s.length ? this._getPanelForTab(s) : e()
              , c = {
                oldTab: s,
                oldPanel: h,
                newTab: o ? e() : a,
                newPanel: l
            };
            t.preventDefault(),
            a.hasClass("ui-state-disabled") || a.hasClass("ui-tabs-loading") || this.running || r && !i.collapsible || this._trigger("beforeActivate", t, c) === !1 || (i.active = !o && this.tabs.index(a),
            this.active = r ? e() : a,
            this.xhr && this.xhr.abort(),
            h.length || l.length || e.error("jQuery UI Tabs: Mismatching fragment identifier."),
            l.length && this.load(this.tabs.index(a), t),
            this._toggle(t, c))
        },
        _toggle: function(t, i) {
            function s() {
                a.running = !1,
                a._trigger("activate", t, i)
            }
            function n() {
                i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),
                r.length && a.options.show ? a._show(r, a.options.show, s) : (r.show(),
                s())
            }
            var a = this
              , r = i.newPanel
              , o = i.oldPanel;
            this.running = !0,
            o.length && this.options.hide ? this._hide(o, this.options.hide, function() {
                i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
                n()
            }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
            o.hide(),
            n()),
            o.attr({
                "aria-expanded": "false",
                "aria-hidden": "true"
            }),
            i.oldTab.attr("aria-selected", "false"),
            r.length && o.length ? i.oldTab.attr("tabIndex", -1) : r.length && this.tabs.filter(function() {
                return 0 === e(this).attr("tabIndex")
            }).attr("tabIndex", -1),
            r.attr({
                "aria-expanded": "true",
                "aria-hidden": "false"
            }),
            i.newTab.attr({
                "aria-selected": "true",
                tabIndex: 0
            })
        },
        _activate: function(t) {
            var i, s = this._findActive(t);
            s[0] !== this.active[0] && (s.length || (s = this.active),
            i = s.find(".ui-tabs-anchor")[0],
            this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: e.noop
            }))
        },
        _findActive: function(t) {
            return t === !1 ? e() : this.tabs.eq(t)
        },
        _getIndex: function(e) {
            return "string" == typeof e && (e = this.anchors.index(this.anchors.filter("[href$='" + e + "']"))),
            e
        },
        _destroy: function() {
            this.xhr && this.xhr.abort(),
            this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),
            this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),
            this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),
            this.tabs.add(this.panels).each(function() {
                e.data(this, "ui-tabs-destroy") ? e(this).remove() : e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }),
            this.tabs.each(function() {
                var t = e(this)
                  , i = t.data("ui-tabs-aria-controls");
                i ? t.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls")
            }),
            this.panels.show(),
            "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function(i) {
            var s = this.options.disabled;
            s !== !1 && (i === t ? s = !1 : (i = this._getIndex(i),
            s = e.isArray(s) ? e.map(s, function(e) {
                return e !== i ? e : null
            }) : e.map(this.tabs, function(e, t) {
                return t !== i ? t : null
            })),
            this._setupDisabled(s))
        },
        disable: function(i) {
            var s = this.options.disabled;
            if (s !== !0) {
                if (i === t)
                    s = !0;
                else {
                    if (i = this._getIndex(i),
                    -1 !== e.inArray(i, s))
                        return;
                    s = e.isArray(s) ? e.merge([i], s).sort() : [i]
                }
                this._setupDisabled(s)
            }
        },
        load: function(t, i) {
            t = this._getIndex(t);
            var n = this
              , a = this.tabs.eq(t)
              , r = a.find(".ui-tabs-anchor")
              , o = this._getPanelForTab(a)
              , l = {
                tab: a,
                panel: o
            };
            s(r[0]) || (this.xhr = e.ajax(this._ajaxSettings(r, i, l)),
            this.xhr && "canceled" !== this.xhr.statusText && (a.addClass("ui-tabs-loading"),
            o.attr("aria-busy", "true"),
            this.xhr.success(function(e) {
                setTimeout(function() {
                    o.html(e),
                    n._trigger("load", i, l)
                }, 1)
            }).complete(function(e, t) {
                setTimeout(function() {
                    "abort" === t && n.panels.stop(!1, !0),
                    a.removeClass("ui-tabs-loading"),
                    o.removeAttr("aria-busy"),
                    e === n.xhr && delete n.xhr
                }, 1)
            })))
        },
        _ajaxSettings: function(t, i, s) {
            var n = this;
            return {
                url: t.attr("href"),
                beforeSend: function(t, a) {
                    return n._trigger("beforeLoad", i, e.extend({
                        jqXHR: t,
                        ajaxSettings: a
                    }, s))
                }
            }
        },
        _getPanelForTab: function(t) {
            var i = e(t).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + i))
        }
    })
}(jQuery),
function(e, t) {
    var i = "ui-effects-";
    e.effects = {
        effect: {}
    },
    function(e, t) {
        function i(e, t, i) {
            var s = d[t.type] || {};
            return null == e ? i || !t.def ? null : t.def : (e = s.floor ? ~~e : parseFloat(e),
            isNaN(e) ? t.def : s.mod ? (e + s.mod) % s.mod : 0 > e ? 0 : e > s.max ? s.max : e)
        }
        function s(i) {
            var s = h()
              , n = s._rgba = [];
            return i = i.toLowerCase(),
            f(l, function(e, a) {
                var r, o = a.re.exec(i), l = o && a.parse(o), h = a.space || "rgba";
                return l ? (r = s[h](l),
                s[c[h].cache] = r[c[h].cache],
                n = s._rgba = r._rgba,
                !1) : t
            }),
            n.length ? ("0,0,0,0" === n.join() && e.extend(n, a.transparent),
            s) : a[i]
        }
        function n(e, t, i) {
            return i = (i + 1) % 1,
            1 > 6 * i ? e + 6 * (t - e) * i : 1 > 2 * i ? t : 2 > 3 * i ? e + 6 * (t - e) * (2 / 3 - i) : e
        }
        var a, r = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor", o = /^([\-+])=\s*(\d+\.?\d*)/, l = [{
            re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [e[1], e[2], e[3], e[4]]
            }
        }, {
            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
            }
        }, {
            re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
            parse: function(e) {
                return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
            }
        }, {
            re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
            parse: function(e) {
                return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
            }
        }, {
            re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            space: "hsla",
            parse: function(e) {
                return [e[1], e[2] / 100, e[3] / 100, e[4]]
            }
        }], h = e.Color = function(t, i, s, n) {
            return new e.Color.fn.parse(t,i,s,n)
        }
        , c = {
            rgba: {
                props: {
                    red: {
                        idx: 0,
                        type: "byte"
                    },
                    green: {
                        idx: 1,
                        type: "byte"
                    },
                    blue: {
                        idx: 2,
                        type: "byte"
                    }
                }
            },
            hsla: {
                props: {
                    hue: {
                        idx: 0,
                        type: "degrees"
                    },
                    saturation: {
                        idx: 1,
                        type: "percent"
                    },
                    lightness: {
                        idx: 2,
                        type: "percent"
                    }
                }
            }
        }, d = {
            byte: {
                floor: !0,
                max: 255
            },
            percent: {
                max: 1
            },
            degrees: {
                mod: 360,
                floor: !0
            }
        }, u = h.support = {}, p = e("<p>")[0], f = e.each;
        p.style.cssText = "background-color:rgba(1,1,1,.5)",
        u.rgba = p.style.backgroundColor.indexOf("rgba") > -1,
        f(c, function(e, t) {
            t.cache = "_" + e,
            t.props.alpha = {
                idx: 3,
                type: "percent",
                def: 1
            }
        }),
        h.fn = e.extend(h.prototype, {
            parse: function(n, r, o, l) {
                if (n === t)
                    return this._rgba = [null, null, null, null],
                    this;
                (n.jquery || n.nodeType) && (n = e(n).css(r),
                r = t);
                var d = this
                  , u = e.type(n)
                  , p = this._rgba = [];
                return r !== t && (n = [n, r, o, l],
                u = "array"),
                "string" === u ? this.parse(s(n) || a._default) : "array" === u ? (f(c.rgba.props, function(e, t) {
                    p[t.idx] = i(n[t.idx], t)
                }),
                this) : "object" === u ? (n instanceof h ? f(c, function(e, t) {
                    n[t.cache] && (d[t.cache] = n[t.cache].slice())
                }) : f(c, function(t, s) {
                    var a = s.cache;
                    f(s.props, function(e, t) {
                        if (!d[a] && s.to) {
                            if ("alpha" === e || null == n[e])
                                return;
                            d[a] = s.to(d._rgba)
                        }
                        d[a][t.idx] = i(n[e], t, !0)
                    }),
                    d[a] && 0 > e.inArray(null, d[a].slice(0, 3)) && (d[a][3] = 1,
                    s.from && (d._rgba = s.from(d[a])))
                }),
                this) : t
            },
            is: function(e) {
                var i = h(e)
                  , s = !0
                  , n = this;
                return f(c, function(e, a) {
                    var r, o = i[a.cache];
                    return o && (r = n[a.cache] || a.to && a.to(n._rgba) || [],
                    f(a.props, function(e, i) {
                        return null != o[i.idx] ? s = o[i.idx] === r[i.idx] : t
                    })),
                    s
                }),
                s
            },
            _space: function() {
                var e = []
                  , t = this;
                return f(c, function(i, s) {
                    t[s.cache] && e.push(i)
                }),
                e.pop()
            },
            transition: function(e, t) {
                var s = h(e)
                  , n = s._space()
                  , a = c[n]
                  , r = 0 === this.alpha() ? h("transparent") : this
                  , o = r[a.cache] || a.to(r._rgba)
                  , l = o.slice();
                return s = s[a.cache],
                f(a.props, function(e, n) {
                    var a = n.idx
                      , r = o[a]
                      , h = s[a]
                      , c = d[n.type] || {};
                    null !== h && (null === r ? l[a] = h : (c.mod && (h - r > c.mod / 2 ? r += c.mod : r - h > c.mod / 2 && (r -= c.mod)),
                    l[a] = i((h - r) * t + r, n)))
                }),
                this[n](l)
            },
            blend: function(t) {
                if (1 === this._rgba[3])
                    return this;
                var i = this._rgba.slice()
                  , s = i.pop()
                  , n = h(t)._rgba;
                return h(e.map(i, function(e, t) {
                    return (1 - s) * n[t] + s * e
                }))
            },
            toRgbaString: function() {
                var t = "rgba("
                  , i = e.map(this._rgba, function(e, t) {
                    return null == e ? t > 2 ? 1 : 0 : e
                });
                return 1 === i[3] && (i.pop(),
                t = "rgb("),
                t + i.join() + ")"
            },
            toHslaString: function() {
                var t = "hsla("
                  , i = e.map(this.hsla(), function(e, t) {
                    return null == e && (e = t > 2 ? 1 : 0),
                    t && 3 > t && (e = Math.round(100 * e) + "%"),
                    e
                });
                return 1 === i[3] && (i.pop(),
                t = "hsl("),
                t + i.join() + ")"
            },
            toHexString: function(t) {
                var i = this._rgba.slice()
                  , s = i.pop();
                return t && i.push(~~(255 * s)),
                "#" + e.map(i, function(e) {
                    return e = (e || 0).toString(16),
                    1 === e.length ? "0" + e : e
                }).join("")
            },
            toString: function() {
                return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
            }
        }),
        h.fn.parse.prototype = h.fn,
        c.hsla.to = function(e) {
            if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
            var t, i, s = e[0] / 255, n = e[1] / 255, a = e[2] / 255, r = e[3], o = Math.max(s, n, a), l = Math.min(s, n, a), h = o - l, c = o + l, d = .5 * c;
            return t = l === o ? 0 : s === o ? 60 * (n - a) / h + 360 : n === o ? 60 * (a - s) / h + 120 : 60 * (s - n) / h + 240,
            i = 0 === h ? 0 : .5 >= d ? h / c : h / (2 - c),
            [Math.round(t) % 360, i, d, null == r ? 1 : r]
        }
        ,
        c.hsla.from = function(e) {
            if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
            var t = e[0] / 360
              , i = e[1]
              , s = e[2]
              , a = e[3]
              , r = .5 >= s ? s * (1 + i) : s + i - s * i
              , o = 2 * s - r;
            return [Math.round(255 * n(o, r, t + 1 / 3)), Math.round(255 * n(o, r, t)), Math.round(255 * n(o, r, t - 1 / 3)), a]
        }
        ,
        f(c, function(s, n) {
            var a = n.props
              , r = n.cache
              , l = n.to
              , c = n.from;
            h.fn[s] = function(s) {
                if (l && !this[r] && (this[r] = l(this._rgba)),
                s === t)
                    return this[r].slice();
                var n, o = e.type(s), d = "array" === o || "object" === o ? s : arguments, u = this[r].slice();
                return f(a, function(e, t) {
                    var s = d["object" === o ? e : t.idx];
                    null == s && (s = u[t.idx]),
                    u[t.idx] = i(s, t)
                }),
                c ? (n = h(c(u)),
                n[r] = u,
                n) : h(u)
            }
            ,
            f(a, function(t, i) {
                h.fn[t] || (h.fn[t] = function(n) {
                    var a, r = e.type(n), l = "alpha" === t ? this._hsla ? "hsla" : "rgba" : s, h = this[l](), c = h[i.idx];
                    return "undefined" === r ? c : ("function" === r && (n = n.call(this, c),
                    r = e.type(n)),
                    null == n && i.empty ? this : ("string" === r && (a = o.exec(n),
                    a && (n = c + parseFloat(a[2]) * ("+" === a[1] ? 1 : -1))),
                    h[i.idx] = n,
                    this[l](h)))
                }
                )
            })
        }),
        h.hook = function(t) {
            var i = t.split(" ");
            f(i, function(t, i) {
                e.cssHooks[i] = {
                    set: function(t, n) {
                        var a, r, o = "";
                        if ("transparent" !== n && ("string" !== e.type(n) || (a = s(n)))) {
                            if (n = h(a || n),
                            !u.rgba && 1 !== n._rgba[3]) {
                                for (r = "backgroundColor" === i ? t.parentNode : t; ("" === o || "transparent" === o) && r && r.style; )
                                    try {
                                        o = e.css(r, "backgroundColor"),
                                        r = r.parentNode
                                    } catch (e) {}
                                n = n.blend(o && "transparent" !== o ? o : "_default")
                            }
                            n = n.toRgbaString()
                        }
                        try {
                            t.style[i] = n
                        } catch (e) {}
                    }
                },
                e.fx.step[i] = function(t) {
                    t.colorInit || (t.start = h(t.elem, i),
                    t.end = h(t.end),
                    t.colorInit = !0),
                    e.cssHooks[i].set(t.elem, t.start.transition(t.end, t.pos))
                }
            })
        }
        ,
        h.hook(r),
        e.cssHooks.borderColor = {
            expand: function(e) {
                var t = {};
                return f(["Top", "Right", "Bottom", "Left"], function(i, s) {
                    t["border" + s + "Color"] = e
                }),
                t
            }
        },
        a = e.Color.names = {
            aqua: "#00ffff",
            black: "#000000",
            blue: "#0000ff",
            fuchsia: "#ff00ff",
            gray: "#808080",
            green: "#008000",
            lime: "#00ff00",
            maroon: "#800000",
            navy: "#000080",
            olive: "#808000",
            purple: "#800080",
            red: "#ff0000",
            silver: "#c0c0c0",
            teal: "#008080",
            white: "#ffffff",
            yellow: "#ffff00",
            transparent: [null, null, null, 0],
            _default: "#ffffff"
        }
    }(jQuery),
    function() {
        function i(t) {
            var i, s, n = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle, a = {};
            if (n && n.length && n[0] && n[n[0]])
                for (s = n.length; s--; )
                    i = n[s],
                    "string" == typeof n[i] && (a[e.camelCase(i)] = n[i]);
            else
                for (i in n)
                    "string" == typeof n[i] && (a[i] = n[i]);
            return a
        }
        function s(t, i) {
            var s, n, r = {};
            for (s in i)
                n = i[s],
                t[s] !== n && (a[s] || (e.fx.step[s] || !isNaN(parseFloat(n))) && (r[s] = n));
            return r
        }
        var n = ["add", "remove", "toggle"]
          , a = {
            border: 1,
            borderBottom: 1,
            borderColor: 1,
            borderLeft: 1,
            borderRight: 1,
            borderTop: 1,
            borderWidth: 1,
            margin: 1,
            padding: 1
        };
        e.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(t, i) {
            e.fx.step[i] = function(e) {
                ("none" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr) && (jQuery.style(e.elem, i, e.end),
                e.setAttr = !0)
            }
        }),
        e.fn.addBack || (e.fn.addBack = function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
        ),
        e.effects.animateClass = function(t, a, r, o) {
            var l = e.speed(a, r, o);
            return this.queue(function() {
                var a, r = e(this), o = r.attr("class") || "", h = l.children ? r.find("*").addBack() : r;
                h = h.map(function() {
                    var t = e(this);
                    return {
                        el: t,
                        start: i(this)
                    }
                }),
                a = function() {
                    e.each(n, function(e, i) {
                        t[i] && r[i + "Class"](t[i])
                    })
                }
                ,
                a(),
                h = h.map(function() {
                    return this.end = i(this.el[0]),
                    this.diff = s(this.start, this.end),
                    this
                }),
                r.attr("class", o),
                h = h.map(function() {
                    var t = this
                      , i = e.Deferred()
                      , s = e.extend({}, l, {
                        queue: !1,
                        complete: function() {
                            i.resolve(t)
                        }
                    });
                    return this.el.animate(this.diff, s),
                    i.promise()
                }),
                e.when.apply(e, h.get()).done(function() {
                    a(),
                    e.each(arguments, function() {
                        var t = this.el;
                        e.each(this.diff, function(e) {
                            t.css(e, "")
                        })
                    }),
                    l.complete.call(r[0])
                })
            })
        }
        ,
        e.fn.extend({
            addClass: function(t) {
                return function(i, s, n, a) {
                    return s ? e.effects.animateClass.call(this, {
                        add: i
                    }, s, n, a) : t.apply(this, arguments)
                }
            }(e.fn.addClass),
            removeClass: function(t) {
                return function(i, s, n, a) {
                    return arguments.length > 1 ? e.effects.animateClass.call(this, {
                        remove: i
                    }, s, n, a) : t.apply(this, arguments)
                }
            }(e.fn.removeClass),
            toggleClass: function(i) {
                return function(s, n, a, r, o) {
                    return "boolean" == typeof n || n === t ? a ? e.effects.animateClass.call(this, n ? {
                        add: s
                    } : {
                        remove: s
                    }, a, r, o) : i.apply(this, arguments) : e.effects.animateClass.call(this, {
                        toggle: s
                    }, n, a, r)
                }
            }(e.fn.toggleClass),
            switchClass: function(t, i, s, n, a) {
                return e.effects.animateClass.call(this, {
                    add: i,
                    remove: t
                }, s, n, a)
            }
        })
    }(),
    function() {
        function s(t, i, s, n) {
            return e.isPlainObject(t) && (i = t,
            t = t.effect),
            t = {
                effect: t
            },
            null == i && (i = {}),
            e.isFunction(i) && (n = i,
            s = null,
            i = {}),
            ("number" == typeof i || e.fx.speeds[i]) && (n = s,
            s = i,
            i = {}),
            e.isFunction(s) && (n = s,
            s = null),
            i && e.extend(t, i),
            s = s || i.duration,
            t.duration = e.fx.off ? 0 : "number" == typeof s ? s : s in e.fx.speeds ? e.fx.speeds[s] : e.fx.speeds._default,
            t.complete = n || i.complete,
            t
        }
        function n(t) {
            return !(t && "number" != typeof t && !e.fx.speeds[t]) || ("string" == typeof t && !e.effects.effect[t] || (!!e.isFunction(t) || "object" == typeof t && !t.effect))
        }
        e.extend(e.effects, {
            version: "1.10.4",
            save: function(e, t) {
                for (var s = 0; t.length > s; s++)
                    null !== t[s] && e.data(i + t[s], e[0].style[t[s]])
            },
            restore: function(e, s) {
                var n, a;
                for (a = 0; s.length > a; a++)
                    null !== s[a] && (n = e.data(i + s[a]),
                    n === t && (n = ""),
                    e.css(s[a], n))
            },
            setMode: function(e, t) {
                return "toggle" === t && (t = e.is(":hidden") ? "show" : "hide"),
                t
            },
            getBaseline: function(e, t) {
                var i, s;
                switch (e[0]) {
                case "top":
                    i = 0;
                    break;
                case "middle":
                    i = .5;
                    break;
                case "bottom":
                    i = 1;
                    break;
                default:
                    i = e[0] / t.height
                }
                switch (e[1]) {
                case "left":
                    s = 0;
                    break;
                case "center":
                    s = .5;
                    break;
                case "right":
                    s = 1;
                    break;
                default:
                    s = e[1] / t.width
                }
                return {
                    x: s,
                    y: i
                }
            },
            createWrapper: function(t) {
                if (t.parent().is(".ui-effects-wrapper"))
                    return t.parent();
                var i = {
                    width: t.outerWidth(!0),
                    height: t.outerHeight(!0),
                    float: t.css("float")
                }
                  , s = e("<div></div>").addClass("ui-effects-wrapper").css({
                    fontSize: "100%",
                    background: "transparent",
                    border: "none",
                    margin: 0,
                    padding: 0
                })
                  , n = {
                    width: t.width(),
                    height: t.height()
                }
                  , a = document.activeElement;
                try {
                    a.id
                } catch (e) {
                    a = document.body
                }
                return t.wrap(s),
                (t[0] === a || e.contains(t[0], a)) && e(a).focus(),
                s = t.parent(),
                "static" === t.css("position") ? (s.css({
                    position: "relative"
                }),
                t.css({
                    position: "relative"
                })) : (e.extend(i, {
                    position: t.css("position"),
                    zIndex: t.css("z-index")
                }),
                e.each(["top", "left", "bottom", "right"], function(e, s) {
                    i[s] = t.css(s),
                    isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
                }),
                t.css({
                    position: "relative",
                    top: 0,
                    left: 0,
                    right: "auto",
                    bottom: "auto"
                })),
                t.css(n),
                s.css(i).show()
            },
            removeWrapper: function(t) {
                var i = document.activeElement;
                return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t),
                (t[0] === i || e.contains(t[0], i)) && e(i).focus()),
                t
            },
            setTransition: function(t, i, s, n) {
                return n = n || {},
                e.each(i, function(e, i) {
                    var a = t.cssUnit(i);
                    a[0] > 0 && (n[i] = a[0] * s + a[1])
                }),
                n
            }
        }),
        e.fn.extend({
            effect: function() {
                function t(t) {
                    function s() {
                        e.isFunction(a) && a.call(n[0]),
                        e.isFunction(t) && t()
                    }
                    var n = e(this)
                      , a = i.complete
                      , o = i.mode;
                    (n.is(":hidden") ? "hide" === o : "show" === o) ? (n[o](),
                    s()) : r.call(n[0], i, s)
                }
                var i = s.apply(this, arguments)
                  , n = i.mode
                  , a = i.queue
                  , r = e.effects.effect[i.effect];
                return e.fx.off || !r ? n ? this[n](i.duration, i.complete) : this.each(function() {
                    i.complete && i.complete.call(this)
                }) : a === !1 ? this.each(t) : this.queue(a || "fx", t)
            },
            show: function(e) {
                return function(t) {
                    if (n(t))
                        return e.apply(this, arguments);
                    var i = s.apply(this, arguments);
                    return i.mode = "show",
                    this.effect.call(this, i)
                }
            }(e.fn.show),
            hide: function(e) {
                return function(t) {
                    if (n(t))
                        return e.apply(this, arguments);
                    var i = s.apply(this, arguments);
                    return i.mode = "hide",
                    this.effect.call(this, i)
                }
            }(e.fn.hide),
            toggle: function(e) {
                return function(t) {
                    if (n(t) || "boolean" == typeof t)
                        return e.apply(this, arguments);
                    var i = s.apply(this, arguments);
                    return i.mode = "toggle",
                    this.effect.call(this, i)
                }
            }(e.fn.toggle),
            cssUnit: function(t) {
                var i = this.css(t)
                  , s = [];
                return e.each(["em", "px", "%", "pt"], function(e, t) {
                    i.indexOf(t) > 0 && (s = [parseFloat(i), t])
                }),
                s
            }
        })
    }(),
    function() {
        var t = {};
        e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(e, i) {
            t[i] = function(t) {
                return Math.pow(t, e + 2)
            }
        }),
        e.extend(t, {
            Sine: function(e) {
                return 1 - Math.cos(e * Math.PI / 2)
            },
            Circ: function(e) {
                return 1 - Math.sqrt(1 - e * e)
            },
            Elastic: function(e) {
                return 0 === e || 1 === e ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15)
            },
            Back: function(e) {
                return e * e * (3 * e - 2)
            },
            Bounce: function(e) {
                for (var t, i = 4; ((t = Math.pow(2, --i)) - 1) / 11 > e; )
                    ;
                return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * t - 2) / 22 - e, 2)
            }
        }),
        e.each(t, function(t, i) {
            e.easing["easeIn" + t] = i,
            e.easing["easeOut" + t] = function(e) {
                return 1 - i(1 - e)
            }
            ,
            e.easing["easeInOut" + t] = function(e) {
                return .5 > e ? i(2 * e) / 2 : 1 - i(-2 * e + 2) / 2
            }
        })
    }()
}(jQuery),
!function(e) {
    function t(e, t) {
        if (!(e.originalEvent.touches.length > 1)) {
            e.preventDefault();
            var i = e.originalEvent.changedTouches[0]
              , s = document.createEvent("MouseEvents");
            s.initMouseEvent(t, !0, !0, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, !1, !1, !1, !1, 0, null),
            e.target.dispatchEvent(s)
        }
    }
    if (e.support.touch = "ontouchend"in document,
    e.support.touch) {
        var i, s = e.ui.mouse.prototype, n = s._mouseInit, a = s._mouseDestroy;
        s._touchStart = function(e) {
            var s = this;
            !i && s._mouseCapture(e.originalEvent.changedTouches[0]) && (i = !0,
            s._touchMoved = !1,
            t(e, "mouseover"),
            t(e, "mousemove"),
            t(e, "mousedown"))
        }
        ,
        s._touchMove = function(e) {
            i && (this._touchMoved = !0,
            t(e, "mousemove"))
        }
        ,
        s._touchEnd = function(e) {
            i && (t(e, "mouseup"),
            t(e, "mouseout"),
            this._touchMoved || t(e, "click"),
            i = !1)
        }
        ,
        s._mouseInit = function() {
            var t = this;
            t.element.bind({
                touchstart: e.proxy(t, "_touchStart"),
                touchmove: e.proxy(t, "_touchMove"),
                touchend: e.proxy(t, "_touchEnd")
            }),
            n.call(t)
        }
        ,
        s._mouseDestroy = function() {
            var t = this;
            t.element.unbind({
                touchstart: e.proxy(t, "_touchStart"),
                touchmove: e.proxy(t, "_touchMove"),
                touchend: e.proxy(t, "_touchEnd")
            }),
            a.call(t)
        }
    }
}(jQuery),
define("jquery.ui", function() {}),
define("controllers/panel-display", ["require", "jquery", "backbone", "utils/metrics", "utils/browser", "utils/common", "utils/video-player", "utils/pubsub", "utils/channel-controller", "utils/title-selector", "jquery.ui"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = (e("utils/metrics"),
    e("utils/browser"))
      , n = e("utils/common")
      , a = e("utils/video-player")
      , r = e("utils/pubsub")
      , o = e("utils/channel-controller")
      , l = e("utils/title-selector");
    e("jquery.ui");
    var h = 50
      , c = 5
      , d = 5
      , u = 16 / 9
      , p = i.View.extend({
        events: {
            "click .panelExit": "onPanelExit"
        },
        indirect: !1,
        enabled: !1,
        panelOn: !1,
        videoMode: "",
        videoVod: !1,
        minWidth: 320,
        minHeight: 180,
        leftLimit: 100,
        topLimit: 100,
        offset: 10,
        border: 5,
        exitBtn: null,
        slate: null,
        positionHistory: [],
        initialize: function() {
            s.checkMobileTabletDevice(),
            this.panelId = this.$el[0].id,
            this.$(".masters-ecp").attr("id", "wrapper_" + this.panelId),
            this.slate = this.$(".panelSlate"),
            this.slate.hide(),
            this.logger = new eventsCore.util.Logger("PanelDisplay_" + this.panelId),
            r.on("resize", this.keepPanelWithinViewport.bind(this), this),
            r.on("ratio:resize", this.onRatioResize, this),
            r.on(this.panelId + ":change", this.channelChange, this),
            this.listenTo(a, "player:complete", this.onCompleteEvent),
            this.listenTo(a, "player:start", this.onStartEvent),
            this.listenTo(a, "player:play", this.onPlayEvent),
            this.listenTo(a, "player:stop", this.onStopEvent),
            this.listenTo(a, "player:controls", this.onControlsEvent),
            this.listenTo(a, "player:click", this.onClickEvent),
            this.listenTo(a, "player:video_mode", this.onVideoModeEvent),
            this.listenTo(a, "player:fullscreen", this.onFullscreenEvent),
            a.initPlayer(this.panelId),
            this.listenTo(r, "livevideo:reset", this.refreshChannels)
        },
        render: function() {
            var e = this;
            this.$el.position().left,
            this.$el.position().top,
            this.$el.width(),
            this.$el.height(),
            t(window).width() - this.leftLimit,
            t(window).height() - this.topLimit;
            return this.$el.draggable({
                containment: "window",
                scroll: !1,
                start: function() {
                    r.trigger("whats-new:close", "floatVideo")
                },
                stop: function(e, t) {
                    this.keepPanelWithinViewport(),
                    this.savePanelPosition(t.position.top, t.position.left)
                }
                .bind(this)
            }).resizable({
                handles: {
                    nw: ".ui-resizable-nw",
                    ne: ".ui-resizable-ne",
                    sw: ".ui-resizable-sw",
                    se: ".ui-resizable-se"
                },
                aspectRatio: u,
                minWidth: this.minWidth,
                minHeight: this.minHeight,
                resize: function() {},
                start: function() {
                    r.trigger("whats-new:close", "floatVideo"),
                    e.$el.css({
                        position: ""
                    })
                },
                stop: function() {
                    this.savePanelSize(this.$el.width(), this.$el.height()),
                    e.$el.css({
                        position: ""
                    })
                }
                .bind(this)
            }),
            this.$el.draggable("disable"),
            this.$el.resizable("disable"),
            this.titleSelector = new l({
                el: this.$(".panelVideo"),
                max: 1,
                measure_key: ["Watch", "Live", "Channel Change"],
                sendPanel: this.panelId
            }),
            this
        },
        onDispose: function() {
            this.logger.info("dispose - state:%o", this.$el[0].getAttribute("data-state")),
            a.dispose(),
            r.off("resize", void 0, this)
        },
        state: function() {
            return this.$el[0].hasAttribute("data-state") ? this.$el[0].getAttribute("data-state") : ""
        },
        channelId: function() {
            return this.channel
        },
        mute: function(e) {
            a.mute(e, this.panelId)
        },
        playPanel: function(e, t, i) {
            if (this.options = _.extend({
                floated: void 0,
                vod: void 0
            }, i),
            this.logger.info("playPanel - panelId:%o data:%o channel:%o float:%o state:%o", this.panelId, e[0], t, this.options.float, this.state()),
            this.videoMode = "",
            this.channel = t,
            this.videoData = e[0],
            this.$el[0].setAttribute("data-state", "heroVideo"),
            this.videoVod = i.vod,
            this.videoVod)
                this.disableSlate(),
                this.options.forceType = !1,
                a.loadVideo(e[0], this.panelId, this.options);
            else {
                var s = o.checkChannelStatus(this.channel);
                s ? (this.enableLiveVideo(),
                this.options.forceType = !1,
                a.loadVideo(e[0], this.panelId, this.options)) : this.logger.info("playPanel - not playing since off-air")
            }
            this.options.floated && (this.indirect = !0,
            a.buttonClick(this.panelId, "panelBtn")),
            this.videoVod ? this.$el.find("section.panelTitle").addClass("vod") : (this.$el.find("section.panelTitle").removeClass("vod"),
            this.refreshChannels())
        },
        replaceVideo: function(e, t) {
            this.options.forceType = !1,
            this.options.floated = !0,
            a.loadVideo(e[0], this.panelId, this.options),
            this.channel = t,
            this.videoData = e[0]
        },
        onPlayEvent: function(e) {
            e.id == this.panelId && this.logger.info("onPlayEvent - data:%o", e)
        },
        onStartEvent: function(e) {
            e.id != this.panelId
        },
        onCompleteEvent: function(e) {
            if (e.id == this.panelId)
                if (this.logger.info("onCompleteEvent - data:%o", e),
                this.videoVod)
                    "floatVideo" === this.state() && this.onPanelExit();
                else {
                    var t = o.checkChannelStatus(this.channel);
                    t || this.disableLiveVideo()
                }
        },
        onStopEvent: function(e) {
            e.id != this.panelId
        },
        onControlsEvent: function(e) {
            e.id == this.panelId && (e.visible ? this.$(".panelTitle").removeClass("hidden").addClass("visible") : "floatVideo" == this.state() && this.$(".panelTitle").removeClass("visible").addClass("hidden"),
            "heroVideo" === this.state() && (e.visible ? (r.trigger("whats-new:show", "heroVideo"),
            this.repositionWhatsNewForHeroVideo()) : r.trigger("whats-new:hide", "heroVideo")))
        },
        onClickEvent: function(e) {
            if (e.id == this.panelId && "popOpen" === e.type) {
                this.logger.info("onClickEvent - type:%o data:%o", e.type, this.videoData);
                var s = "/en_US/watch/standalone.html?" + t.param(this.videoData)
                  , n = "popUp"
                  , a = "width=" + this.$el.width() + ",height=" + this.$el.height();
                window.open(s, n, a),
                this.onPanelExit();
                var r = eventsCore.util.getUrlParam("loglevel")
                  , s = "/en_US/watch/index.html";
                r && (s += "&loglevel=" + r),
                i.history.navigate(s, !0)
            }
        },
        onVideoModeEvent: function(e) {
            e.id == this.panelId && (this.videoMode = e.mode,
            this.logger.info("onVideoModeEvent - mode:%o", e.mode))
        },
        onFullscreenEvent: function(e) {
            e.id == this.panelId && (this.logger.info("onFullscreenEvent id:%o data:%o state:%o", this.panelId, e.id, e.state),
            "enter" == e.state ? this.recordPosition() : "exit" == e.state && this.positionHistory.length >= 1 && (this.$el.css({
                left: this.positionHistory[0].left
            }),
            this.$el.css({
                top: this.positionHistory[0].top
            }),
            this.positionHistory = []))
        },
        panelOpen: function(e) {
            this.logger.info("panelOpen - data:%o indirect:%o", e, this.indirect),
            positionHistory = [],
            this.$el.removeAttr("style"),
            this.$el[0].setAttribute("data-state", "floatVideo");
            var t = this.getPanelSize();
            t && (this.$el.css("width", t.width),
            this.$el.css("height", t.height));
            var i = this.getPanelPosition();
            i && (this.$el.css("top", i.top),
            this.$el.css("left", i.left)),
            this.$el.draggable("enable"),
            this.$el.resizable("enable"),
            this.panelOn = !0,
            r.trigger("panel:open", this, !this.indirect),
            n.video_panel_float = !0,
            this.videoVod || (this.titleSelector.setNav(!1),
            this.listenTo(this.titleSelector, "list:open", function() {
                this.$(".panelTitle").addClass("open")
            }),
            this.listenTo(this.titleSelector, "list:close", function() {
                this.$(".panelTitle").removeClass("open")
            })),
            r.trigger("whats-new:close", "heroVideo"),
            r.trigger("whats-new:show", "floatVideo"),
            this.keepPanelWithinViewport()
        },
        panelClose: function(e, t) {
            var s, o = i.history.getFragment(), l = eventsCore.util.getUrlParam("videoChannel"), h = eventsCore.util.getUrlParam("loglevel");
            if (r.trigger("whats-new:hide", "floatVideo"),
            this.videoVod && (l = this.videoData.id,
            s = this.videoData.link,
            "/" === s[0] && (s = s.substring(1))),
            t && l === this.channel && (!this.videoVod && o.indexOf("en_US/watch/live.html") >= 0 || this.videoVod && o.indexOf(s) >= 0))
                this.$el[0].setAttribute("data-state", "heroVideo"),
                a.onMeasureEvent({
                    id: this.panelId,
                    type: "panelOff"
                });
            else if (t && (l !== this.channel || !this.videoVod && o.indexOf("en_US/watch/live.html") < 0 || this.videoVod && o.indexOf(s) < 0)) {
                var c = "/en_US/watch/live.html?videoChannel=" + this.channel;
                this.videoVod && (c = this.videoData.link),
                h && (c += (c.indexOf("?") > -1 ? "&" : "?") + "loglevel=" + h),
                i.history.navigate(c, !0),
                this.$el[0].setAttribute("data-state", "heroVideo")
            } else
                t || (null !== e && l == this.channel ? a.buttonClick(this.panelId, "panelBtn") : (a.close(this.panelId),
                this.$el[0].setAttribute("data-state", "")));
            this.$el.draggable("disable"),
            this.$el.resizable("disable"),
            this.indirect = !1,
            this.panelOn = !1,
            r.trigger("panel:close", this),
            n.video_panel_float = !1,
            this.positionHero(),
            this.videoVod || (this.titleSelector.setNav(!0),
            this.stopListening(this.titleSelector, "list:open"),
            this.stopListening(this.titleSelector, "list:close"))
        },
        onPanelExit: function(e) {
            a.close(this.panelId),
            this.channel = "",
            this.indirect = !1,
            this.$el[0].setAttribute("data-state", ""),
            this.panelOn = !1,
            n.video_panel_float = !1,
            r.trigger("panel:exit", this),
            r.trigger("whats-new:hide", "floatVideo"),
            e && a.onMeasureEvent({
                id: this.panelId,
                type: "panelOff"
            })
        },
        positionHero: function() {
            t("#welcome").width();
            "floatVideo" != this.$el[0].getAttribute("data-state") && (this.$el.width(this.heroWidth),
            this.$el.height(this.heroHeight),
            this.$el.css({
                top: "",
                left: ""
            }),
            positionHistory = [],
            this.repositionWhatsNewForHeroVideo())
        },
        repositionWhatsNewForHeroVideo: function() {
            var e = 40
              , t = this.heroHeight - h - e - 5;
            n.alert && n.alert.on && (t += n.alert.height);
            var i = (document.body.clientWidth - this.heroWidth) / 2 + 80;
            this.videoVod && (i -= 40,
            "replay" !== this.videoData.contentType && (i -= 40)),
            r.trigger("whats-new:heroVideo:reposition", {
                top: t,
                right: i
            })
        },
        updateDragResize: function() {
            var e = this.$el.width()
              , i = (this.$el.height(),
            t(window).width() - e - this.offset - this.border,
            t(window).height(),
            t(window).width() - this.offset - this.border - this.leftLimit)
              , s = t(window).height() - this.topLimit;
            this.$el.resizable("option", "maxWidth", i),
            this.$el.resizable("option", "maxHeight", s),
            this.panelOn && this.$el.position().left < this.leftLimit && this.$el.css({
                left: this.leftLimit
            }),
            this.recordPosition()
        },
        onRatioResize: function(e, t, i) {
            this.heroWidth = t,
            this.heroHeight = i,
            this.positionHero()
        },
        recordPosition: function() {
            this.positionHistory.push({
                left: this.$el.position().left,
                top: this.$el.position().top
            })
        },
        savePanelPosition: function(e, t) {
            this.savePanelAttributes({
                position: {
                    top: e,
                    left: t
                }
            })
        },
        savePanelSize: function(e, t) {
            this.savePanelAttributes({
                size: {
                    width: e,
                    height: t
                }
            })
        },
        getPanelPosition: function() {
            var e = this.getPanelAttributes();
            return e && e.position ? e.position : null
        },
        getPanelSize: function() {
            var e = this.getPanelAttributes();
            return e && e.size ? e.size : null
        },
        savePanelAttributes: function(e) {
            var i = this.getPanelAttributes() || {};
            e.position && (i.position = e.position),
            e.size && (i.size = e.size),
            t.cookie("pipAttrs", JSON.stringify(i), {
                expires: 5,
                path: "/en_US/"
            })
        },
        getPanelAttributes: function() {
            var e = t.cookie("pipAttrs");
            return e ? t.parseJSON(e) : null
        },
        checkPage: function(e) {
            e.indexOf("en_US/watch/live.html") < 0 && "heroVideo" == this.$el[0].getAttribute("data-state") && this.onPanelExit()
        },
        disableSlate: function() {
            this.slate.empty().hide()
        },
        checkLiveVideoState: function() {
            if (this.channel_object) {
                var e = this.channel_object.get("live");
                e ? this.enableLiveVideo() : this.disableLiveVideo()
            } else
                this.disableLiveVideo()
        },
        enableLiveVideo: function() {
            this.enabled || (this.logger.info("enableLiveVideo - hide slate"),
            this.disableSlate(),
            this.enabled = !0)
        },
        disableLiveVideo: function() {
            this.enabled && "dvr" != this.videoMode && (this.logger.info("disableLiveVideo 1 - display slate - enabled:%o", this.enabled),
            this.enabled = !1,
            "heroVideo" === this.state() ? (this.onPanelExit(),
            r.trigger("panel:live:disable", this)) : (this.slate.html("<div>" + this.videoData.title + " is now off air.</div>").show(),
            a.stop(this.panelId),
            this.timeoutId = setTimeout(function() {
                this.onPanelExit()
            }
            .bind(this), 6e4)))
        },
        channelChange: function(e, t) {
            var i = o.getChannel(e).attributes;
            this.logger.info("channelChange - channel:%o panel:%o data:%o", e, t, i);
            var s = o.getVideoObject(e);
            this.replaceVideo([s], e),
            this.refreshChannels(),
            clearTimeout(this.timeoutId)
        },
        refreshChannels: function() {
            var e = this.$(".channel_selector")
              , i = e.find(".option_wrapper ul")
              , s = [];
            o.collection.forEach(function(i, n, a) {
                var r = "";
                i.get("live") && (r = t('<a id="' + i.get("channelId") + '" href="/en_US/watch/live.html?videoChannel=' + i.get("channelId") + '&changer">' + i.get("name") + "</a>"));
                var o = "";
                if (i.get("channelId") === this.channel) {
                    var l = t('<a href="#">' + i.get("name") + "</a>");
                    o = "selected";
                    var h = e.find(".selector");
                    h.find("a").hasClass("open") && l.addClass("open"),
                    h.html(l)
                }
                i.get("live") && "radio" !== i.get("channelId") && s.push(t('<li class="' + o + '"></li>').append(r))
            }
            .bind(this)),
            0 === s.length && (s = ['<li class="disabled">All Channels Off Air</li>']),
            i.html(s),
            this.channel_object = o.getChannel(this.channel),
            this.channel_object && (this.video = o.getVideoObject(this.channel)),
            this.videoVod || this.checkLiveVideoState()
        },
        keepPanelWithinViewport: function() {
            if (n.video_panel_float && this.panelOn) {
                var e = !1
                  , t = !1
                  , i = this.$el.outerWidth()
                  , s = this.$el.outerHeight()
                  , a = this.$el.position()
                  , r = a.left - c
                  , o = r + i + 2 * c;
                if (o > document.body.clientWidth)
                    if (r <= 0) {
                        if (i > this.minWidth) {
                            var l = i - (o - document.body.clientWidth)
                              , p = l / u;
                            this.$el.css("width", l),
                            this.$el.css("height", p),
                            t = !0
                        }
                    } else {
                        var f = r - (o - c - document.body.clientWidth);
                        this.$el.css({
                            left: f
                        }),
                        e = !0
                    }
                else
                    r <= 0 && (this.$el.css("left", c),
                    e = !0);
                var g = a.top - d
                  , m = g + s + 2 * d;
                if (m > document.body.clientHeight)
                    if (g <= h) {
                        if (s > this.minHeight) {
                            var p = s - (m - document.body.clientHeight)
                              , l = p * u;
                            this.$el.css("width", l),
                            this.$el.css("height", p),
                            t = !0
                        }
                    } else {
                        var v = g - (m - d - document.body.clientHeight);
                        this.$el.css({
                            top: v
                        }),
                        e = !0
                    }
                else
                    g <= h && (this.$el.css("top", h + d),
                    e = !0);
                if (e) {
                    var b = this.$el.position();
                    this.savePanelPosition(b.top, b.left)
                }
                t && this.savePanelSize(this.$el.width(), this.$el.height())
            }
        }
    });
    return p
}),
define("controllers/panel", ["require", "jquery", "backbone", "utils/metrics", "utils/browser", "utils/video-player", "utils/pubsub", "controllers/panel-display"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = (e("utils/metrics"),
    e("utils/browser"))
      , s = e("utils/video-player")
      , n = e("utils/pubsub")
      , a = e("controllers/panel-display")
      , r = t.View.extend({
        events: {},
        panelOn: !1,
        minWidth: 320,
        minHeight: 180,
        leftLimit: 100,
        topLimit: 100,
        offset: 10,
        border: 5,
        initialize: function() {
            i.checkMobileTabletDevice(),
            this.logger = new eventsCore.util.Logger("PanelView"),
            this.panel1 = new a({
                el: "#panel1"
            }).render(),
            this.panel2 = new a({
                el: "#panel2"
            }).render(),
            this.on("route:change", this.checkPage),
            this.listenTo(n, "video:playPanel", this.onPlayPanel),
            this.listenTo(n, "video:exitPanel", this.onExitPanel),
            this.listenTo(n, "video:resetHero", this.onResetHero),
            this.listenTo(n, "video:resetVod", this.onResetVod),
            this.listenTo(s, "player:play", this.onPlayEvent),
            this.listenTo(s, "player:panelOpen", this.onPanelOpenEvent),
            this.listenTo(s, "player:panelClosed", this.onPanelClosedEvent)
        },
        render: function() {
            return this
        },
        checkVolume: function() {
            this.logger.info("checkVolume - panel1:%o panel2:%o", this.panel1.state(), this.panel2.state()),
            "" != this.panel1.state() && "" == this.panel2.state() ? (this.panel1.mute(!1),
            this.panel2.mute(!0)) : "" != this.panel2.state() && "" == this.panel1.state() ? (this.panel2.mute(!1),
            this.panel1.mute(!0)) : "floatVideo" == this.panel1.state() && "heroVideo" == this.panel2.state() ? (this.panel2.mute(!1),
            this.panel1.mute(!0)) : "heroVideo" == this.panel1.state() && "floatVideo" == this.panel2.state() && (this.panel1.mute(!1),
            this.panel2.mute(!0))
        },
        onResetHero: function() {
            "heroVideo" === this.panel1.state() ? this.panel1.onPanelExit() : "heroVideo" === this.panel2.state() && this.panel2.onPanelExit()
        },
        onResetVod: function() {
            "floatVideo" === this.panel1.state() ? this.panel1.onPanelExit() : "floatVideo" === this.panel2.state() && this.panel2.onPanelExit()
        },
        onPlayPanel: function(e, t, i) {
            i = _.extend({
                floated: !1,
                vod: !1
            }, i),
            this.logger.info("onPlayPanel - panel1:%o chan1:%o panel2:%o chan2:%o data:%o", this.panel1.state(), this.panel1.channelId(), this.panel2.state(), this.panel2.channelId(), e),
            this.panel1.channelId() == e[0].id ? "" === this.panel1.state() ? this.panel1.playPanel(e, t, i) : "floatVideo" != this.panel1.state() || i.floated ? this.logger.warn("onPlayPanel - ignoring call, attempted to open same channel already active") : this.panel1.panelClose(e, !1) : this.panel2.channelId() == e[0].id ? "" === this.panel2.state() ? this.panel2.playPanel(e, t, i) : "floatVideo" != this.panel2.state() || i.floated ? this.logger.warn("onPlayPanel - ignoring call, attempted to open same channel to floating panel") : this.panel2.panelClose(e, !1) : "heroVideo" != this.panel1.state() && "" != this.panel1.state() || this.panel1.channelId() == e[0].id ? this.panel2.channelId() != e[0].id && this.panel2.playPanel(e, t, i) : this.panel1.playPanel(e, t, i)
        },
        onExitPanel: function() {
            this.logger.info("onExitPanel - panel1:%o chan1:%o panel2:%o chan2:%o", this.panel1.state(), this.panel1.channelId(), this.panel2.state(), this.panel2.channelId()),
            "floatVideo" === this.panel1.state() ? this.panel1.onPanelExit() : "floatVideo" === this.panel2.state() && this.panel2.onPanelExit()
        },
        onPlayEvent: function(e) {
            "panel1" != e.id && "panel2" != e.id || this.checkVolume()
        },
        onPanelOpenEvent: function(e) {
            this.logger.info("onPanelOpenEvent - panel1:%o panel2:%o id:%o", this.panel1.state(), this.panel2.state(), e.id),
            "panel1" == e.id ? ("floatVideo" == this.panel2.state() && this.panel2.panelClose(null, !1),
            this.panel1.panelOpen()) : "panel2" == e.id && ("floatVideo" == this.panel1.state() && this.panel1.panelClose(null, !1),
            this.panel2.panelOpen())
        },
        onPanelClosedEvent: function(e) {
            this.logger.info("onPanelClosedEvent - panel1:%o panel2:%o id:%o", this.panel1.state(), this.panel2.state(), e.id),
            "panel1" == e.id ? (this.panel1.panelClose(e, !0),
            "heroVideo" == this.panel2.state() && (this.panel2.panelClose(e, !1),
            this.checkVolume())) : "panel2" == e.id && (this.panel2.panelClose(e, !0),
            "heroVideo" == this.panel1.state() && (this.panel1.panelClose(e, !1),
            this.checkVolume()))
        },
        checkPage: function() {
            var e = t.history.getFragment();
            this.panel1.checkPage(e),
            this.panel2.checkPage(e),
            this.checkVolume()
        }
    });
    return r
}),
define("utils/ratio-resize", ["require", "jquery", "backbone", "utils/pubsub", "utils/common"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("utils/pubsub")
      , n = e("utils/common")
      , a = i.Model.extend({
        defaults: {
            ratio: 16 / 9,
            container: window,
            hcallback: function() {},
            wcallback: function() {},
            height: 0,
            width: 0,
            view: window,
            once: !1
        },
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Ratio"),
            void 0 === this.get("title") && this.set("title", {
                height: 0
            }),
            this.get("container") === window && this.set("container", t(window)),
            this.get("once") ? this.calculateRatio() : this.containRatio()
        },
        containRatio: function() {
            var e = this.get("container");
            e = t(e === window ? window : e),
            this.set("container", e),
            this.calculateRatio(),
            this.listenTo(s, "throttle:resize", this.calculateRatio)
        },
        dispose: function() {
            this.stopListening()
        },
        calculateRatio: function() {
            var e = !1
              , t = this.get("ratio")
              , i = this.get("container")
              , s = this.get("hcallback")
              , a = this.get("wcallback")
              , r = this.get("height");
            this.get("width");
            "string" == typeof r && (r = parseFloat(r),
            isNaN(r) ? r = 0 : e = !0),
            this.logger.info("calculateRatio - closest:%o cont:%o title:%o", i.closest("html"), i.height(), this.get("title").height);
            var o;
            0 === i.closest("html").length ? (o = i.height() - n.header_height - this.get("title").height,
            n.alert && n.alert.on && (o -= n.alert.height)) : o = i.outerHeight();
            var l = i.width();
            e || 0 === r ? e && (o = o * (100 - r) / 100) : (r = parseInt(r, 10),
            isNaN(r) || (o -= r)),
            o / l < 1 / t ? "function" == typeof s && s.call(this.get("view"), l, o) : "function" == typeof a && a.call(this.get("view"), l, o)
        }
    });
    return a
}),
function(e) {
    "function" == typeof define && define.amd ? define("unveil", ["jquery", "underscore", "utils/window-size"], e) : "object" == typeof exports ? module.exports = e(require("jquery"), require("underscore"), require("utils/window-size")) : e(jQuery, _, windowInfo)
}(function(e, t, i) {
    e.fn.unveil = function(s) {
        function n() {
            switch (d = i.size()) {
            case i.sizes.desktop:
                v = "data-high";
                break;
            case i.sizes.tablet:
                v = "data-medium";
                break;
            case i.sizes.global:
            default:
                v = "data-lower"
            }
            "data-lower" === v && i.orientation() === i.orientations.portrait && (v = "data-lower-portrait")
        }
        function a(e) {
            var t = this.getAttribute(v);
            "data-lower-portrait" === v && null === t && (t = this.getAttribute("data-lower")),
            t = t || this.getAttribute("data-src"),
            "IMG" === this.tagName ? t && t !== this.getAttribute("src") && (this.setAttribute("src", t),
            "function" == typeof e && e.call(this),
            "function" == typeof callback && callback.call(this)) : t && t !== r(this.style.backgroundImage) && (this.style.backgroundImage = "url(" + t + ")",
            "function" == typeof e && e.call(this),
            "function" == typeof callback && callback.call(this))
        }
        function r(e) {
            return e.replace(/url\(([^)]*)\)/, "$1")
        }
        function o() {
            u = b.scrollTop(),
            p = b.height(),
            f = u + p,
            y && (g = b.scrollLeft(),
            m = g + b.width()),
            0 === p && (p = window.innerHeight,
            f = u + p)
        }
        function l() {
            var t = e(this)
              , i = t.offset().top
              , s = i + t.height();
            if (!(s >= u - w && i <= f + w))
                return !1;
            if (!y)
                return !0;
            var n = t.offset().left
              , a = n + t.width();
            return a >= g - w && n <= m + w
        }
        function h() {
            if (0 !== _.length) {
                o();
                var e = _.filter(l).filter(":visible");
                x = e.trigger("unveil"),
                x.off("reset").on("reset", function() {
                    a.call(this)
                }),
                _ = _.not(x),
                k = k.add(x)
            }
        }
        var c = {
            threshold: 200,
            horizontal: !1,
            context: ""
        };
        s = t.extend({}, c, s);
        var d, u, p, f, g, m, v, b = e(window), y = s.horizontal, w = s.threshold, _ = this, k = e(), x = e(), C = ".unveil" + ("" !== s.context ? ".delegate" + s.context : "");
        return this.not(".unveiled").one("unveil", function() {
            a.call(this, function() {
                e(this).addClass("unveiled")
            })
        }),
        b.on("scroll" + C + " lookup" + C, function() {
            h()
        }).on("resize" + C, t.throttle(function() {
            n(),
            k.trigger("reset")
        }, 200)).on("forcereset" + C, function() {
            n(),
            k.trigger("reset")
        }),
        n(),
        h(),
        this
    }
}),
define("views/base-hero", ["require", "backbone", "utils/ratio-resize", "utils/common", "utils/pubsub", "unveil"], function(e) {
    var t = e("backbone")
      , i = e("utils/ratio-resize")
      , s = e("utils/common")
      , n = e("utils/pubsub");
    e("unveil");
    var a = t.View.extend({
        el: "section.hero-wrap",
        events: {},
        video_activated: !1,
        video_callback: function() {},
        initialize: function() {
            this.$welcome = this.$("#welcome"),
            this.titleSelector = {
                height: 0
            },
            this.onInitialization.apply(this, arguments)
        },
        render: function() {
            return console.log("[HeroView render]"),
            "function" == typeof this.titleSelector.render && this.titleSelector.render(),
            this.processImage(),
            this.hideBack(),
            this.$welcome.hasClass("background") && this.unveil(this.$welcome),
            this.onRender(),
            this
        },
        dispose: function() {
            console.log("[HeroView disposal] disposing view " + this.cid + ": %o", this),
            "function" == typeof this.titleSelector.dispose && this.titleSelector.dispose(),
            this.unwrapResize(),
            this.onDispose(),
            t.View.prototype.dispose.apply(this, arguments)
        },
        onInitialization: function() {},
        onRender: function() {},
        onDispose: function() {},
        processImage: function() {
            var e = 16 / 9
              , t = this.$el.filter(".standard");
            if (t.length > 0) {
                var s;
                t.hasClass("article") && (s = "20%"),
                t = t.find(".hero-content > img, .imageWrapper > img"),
                this.unveil(t),
                this.hero_resize = new i({
                    view: this,
                    title: this.titleSelector,
                    hcallback: function(i, s) {
                        void 0 === t && (t = this.$(".hero-content > img, .imageWrapper > img")),
                        console.log("ratio-hcallback - img:%o w:%o h:%o", t, i, s),
                        t.length > 0 && t.css({
                            width: "auto",
                            height: s
                        }),
                        i = Math.round(s / (1 / e)),
                        n.trigger("ratio:resize", t, i, s)
                    },
                    wcallback: function(i, s) {
                        void 0 === t && (t = this.$(".hero-content > img, .imageWrapper > img")),
                        console.log("ratio-wcallback - img:%o w:%o h:%o", t, t.width(), t.height()),
                        t.length > 0 && "" !== t[0].style.height && t.css({
                            width: "",
                            height: ""
                        }),
                        s = Math.round(i * (1 / e)),
                        n.trigger("ratio:resize", t, i, s)
                    },
                    height: s
                })
            }
            var a = this.$el.filter(".half-height");
            a.length > 0 && this.unveil(a.find(".hero-content > img"))
        },
        unwrapResize: function() {
            this.hero_resize && this.hero_resize.dispose()
        },
        hideBack: function() {
            s.hideBackLink() && this.$(".back-button").find(".headerlink").hide()
        },
        activateVideo: function(e) {
            this.video_activated = !0,
            void 0 !== e && "function" == typeof e && (this.video_callback = e)
        },
        triggerVideo: function() {
            if (this.video_activated) {
                var e = this.$(".videoPlayerWrapper");
                e.attr("id").substring(6)
            }
        },
        showVideo: function() {
            return this.$welcome.addClass("dim").find(".videoPlayerWrapper").show()
        },
        hideVideo: function() {
            return this.$welcome.removeClass("dim").find(".videoPlayerWrapper").hide()
        }
    });
    return a
}),
define("utils/social", ["require", "jquery", "utils/metrics"], function(e) {
    var t = e("jquery")
      , i = e("utils/metrics")
      , s = function() {
        function s(e) {
            var i = t.extend({
                url_only: !1,
                type: "Default",
                track_name: "",
                display_title: e.title
            }, e)
              , s = i.service;
            l.strip_domain ? (i.url.indexOf("://") > -1 && (i.url = i.url.replace(/https?:\/\/[^\/]+/, "")),
            i.url = location.protocol + "//www.masters.com" + i.url) : i.url.indexOf("://") === -1 && (i.url = location.origin + i.url);
            var n = encodeURIComponent(i.url)
              , r = encodeURIComponent(i.display_title)
              , h = ""
              , c = ""
              , d = !0
              , u = [i.type, i.title, "Share", i.track_name].join("||");
            switch (s) {
            case "facebook":
                c = "https://www.facebook.com/sharer/sharer.php?u=" + n,
                h = '<a href="' + c + '" data-track="' + u + '" data-title="' + i.type + ":" + i.display_title + '" data-bypass><img src="/images/now/share_fb.png" alt="Share on Facebook" /></a>';
                break;
            case "twitter":
                c = "https://twitter.com/share?url=" + n + "&via=TheMasters&text=" + r,
                h = '<a href="' + c + '" data-track="' + u + '" data-title="' + i.type + ":" + i.display_title + '" data-bypass><img src="/images/now/share_twitter.png" alt="Tweet" /></a>';
                break;
            case "plusone":
                c = "https://plus.google.com/share?url=" + n,
                h = '<a href="' + c + '" data-track="' + u + '" data-title="' + i.type + ":" + i.display_title + '" data-bypass><img src="/images/now/share_gplus.png" alt="Share on Google+"/></a>';
                break;
            case "email":
                var p = r + a + a + n + a + a;
                c = "mailto:%20?subject=" + r + "&body=" + p + o,
                h = '<a href="' + c + '" data-track="' + u + '" data-title="' + i.type + ":" + i.display_title + '" data-bypass><img src="/images/now/share_mail.png" alt="Share via Email"/></a>';
                break;
            case "link":
                if (c = i.url,
                i.url_only === !1) {
                    var f = i.element;
                    f.off("click").on("click.togglelink", "a", function(e) {
                        t(this).parent().toggleClass("open").find(".link_url").toggleClass("open")
                    }).on("click", "a", function(e) {
                        e.preventDefault()
                    }).find("input").prop("value", c).data("track", u).data("title", i.type + ":" + i.display_title).off("focus").on("focus", function() {
                        t(this).get(0).setSelectionRange(0, 9999)
                    }).off("mouseup").on("mouseup", function(e) {
                        e.preventDefault()
                    }).off("copy").on("copy", function(e) {
                        l.activate_metrics && (l.measure(t(this).data("track").split("||"), t(this).data("title")),
                        l.activate_metrics = !1)
                    })
                }
                d = !1
            }
            return i.url_only === !0 ? c : void (d && i.url_only === !1 && (h = t(h).on("click", function(e) {
                l.measure(t(this).data("track").split("||"), t(this).data("title"))
            }),
            t(h).on("click", function(e) {
                e.preventDefault(),
                l.openSocialWindow(this.href)
            }),
            i.element.html(h)))
        }
        function n(e, t, i, n, a) {
            window.location.origin || (window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ":" + window.location.port : ""));
            for (var r = [{
                service: "email",
                element: ".mail",
                track_name: "Mail"
            }, {
                service: "facebook",
                element: ".facebook",
                track_name: "Facebook"
            }, {
                service: "twitter",
                element: ".twitter",
                track_name: "Twitter"
            }, {
                service: "plusone",
                element: ".gplus",
                track_name: "Google"
            }, {
                service: "link",
                element: ".link",
                track_name: "Copy"
            }], o = 0, l = r.length; o < l; o++)
                s({
                    service: r[o].service,
                    element: e.find(" .social_services " + r[o].element),
                    track_name: r[o].track_name,
                    url: t,
                    type: i,
                    title: n,
                    display_title: a
                })
        }
        this.strip_domain = !1,
        this.loadSocialBox = void 0,
        this.loadSocialVideo = void 0,
        this.loadSocialOverlay = void 0,
        this.activate_metrics = !1;
        var a = "%0D%0A"
          , r = ["Download the Masters iOS App at " + encodeURIComponent("https://itunes.apple.com/us/app/the-masters-tournament/id309025938?mt=8"), "Download the Masters Android App at " + encodeURIComponent("https://play.google.com/store/apps/details?id=com.ibm.events.android.masters")].join(a)
          , o = r
          , l = this;
        this.measure = function(e, t) {
            if (e.length < 3)
                e.push("Share");
            else {
                if (void 0 === t && (t = e[0] + ":" + e[1]),
                t = t.split(":"),
                e[0].indexOf("Tournament Info") > -1 && e[0].indexOf(":VOD") < 0)
                    t[0] = t[1],
                    t.length = 1;
                else if (e[0].indexOf("Breaking News") > -1)
                    t[0] = "Breaking News";
                else if (e[0].indexOf("Photo Gallery") > -1)
                    t[0] = "Photo Gallery";
                else if ("Photo" === e[0])
                    t[0] = "Photo",
                    e[0] = "Photo Gallery";
                else if (e[0].indexOf("Leader Board") > -1 && e[0].indexOf("Leader Board:Video") < 0)
                    t[0] = "Leader Board";
                else if (e[0].indexOf("Articles") > -1 && e[0].indexOf(":Highlight") < 0 && e[0].indexOf(":VOD") < 0)
                    t[0] = "Articles";
                else if (e[0].indexOf("Watch") > -1 || e[0].indexOf(":VOD") > -1 || e[0].indexOf("Articles:Highlight") > -1 || e[0].indexOf("Leader Board:Video") > -1) {
                    var s = e[0].split(":");
                    "Live" !== s[1] ? t[0] = "VOD" : t[0] = s[1]
                }
                t = t.join(":"),
                i.trackS({
                    prop50: t
                })
            }
            i.measureApp.apply(this, e)
        }
        ,
        this.loadSocialBox = function(e, s, a, r, o) {
            t(".socialOverlay.active").removeClass("active");
            var l = !1
              , h = e.find(".socialOverlay");
            0 === h.length && (l = !0,
            h = t('<div class="socialOverlay"><div class="header">Share</div><div class="social_box social_services"><div class="mail"></div><div class="facebook"></div><div class="twitter"></div><div class="gplus"></div><div class="link"><div class="link_url"><input type="text" readonly="readonly" value="" /></div><img src="/images/now/share_anchor.png" alt="Share Link" /></div></div><div class="close"></div></div>'),
            e.append(h)),
            this.measure([a, r]),
            this.activate_metrics = !0,
            void 0 === r && (r = ""),
            void 0 === o && (o = r),
            n(e, s, a, r, o),
            "Photo" === a && (a = "Photo Gallery"),
            h.off("click").on("click", ".close", function(s) {
                s.preventDefault(),
                t(this).parent().removeClass("active").find(".link_url.open").removeClass("open"),
                t(e).trigger("share.close"),
                i.measureApp(a, r, "Share", "Close")
            }).on("click", "> a, div a", function(i) {
                if (this.href.indexOf("mailto") === -1 && i.preventDefault(),
                "#" !== this.getAttribute("href")) {
                    var s = t(this).parents(".socialOverlay");
                    0 === s.length && (s = t(this).siblings(".socialOverlay")),
                    s.toggleClass("active"),
                    e.trigger("share.close")
                }
            }),
            l ? setTimeout(function() {
                h.addClass("active")
            }, 100) : h.addClass("active")
        }
        ,
        this.loadSocialOverlay = function(s, a, r, o, h) {
            e(["utils/overlay"], function(e) {
                n(e.$overlayShare, a, r, o, h),
                "Photo" === r && (r = "Photo Gallery"),
                s.off("click.share").on("click.share", function(s) {
                    s.preventDefault(),
                    e.openShare(),
                    l.activate_metrics = !0,
                    i.measureApp(r, o, "Share"),
                    e.$el.off("click.share").on("click.share", function(s) {
                        var n = t(s.target).closest(".socialOverlay");
                        0 === n.length && (e.closeShare(),
                        e.$el.off("click.share"),
                        i.measureApp(r, o, "Share", "Close"))
                    })
                });
                var c = e.$(".socialOverlay");
                c.off("click.close").on("click.close", ".close", function(t) {
                    t.preventDefault(),
                    e.closeShare(),
                    l.activate_metrics = !1,
                    i.measureApp(r, o, "Share", "Close")
                }).off("click.static").on("click.static", "div a", function(t) {
                    this.href.indexOf("mailto") === -1 && t.preventDefault(),
                    "#" !== this.getAttribute("href") && e.closeShare()
                })
            })
        }
        ,
        this.loadSocialVideo = function(e, i, s, a, r) {
            var o = t("#share").removeClass("active");
            void 0 === a && (a = ""),
            void 0 === r && (r = a),
            this.activate_metrics = !0,
            n(e, i, s, a, r),
            o.off("click", "a").on("click", "a", function(i) {
                this.href.indexOf("mailto") === -1 && i.preventDefault(),
                "#" !== this.getAttribute("href") && (t(this).parent().siblings(".link.open").removeClass("open").find(".link_url.open").removeClass("open"),
                t(e).trigger("share.close"))
            })
        }
        ,
        this.openSocialWindow = function(e) {
            var t = window.open(e, "", "menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")
              , i = function(e) {
                try {
                    void 0 !== e.location.hostname && "" === e.location.hostname && e.close()
                } catch (e) {}
            };
            setTimeout(i.bind(this, t), 4e3)
        }
    };
    return new s
}),
define("utils/favorites", ["require", "jquery", "backbone", "underscore", "utils/browser", "utils/pubsub", "utils/metrics", "jquery.cookie"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("underscore")
      , n = e("utils/browser")
      , a = e("utils/pubsub")
      , r = e("utils/metrics");
    e("jquery.cookie");
    var o = {
        init: !1,
        first: !0,
        favplayers: [],
        cookie_expires: 365,
        cookie_path: "/en_US/",
        measurement: !0,
        prefix: "",
        get: function() {
            var e = t.cookie("customPlayers");
            null !== e && "" !== e && void 0 !== e && (this.favplayers = e.split("|"),
            this.init = !0),
            "" === this.prefix && (this.prefix = r.page_section)
        },
        check: function(e) {
            return this.init || this.get(),
            e += "",
            t.inArray(e, this.favplayers) > -1
        },
        getPlayerIDs: function() {
            return this.get(),
            this.favplayers
        },
        set: function(e) {
            void 0 === e ? e = this.favplayers : this.favplayers = e,
            n.app && n.apptype.android && (this.cookie_path = "/android/en_US/"),
            t.removeCookie("customPlayers", {
                path: this.cookie_path
            }),
            t.cookie("customPlayers", e.join("|"), {
                expires: o.cookie_expires,
                path: this.cookie_path
            })
        },
        remove: function(e) {
            var t = s.indexOf(this.favplayers, e);
            t > -1 && (this.favplayers.splice(t, 1),
            this.set(),
            a.trigger("favorite:remove", [e]),
            this.trigger("remove:" + e),
            this.measurement && (r.trackS({
                prop48: e,
                prop47: ""
            }),
            this.measure([this.prefix, "Favorite Remove", e + ""])))
        },
        add: function(e) {
            var t = s.indexOf(this.favplayers, e);
            t === -1 && (this.favplayers.push(e),
            this.set(),
            a.trigger("favorite:add", [e]),
            this.trigger("add:" + e),
            this.measurement && (r.trackS({
                prop47: e,
                prop48: ""
            }),
            this.measure([this.prefix, "Favorite Add", e + ""])))
        },
        _remove: function(e) {},
        _add: function(e) {},
        measure: function(e) {
            if (n.app)
                if (n.apptype.android) {
                    var t = "remove";
                    e[1].indexOf("Add") > -1 && (t = "add");
                    var i = e[2];
                    r.appMeasure(e.join(":") + "&action=" + t + "&playerId=" + i)
                } else
                    r.appMeasure(e.join(":"));
            else
                r.measureApp.apply(r, e)
        },
        toggle: function(e) {
            this.init || this.get(),
            e += "",
            s.indexOf(this.favplayers, e) > -1 ? this.remove(e) : this.add(e)
        }
    };
    return s.extend(o, i.Events),
    o
}),
define("baseview", ["require", "jquery", "backbone", "utils/metrics", "utils/browser", "views/base-hero", "utils/social", "settings", "utils/favorites", "eventsCore", "unveil"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("utils/metrics")
      , n = e("utils/browser")
      , a = e("views/base-hero")
      , r = e("utils/social")
      , o = e("settings")
      , l = e("utils/favorites");
    e("eventsCore"),
    e("unveil");
    var h = i.View.extend({
        tagName: "section",
        id: "app-wrap",
        className: "app-wrap",
        props: {},
        pageTitle: "",
        event_title: o.tournament_year + " Masters Tournament",
        init_load: !1,
        continue_load: !0,
        scroll_on_load: 0,
        is_404: !1,
        load_path: "",
        initialize: function(e) {
            s.resetPageValues();
            var t = e.html;
            return this.load_path = e.path,
            this.$html = this.$el.append(t),
            t || (this.setElement("#app-wrap"),
            this.init_load = !0),
            this.consumePageVars(),
            "404" === this.jsonData.pageState && "/404.html" !== this.load_path ? void (this.is_404 = !0) : (l.prefix = "",
            this.logger = new eventsCore.util.Logger("BaseView"),
            this.processPageVars(),
            i.history._usePushState && this.updatePageTitle(),
            s.setPageMetrics(this.pageTitle),
            l.get(),
            void this.onInitialization())
        },
        render: function() {
            return this.onBeforeRender(),
            this.init_load || t("#app-wrap").replaceWith(this.$el),
            this.loadBasicShare(),
            this.onRender(),
            n.app || s.trackPageView(this.props),
            setTimeout(function() {
                window.scrollTo(0, this.scroll_on_load)
            }
            .bind(this), 100),
            this
        },
        dispose: function() {
            this.hero && this.hero.dispose(),
            i.View.prototype.dispose.apply(this, arguments)
        },
        consumePageVars: function() {
            var e;
            e = this.init_load ? this.$(".page_vars") : this.$html.find(".page_vars"),
            this.jsonData = {
                pageDetails: {},
                metrics: {}
            };
            var i = this;
            e.each(function() {
                t.extend(i.jsonData, JSON.parse(this.innerHTML))
            })
        },
        processPageVars: function() {},
        loadBasicShare: function() {
            var e = location.pathname.substring(0)
              , t = this.$("section.hero-wrap, section.page-wrap").find(".title-bar, .actions, .articleInfo").find(".share");
            if (t.length > 0 && !n.app) {
                var i = e
                  , a = this.jsonData.pageDetails && this.jsonData.pageDetails.pageTitle || s.page_title;
                r.loadSocialOverlay(t, i, s.page_section, s.page_title, a)
            } else
                n.app && n.apptype.ios && t.on("click", function(e) {
                    s.appShare(e)
                })
        },
        updatePageTitle: function() {
            this.jsonData.documentTitle && (document.title = this.jsonData.documentTitle + " - " + this.event_title,
            window.history.replaceState({}, document.title))
        },
        onInitialization: function() {
            this.hero = new a({
                el: this.$(".hero-wrap")
            })
        },
        onBeforeRender: function() {},
        onRender: function() {
            this.hero && this.hero.render()
        }
    });
    return h
}),
define("utils/lb/lb-common", ["require", "utils/pubsub", "jquery", "underscore"], function(e) {
    var t = (e("utils/pubsub"),
    e("jquery"))
      , i = e("underscore")
      , s = {
        lbFormat: {
            MAIN: "main",
            EVERYWHERE: "everywhere"
        },
        lbShowPlayerFlag: {
            MAIN: "show",
            EVERYWHERE: "showLBEverywherePlayer"
        },
        _lbTypeLookUp: {
            ou: "ou",
            trad: "trad",
            all: "all",
            closest: "closest",
            tradFavPlayersContainer: "#leaderBoardPlayersTraditionalFavContent",
            tradAllPlayersContainer: "#leaderBoardPlayersTraditionalContent",
            ouFavPlayersContainer: "#leaderBoardPlayersFavContent",
            ouAllPlayersContainer: "#leaderBoardPlayersContent"
        },
        _lbCookieNames: {
            mainLB: "mainLBCookie",
            LBeverywhere: "lbEverywhereCookie",
            LBEverywherePanelSize: "LBEverywherePanelSize",
            LBEverywherePanelPosition: "LBEverywherePanelPosition",
            par3: "Par3Cookie",
            closeLBPlayoff: "closeLBPlayoff",
            closePar3Playoff: "closePlayoff"
        },
        _lbEdgeClassNameLookUp: {
            W: "withdrawn",
            D: "disqualified",
            C: "missedcut"
        },
        cookiePath: "/en_US/",
        par3CookiePath: "/en_US/",
        init: function() {},
        getEdgeClassName: function(e) {
            return this._lbEdgeClassNameLookUp[e]
        },
        getTrackURL: function(e) {
            return "/en_US/scores/track/track.html?pid=" + e.id + "&promo=track_lb"
        },
        getPlayerBioURL: function(e) {
            return "/en_US/players/player_" + e.id + ".html"
        },
        getTooltipTitleForPlayerName: function(e) {
            return e === this.lbFormat.EVERYWHERE ? "Player Bio" : "Scorecard"
        },
        comparePos: function(e, t) {
            var i = e.get("current_sort_order")
              , s = t.get("current_sort_order");
            return i < s ? -1 : 1
        },
        compareToday: function(e, t) {
            var i, s, n = nan2 = !1;
            if ("C" === e.get("status") || "D" === e.get("status") || "W" === e.get("status") ? (i = 1e19,
            n = !0) : "" === e.get("today") ? (i = e.get("teetime").valueOf(),
            i = Date.parse("1/1/00 " + i),
            n = !0) : i = "E" === e.get("today") ? "0" : parseInt(e.get("today")),
            "C" === t.get("status") || "D" === t.get("status") || "W" === t.get("status") ? (s = 1e19,
            nan2 = !0) : "" === t.get("today") ? (s = t.get("teetime").valueOf(),
            s = Date.parse("1/1/00 " + s),
            nan2 = !0) : s = "E" === t.get("today") ? "0" : parseInt(t.get("today")),
            i === s) {
                var a = this.comparePos(e, t);
                return a
            }
            return n && !nan2 ? 1 : nan2 && !n ? -1 : i < s ? -1 : 1
        },
        compareThru: function(e, i) {
            function s(e) {
                var i;
                return "" === e.get("thru") ? (i = 0,
                "" === t.trim(e.get("pos")) && (i -= 500)) : i = e.get("thru").indexOf("F") > -1 ? 18 : parseInt(e.get("thru"), 10),
                i
            }
            var n, a;
            if (n = s(e),
            a = s(i),
            n === a) {
                var r = this.comparePos(e, i);
                return r
            }
            return n < a ? 1 : -1
        },
        getFormattedTotalScore: function(e) {
            for (var t = "", i = (e.total,
            4); i > 0; ) {
                var s = e["r" + i].split("|")[1];
                if ("" !== s) {
                    t = e.total >= 72 * i ? "over" : "under";
                    break
                }
                i--
            }
            return t
        },
        setMainOuCookie: function() {
            t.cookie(this._lbCookieNames.mainLB, this._lbTypeLookUp.ou, {
                expires: 5,
                path: this.cookiePath
            })
        },
        setMainTradCookie: function() {
            t.cookie(this._lbCookieNames.mainLB, this._lbTypeLookUp.trad, {
                expires: 5,
                path: this.cookiePath
            })
        },
        setMainClosePlayoffCookie: function() {
            t.cookie(this._lbCookieNames.closeLBPlayoff, "true", {
                expires: 5,
                path: this.cookiePath
            })
        },
        clearMainClosePlayoffCookie: function() {
            t.cookie(this._lbCookieNames.closeLBPlayoff, null, {
                path: this.cookiePath
            })
        },
        setPar3ClosePlayoffCookie: function() {
            t.cookie(this._lbCookieNames.closePar3Playoff, "true", {
                expires: 5,
                path: this.par3CookiePath
            })
        },
        clearPar3ClosePlayoffCookie: function() {
            t.cookie(this._lbCookieNames.closePar3Playoff, null, {
                path: this.par3CookiePath
            })
        },
        setLbEverywhereOuCookie: function() {
            t.cookie(this._lbCookieNames.LBeverywhere, this._lbTypeLookUp.ou, {
                expires: 5,
                path: this.cookiePath
            })
        },
        setLbEverywhereTradCookie: function() {
            t.cookie(this._lbCookieNames.LBeverywhere, this._lbTypeLookUp.trad, {
                expires: 5,
                path: this.cookiePath
            })
        },
        setPar3AllCookie: function() {
            t.cookie(this._lbCookieNames.par3, this._lbTypeLookUp.all, {
                expires: 5,
                path: this.par3CookiePath
            })
        },
        setPar3ClosestCookie: function() {
            t.cookie(this._lbCookieNames.par3, this._lbTypeLookUp.closest, {
                expires: 5,
                path: this.par3CookiePath
            })
        },
        setLBEverywherePanelSize: function(e, i) {
            t.cookie(this._lbCookieNames.LBEverywherePanelSize, JSON.stringify({
                width: e,
                height: i
            }), {
                expires: 5,
                path: this.cookiePath
            })
        },
        getLBEverywherePanelSize: function() {
            var e = t.cookie(this._lbCookieNames.LBEverywherePanelSize);
            return e ? t.parseJSON(e) : null
        },
        setLBEverywherePanelPosition: function(e, i) {
            t.cookie(this._lbCookieNames.LBEverywherePanelPosition, JSON.stringify({
                top: e,
                left: i
            }), {
                expires: 5,
                path: this.cookiePath
            })
        },
        getLBEverywherePanelPosition: function() {
            var e = t.cookie(this._lbCookieNames.LBEverywherePanelPosition);
            return e ? t.parseJSON(e) : null
        },
        isLBPlayoffDisplayed: function() {
            return "true" !== t.cookie(this._lbCookieNames.closeLBPlayoff) || null === t.cookie(this._lbCookieNames.closeLBPlayoff) || void 0 === t.cookie(this._lbCookieNames.closeLBPlayoff)
        },
        isPar3PlayoffDisplayed: function() {
            return "true" !== t.cookie(this._lbCookieNames.closePar3Playoff) || null === t.cookie(this._lbCookieNames.closePar3Playoff) || void 0 === t.cookie(this._lbCookieNames.closePar3Playoff)
        },
        findInArrayByPid: function(e, t) {
            var s = i.find(e, function(e) {
                return e.pid === t
            });
            return s
        },
        findIndexInArrayByPid: function(e, t) {
            var s = i.findIndex(e, function(e) {
                return e.pid === t
            });
            return s
        },
        togglePlayerRowDisplay: function(e, t) {
            e.toggleClass("hidden", !t),
            t ? e.next(".playerRowFiller").remove() : e.after('<div class="playerRowFiller"></div>')
        },
        addBottomBorders: function(e) {
            var t = e;
            this.removeBottomBorders(t);
            for (var i = t.find(".playerRow").not(".hidden"), s = 0, n = i.length; s < n; s += 3)
                i[s].className += " triplebottomborder tripleheight";
            n > 0 && (i[n - 1].className += " lastrow")
        },
        removeBottomBorders: function(e) {
            var t = e;
            t.find(".playerRow").filter(".lastrow").removeClass("lastrow").end().filter(".triplebottomborder").removeClass("triplebottomborder").removeClass("tripleheight")
        },
        isInView: function(e) {
            var t = e
              , i = t.height();
            this.areaTop = t.position().top,
            this.areaOffsetHeight = i + this.areaTop
        },
        checkIfInView: function(e) {
            if (e.hasClass("hidden"))
                return !1;
            var t = e.offset().top
              , i = e.height();
            return t <= this.areaOffsetHeight && t + i >= this.areaTop
        }
    };
    return s
}),
define("models/base-player", ["require", "jquery", "backbone", "utils/favorites"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("utils/favorites")
      , s = t.Model.extend({
        initialize: function() {
            this.set("show", !0),
            this.set("is_fave", i.check(this.get("id"))),
            this.on("toggleFavorite", function() {
                i.toggle(this.id)
            }),
            this.listenTo(i, "add:" + this.id, function() {
                this.set("is_fave", !0)
            }),
            this.listenTo(i, "remove:" + this.id, function() {
                this.set("is_fave", !1)
            }),
            this.setFullName(this.get("first_name"), this.get("last_name"))
        },
        setFullName: function(e, t) {
            this.set("full_name", e + " " + t)
        }
    });
    return s
}),
define("models/score-player", ["require", "jquery", "backbone", "utils/pubsub", "utils/lb/lb-common", "models/base-player"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("utils/pubsub"),
    e("utils/lb/lb-common"))
      , i = e("models/base-player")
      , s = i.extend({
        defaults: {
            id: "",
            display_name: "",
            display_name2: "",
            full_name: "",
            first_name: "",
            last_name: "",
            country_long: "",
            country: "",
            live: "",
            video: !1,
            pos: "",
            amateur: !1,
            past: !1,
            firsttimer: !1,
            status: "",
            active: !1,
            us: !1,
            intl: !1,
            teetime: "",
            tee_order: "",
            sort_order: "",
            start: "",
            group: "",
            today: "",
            thru: "",
            groupHistory: "",
            thruHistory: "",
            lastHoleWithShot: "",
            lastLocation: "",
            groupLocation: "",
            topar: "",
            total: "",
            movement: "",
            r1: "",
            r2: "",
            r3: "",
            r4: "",
            current_sort_order: "",
            is_projected_cut: !1,
            is_trackable: !1,
            name: "",
            r1_prior: "",
            r2_prior: "",
            r3_prior: "",
            r4_prior: "",
            r1_roundscores: "",
            r2_roundscores: "",
            r3_roundscores: "",
            r4_roundscores: "",
            r1_score: "",
            r2_score: "",
            r3_score: "",
            r4_score: "",
            r1_sort_order: "",
            r2_sort_order: ""
        },
        show: !1,
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Player Model"),
            this.logger.debug("Initialize");
            var e = this.get("display_name") + (this.get("amateur") ? " (A)" : "");
            this.set("name", e),
            this.on("change", function() {
                this.logger.debug(this.get("name") + " changed :%o", this.changedAttributes())
            }),
            i.prototype.initialize.apply(this, arguments),
            this.set(t.lbShowPlayerFlag.EVERYWHERE, !0),
            this.set(t.lbShowPlayerFlag.MAIN, !0)
        },
        parse: function(e) {
            var t, i, s, n;
            t = e.r1.split("|"),
            i = e.r2.split("|"),
            s = e.r3.split("|"),
            n = e.r4.split("|"),
            e.r1_prior = t[0],
            e.r2_prior = i[0],
            e.r3_prior = s[0],
            e.r4_prior = n[0],
            e.r1_score = "" === t[1] ? 500 : parseInt(t[1]),
            e.r2_score = "" === i[1] ? 500 : parseInt(i[1]),
            e.r3_score = "" === s[1] ? 500 : parseInt(s[1]),
            e.r4_score = "" === n[1] ? 500 : parseInt(n[1]),
            e.r1_roundscores = t[2],
            e.r2_roundscores = i[2],
            e.r3_roundscores = s[2],
            e.r4_roundscores = n[2];
            var a = "|" !== e.lastHoleWithShot && "D" !== e.status;
            return a ? e.is_trackable = !0 : e.is_trackable = !1,
            e
        }
    });
    return s
}),
define("collections/base-players", ["require", "jquery", "backbone"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = t.Collection.extend({
        search: function(e, t) {
            var i = new RegExp(t,"i");
            return this.filter(function(t) {
                return !(!e || !i.test(t.get(e)))
            })
        },
        searchBy: function(e, t, i) {
            var s = new RegExp("^" + t + "|\\s" + t,"i");
            this.forEach(function(t) {
                t.set(i, s.test(t.get(e)))
            })
        },
        filterBy: function(e, t) {
            this.forEach(function(i) {
                i.set("show", t === i.get(e))
            })
        },
        showAll: function() {
            this.forEach(function(e) {
                e.set("show", !0)
            })
        }
    });
    return i
}),
define("collections/score-players", ["require", "jquery", "backbone", "models/score-player", "utils/lb/lb-common", "utils/pubsub", "collections/base-players"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("models/score-player"))
      , i = e("utils/lb/lb-common")
      , s = e("utils/pubsub")
      , n = e("collections/base-players")
      , a = n.extend({
        model: t,
        url: "/en_US/scores/feeds/scores.json",
        initialize: function() {
            this.logger = new eventsCore.util.Logger("ScorePlayersList"),
            this.logger.info("Initialize"),
            this.changed_models = [],
            this.sort_criteria = "current_sort_order",
            this.on("change:current_sort_order", this.triggerEvent),
            this.on("change:r1_sort_order", this.triggerEvent),
            this.on("change:r2_sort_order", this.triggerEvent),
            this.on("change:today", this.triggerTradSortEvent),
            this.on("change:thru", this.triggerTradSortEvent),
            this.on("change:r1_score", this.triggerTradSortEvent),
            this.on("change:r2_score", this.triggerTradSortEvent),
            this.on("change:r3_score", this.triggerTradSortEvent),
            this.on("change:r4_score", this.triggerTradSortEvent),
            this.on("change:total", this.triggerTradSortEvent),
            this.on("sync", this.onFetchComplete),
            this.listenTo(s, "scorecollection:sort", this.onCollectionSort),
            this.oldCurrentRound = "",
            this.oldPlayoffStatus = !1
        },
        fetch: function() {
            this.changed_models = [],
            n.prototype.fetch.apply(this, arguments)
        },
        parse: function(e) {
            this.showAsterisk = !1,
            this.allTimeExists = !1,
            this.concurrentExists = !1,
            this.playoffExists = !1,
            this.playoffStatus = !1,
            this.data = e.data,
            this.currentRound = this.data.currentRound.lastIndexOf("1") + 1,
            this.cutLine = e.data.cutLine,
            this.currentRounds = this.data.currentRound;
            var t = this.currentRounds.length - this.currentRounds.replace(/1/g, "").length;
            return t > 1 && (this.concurrentExists = !0,
            this.logger.info("concurrent rounds exist")),
            this.setSortOrders_DenotesStatus_FirstProjectedCutPlayer(),
            void 0 !== this.data.playoff && "" !== this.data.playoff && (this.playoffExists = !0,
            this.playoffStatus = !0,
            this.playoffStartHole = e.data.playoff.starthole,
            this.playoffPlayers = e.data.playoff.player,
            this.trigger("refresh:playoffData", this.playoffPlayers)),
            this.oldPlayoffStatus !== this.playoffStatus && (this.logger.info("playoff status has been changed"),
            s.trigger("change:playoffStatus", this.playoffStatus)),
            this.oldPlayoffStatus = this.playoffStatus,
            void 0 !== this.oldCurrentRound && this.currentRound !== this.oldCurrentRound && (this.logger.info("current round has been changed"),
            this.trigger("change:currentRound", this.currentRound)),
            this.oldCurrentRound = this.data.currentRound.lastIndexOf("1") + 1,
            e.data.player
        },
        triggerEvent: function(e) {
            this.logger.info("sortOrder:update for " + e.get("name") + " :%o", e),
            this.changed_models.indexOf(e.id) === -1 && this.changed_models.push(e.id)
        },
        triggerTradSortEvent: function(e, t, i) {
            this.logger.info("sortable column data update for " + e.get("name") + " :%o", e),
            e.changed[this.sort_criteria] && this.changed_models.indexOf(e.id) === -1 && this.changed_models.push(e.id)
        },
        onFetchComplete: function() {
            s.trigger("scorecollection:sort")
        },
        onCollectionSort: function() {
            this.sortCollection(this.sort_criteria);
            for (var e = this.changed_models.length - 1; e >= 0; e--) {
                var t = this.get(this.changed_models[e]);
                this.trigger("sortOrder:update", t)
            }
        },
        setSortOrders_DenotesStatus_FirstProjectedCutPlayer: function() {
            var e = !1
              , t = !1
              , i = !1;
            _.each(this.data.player, function(s) {
                var n = s.sort_order.split("|");
                s.current_sort_order = parseInt(n[this.currentRound - 1]),
                s.r1_sort_order = parseInt(n[0]),
                s.r2_sort_order = parseInt(n[1]),
                s.r3_sort_order = parseInt(n[2]),
                s.r4_sort_order = parseInt(n[3]),
                e || "" !== s.today || "" === s.teetime || (this.allTimeExists = !0,
                this.logger.info("allTimeExists", this.allTimeExists),
                e = !0),
                !t && (s.teetime.indexOf("*") > -1 || s.thru.indexOf("*") > -1) && (this.showAsterisk = !0,
                this.logger.info("showAsterisk", this.showAsterisk),
                t = !0);
                var a = s.topar;
                a = "E" === a ? 0 : parseInt(a),
                !i && a > this.cutLine ? (s.is_projected_cut = !0,
                i = !0) : s.is_projected_cut = !1
            }
            .bind(this))
        },
        sortCollection: function(e) {
            this.comparator = this.criteriaComparator(e),
            this.sort()
        },
        criteriaComparator: function(e, t) {
            return this.sort_criteria = e,
            "today" === e ? function(e, t) {
                return i.compareToday(e, t)
            }
            : "thru" === e ? function(e, t) {
                return i.compareThru(e, t)
            }
            : function(t, s) {
                var n = t.get(e)
                  , a = s.get(e);
                return n < a ? -1 : n > a ? 1 : i.comparePos(t, s)
            }
        }
    });
    return new a
}),
define("models/lb-playoff-player", ["require", "jquery", "backbone"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = t.Model.extend({
        defaults: {
            id: "",
            display_name: "",
            score: "",
            status: "",
            active: "",
            video: "",
            total: ""
        },
        initialize: function() {
            this.logger = new eventsCore.util.Logger("PlayoffPlayer Model"),
            this.logger.debug("Initialize"),
            this.on("change", function() {
                this.logger.debug(this.get("display_name") + " changed :%o", this.changedAttributes())
            })
        },
        parse: function(e) {
            return e
        }
    });
    return i
}),
define("collections/lb-playoff-players", ["require", "jquery", "backbone", "models/lb-playoff-player", "collections/score-players"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("models/lb-playoff-player")
      , s = e("collections/score-players")
      , n = t.Collection.extend({
        model: i,
        initialize: function() {
            this.logger = new eventsCore.util.Logger("LBPlayoffPlayersList"),
            this.logger.info("Initialize"),
            this.createCollection(),
            this.listenTo(s, "refresh:playoffData", this.updateCollection)
        },
        createCollection: function(e) {
            this.reset(s.playoffPlayers),
            this.logger.info("Playoff Collection :%o", this)
        },
        updateCollection: function(e) {
            this.set(e),
            this.logger.info("playoff collection updated: %o", e)
        }
    });
    return new n
}),
define("utils/scores", ["require", "settings", "utils/pubsub", "collections/score-players", "collections/lb-playoff-players", "models/score-player"], function(e) {
    var t = e("settings")
      , i = e("utils/pubsub")
      , s = e("collections/score-players")
      , n = e("collections/lb-playoff-players")
      , a = e("models/score-player")
      , r = function() {
        this.collection,
        this.playoff_collection,
        this.callback = function() {}
        ,
        this.interval = 15,
        this.timeoutId;
        var e = !1
          , a = !1
          , r = {
            normal: "A",
            split: "J",
            not_started: "Z"
        }
          , o = {
            playing: "N",
            not_started: "X",
            withdrawn: "W",
            disqualified: "D",
            cut: "C"
        }
          , l = {
            W: "WD",
            D: "DQ",
            C: "MC"
        }
          , h = {
            W: "WITHDRAWN",
            D: "DISQUALIFIED",
            C: "MISSED CUT"
        };
        this.holePar = [4, 5, 4, 3, 4, 3, 4, 5, 4, 4, 4, 3, 5, 4, 5, 3, 4, 4],
        this.dataByID = [],
        this.dataByName = [],
        this.init = function() {
            return this.logger = new eventsCore.util.Logger("Scores"),
            this.logger.info("Initialize"),
            e || (this.refresh(),
            e = !0),
            this
        }
        ,
        this.unload = function() {
            clearInterval(this.timeoutId)
        }
        ,
        this.refresh = function() {
            clearInterval(this.timeoutId),
            t.Scores.live && (this.timeoutId = setInterval(this.checkScoresJson.bind(this), 1e3 * this.interval)),
            this.collection = s,
            this.playoff_collection = n,
            this.checkScoresJson()
        }
        ,
        this.checkScoresJson = function() {
            this.collection.fetch({
                success: function() {
                    this.Playoff.check(),
                    a = !0,
                    console.log("checkScoresJson - this.collection:%o", this.collection),
                    console.log("checkScoresJson - this.playoff_collection:%o", this.playoff_collection),
                    i.trigger("scores:refresh")
                }
                .bind(this)
            })
        }
        ,
        this.isDataLoaded = function() {
            return a
        }
        ;
        var c = this;
        return this.Utilities = function() {
            var e = {};
            return e.className = function(e, t, i) {
                var s;
                return t = "undefined" == typeof t || t,
                void 0 !== i && i === !0 ? 72 === e ? s = "over" : e > 72 ? s = "over" : e < 72 && (s = "under") : "" === e ? s = "" : 0 === e || "E" === e ? s = "over" : e > 0 ? s = "over" : e < 0 && !t ? (s = "under",
                e *= -1) : e < 0 && t ? s = "under" : e.search(/[AP]M/) > -1 && (s = "time"),
                s
            }
            ,
            e.scoreName = function(e, t) {
                if (e = parseInt(e, 10),
                1 === e)
                    return "Ace";
                var i = e - parseInt(t, 10)
                  , s = "Par";
                if (i < -2)
                    s = "Dbl Eagle-";
                else if (i > 2)
                    s = "Dbl Bogey+";
                else
                    switch (i) {
                    case -2:
                        s = "Eagle";
                        break;
                    case -1:
                        s = "Birdie";
                        break;
                    case 1:
                        s = "Bogey";
                        break;
                    case 2:
                        s = "Dbl Bogey"
                    }
                return s
            }
            ,
            e.findByID = function(e) {
                return e = parseInt(e, 10),
                c.collection.get(e)
            }
            ,
            e.search = function(e) {
                var t = [];
                e = e.toLowerCase(),
                null !== e.match(/\\/) && (e = null);
                var i = new RegExp("^" + e);
                return t = c.collection.filter(function(e) {
                    var t = e.get("full_name").toLowerCase()
                      , s = e.get("last_name") + " " + e.get("first_name");
                    if (s = s.toLowerCase(),
                    null !== t.match(i) || null !== s.match(i))
                        return !0
                }),
                t.sort(function(e, t) {
                    return e.get("last_name") > t.get("last_name") ? 1 : e.get("last_name") < t.get("last_name") ? -1 : e.get("last_name") === t.get("last_name") ? 0 : void 0
                }),
                t
            }
            ,
            e.findActiveLeader = function() {
                if (!c.Playoff.active) {
                    var e;
                    return e = c.collection.find(function(e) {
                        return e.get("active")
                    }),
                    e || (e = c.collection.at(0)),
                    e
                }
                return c.Playoff.findActiveLeader()
            }
            ,
            e.currentRound = function() {
                return c.collection.currentRound
            }
            ,
            e.currentRoundWithPlayoff = function() {
                return c.Playoff.active ? 5 : e.currentRound()
            }
            ,
            e.isActiveRound = function(e) {
                return !(void 0 === e || e < 1 || e > 5) && (!(5 !== e || !c.Playoff.active) || (e = parseInt(e, 10),
                "1" === c.collection.data.currentRound[e - 1]))
            }
            ,
            e.isSplit = function(t, i) {
                if (void 0 === i && (i = e.currentRoundWithPlayoff()),
                !e.isActiveRound(i))
                    return !1;
                i = parseInt(i, 10);
                var s = t.get("start");
                return s[i] === r.split
            }
            ,
            e.getCurrentHole = function(t) {
                var i = null;
                return null === i && (i = e.getHoleFromShot(t.get("lastHoleWithShot"))),
                null === i || e.isActivePlayer(t.id) || (i = null),
                i
            }
            ,
            e.getHoleFromThru = function(e) {
                if (void 0 !== e) {
                    var t = e.toString();
                    return t.indexOf("F") > -1 || t.indexOf("18") > -1 ? t.indexOf("*") > -1 ? 9 : 18 : "" === e ? null : (e = parseInt(e, 10),
                    t.indexOf("*") > -1 && (e += 9,
                    e %= 18),
                    e < 0 || e > 18 ? (console.error("getCurrentHole: calculated thru < 0 or > 18 : " + e),
                    null) : e += 1)
                }
                return null
            }
            ,
            e.getHoleFromShot = function(e) {
                var t = e.split("|")
                  , i = parseInt(t[0], 10)
                  , s = parseInt(t[1], 10);
                return 5 === i && c.Playoff.active && (s = s % 2 === 0 ? c.Playoff.alt_hole : c.Playoff.start_hole),
                isNaN(s) ? null : s
            }
            ,
            e.getNextHole = function(e, t) {
                return e = parseInt(e, 10),
                t ? e < 18 && e >= 1 ? e + 1 : 18 === e ? 1 : 9 === e ? 19 : -1 : e < 18 && e >= 1 ? e + 1 : 18 === e ? 19 : -1
            }
            ,
            e.getPrevHole = function(e, t) {
                return e = parseInt(e, 10),
                t ? 1 === e ? 18 : 10 === e ? 0 : 19 === e ? 9 : e <= 18 && e > 1 ? e - 1 : -1 : e <= 19 && e > 1 ? e - 1 : 1 === e ? 0 : -1
            }
            ,
            e.hasPlayedHole = function(e, t, i, s) {
                var n = e.get("lastHoleWithShot").split("|")
                  , a = parseInt(n[0], 10)
                  , r = parseInt(n[1], 10);
                return t = parseInt(t, 10),
                !isNaN(a) && !isNaN(t) && (a > t || !(a < t) && (i = parseInt(i, 10),
                s ? r < 10 && i < 10 ? i <= r : r > 9 && i > 9 ? i <= r : r < 10 && i > 9 : i <= r))
            }
            ,
            e.missedCut = function(e) {
                return e.get("status") === o.cut
            }
            ,
            e.withdrawn = function(e) {
                return e.get("status") === o.withdrawn
            }
            ,
            e.disqualified = function(e) {
                return e.get("status") === o.disqualified
            }
            ,
            e.inGoodStanding = function(e) {
                return e.get("status") !== o.withdrawn && e.get("status") !== o.disqualified && (e.get("status") !== o.not_started || "|" !== e.get("lastHoleWithShot")) || e.get("status")
            }
            ,
            e.isActivePlayer = function(e) {
                var t = c.collection.get(e)
                  , i = !1;
                if (null !== t && (i = t.get("active"),
                i || "1" !== t.get("lastHoleWithShot").split("|")[1] || (i = !0),
                c.Playoff.active)) {
                    var s = c.Playoff.hasPlayer(e);
                    s !== !1 && (i = s.get("active"),
                    i && 1 === c.Playoff.active_players && (i = !1))
                }
                return i
            }
            ,
            e.getStatusCode = function(e) {
                return l[e]
            }
            ,
            e.getStatusName = function(e) {
                return h[e]
            }
            ,
            e.getPosition = function(t) {
                return e.missedCut(t) || e.inGoodStanding(t) !== !0 ? e.getStatusCode(t.get("status")) : t.get("pos")
            }
            ,
            e.getScoreFromChar = function(e, t) {
                e = e.replace(/ /g, "");
                var i = "0";
                if ("" != e) {
                    var s = e.charCodeAt(0);
                    i = s >= 65 && s <= 90 ? s - 64 : s - 96
                }
                return i > t && (i *= -1),
                i
            }
            ,
            e.getTotalForRound = function(t, i) {
                var s = 0
                  , n = t[i];
                n = n.split("|");
                var a = e.getScoreFromChar(n[2].charAt(17));
                return s = 0 !== a ? n[1] : ""
            }
            ,
            e.getOverUnderScore = function(e, t, i) {
                var s = "";
                return i = parseInt(i),
                i = isNaN(i) ? 0 : i,
                e = parseInt(e),
                t = parseInt(t),
                0 !== e ? (e === t ? i += 0 : e > t ? i += e - t : e < t && (i -= t - e),
                i) : s
            }
            ,
            e.getScoreDetails = function(t, i) {
                var s = t.get("thruHistory").split("|");
                "" !== i && void 0 !== i || (i = e.currentRound());
                var n = s[parseInt(i) - 1];
                return {
                    priorTotal: t.get("r" + i + "_prior"),
                    roundScores: t.get("r" + i + "_roundscores"),
                    roundThru: n
                }
            }
            ,
            e
        }(),
        this.Playoff = function() {
            var e = {};
            return e.active = !1,
            e.active_players = 0,
            e.start_hole = 18,
            e.alt_hole = 10,
            e.players,
            e.check = function() {
                void 0 !== c.collection.data && void 0 !== c.collection.data.playoff && (this.active = !0,
                this.players = c.collection.data.playoff.player,
                this.start_hole = c.collection.data.playoff.starthole,
                this.alt_hole = 18 === this.start_hole ? 10 : 18,
                this.active_players = c.playoff_collection.where({
                    active: !0
                }).length)
            }
            ,
            e.hasPlayer = function(e) {
                e = parseInt(e, 10);
                var t = c.playoff_collection.get(e);
                return void 0 !== t && t
            }
            ,
            e.getCurrentHole = function(e) {
                var t = this.hasPlayer(e);
                if (t !== !1) {
                    var i = t.get("score").split(",").length;
                    return 0 === t.get("score").length ? this.start_hole : t.get("active") && this.active_players > 1 ? (i + 1) % 2 === 0 ? this.alt_hole : this.start_hole : i % 2 === 0 ? this.alt_hole : this.start_hole
                }
                return null
            }
            ,
            e.hasVideo = function(e, t) {
                var i = this.hasPlayer(e);
                if (i !== !1) {
                    var s = i.get("video").split(",");
                    return "1" === s[t - 1]
                }
                return !1
            }
            ,
            e.findActiveLeader = function() {
                return c.playoff_collection.at(0)
            }
            ,
            e.getClassForPlayoffScore = function(e) {
                var t = ""
                  , i = parseInt(e, 10);
                return i <= 2 ? t = "eagle" : 3 === i ? t = "birdie" : 4 === i ? t = "par" : 5 === i ? t = "bogey" : i >= 6 && (t = "dbl_bogey"),
                t
            }
            ,
            e.getClassForPlayoffVideo = function(e) {
                var t = "";
                return "1" === e && (t = "video"),
                t
            }
            ,
            e
        }(),
        this.init.apply(this, arguments)
    }
      , o = new r;
    return a.prototype.getCurrentHole = function() {
        return o.Utilities.getCurrentHole(this)
    }
    ,
    o
}),
define("text!templates/player-bio/bio-scorecard-panel.html!strip", [], function() {
    return '<div class="scorecard content-padding visible" style="">\n\t<h3>Scorecard</h3>\n\n\t<div id="playerScorecardLegend" class="legend">\n\t\t<img class="" src="/images/now/trans_16x9.gif" data-lower="/images/scores/bio_legend_sm.png" data-medium="/images/scores/bio_legend.png" data-high="/images/scores/bio_legend.png" border="0" alt="Legend"/>\n\t</div>\n\n\t<div id="playerScorecard"></div> \n\n\t<div class="selector">\n\t\t<a href="#rd1" class="selected">RND 1</a> \n\t\t&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t<a href="#rd2">RND 2</a>\n\t\t&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t<a href="#rd3">RND 3</a>\n\t\t&nbsp;&nbsp;|&nbsp;&nbsp; \n\t\t<a href="#rd4">RND 4</a>\n\t</div>\n</div>\n';
}),
define("text!templates/player-scorecard.html!strip", [], function() {
    return '<div id="playerScorecard" class="player_scorecard">\n <div class="headers hole">\n <div class="description"><span class="full">Hole</span><span class="half">No.</span></div>\n <div class="hole_no">1</div>\n <div class="hole_no">2</div>\n <div class="hole_no">3</div>\n <div class="hole_no">4</div>\n <div class="hole_no">5</div>\n <div class="hole_no">6</div>\n <div class="hole_no">7</div>\n <div class="hole_no">8</div>\n <div class="hole_no">9</div>\n <div class="subtotal half out">Out</div>\n <div class="hole_no full">10</div>\n <div class="hole_no full">11</div>\n <div class="hole_no full">12</div>\n <div class="hole_no full">13</div>\n <div class="hole_no full">14</div>\n <div class="hole_no full">15</div>\n <div class="hole_no full">16</div>\n <div class="hole_no full">17</div>\n <div class="hole_no full">18</div>\n <div class="total">Tot<span class="full">al</span></div>\n </div>\n <div class="headers hole_par">\n <div class="description">Par</div>\n <div class="hole_no">4</div>\n <div class="hole_no">5</div>\n <div class="hole_no">4</div>\n <div class="hole_no">3</div>\n <div class="hole_no">4</div>\n <div class="hole_no">3</div>\n <div class="hole_no">4</div>\n <div class="hole_no">5</div>\n <div class="hole_no">4</div>\n <div class="hole_no subtotal half out">36</div>\n <div class="hole_no full">4</div>\n <div class="hole_no full">4</div>\n <div class="hole_no full">3</div>\n <div class="hole_no full">5</div>\n <div class="hole_no full">4</div>\n <div class="hole_no full">5</div>\n <div class="hole_no full">3</div>\n <div class="hole_no full">4</div>\n <div class="hole_no full">4</div>\n <div class="total">72</div>\n </div>\n <div class="rd rd1 selected">\n <div class="description"><span class="full">RD 1</span>&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no subtotal half out">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="total">&nbsp;</div>\n </div>\n <div class="rd rd2">\n <div class="description"><span class="full">RD 2</span>&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no subtotal half out">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="total">&nbsp;</div>\n </div>\n\n <div class="rd rd3">\n <div class="description"><span class="full">RD 3</span>&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front subtotal half out">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="total">&nbsp;</div>\n </div>\n\n <div class="rd rd4">\n <div class="description"><span class="full">RD 4</span>&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front">&nbsp;</div>\n <div class="hole_no front subtotal half out">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="hole_no full">&nbsp;</div>\n <div class="total">&nbsp;</div>\n </div>\n\n <!-- Only Displayed on Mobile Sized Screens -->\n <div class="headers hole mobile">\n <div class="description"><span class="full">Hole</span><span class="half">No.</span></div>\n <div class="hole_no">10</div>\n <div class="hole_no">11</div>\n <div class="hole_no">12</div>\n <div class="hole_no">13</div>\n <div class="hole_no">14</div>\n <div class="hole_no">15</div>\n <div class="hole_no">16</div>\n <div class="hole_no">17</div>\n <div class="hole_no">18</div>\n <div class="subtotal half in">In</div>\n <div class="total">Tot<span class="full">al</span></div>\n </div>\n <div class="headers hole_par mobile">\n <div class="description">Par</div>\n <div class="hole_no">4</div>\n <div class="hole_no">4</div>\n <div class="hole_no">3</div>\n <div class="hole_no">5</div>\n <div class="hole_no">4</div>\n <div class="hole_no">5</div>\n <div class="hole_no">3</div>\n <div class="hole_no">4</div>\n <div class="hole_no">4</div>\n <div class="hole_no subtotal half in">36</div>\n <div class="total">72</div>\n </div>\n <div class="rd rd1 mobile selected">\n <div class="description">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no subtotal half in">&nbsp;</div>\n <div class="total">&nbsp;</div>\n </div>\n <div class="rd rd2 mobile">\n <div class="description">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no subtotal half in">&nbsp;</div>\n <div class="total">&nbsp;</div>\n </div>\n\n <div class="rd rd3 mobile">\n <div class="description"><span class="full">RD 3</span>&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no subtotal half in">&nbsp;</div>\n <div class="total">&nbsp;</div>\n </div>\n\n <div class="rd rd4 mobile">\n <div class="description"><span class="full">RD 4</span>&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no">&nbsp;</div>\n <div class="hole_no subtotal half in">&nbsp;</div>\n <div class="total">&nbsp;</div>\n </div>\n <!-- End of Mobile Sized Screens -->\n\n</div> <!-- end of player scorecard -->\n'
}),
define("text!templates/lb/lb-scorecard-panel.html!strip", [], function() {
    return '<div class="scorecard content-padding visible">\n\t<div class="flag">\n\t\t<img height="15" width="25" src="/images/flags/<%= player.country %>_sm.gif" border="0" alt="<%= player.name %>"/>\n\t\t<span class="player-name"> <%= player.name %> </span>\n\t</div>\n\n\t<div class="close">\n\t\t<img src="/images/leaderboard/scorecard-close.png" />\n\t</div>\n\n\t<div class="playerProfileLink top">\n\t\t<a href="/en_US/players/player_<%= player.id %>.html?promo=bio_lb"> Player Profile &nbsp; &gt;&gt; </a>\n\t</div>\n\n\t<div class="selector">\n\t\t<a href="#rd1" class="selected">RND 1</a>\n\t\t&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t<a href="#rd2">RND 2</a>\n\t\t&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t<a href="#rd3">RND 3</a>\n\t\t&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t<a href="#rd4">RND 4</a>\n\t</div>\n\n\t<div id="playerScorecardLegend" class="legend">\n\t\t<img src="/images/now/trans_16x9.gif" data-lower="/images/scores/bio_legend_sm.png" data-medium="/images/scores/bio_legend_lb.png" data-high="/images/scores/bio_legend_lb.png" border="0" alt="Legend"/>\n\t</div>\n\n\t<div class="playerImage">\n\t\t<img src="/images/players/2016/310x404/<%= player.id %>.jpg"/>\n\n\t\t<div class="playerProfileLink bottom">\n\t\t\t<a href="/en_US/players/player_<%= player.id %>.html?promo=bio_lb"> Player Profile &nbsp; &gt;&gt; </a>\n\t\t</div>\n\t</div>\n\n\t<div id="playerScorecard"></div>\n</div>\n'
}),
define("views/scorecard", ["require", "backbone", "utils/metrics", "utils/pubsub", "text!templates/player-bio/bio-scorecard-panel.html!strip", "text!templates/player-scorecard.html!strip", "text!templates/lb/lb-scorecard-panel.html!strip", "utils/browser", "settings", "utils/scores"], function(e) {
    var t = e("backbone")
      , i = e("utils/metrics")
      , s = e("utils/pubsub")
      , n = e("text!templates/player-bio/bio-scorecard-panel.html!strip")
      , a = e("text!templates/player-scorecard.html!strip")
      , r = e("text!templates/lb/lb-scorecard-panel.html!strip")
      , o = e("utils/browser")
      , l = e("settings")
      , h = e("utils/scores")
      , c = t.View.extend({
        tagName: "figure",
        defaults: {
            scorecardUrl: "/en_US/includes/gen/players/scorecards/",
            refreshScoresDelay: 6e4,
            type: "bio",
            player: {
                id: null,
                name: null,
                country: null
            }
        },
        events: {
            "click .hole_no.video": "_showVideo",
            "click .selector a": "_handleSelector",
            "click .close": "_close"
        },
        bioScorecardPanel: _.template(n),
        playerScorecard: _.template(a),
        lbScorecardPanel: _.template(r),
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Scorecard"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            "leaderboard" === this.options.type && (this.options.playerId = this.options.player.id)
        },
        render: function() {
            "bio" === this.options.type ? this.$el.html(this.bioScorecardPanel({})) : "leaderboard" === this.options.type && (this.$el.html(this.lbScorecardPanel({
                player: this.options.player
            })),
            this.$el.attr("class", "lbScorecardPanel")),
            this.$("#playerScorecard").replaceWith(this.playerScorecard({})),
            this.clearUnveil(),
            this.unveil(this.$("#playerScorecardLegend img")),
            this.loadScorecard();
            var e = "1"
              , t = h.collection.get(this.options.playerId);
            return t && (e = t.get("lastHoleWithShot").split("|")[0]),
            "" !== e.trim() && this._showRoundRow("rd" + e),
            this.timer = setInterval(function() {
                this.loadScorecard()
            }
            .bind(this), this.options.refreshScoresDelay),
            this
        },
        loadScorecard: function() {
            var e = this;
            t.ajax({
                dataType: "html",
                url: e.options.scorecardUrl + this.options.playerId + ".ssi",
                success: function(t) {
                    var i = $(t).filter(".player_scorecard");
                    e.$("#playerScorecard").replaceWith(i);
                    var s = e.$(".selector a.selected").attr("href").substring(1);
                    e._showRoundRow(s),
                    o.ie8 && e.$("#playerScorecard .eagle").append('<span class="outer"></span><span class="inner"></span>').end().find(".birdie").append('<span class="outer"></span>')
                }
            })
        },
        _showVideo: function(e) {
            e.preventDefault();
            var i = $(e.target)
              , s = i.data("rd")
              , n = i.data("hole")
              , a = "/en_US/watch/" + l.tournament_year + "/r" + s + "_" + this.options.playerId + "_" + n + ".html?promo=highlight_";
            a += "leaderboard" === this.options.type ? "lb" : "bio",
            t.history.navigate(a, !0)
        },
        _handleSelector: function(e) {
            var t = $(e.target)
              , s = t.attr("href").substring(1);
            this._showRoundRow(s),
            i.measureApp(i.page_section, "Scorecard", "Round", t.text()),
            e.preventDefault()
        },
        _showRoundRow: function(e) {
            this.$(".rd.selected").removeClass("selected");
            var t = this.$("." + e);
            t.addClass("selected"),
            this.$('.selector a[href$="#' + e + '"]').addClass("selected").siblings().removeClass("selected")
        },
        _close: function() {
            i.measureApp(i.page_section, "Scorecard", "Close"),
            s.trigger("scorecard:close", this.options.targetPlayerId)
        },
        onDispose: function() {
            clearInterval(this.timer)
        }
    });
    return c
}),
define("utils/lb/lb-window-size", ["require", "utils/pubsub"], function(e) {
    var t = e("utils/pubsub")
      , i = function() {
        var e, i, s, n, a, r = "", o = "30em", l = "45em", h = "57.5em", c = "64em", d = "90em", u = "38.750em", p = "50em", f = {
            global: 0,
            mobileLandscape: 1,
            tablet: 2,
            desktop: 3,
            smskeuomorphic: 4,
            lgskeuomorphic: 5
        }, g = function() {
            m();
            var t = f.global;
            e.matches ? t = f.lgskeuomorphic : i.matches ? t = f.smskeuomorphic : s.matches ? t = f.desktop : n.matches ? t = f.tablet : a.matches && (t = f.mobileLandscape),
            v(t)
        }, m = function() {
            e = window.matchMedia("screen and (min-width:" + d + ") and (min-height:" + p + ")"),
            i = window.matchMedia("screen and (min-width:" + c + ") and (min-height:" + u + ")"),
            s = window.matchMedia("screen and (min-width:" + h + ")"),
            n = window.matchMedia("screen and (min-width:" + l + ")"),
            a = window.matchMedia("screen and (min-width:" + o + ")"),
            e.addListener(function(e) {
                e.matches ? (v(f.lgskeuomorphic),
                t.trigger("windowsize:lbLargeSkeuomorphic:enter")) : (v(f.smskeuomorphic),
                t.trigger("windowsize:lbSmallSkeuomorphic:enter"))
            }),
            i.addListener(function(e) {
                e.matches ? (r !== f.lgskeuomorphic && (v(f.smskeuomorphic),
                t.trigger("windowsize:lbSmallSkeuomorphic:enter")),
                t.trigger("windowsize:lbDesktop:exit")) : (v(f.desktop),
                t.trigger("windowsize:lbDesktop:enter"))
            }),
            s.addListener(function(e) {
                e.matches ? (r === f.desktop && (v(f.desktop),
                t.trigger("windowsize:lbDesktop:enter")),
                t.trigger("windowsize:lbTablet:exit")) : (v(f.tablet),
                t.trigger("windowsize:lbTablet:enter"))
            }),
            n.addListener(function(e) {
                e.matches ? (r === f.tablet && (v(f.tablet),
                t.trigger("windowsize:lbTablet:enter")),
                t.trigger("windowsize:lbMobileLandscape:exit")) : (v(f.mobileLandscape),
                t.trigger("windowsize:lbMobileLandscape:enter"))
            }),
            a.addListener(function(e) {
                e.matches ? (r === f.mobileLandscape && (v(f.mobileLandscape),
                t.trigger("windowsize:lbMobileLandscape:enter")),
                t.trigger("windowsize:lbGlobal:exit")) : (v(f.global),
                t.trigger("windowsize:lbGlobal:enter"))
            })
        }, v = function(e) {
            r = e,
            console.log("[lbWindowSize.js] setting window size to " + Object.keys(f)[e])
        }, b = function() {
            return r
        };
        return g(),
        {
            size: b,
            sizes: f
        }
    }
      , s = new i;
    return s
}),
define("utils/lb/lb-left-offset", ["require", "utils/pubsub", "utils/browser", "utils/lb/lb-window-size"], function(e) {
    var t = e("utils/pubsub")
      , i = e("utils/browser")
      , s = e("utils/lb/lb-window-size")
      , n = {
        leftoffset: !1,
        init: function(e) {
            this.$viewWrapper = e.$el,
            this.$content = e.$el.find(".leaderBoardContent." + e.currentLB),
            this.$lbWrapper = this.$content.parent(),
            this.getLeftOffset(),
            this.leftoffset || (t.on("resize.skeuomorphic", function() {
                this.getLeftOffset()
            }
            .bind(this), this),
            i.mobiledevice && $(".popout").addClass("hidden"),
            this.leftoffset = !0),
            console.log("[lb-left-offset.js][lbLeftOffset] initializing")
        },
        getLeftOffset: function() {
            function e() {
                var n = i.$viewWrapper.offset()
                  , a = n.left;
                0 === a ? setTimeout(e, 1e3) : (s.size() === s.sizes.lgskeuomorphic && (a = n.left + 17),
                s.size() === s.sizes.smskeuomorphic && (a = n.left + 15),
                t.on("windowsize:lbLargeSkeuomorphic:enter", function() {
                    a = n.left + 17
                }),
                t.on("windowsize:lbSmallSkeuomorphic:enter", function() {
                    a = n.left + 15
                }),
                i.$lbWrapper.css({
                    "padding-left": a + "px"
                }),
                i.$content.css("opacity", "1"))
            }
            var i = this;
            e()
        },
        destroyLeftOffset: function(e) {
            this.$content = e.$el.find(".leaderBoardContent." + e.currentLB),
            this.$lbWrapper = this.$content.parent(),
            t.off("resize.skeuomorphic", void 0, this),
            t.off("windowsize:lbLargeSkeuomorphic:enter", void 0, this),
            t.off("windowsize:lbSmallSkeuomorphic:enter", void 0, this),
            $(".popout").removeClass("hidden"),
            this.leftoffset = !1;
            var i = 0;
            this.$lbWrapper.css({
                "padding-left": i + "px"
            })
        }
    };
    return n
}),
define("views/lb/lb-base", ["require", "jquery", "underscore", "backbone", "utils/metrics", "utils/pubsub", "utils/scores", "views/scorecard", "utils/lb/lb-left-offset", "utils/lb/lb-window-size", "utils/lb/lb-common"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/metrics")
      , a = e("utils/pubsub")
      , r = e("utils/scores")
      , o = e("views/scorecard")
      , l = e("utils/lb/lb-left-offset")
      , h = e("utils/lb/lb-window-size")
      , c = e("utils/lb/lb-common")
      , d = {};
    d.projected_cut = i.template('<div class="leaderBoardRow cutline"><div class="hr-line"><span>Projected Cut</span></div></div>'),
    d.no_results_found = i.template('<div class="leaderBoardRow noplayers triplebottomborder tripleheight">No Results Found</div>');
    var u = s.View.extend({
        defaults: {
            animationDuration: 500,
            animationEasing: "easeInExpo",
            lbFormat: c.lbFormat.MAIN,
            lbEverywherePlayerRowHeight: 32
        },
        events: {},
        initialize: function(e) {
            this.showFav = !0,
            this.searchMode = !1,
            this.minRows = 10,
            this.logger = new eventsCore.util.Logger("LBBaseView"),
            this.logger.info("Initialize"),
            this.lbFormat = e.lbFormat || this.defaults.lbFormat,
            this.listenTo(a, this.lbFormat + ":scores_collection:modified", function(e) {
                this.destroyScorecard(),
                this.searchMode = e,
                this.lbFormat === c.lbFormat.MAIN ? this.fillInLeaderboardWithEmptyRows(this.minRows) : this.lbFormat === c.lbFormat.EVERYWHERE && this.fillInLeaderboardWithEmptyRows(this.calculateNumberOfEmptyRowsToInsert()),
                this.favoritesShow(),
                this.insertCutLine(),
                this.addBottomBorders()
            }),
            this.lbFormat === c.lbFormat.MAIN && (this.listenTo(a, "lbbase:playerRowClicked", function(e) {
                this.toggleScorecardForPlayerRow(e)
            }),
            this.listenTo(a, "scorecard:close", function(e) {
                this.toggleScorecardForPlayerRow(e)
            })),
            this.lbFormat === c.lbFormat.EVERYWHERE && this.listenTo(a, "leaderboard-everywhere:resize", function(e, t) {
                void 0 !== e && t.originalSize.height == t.size.height || (this.fillInLeaderboardWithEmptyRows(this.calculateNumberOfEmptyRowsToInsert()),
                this.addBottomBorders())
            })
        },
        render: function() {
            return this.onRender(),
            this
        },
        onRender: function() {},
        writeHtml: function() {
            var e = this.buildFavPlayers();
            this.$favPlayerContainer.html(e);
            var t = this.buildAllPlayers();
            this.$allPlayerContainer.html(t),
            this.insertCutLine(),
            this.favoritesShow(),
            this.addBottomBorders(),
            a.trigger("writeHtml:complete")
        },
        calculateNumberOfEmptyRowsToInsert: function() {
            var e = this.$el.innerHeight() - this.$(".headerWrapper").outerHeight()
              , t = Math.floor(e / this.defaults.lbEverywherePlayerRowHeight);
            return t
        },
        getNumberOfPlayerRowsToShowFromCollection: function(e) {
            var t = 0;
            return this.lbFormat === c.lbFormat.MAIN ? t = e.where({
                show: !0
            }).length : this.lbFormat === c.lbFormat.EVERYWHERE && (t = e.where({
                showLBEverywherePlayer: !0
            }).length),
            t
        },
        fillInLeaderboardWithEmptyRows: function(e) {
            var t = c.lbShowPlayerFlag.MAIN;
            this.lbFormat === c.lbFormat.EVERYWHERE && (t = c.lbShowPlayerFlag.EVERYWHERE),
            this.$(".leaderBoardRow.playerRow.searchEmptyRow").remove(),
            this.$(".leaderBoardRow.noplayers").remove();
            var i = this.getNumberOfPlayerRowsToShowFromCollection(this.scores_collection);
            if (!this.searchMode) {
                var s = this.getNumberOfPlayerRowsToShowFromCollection(this.favcollection);
                s > 0 && (i += s + 2)
            }
            if (i < e) {
                var n = e - i
                  , a = "";
                0 === i && (n--,
                a += d.no_results_found({}));
                for (var r = 0; r < n; r++)
                    a += this.createEmptyPrRow();
                this.$allPlayerContainer.append(a)
            }
        },
        buildFavPlayers: function() {
            var e = [];
            return this.favcollection.forEach(function(t) {
                var i = ""
                  , s = this.createNewFpRow(t);
                this.fpRows[t.id] = s,
                this.fpOrder.push(t.id),
                i = s.$el,
                e.push(i)
            }
            .bind(this)),
            e
        },
        buildAllPlayers: function() {
            var e = [];
            return this.scores_collection.forEach(function(t) {
                var i = ""
                  , s = this.createNewPrRow(t);
                this.prRows[t.id] = s,
                this.prOrder.push(t.id),
                i = s.$el,
                e.push(i)
            }
            .bind(this)),
            e
        },
        removeFavRow: function(e) {
            var t = this.fpRows[e.id];
            t.dispose(),
            this.fpRows[e.id] = void 0,
            delete this.fpRows[e.id],
            this.fpOrder.splice(this.fpOrder.indexOf(e.id), 1),
            this.lbFormat === c.lbFormat.MAIN ? this.fillInLeaderboardWithEmptyRows(this.minRows) : this.lbFormat === c.lbFormat.EVERYWHERE && this.fillInLeaderboardWithEmptyRows(this.calculateNumberOfEmptyRowsToInsert()),
            this.favoritesShow(),
            this.addBottomBorders()
        },
        addFavRow: function(e) {
            var t = []
              , i = ""
              , s = this.createNewFpRow(e)
              , n = this.favcollection.indexOf(e);
            this.fpRows[e.id] = s,
            this.fpOrder.splice(n, 0, e.id),
            i = s.$el,
            t.push(i);
            var a = this.fpOrder[n + 1];
            if (n === this.favcollection.length - 1)
                this.$favPlayerContainer.append(t);
            else {
                var r = this.fpRows[a].$el;
                r.before(t)
            }
            this.lbFormat === c.lbFormat.MAIN ? this.fillInLeaderboardWithEmptyRows(this.minRows) : this.lbFormat === c.lbFormat.EVERYWHERE && this.fillInLeaderboardWithEmptyRows(this.calculateNumberOfEmptyRowsToInsert()),
            this.favoritesShow(),
            this.addBottomBorders()
        },
        moveRow: function(e) {
            var t = this.scores_collection.indexOf(e);
            this._moveRow(e, t),
            this.addBottomBorders()
        },
        reOrderRows: function() {
            this.scores_collection.forEach(function(e, t) {
                var i = t;
                this._moveRow(e, i)
            }
            .bind(this))
        },
        _moveRow: function(e, t) {
            var i = this.prOrder.indexOf(e.id);
            if (this.logger.info("moving player " + e.attributes.name + " from:" + i + " to:" + t + ", old pos:" + e._previousAttributes.current_sort_order),
            i > -1 && t !== i) {
                var s = this.prRows[e.id].$el;
                s.detach(),
                this.prOrder.splice(this.prOrder.indexOf(e.id), 1);
                var n = this.prOrder[t];
                if (n) {
                    var a = this.prRows[n].$el;
                    a.before(s)
                } else
                    this.$allPlayerContainer.append(s);
                this.prOrder.splice(t, 0, e.id)
            }
            if (e.get("is_fave")) {
                var r = this.fpOrder.indexOf(e.id)
                  , o = this.favcollection.indexOf(e);
                if (r > -1 && r !== o) {
                    var l = this.fpRows[e.id].$el;
                    l.detach(),
                    this.fpOrder.splice(this.fpOrder.indexOf(e.id), 1);
                    var h = this.fpOrder[o];
                    if (h) {
                        var c = this.fpRows[h].$el;
                        c.before(l)
                    } else
                        this.$favPlayerContainer.append(l);
                    this.fpOrder.splice(o, 0, e.id)
                }
            }
            this._moveExpandedScorecard(e)
        },
        _moveExpandedScorecard: function(e) {
            if (this.scorecardView && this.scorecardView.options.playerId === e.get("id")) {
                this.scorecardView.$el.addClass("noanimation");
                var t = this.scorecardView.options.targetPlayerId.substring(0, 2);
                "pr" === t ? this.prRows[this.scorecardView.options.playerId].$el.after(this.scorecardView.$el) : "fp" === t && this.fpRows[this.scorecardView.options.playerId].$el.after(this.scorecardView.$el)
            }
        },
        checkUpdates: function(e) {
            this.favcollection.sortCollection(this.sortItem),
            this.scores_collection.sortCollection(this.sortItem),
            this.moveRow(e)
        },
        insertCutLine: function() {
            if (2 === r.collection.currentRound && "" !== r.collection.cutLine && this.showCut && !this.searchMode) {
                var e = this.scores_collection.findWhere({
                    is_projected_cut: !0
                })
                  , t = this.scores_collection.indexOf(e)
                  , i = this.$allPlayerContainer.find(".playerRow:eq(" + t + ")");
                this.removeCutLine(),
                i.before(d.projected_cut())
            } else
                this.removeCutLine()
        },
        removeCutLine: function() {
            this.$el.find(".cutline").remove()
        },
        showSelectedView: function(e) {
            h.size() !== h.sizes.lgskeuomorphic && h.size() !== h.sizes.smskeuomorphic || l.init(this),
            this.$(".headerWrapper").removeClass("stickybar"),
            this.$(".lbScorecardPanel").addClass("noanimation");
            var t = this.$(".content.selected");
            if (t.length > 0) {
                var i = t.find(".scroll-pane").scrollTop();
                t.removeClass("selected")
            }
            t = this.$(".content." + this.currentLB),
            t.addClass("selected"),
            t.find(".scroll-pane").scrollTop(i)
        },
        favoritesShow: function() {
            if (this.showFav = !this.searchMode,
            0 === this.favcollection.length || 0 == this.showFav && this.favcollection.length > 0)
                this.$("div.titleRow").remove(),
                this.showFav = !1;
            else {
                if (this.$("div.titleRow").remove(),
                0 === this.$("div.titleRow").length) {
                    var e = '<div class="titleRow favoritesTitle">Favorites</div>'
                      , i = '<div class="titleRow allPlayersTitle">All Players</div>';
                    t(e).prependTo(this.$favPlayerContainer),
                    t(i).prependTo(this.$allPlayerContainer)
                }
                this.showFav = !0
            }
            0 === this.$favPlayerContainer.find(".leaderBoardRow").not(".hidden").length && (this.$allPlayerContainer.closest("[id*='-wrapper']").removeClass("showFav").addClass("hideFav"),
            this.showFav = !1),
            this.isShowFav()
        },
        isShowFav: function() {
            var e = "[id*='-wrapper']";
            this.lbFormat === c.lbFormat.EVERYWHERE && (e = ".lbe-players-wrapper"),
            this.showFav ? this.$el.find(e).removeClass("hideFav").addClass("showFav") : this.$el.find(e).removeClass("showFav").addClass("hideFav")
        },
        addBottomBorders: function(e) {
            void 0 !== e && (this.$allPlayerContainer = this.$(c._lbTypeLookUp[e])),
            this.removeBottomBorders(e);
            for (var t = this.$allPlayerContainer.find(".leaderBoardRow").not(".hidden"), i = 0, s = t.length; i < s; i += 3)
                t[i].className += " triplebottomborder tripleheight";
            s > 0 && (t[s - 1].className += " lastrow")
        },
        removeBottomBorders: function(e) {
            void 0 !== e && (this.$allPlayerContainer = this.$(c._lbTypeLookUp[e])),
            this.$allPlayerContainer.find(".leaderBoardRow").filter(".lastrow").removeClass("lastrow").end().filter(".triplebottomborder").removeClass("triplebottomborder").removeClass("tripleheight")
        },
        playerRowClicked: function(e) {
            if (this.lbFormat !== c.lbFormat.EVERYWHERE && "a" !== e.target.tagName.toLowerCase()) {
                var i = t(e.currentTarget).attr("id");
                if (a.trigger("lbbase:playerRowClicked", i),
                this.scorecardView && this.scorecardView.options.targetPlayerId === i)
                    n.measureApp(n.page_section, "Scorecard", "Close");
                else {
                    var s = this.scores_collection.get(i.slice(2))
                      , r = s ? s.get("full_name") : "";
                    n.trackS({
                        prop58: r
                    }),
                    n.measureApp(n.page_section, "Scorecard", "Open")
                }
            }
        },
        playerRowLinkClicked: function(e) {
            h.size() <= h.sizes.mobileLandscape && this.lbFormat === c.lbFormat.EVERYWHERE && a.trigger("leaderboardEverywhere:close")
        },
        toggleScorecardForPlayerRow: function(e) {
            var t = !0
              , i = !1
              , s = 0;
            return this.scorecardView && (i = !0,
            s = this.defaults.animationDuration,
            this.scorecardView.$el.removeClass("noanimation show"),
            this.scorecardView.options.targetPlayerId === e && (t = !1)),
            setTimeout(function() {
                i && this.destroyScorecard(),
                t && this.createNewScorecard(e)
            }
            .bind(this), s),
            !1
        },
        destroyScorecard: function() {
            if (this.scorecardView) {
                var e = this.scorecardView.options.targetPlayerId;
                this.$("#" + e).removeClass("showScorecard"),
                this.scorecardView.dispose(),
                this.scorecardView = null
            }
        },
        createNewScorecard: function(e) {
            if (!this.scorecardView && e && "" !== e.trim()) {
                var t = e.slice(2)
                  , i = this.scores_collection.get(t);
                this.scorecardView = new o({
                    type: "leaderboard",
                    targetPlayerId: e,
                    player: {
                        id: t,
                        name: i.get("full_name"),
                        country: i.get("country")
                    }
                });
                var s = this.scorecardView.render().$el;
                this.$("#" + e).after(s),
                this.$("#" + e).addClass("showScorecard"),
                a.trigger("lookup.unveil"),
                s.addClass("show"),
                s.one("animationstart", function(t) {
                    var i = this.$(".scroll-pane").scrollTop() + this.$("#" + e).position().top;
                    this.$(".scroll-pane").animate({
                        scrollTop: i
                    }, this.defaults.animationDuration, this.defaults.animationEasing)
                }
                .bind(this))
            }
        }
    });
    return u
}),
define("collections/favorite-players", ["require", "jquery", "backbone", "models/score-player", "collections/score-players", "utils/lb/lb-common"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("models/score-player")
      , s = e("collections/score-players")
      , n = e("utils/lb/lb-common")
      , a = t.Collection.extend({
        model: i,
        comparator: "current_sort_order",
        initialize: function() {
            this.logger = new eventsCore.util.Logger("FavPlayersCollection"),
            this.logger.info("Initialize"),
            this.sort_criteria = "current_sort_order",
            this.create()
        },
        create: function(e) {
            var t = [];
            s.forEach(function(e) {
                this.listenTo(e, "change:is_fave", this.checkFav),
                this.listenTo(e, "change:current_sort_order", this.sortFav),
                e.get("is_fave") && t.push(e)
            }
            .bind(this)),
            t = s.filter(function(e) {
                return e.get("is_fave") === !0
            }),
            this.reset(t)
        },
        checkFav: function(e) {
            e.get("is_fave") ? this.addFav(e) : this.removeFav(e)
        },
        addFav: function(e) {
            this.add(e),
            this.sortCollection(this.sort_criteria),
            this.logger.info(e.get("name") + " is added to fav: %o", e)
        },
        removeFav: function(e) {
            this.sortCollection(this.sort_criteria),
            this.remove(e),
            this.logger.info(e.get("name") + " is removed from favorite: %o", e)
        },
        sortFav: function(e) {
            e.get("is_fave") && (this.sortCollection(this.sort_criteria),
            this.logger.info(e.get("name") + ", current_sort_order at " + e.get("current_sort_order") + " is changed: %o", this))
        },
        sortCollection: function(e) {
            this.comparator = this.criteriaComparator(e),
            this.sort()
        },
        criteriaComparator: function(e, t) {
            return this.sort_criteria = e,
            "today" === e ? function(e, t) {
                return n.compareToday(e, t)
            }
            : "thru" === e ? function(e, t) {
                return n.compareThru(e, t)
            }
            : function(t, i) {
                var s = t.get(e)
                  , a = i.get(e);
                return "total" === e && ("" === s && (s = "9999999999"),
                "" === a && (a = "9999999999")),
                s < a ? -1 : s > a ? 1 : n.comparePos(t, i)
            }
        }
    });
    return a
}),
define("utils/lb/lb-sticky-nav", ["require", "backbone", "jquery", "utils/common", "utils/lb/lb-window-size", "utils/pubsub"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/common")
      , n = e("utils/lb/lb-window-size")
      , a = e("utils/pubsub")
      , r = t.View.extend({
        initialize: function() {
            this.active = !1,
            this._laststickybarpos,
            this.stickied = !1,
            this.$nav = this.$el.parent(),
            this.$static_body = this.$nav.parent(),
            this.nav_top,
            this.$doc = i(document),
            this.listenTo(a, "throttle:resize", this.resizeListener)
        },
        render: function() {
            return this.static_margin = this.$nav.offset().top - this.$static_body.offset().top,
            this.resetTrigger(),
            n.size() !== n.sizes.smskeuomorphic && n.size() !== n.sizes.lgskeuomorphic && (this.stickied = !0,
            this.active = !0,
            this.initSticky()),
            this
        },
        onDispose: function() {
            this.disableSticky()
        },
        resetTrigger: function() {
            this.nav_top = this.$static_body.offset().top - s.header_height + this.static_margin,
            this.nav_top < 0 && (this.nav_top = 0)
        },
        resizeListener: function() {
            this.resetTrigger(),
            this.active && n.size() === n.sizes.smskeuomorphic && n.size() === n.sizes.lgskeuomorphic ? (this.active = !1,
            this.stickied = !1,
            this.disableSticky(),
            this.$nav.removeClass("stickybar")) : this.active || n.size() === n.sizes.smskeuomorphic || n.size() === n.sizes.lgskeuomorphic || (this.active = !0,
            this.stickied = !0,
            this.initSticky()),
            this.scrollListener()
        },
        initSticky: function() {
            a.on("scroll", this.scrollListener.bind(this), this)
        },
        disableSticky: function() {
            a.off("scroll", this.scrollListener, this)
        },
        scrollListener: function() {
            var e = this.$doc.scrollTop();
            void 0 === this._laststickybarpos && (this.resetTrigger(),
            this._laststickybarpos = this.nav_top),
            e > this.nav_top ? (this.$nav.addClass("stickybar"),
            this.stickied = !0) : this.$nav.hasClass("stickybar") && e <= this.nav_top && (this.$nav.removeClass("stickybar"),
            this.stickied = !1,
            this.resetTrigger())
        }
    });
    return r
}),
define("text!templates/lb/trad-player-row.html!strip", [], function() {
    return '<div class="pos" attr="pos" ref="<%=player.id %>" onclick="">\n <div class="data"><%= pos %></div>\n</div>\n<% if(is_lb_everywhere) { %>\n\t<a href="<%= player_bio_url %>">\n<% } %>\n\t<div class="playerName" ref="<%= player.id %>" attr="name" title="Click to View <%= tooltip_title_for_player_name %>" onclick=""><div class="data"><%= player.name %></div>\n\t</div>\n<% if(is_lb_everywhere) { %>\n\t</a>\n<% } %>\n\n<div class="playerStatContainer" ref="<%=player.id %>" onclick=""><%= player_stat_html %>\n <div class="score" attr="topar"><%= to_par %></div>\n <%= round_scores_html %>\n <div class="score last" attr="total">\n\t\t<div class="data <%= total_score_klass %>"><%= player.total %></div>\n\t</div>\n</div>\n\n<div class="rightOption track <%= player.is_trackable ? \'on\' : \'\' %>" ref="<%= player.id %>" title="View Track"><a href="<%= track_url %>" style="text-decoration: none;">&nbsp;</a></div>\n\n<div class="rightOption favorite" ref="<%= player.id %>" title="<%= player.is_fave ? \'Remove Favorite\' : \'Add to Favorites\' %>">&nbsp;</div>';
}),
define("text!templates/lb/trad-score-cell.html!strip", [], function() {
    return '<div class="data <%= klass %>"><%= score %></div>'
}),
define("text!templates/lb/trad-teetime-cell.html!strip", [], function() {
    return '<div class="data teetime"><%= t[0] %> <span><%= t[1] %></span></div>'
}),
define("text!templates/lb/trad-edge-status-cell.html!strip", [], function() {
    return '<div class="<%= status_klass %>"><%= status_text %></div>'
}),
define("text!templates/lb/trad-today-teetime-cell.html!strip", [], function() {
    return '<div class="score" attr="today3">\n\t<div class="data">\n\t\t<span class="<%= is_split_tee ? \'splitTeetime\' : \'teetime\' %>"><%= today_teetime[0] %></span>\n\t\t<span class="meridiem"><%= today_teetime[1] %></span>\n\t</div>\n</div>\n<div class="score thru" attr="thru"><div class="data"><%= roundThru %></div></div>'
}),
define("text!templates/lb/trad-today-cell.html!strip", [], function() {
    return '<div class="score" attr="today3"><%= today %></div>\n<div class="score thru" attr="thru"><div class="data"><%= roundThru %></div></div>'
}),
define("text!templates/lb/trad-round-score-cell.html!strip", [], function() {
    return '<div class="round_score" attr="r<%= round %>">\n\t<div class="data <%= total_klass %>"><%= total %></div>\n</div>'
}),
define("text!templates/lb/score-blank-cell.html!strip", [], function() {
    return '<div class="score">&nbsp;</div>'
}),
define("views/lb/trad-player-row", ["require", "jquery", "underscore", "backbone", "utils/scores", "utils/browser", "utils/lb/lb-common", "utils/favorites", "text!templates/lb/trad-player-row.html!strip", "text!templates/lb/trad-score-cell.html!strip", "text!templates/lb/trad-teetime-cell.html!strip", "text!templates/lb/trad-edge-status-cell.html!strip", "text!templates/lb/trad-today-teetime-cell.html!strip", "text!templates/lb/trad-today-cell.html!strip", "text!templates/lb/trad-round-score-cell.html!strip", "text!templates/lb/score-blank-cell.html!strip"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/scores")
      , a = e("utils/browser")
      , r = e("utils/lb/lb-common")
      , o = e("utils/favorites")
      , l = e("text!templates/lb/trad-player-row.html!strip")
      , h = e("text!templates/lb/trad-score-cell.html!strip")
      , c = e("text!templates/lb/trad-teetime-cell.html!strip")
      , d = e("text!templates/lb/trad-edge-status-cell.html!strip")
      , u = e("text!templates/lb/trad-today-teetime-cell.html!strip")
      , p = e("text!templates/lb/trad-today-cell.html!strip")
      , f = e("text!templates/lb/trad-round-score-cell.html!strip")
      , g = e("text!templates/lb/score-blank-cell.html!strip")
      , m = s.View.extend({
        tagName: "div",
        main_template: i.template(l),
        score_cell_template: i.template(h),
        teetime_cell_template: i.template(c),
        edge_status_cell_template: i.template(d),
        today_teetime_cell_template: i.template(u),
        today_cell_template: i.template(p),
        round_score_cell_template: i.template(f),
        score_cell_blank_template: i.template(g),
        events: {
            "click .favorite": "toggleFavorite"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("TradPlayerRowView"),
            this.logger.info("Initialize"),
            this.watchAttributes = ["pos", "teetime", "sort_order", "status", "today", "thru", "topar", "total", "r1", "r2", "r3", "r4"],
            this.options = e,
            this.showFlag = this.options.lbFormat === r.lbFormat.EVERYWHERE ? r.lbShowPlayerFlag.EVERYWHERE : r.lbShowPlayerFlag.MAIN,
            this.listenTo(this.model, "change:is_fave", this.updateFavoriteStyle),
            this.listenTo(this.model, "change:" + this.showFlag, function(e, t) {
                r.togglePlayerRowDisplay(this.$el, t)
            }),
            this.listenTo(this.model, "change", this.checkUpdates),
            this.listenTo(this.model, "change:is_trackable", this.toggleTrackClass),
            this.listenTo(this.model, "change:is_fave", this.updateFavoriteStyle),
            this.listenTo(this.options.view, "change:roundNum", this.setRound)
        },
        render: function() {
            return this.assignAttributes(),
            this.$el.html(this.buildPlayerRow()),
            r.togglePlayerRowDisplay(this.$el, this.model.get(this.showFlag)),
            this
        },
        isModelChangeTriggeredBySearchOrFilter: function() {
            return !(1 !== this.model.changedAttributes.length || !this.model.hasChanged(r.lbShowPlayerFlag.EVERYWHERE) && !this.model.hasChanged(r.lbShowPlayerFlag.MAIN))
        },
        assignAttributes: function() {
            var e = "";
            "fp" === this.options.prefix && (e = "favoritePlayer"),
            "pr" === this.options.prefix && this.model.get("is_fave") && (e = "favorited"),
            this.$el.attr({
                class: "leaderBoardRow playerRow " + e + (a.tabletSite ? "" : " hoverable "),
                id: this.options.prefix + this.model.get("id"),
                "data-id": this.model.get("id")
            })
        },
        buildPlayerRow: function() {
            var e = "C" === this.model.get("status") || "D" === this.model.get("status") || "W" === this.model.get("status")
              , t = this.model.get("thru")
              , i = "";
            i = e ? '<div class="data"></div>' : this.getFormattedScoreTrad(this.model.get("topar"), "yes", "topar");
            var s = n.Utilities.getPosition(this.model)
              , a = this.getFormattedTeeTime(this.model.get("teetime"))
              , o = "";
            e ? o = this.edge_status_cell_template({
                status_klass: r.getEdgeClassName(this.model.get("status")),
                status_text: n.Utilities.getStatusName(this.model.get("status"))
            }) : "" === this.model.get("today") && "" !== this.model.get("teetime") ? o = this.today_teetime_cell_template({
                today_teetime: a,
                roundThru: t,
                is_split_tee: a[1].indexOf("*") >= 0
            }) : "" !== this.model.get("pos") && " " !== this.model.get("pos") && this.model.get("today").length > 3 ? o = this.score_cell_blank_template({}) + this.score_cell_blank_template({}) : (t = t.toString(),
            t.indexOf("18") > -1 && (t = t.replace("18", "F")),
            o = this.today_cell_template({
                today: this.getFormattedScoreTrad(this.model.get("today"), "yes"),
                roundThru: t
            }));
            for (var l = "", h = 1; h <= 4; h++) {
                var c = n.Utilities.getTotalForRound(this.model.attributes, "r" + h)
                  , d = n.Utilities.className(parseInt(c), "yes", !0);
                l += this.round_score_cell_template({
                    round: h,
                    total_klass: d,
                    total: c
                })
            }
            var u = ""
              , p = r.getFormattedTotalScore(this.model.attributes)
              , f = r.getTrackURL(this.model);
            return this.main_template({
                player: this.model.attributes,
                pos: s,
                to_par: i,
                player_stat_html: o,
                round_scores_html: l,
                total_score_klass: p,
                total_score_html: u,
                track_url: f,
                player_bio_url: r.getPlayerBioURL(this.model),
                tooltip_title_for_player_name: r.getTooltipTitleForPlayerName(this.options.lbFormat),
                is_lb_everywhere: this.options.lbFormat === r.lbFormat.EVERYWHERE
            })
        },
        getFormattedScoreTrad: function(e, t, i) {
            var s = n.Utilities.className(e, t);
            return this.score_cell_template({
                klass: s,
                score: e
            })
        },
        getFormattedTeeTime: function(e) {
            if ("" === e)
                return "";
            var t = e.split(" ");
            return t
        },
        checkUpdates: function() {
            this.logger.info("watched attributes changed:%o", this.model.changedAttributes());
            for (var e = i.keys(this.model.changedAttributes()), s = 0; s < e.length; s++)
                if (t.inArray(e[s], this.watchAttributes) !== -1)
                    return this.render(),
                    !1
        },
        toggleTrackClass: function() {
            this.$(".track").toggleClass("on", this.model.get("is_trackable"))
        },
        toggleFavorite: function(e) {
            if (this.options.lbFormat === r.lbFormat.EVERYWHERE) {
                var t = o.prefix;
                o.prefix = "Leader Board Everywhere"
            }
            return this.model.trigger("toggleFavorite"),
            this.options.lbFormat === r.lbFormat.EVERYWHERE && (o.prefix = t),
            !1
        },
        updateFavoriteStyle: function() {
            var e = this.model.get("id")
              , t = this.$el.closest('[data-id="' + e + '"]');
            t.toggleClass("favorited", this.model.get("is_fave"))
        },
        setRound: function(e) {
            this.roundNum = e,
            this.render()
        }
    });
    return m
}),
define("text!templates/lb/trad-player-row-empty.html!strip", [], function() {
    return '<div id="" class="leaderBoardRow playerRow searchEmptyRow">\n <div class="pos" attr="pos">\n <div class="data">&nbsp;</div>\n </div>\n <div class="playerName">\n <div class="data">&nbsp;</div>\n </div>\n <div class="playerStatContainer">\n <div class="score" attr="today3">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score thru" attr="thru">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score" attr="topar">\n <div class="data">&nbsp;</div>\n </div>\n <div class="round_score" attr="r1">\n <div class="data">&nbsp;</div>\n </div>\n <div class="round_score" attr="r2">\n <div class="data">&nbsp;</div>\n </div>\n <div class="round_score" attr="r3">\n <div class="data">&nbsp;</div>\n </div>\n <div class="round_score" attr="r4">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score last" attr="total">\n <div class="data">&nbsp;</div>\n </div>\n </div>\n <div class="rightOption track">&nbsp;</div>\n <div class="rightOption favorite">&nbsp;</div>\n</div>'
}),
define("views/lb/trad", ["require", "jquery", "underscore", "collections/favorite-players", "views/lb/lb-base", "utils/lb/lb-common", "utils/lb/lb-sticky-nav", "utils/metrics", "utils/pubsub", "utils/scores", "collections/score-players", "views/lb/trad-player-row", "text!templates/lb/trad-player-row-empty.html!strip"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("collections/favorite-players")
      , n = e("views/lb/lb-base")
      , a = e("utils/lb/lb-common")
      , r = e("utils/lb/lb-sticky-nav")
      , o = e("utils/metrics")
      , l = e("utils/pubsub")
      , h = e("utils/scores")
      , c = e("collections/score-players")
      , d = e("views/lb/trad-player-row")
      , u = e("text!templates/lb/trad-player-row-empty.html!strip")
      , p = n.extend({
        trad_player_row_empty_template: i.template(u),
        events: {
            "click .headerRow .sort_item": "sortPlayersBy",
            "click .playerRow:not(.searchEmptyRow)": "playerRowClicked",
            "click .playerRow a": "playerRowLinkClicked"
        },
        fave: !1,
        _sortTypeLookUp: {
            0: "current_sort_order",
            1: "name",
            2: "today",
            3: "thru",
            4: "current_sort_order",
            5: "r1_score",
            6: "r2_score",
            7: "r3_score",
            8: "r4_score",
            9: "current_sort_order",
            pos: "current_sort_order"
        },
        _sortLabelLookUp: {
            0: "Pos",
            1: "Player",
            2: "Today",
            3: "Thru",
            4: "ToPar",
            5: "R1",
            6: "R2",
            7: "R3",
            8: "R4",
            9: "Total"
        },
        initialize: function(e) {
            n.prototype.initialize.apply(this, arguments),
            this.logger = new eventsCore.util.Logger("TradView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.prRows = {},
            this.prOrder = [],
            this.fpRows = {},
            this.fpOrder = [],
            this.showCut = !0,
            this.sortItem = this._sortTypeLookUp.pos,
            this.scores_collection = h.collection.clone(),
            this.favcollection = new s,
            this.lbFormat !== a.lbFormat.EVERYWHERE && (this.lbstickyNav = new r({
                el: this.$(".headerRow")
            })),
            this.$favPlayerContainer,
            this.$allPlayerContainer,
            this.listenTo(this.favcollection, "add", this.addFavRow),
            this.listenTo(this.favcollection, "remove", this.removeFavRow),
            this.listenTo(this.scores_collection, "sortOrder:update", this.checkUpdates),
            this.listenTo(l, "scores:refresh", this.insertCutLine),
            this.listenTo(c, "change:currentRound", this.switchRound)
        },
        render: function(e) {
            if (this.$favPlayerContainer = this.$(a._lbTypeLookUp.tradFavPlayersContainer),
            this.$allPlayerContainer = this.$(a._lbTypeLookUp.tradAllPlayersContainer),
            this.writeHtml(),
            void 0 === e && this.selectDefaultHeaderSelect(),
            this.scorecardView) {
                this.scorecardView.$el.addClass("noanimation");
                var t = this.scorecardView.options.targetPlayerId;
                this.$("#" + t).after(this.scorecardView.$el)
            }
            return this.lbFormat !== a.lbFormat.EVERYWHERE && this.lbstickyNav.render(),
            this
        },
        onDispose: function() {
            i.each(this.fpRows, function(e) {
                e.dispose()
            }),
            i.each(this.prRows, function(e) {
                e.dispose()
            }),
            this.lbstickyNav && this.lbstickyNav.dispose()
        },
        createNewPrRow: function(e) {
            var t = new d({
                model: e,
                prefix: "pr",
                view: this,
                lbFormat: this.lbFormat
            }).render();
            return t
        },
        createNewFpRow: function(e) {
            var t = new d({
                model: e,
                prefix: "fp",
                view: this,
                lbFormat: this.lbFormat
            }).render();
            return t
        },
        createEmptyPrRow: function() {
            return this.trad_player_row_empty_template({})
        },
        switchRound: function(e) {
            var t = "r" + e + "_sort_order";
            this.roundNum = e,
            this.roundNum === h.collection.currentRound && (t = "current_sort_order"),
            this.favcollection.sortCollection(t),
            this.scores_collection.sortCollection(t),
            this.trigger("change:roundNum", this.roundNum)
        },
        sortPlayersBy: function(e) {
            var s = parseInt(t(e.currentTarget).data("id"))
              , n = t(e.currentTarget).text()
              , r = this._sortTypeLookUp[s];
            this.favcollection.sortCollection(r),
            this.scores_collection.sortCollection(r),
            this.setHeaderStyle(e),
            i.each(this.fpRows, function(e) {
                e.dispose()
            }),
            i.each(this.prRows, function(e) {
                e.dispose()
            }),
            this.prRows = {},
            this.prOrder = [],
            this.fpRows = {},
            this.fpOrder = [],
            this.sortItem = r,
            this.sortItem === this._sortTypeLookUp.pos ? this.showCut = !0 : this.showCut = !1,
            this.render(e),
            this.lbFormat === a.lbFormat.MAIN ? (this.fillInLeaderboardWithEmptyRows(this.minRows),
            o.measureApp(o.page_section, "Sort", n)) : this.lbFormat === a.lbFormat.EVERYWHERE && (this.fillInLeaderboardWithEmptyRows(this.calculateNumberOfEmptyRowsToInsert()),
            o.measureApp("Leader Board Everywhere", "Sort", n))
        },
        setHeaderStyle: function(e) {
            var i = t(e.currentTarget);
            this.$(".sort_item").removeClass("selected"),
            i.addClass("selected")
        },
        selectDefaultHeaderSelect: function() {
            this.$("#" + this._sortLabelLookUp[0]).addClass("selected")
        }
    });
    return p
}),
define("text!templates/lb/ou-player-row.html!strip", [], function() {
    return '<div class="prior" ref="<%=player.id %>"><%= prior %></div>\n<div class="playerContainer" ref="<%=player.id %>">\n\t<% if(is_lb_everywhere) { %>\n\t\t<a href="<%= player_bio_url %>">\n\t<% } %>\n\t\t<div class="playerName" ref="<%= player.id %>" title="Click to View Scorecard">\n\t\t\t<div class="data <%= nameSize %>"><%= player.name %> </div>\n\t\t</div>\n\t<% if(is_lb_everywhere) { %>\n\t\t</a>\n\t<% } %>\n\t\t\t\n\t<%= player_stat_html %>\n</div>\n\n<div class="rightOption track <%= player.is_trackable ? \'on\' : \'\' %>" ref="<%= player.id %>" title="View Track"><a href="<%= track_url %>" style="text-decoration: none;"> &nbsp;</a></div>\n\n<div class="rightOption favorite" ref="<%= player.id %>" title="<%= player.is_fave ? \'Remove Favorite\' : \'Add to Favorites\' %>">&nbsp;</div>'
}),
define("views/lb/ou-player-row", ["require", "jquery", "underscore", "backbone", "utils/browser", "utils/pubsub", "utils/scores", "utils/lb/lb-common", "text!templates/lb/ou-player-row.html!strip", "text!templates/lb/trad-edge-status-cell.html!strip", "utils/favorites"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/browser")
      , a = e("utils/pubsub")
      , r = e("utils/scores")
      , o = e("utils/lb/lb-common")
      , l = e("text!templates/lb/ou-player-row.html!strip")
      , h = e("text!templates/lb/trad-edge-status-cell.html!strip")
      , c = e("utils/favorites")
      , d = {};
    d.score_cell = i.template('<div class="data <%= klass %>"><%= score %></div>'),
    d.score_empty_cell = i.template('<div class="data">&nbsp;</div>');
    var u = s.View.extend({
        tagName: "div",
        main_template: i.template(l),
        edge_status_cell_template: i.template(h),
        events: {
            "click .favorite": "toggleFavorite"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("OUPlayerRowView"),
            this.logger.info("Initialize"),
            this.timeout = 1500,
            this.options = e,
            this.roundNum = this.options.roundNum,
            this.showFlag = this.options.lbFormat === o.lbFormat.EVERYWHERE ? o.lbShowPlayerFlag.EVERYWHERE : o.lbShowPlayerFlag.MAIN,
            this.listenTo(this.model, "change:" + this.showFlag, function(e, t) {
                o.togglePlayerRowDisplay(this.$el, t)
            }),
            this.listenTo(this.model, "change", this.checkUpdates),
            this.listenTo(this.model, "change:is_trackable", this.toggleTrackClass),
            this.listenTo(this.model, "change:is_fave", this.updateFavoriteStyle),
            this.listenTo(a, "concurrentRound:select", this.setRound),
            this.listenTo(this.options.view, "change:roundNum", this.setRound),
            this.priorTotal = ""
        },
        render: function() {
            return this.assignAttributes(),
            this.$el.html(this.buildPlayerRow()),
            o.togglePlayerRowDisplay(this.$el, this.model.get(this.showFlag)),
            this.$priorCell = this.$(".prior .data"),
            this.$playerNameCell = this.$(".playerName .data"),
            this.$scoreCell = this.$(".score"),
            this
        },
        assignAttributes: function() {
            var e = "";
            "fp" === this.options.prefix && (e = "favoritePlayer"),
            "pr" === this.options.prefix && this.model.get("is_fave") && (e = "favorited"),
            this.$el.attr({
                class: "leaderBoardRow playerRow " + e + (n.tabletSite ? "" : " hoverable "),
                id: this.options.prefix + this.model.get("id"),
                "data-id": this.model.get("id")
            })
        },
        buildPlayerRow: function() {
            var e = " ";
            "" !== this.model.get("pos") && (this.priorTotal = r.Utilities.getScoreDetails(this.model, this.roundNum).priorTotal,
            e = r.Utilities.getScoreDetails(this.model, this.roundNum).roundScores);
            var t = r.Utilities.getScoreDetails(this.model, this.roundNum).roundThru
              , i = d.score_cell({
                klass: "",
                score: ""
            });
            1 !== this.roundNum && "" !== this.priorTotal && (i = this.getFormattedScore(this.priorTotal));
            var s = this.getHoleOverUderScores(t, e, this.priorTotal)
              , n = ""
              , a = ""
              , l = "C" === this.model.get("status") || "D" === this.model.get("status") || "W" === this.model.get("status")
              , h = parseInt(this.roundNum, 10)
              , c = parseInt(r.collection.currentRound, 10);
            if ((h > 2 || 2 === c && 2 === h) && l)
                i = d.score_empty_cell({}),
                a = this.edge_status_cell_template({
                    status_klass: o.getEdgeClassName(this.model.get("status")),
                    status_text: r.Utilities.getStatusName(this.model.get("status"))
                });
            else
                for (var u, p, f = 0; f < 2; f++)
                    for (var g = 0; g < 9; g++)
                        u = "score",
                        p = g + 1,
                        1 !== p && 9 !== p || (u += " hole" + p),
                        a += d.score_cell({
                            klass: u,
                            score: this.getFormattedScore(s[g + 9 * f])
                        });
            var m = o.getTrackURL(this.model);
            return this.main_template({
                player: this.model.attributes,
                prior: i,
                nameSize: n,
                player_stat_html: a,
                track_url: m,
                player_bio_url: o.getPlayerBioURL(this.model),
                is_lb_everywhere: this.options.lbFormat === o.lbFormat.EVERYWHERE
            })
        },
        getFormattedScore: function(e) {
            var t = "";
            return t = "0" === e ? "over" : r.Utilities.className(e),
            "" !== e && (e = Math.abs(e)),
            d.score_cell({
                klass: t,
                score: e
            })
        },
        getHoleOverUderScores: function(e, t, i) {
            var s = [];
            if (this.priorTotal = i,
            e.indexOf("*") === -1)
                for (var n = 0; n < 18; n++)
                    s[n] = r.Utilities.getOverUnderScore(r.Utilities.getScoreFromChar(t.charAt(n)), r.holePar[n], this.priorTotal),
                    this.priorTotal = s[n];
            else {
                for (var n = 9; n < 18; n++)
                    s[n] = r.Utilities.getOverUnderScore(r.Utilities.getScoreFromChar(t.charAt(n)), r.holePar[n], this.priorTotal),
                    this.priorTotal = s[n];
                for (var n = 0; n < 9; n++)
                    s[n] = r.Utilities.getOverUnderScore(r.Utilities.getScoreFromChar(t.charAt(n)), r.holePar[n], this.priorTotal),
                    this.priorTotal = s[n]
            }
            return s
        },
        setRound: function(e) {
            this.roundNum = e,
            this.render()
        },
        checkUpdates: function() {
            var e = this.model.previousAttributes()
              , t = e["r" + this.roundNum + "_roundscores"]
              , i = this.model.get("r" + this.roundNum + "_roundscores");
            e.current_sort_order !== this.model.get("current_sort_order") || e["r" + this.roundNum + "_sort_order"] !== this.model.get("r" + this.roundNum + "_sort_order") ? this.updateRow() : t !== i && this.updateScoreCell(t, i),
            (this.model.get("status") !== e.status && r.Utilities.missedCut(this.model) || r.Utilities.withdrawn(this.model) || r.Utilities.disqualified(this.model)) && this.render(),
            this.model.get("r" + this.roundNum + "_prior") !== e["r" + this.roundNum + "_prior"] && "" === e["r" + this.roundNum + "_prior"] && this.render()
        },
        updateRow: function() {
            1 !== this.roundNum && (this.$priorCell.removeClass("over under"),
            this.animateScoreCell(this.$priorCell, r.Utilities.getScoreDetails(this.model, this.roundNum).priorTotal)),
            this.animateNameCell(this.$playerNameCell, this.model.get("name")),
            this.priorTotal = r.Utilities.getScoreDetails(this.model, this.roundNum).priorTotal,
            roundScores = r.Utilities.getScoreDetails(this.model, this.roundNum).roundScores;
            var e = r.Utilities.getScoreDetails(this.model, this.roundNum).roundThru
              , i = roundScores.split("")
              , s = this.getHoleOverUderScores(e, roundScores, this.priorTotal);
            t(i).each(function(e, t) {
                var i = e;
                " " !== t ? (this.$(".score .data:eq(" + i + ")").removeClass("over").removeClass("under"),
                this.animateScoreCell(this.$(".score .data:eq(" + i + ")"), s[e])) : (this.$(".score .data:eq(" + i + ")").removeClass("over").removeClass("under"),
                this.animateScoreCell(this.$(".score .data:eq(" + i + ")"), ""))
            }
            .bind(this))
        },
        updateScoreCell: function(e, i) {
            var s = i.split("")
              , n = e.split("")
              , a = r.Utilities.getScoreDetails(this.model, this.roundNum).roundScores;
            this.priorTotal = r.Utilities.getScoreDetails(this.model, this.roundNum).priorTotal;
            var o = r.Utilities.getScoreDetails(this.model, this.roundNum).roundThru
              , l = this.getHoleOverUderScores(o, a, this.priorTotal);
            t(s).each(function(e, t) {
                if (t !== n[e]) {
                    var i = e;
                    this.$(".score .data:eq(" + i + ")").removeClass("over").removeClass("under"),
                    this.animateScoreCell(this.$(".score .data:eq(" + i + ")"), l[e])
                }
            }
            .bind(this))
        },
        animateScoreCell: function(e, t) {
            var i = "" !== t ? parseInt(t) : ""
              , s = "" !== i ? r.Utilities.className(i) : ""
              , n = e.closest(".playerRow");
            "" !== i && (i = Math.abs(i));
            var a = 0;
            e.parent().addClass("preAnimate"),
            this.options.lbFormat === o.lbFormat.MAIN && o.checkIfInView(n) && !n.hasClass("hidden") && (e.parent().addClass("scoreAnimate"),
            a = this.timeout),
            setTimeout(function() {
                e.html(""),
                e.html(i),
                e.addClass(s),
                e.parent().removeClass("scoreAnimate"),
                setTimeout(function() {
                    e.parent().removeClass("preAnimate")
                }, a)
            }, a)
        },
        animateNameCell: function(e, t) {
            var i = e.closest(".playerRow")
              , s = 0;
            e.parent().addClass("preAnimate"),
            this.options.lbFormat === o.lbFormat.MAIN && o.checkIfInView(i) && !i.hasClass("hidden") && (e.parent().addClass("scoreAnimate"),
            s = this.timeout),
            setTimeout(function() {
                e.html(""),
                e.html(t),
                e.parent().removeClass("scoreAnimate"),
                setTimeout(function() {
                    e.parent().removeClass("preAnimate")
                }, s)
            }, s)
        },
        toggleTrackClass: function() {
            this.$(".track").toggleClass("on", this.model.get("is_trackable"))
        },
        toggleFavorite: function(e) {
            if (this.options.lbFormat === o.lbFormat.EVERYWHERE) {
                var t = c.prefix;
                c.prefix = "Leader Board Everywhere"
            }
            return this.model.trigger("toggleFavorite"),
            this.options.lbFormat === o.lbFormat.EVERYWHERE && (c.prefix = t),
            !1
        },
        updateFavoriteStyle: function() {
            var e = this.model.get("id")
              , t = this.$el.closest('[data-id="' + e + '"]');
            t.toggleClass("favorited", this.model.get("is_fave"))
        }
    });
    return u
}),
define("text!templates/lb/ou-player-row-empty.html!strip", [], function() {
    return '<div class="leaderBoardRow playerRow searchEmptyRow">\n <div class="prior">\n <div class="data">\n <div class="data">&nbsp;</div>\n </div>\n </div>\n <div class="playerContainer">\n <div class="playerName">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score hole1">\n <div class="data"></div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score hole9">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score hole1">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score">\n <div class="data">&nbsp;</div>\n </div>\n <div class="score hole9">\n <div class="data">&nbsp;</div>\n </div>\n </div>\n <div class="rightOption track">&nbsp;</div>\n <div class="rightOption favorite">&nbsp;</div>\n</div>'
}),
define("views/lb/ou", ["require", "jquery", "underscore", "collections/favorite-players", "utils/lb/lb-common", "utils/lb/lb-sticky-nav", "views/lb/lb-base", "views/lb/ou-player-row", "utils/pubsub", "utils/scores", "collections/score-players", "text!templates/lb/ou-player-row-empty.html!strip"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("collections/favorite-players")
      , s = e("utils/lb/lb-common")
      , n = e("utils/lb/lb-sticky-nav")
      , a = e("views/lb/lb-base")
      , r = e("views/lb/ou-player-row")
      , o = e("utils/pubsub")
      , l = e("utils/scores")
      , h = e("collections/score-players")
      , c = e("text!templates/lb/ou-player-row-empty.html!strip")
      , d = a.extend({
        ouPlayerRowEmptyTemplate: t.template(c),
        events: {
            "click .playerRow:not(.searchEmptyRow)": "playerRowClicked",
            "click .playerRow a": "playerRowLinkClicked"
        },
        fave: !1,
        initialize: function(e) {
            a.prototype.initialize.apply(this, arguments),
            this.logger = new eventsCore.util.Logger("OUView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.prRows = {},
            this.prOrder = [],
            this.fpRows = {},
            this.fpOrder = [],
            this.showCut = !0,
            this.roundNum = l.collection.currentRound,
            this.scores_collection = l.collection.clone(),
            this.scores_collection.comparator = "current_sort_order",
            this.favcollection = new i,
            this.favcollection.comparator = "current_sort_order",
            this.lbFormat !== s.lbFormat.EVERYWHERE && (this.lbstickyNav = new n({
                el: this.$(".headerRow")
            })),
            this.$favPlayerContainer,
            this.$allPlayerContainer,
            this.listenTo(this.favcollection, "add", this.addFavRow),
            this.listenTo(this.favcollection, "remove", this.removeFavRow),
            this.listenTo(o, "writeHtml:complete", this.enterSkeuomorphic),
            this.listenTo(this.scores_collection, "sortOrder:update", this.checkUpdates),
            this.listenTo(o, "scores:refresh", this.insertCutLine),
            this.listenTo(o, "windowsize:lbLargeSkeuomorphic:enter windowsize:lbSmallSkeuomorphic:enter", this.enterSkeuomorphic),
            this.listenTo(o, "concurrentRound:select", this.switchRound),
            this.listenTo(h, "change:currentRound", this.switchRound)
        },
        render: function() {
            return this.$favPlayerContainer = this.$(s._lbTypeLookUp.ouFavPlayersContainer),
            this.$allPlayerContainer = this.$(s._lbTypeLookUp.ouAllPlayersContainer),
            this.writeHtml(),
            this.lbFormat !== s.lbFormat.EVERYWHERE && this.lbstickyNav.render(),
            this
        },
        onDispose: function() {
            t.each(this.fpRows, function(e) {
                e.dispose()
            }),
            t.each(this.prRows, function(e) {
                e.dispose()
            }),
            this.lbstickyNav && this.lbstickyNav.dispose()
        },
        createNewPrRow: function(e) {
            var t = new r({
                model: e,
                prefix: "pr",
                roundNum: this.roundNum,
                view: this,
                lbFormat: this.lbFormat
            }).render();
            return t
        },
        createNewFpRow: function(e) {
            var t = new r({
                model: e,
                prefix: "fp",
                roundNum: this.roundNum,
                view: this,
                lbFormat: this.lbFormat
            }).render();
            return t
        },
        createEmptyPrRow: function() {
            return this.ouPlayerRowEmptyTemplate({})
        },
        switchRound: function(e) {
            var t = "r" + e + "_sort_order";
            this.roundNum = e,
            this.roundNum === l.collection.currentRound && (t = "current_sort_order"),
            this.favcollection.sortCollection(t),
            this.scores_collection.sortCollection(t),
            this.reOrderRows(),
            this.trigger("change:roundNum", this.roundNum)
        },
        enterSkeuomorphic: function() {
            clearTimeout(this.enterSkeuoTimeoutId),
            this.enterSkeuoTimeoutId = setTimeout(function() {
                s.isInView(this.$(".scroll-pane"))
            }
            .bind(this), 500)
        }
    });
    return d
}),
define("views/lb-everywhere/lbe-body", ["require", "jquery", "utils/browser", "utils/metrics", "utils/pubsub", "views/lb/lb-base", "utils/lb/lb-common", "views/lb/trad", "views/lb/ou", "utils/scores"], function(e) {
    var t = (e("jquery"),
    e("utils/browser"),
    e("utils/metrics"),
    e("utils/pubsub"))
      , i = e("views/lb/lb-base")
      , s = e("utils/lb/lb-common")
      , n = e("views/lb/trad")
      , a = e("views/lb/ou")
      , r = e("utils/scores")
      , o = i.extend({
        el: ".lb-body",
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("LBBodyView"),
            this.logger.info("Initialize"),
            this.currentLB = e.lbtype,
            this.listenTo(t, "lbEverywhere:showLBView", this.resetCurrentLB)
        },
        onRender: function() {
            return this.drawLeaderboard(),
            this
        },
        onDispose: function() {
            this.tradplayerlist.dispose(),
            this.ouplayerlist.dispose()
        },
        drawLeaderboard: function() {
            return r.isDataLoaded() ? (this.buildOULB(),
            this.buildTradLB(),
            this.showSelectedView(this.currentLB),
            void 0) : void t.off("scores:refresh", this.drawLeaderboard, this).once("scores:refresh", this.drawLeaderboard, this)
        },
        buildTradLB: function() {
            this.tradplayerlist = new n({
                el: this.$("#traditional"),
                lbFormat: s.lbFormat.EVERYWHERE
            }).render()
        },
        buildOULB: function() {
            this.ouplayerlist = new a({
                el: this.$("#overunder"),
                lbFormat: s.lbFormat.EVERYWHERE
            }).render()
        },
        resetCurrentLB: function(e) {
            this.currentLB = e,
            this.showSelectedView(this.currentLB);
            var i = e + "AllPlayersContainer";
            this.addBottomBorders(i),
            t.trigger("lookup.unveil")
        },
        showSelectedView: function(e) {
            var t = this.$(".content.selected");
            if (t.length > 0) {
                var i = t.find(".scroll-pane").scrollTop();
                t.removeClass("selected")
            }
            t = this.$(".content." + this.currentLB),
            t.addClass("selected"),
            t.find(".scroll-pane").scrollTop(i)
        }
    });
    return o
}),
define("views/players-search", ["require", "backbone", "underscore", "utils/metrics", "utils/pubsub"], function(e) {
    var t = e("backbone")
      , i = e("underscore")
      , s = e("utils/metrics")
      , n = e("utils/pubsub")
      , a = {};
    a.players_search = i.template('<div id="lbSearch"><input id="searchField" type="text" placeholder="Find a Player"><div id="lbSearchButton"></div><div class="lbClearButton"></div></div>');
    var r = t.View.extend({
        events: {
            "keyup #searchField": "_onSearch",
            "click #lbSearchButton.on": "_onClear",
            "click .lbClearButton": "_onClear"
        },
        defaults: {
            showFlag: "show"
        },
        template: a.players_search,
        initialize: function(e) {
            this.options = i.extend({}, this.defaults, e),
            this.searchKey = e.searchKey || "",
            this.metricsArgs = this.options.metrics || [],
            this.listenTo(this.collection, "modified", function(e, t) {
                "search" === e || t.forcedTrigger || this.render()
            }),
            this.listenTo(n, "par3-body:clearSarch", this._clear)
        },
        render: function() {
            return this.$el.html(this.template({})),
            this
        },
        onDispose: function() {
            this._clear()
        },
        _onSearch: function(e) {
            this.searchVal = e.target.value,
            this._executeSearch()
        },
        _onClear: function(e) {
            s.measureApp.apply(null, this.metricsArgs.concat(["Player Search", "Cancel"])),
            this._clear()
        },
        _clear: function(e) {
            this.searchVal = "",
            this.$("#searchField").val(""),
            this._executeSearch()
        },
        _executeSearch: function() {
            this.$("#lbSearchButton").toggleClass("on", "" !== this.searchVal),
            this.collection.searchBy(this.searchKey, this.searchVal, this.options.showFlag),
            this.collection.trigger("modified", "search", this.searchVal)
        }
    });
    return r
}),
!function(e) {
    function t(e, t) {
        if (!(e.originalEvent.touches.length > 1)) {
            e.preventDefault();
            var i = e.originalEvent.changedTouches[0]
              , s = document.createEvent("MouseEvents");
            s.initMouseEvent(t, !0, !0, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, !1, !1, !1, !1, 0, null),
            e.target.dispatchEvent(s)
        }
    }
    if (e.support.touch = "ontouchend"in document,
    e.support.touch) {
        var i, s = e.ui.mouse.prototype, n = s._mouseInit, a = s._mouseDestroy;
        s._touchStart = function(e) {
            var s = this;
            !i && s._mouseCapture(e.originalEvent.changedTouches[0]) && (i = !0,
            s._touchMoved = !1,
            t(e, "mouseover"),
            t(e, "mousemove"),
            t(e, "mousedown"))
        }
        ,
        s._touchMove = function(e) {
            i && (this._touchMoved = !0,
            t(e, "mousemove"))
        }
        ,
        s._touchEnd = function(e) {
            i && (t(e, "mouseup"),
            t(e, "mouseout"),
            this._touchMoved || t(e, "click"),
            i = !1)
        }
        ,
        s._mouseInit = function() {
            var t = this;
            t.element.bind({
                touchstart: e.proxy(t, "_touchStart"),
                touchmove: e.proxy(t, "_touchMove"),
                touchend: e.proxy(t, "_touchEnd")
            }),
            n.call(t)
        }
        ,
        s._mouseDestroy = function() {
            var t = this;
            t.element.unbind({
                touchstart: e.proxy(t, "_touchStart"),
                touchmove: e.proxy(t, "_touchMove"),
                touchend: e.proxy(t, "_touchEnd")
            }),
            a.call(t)
        }
    }
}(jQuery),
define("jquery.ui.touch-punch", ["jquery", "jquery.ui"], function() {}),
!function(e) {
    "function" == typeof define && define.amd ? define("jquery.jscrollpane", ["jquery"], e) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
}(function(e) {
    e.fn.jScrollPane = function(t) {
        function i(t, i) {
            function s(i) {
                var a, o, h, c, d, f, g = !1, m = !1;
                if ($ = i,
                void 0 === F)
                    d = t.scrollTop(),
                    f = t.scrollLeft(),
                    t.css({
                        overflow: "hidden",
                        padding: 0
                    }),
                    V = t.innerWidth() + ve,
                    N = t.innerHeight(),
                    t.width(V),
                    F = e('<div class="jspPane" />').css("padding", me).append(t.children()),
                    H = e('<div class="jspContainer" />').css({
                        width: V + "px",
                        height: N + "px"
                    }).append(F).appendTo(t);
                else {
                    if (t.css("width", ""),
                    g = $.stickToBottom && S(),
                    m = $.stickToRight && P(),
                    c = t.innerWidth() + ve != V || t.outerHeight() != N,
                    c && (V = t.innerWidth() + ve,
                    N = t.innerHeight(),
                    H.css({
                        width: V + "px",
                        height: N + "px"
                    })),
                    !c && be == B && F.outerHeight() == W)
                        return void t.width(V);
                    be = B,
                    F.css("width", ""),
                    t.width(V),
                    H.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()
                }
                F.css("overflow", "auto"),
                B = i.contentWidth ? i.contentWidth : F[0].scrollWidth,
                W = F[0].scrollHeight,
                F.css("overflow", ""),
                U = B / V,
                G = W / N,
                Y = G > 1,
                X = U > 1,
                X || Y ? (t.addClass("jspScrollable"),
                a = $.maintainPosition && (Z || te),
                a && (o = C(),
                h = T()),
                n(),
                r(),
                l(),
                a && (k(m ? B - V : o, !1),
                _(g ? W - N : h, !1)),
                D(),
                M(),
                I(),
                $.enableKeyboardNavigation && R(),
                $.clickOnTrack && u(),
                O(),
                $.hijackInternalLinks && z()) : (t.removeClass("jspScrollable"),
                F.css({
                    top: 0,
                    left: 0,
                    width: H.width() - ve
                }),
                E(),
                L(),
                j(),
                p()),
                $.autoReinitialise && !ge ? ge = setInterval(function() {
                    s($)
                }, $.autoReinitialiseDelay) : !$.autoReinitialise && ge && clearInterval(ge),
                d && t.scrollTop(0) && _(d, !1),
                f && t.scrollLeft(0) && k(f, !1),
                t.trigger("jsp-initialised", [X || Y])
            }
            function n() {
                Y && (H.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'), e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'), e('<div class="jspDragBottom" />'))), e('<div class="jspCap jspCapBottom" />'))),
                ie = H.find(">.jspVerticalBar"),
                se = ie.find(">.jspTrack"),
                Q = se.find(">.jspDrag"),
                $.showArrows && (oe = e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp", c(0, -1)).bind("click.jsp", A),
                le = e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp", c(0, 1)).bind("click.jsp", A),
                $.arrowScrollOnHover && (oe.bind("mouseover.jsp", c(0, -1, oe)),
                le.bind("mouseover.jsp", c(0, 1, le))),
                h(se, $.verticalArrowPositions, oe, le)),
                ae = N,
                H.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function() {
                    ae -= e(this).outerHeight()
                }),
                Q.hover(function() {
                    Q.addClass("jspHover")
                }, function() {
                    Q.removeClass("jspHover")
                }).bind("mousedown.jsp", function(t) {
                    e("html").bind("dragstart.jsp selectstart.jsp", A),
                    Q.addClass("jspActive");
                    var i = t.pageY - Q.position().top;
                    return e("html").bind("mousemove.jsp", function(e) {
                        g(e.pageY - i, !1)
                    }).bind("mouseup.jsp mouseleave.jsp", f),
                    !1
                }),
                a())
            }
            function a() {
                se.height(ae + "px"),
                Z = 0,
                ne = $.verticalGutter + se.outerWidth(),
                F.width(V - ne - ve);
                try {
                    0 === ie.position().left && F.css("margin-left", ne + "px")
                } catch (e) {}
            }
            function r() {
                X && (H.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'), e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'), e('<div class="jspDragRight" />'))), e('<div class="jspCap jspCapRight" />'))),
                he = H.find(">.jspHorizontalBar"),
                ce = he.find(">.jspTrack"),
                K = ce.find(">.jspDrag"),
                $.showArrows && (pe = e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp", c(-1, 0)).bind("click.jsp", A),
                fe = e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp", c(1, 0)).bind("click.jsp", A),
                $.arrowScrollOnHover && (pe.bind("mouseover.jsp", c(-1, 0, pe)),
                fe.bind("mouseover.jsp", c(1, 0, fe))),
                h(ce, $.horizontalArrowPositions, pe, fe)),
                K.hover(function() {
                    K.addClass("jspHover")
                }, function() {
                    K.removeClass("jspHover")
                }).bind("mousedown.jsp", function(t) {
                    e("html").bind("dragstart.jsp selectstart.jsp", A),
                    K.addClass("jspActive");
                    var i = t.pageX - K.position().left;
                    return e("html").bind("mousemove.jsp", function(e) {
                        v(e.pageX - i, !1)
                    }).bind("mouseup.jsp mouseleave.jsp", f),
                    !1
                }),
                de = H.innerWidth(),
                o())
            }
            function o() {
                H.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function() {
                    de -= e(this).outerWidth()
                }),
                ce.width(de + "px"),
                te = 0
            }
            function l() {
                if (X && Y) {
                    var t = ce.outerHeight()
                      , i = se.outerWidth();
                    ae -= t,
                    e(he).find(">.jspCap:visible,>.jspArrow").each(function() {
                        de += e(this).outerWidth()
                    }),
                    de -= i,
                    N -= i,
                    V -= t,
                    ce.parent().append(e('<div class="jspCorner" />').css("width", t + "px")),
                    a(),
                    o()
                }
                X && F.width(H.outerWidth() - ve + "px"),
                W = F.outerHeight(),
                G = W / N,
                X && (ue = Math.ceil(1 / U * de),
                ue > $.horizontalDragMaxWidth ? ue = $.horizontalDragMaxWidth : ue < $.horizontalDragMinWidth && (ue = $.horizontalDragMinWidth),
                K.width(ue + "px"),
                ee = de - ue,
                b(te)),
                Y && (re = Math.ceil(1 / G * ae),
                re > $.verticalDragMaxHeight ? re = $.verticalDragMaxHeight : re < $.verticalDragMinHeight && (re = $.verticalDragMinHeight),
                Q.height(re + "px"),
                J = ae - re,
                m(Z))
            }
            function h(e, t, i, s) {
                var n, a = "before", r = "after";
                "os" == t && (t = /Mac/.test(navigator.platform) ? "after" : "split"),
                t == a ? r = t : t == r && (a = t,
                n = i,
                i = s,
                s = n),
                e[a](i)[r](s)
            }
            function c(e, t, i) {
                return function() {
                    return d(e, t, this, i),
                    this.blur(),
                    !1
                }
            }
            function d(t, i, s, n) {
                s = e(s).addClass("jspActive");
                var a, r, o = !0, l = function() {
                    0 !== t && ye.scrollByX(t * $.arrowButtonSpeed),
                    0 !== i && ye.scrollByY(i * $.arrowButtonSpeed),
                    r = setTimeout(l, o ? $.initialDelay : $.arrowRepeatFreq),
                    o = !1
                };
                l(),
                a = n ? "mouseout.jsp" : "mouseup.jsp",
                n = n || e("html"),
                n.bind(a, function() {
                    s.removeClass("jspActive"),
                    r && clearTimeout(r),
                    r = null,
                    n.unbind(a)
                })
            }
            function u() {
                p(),
                Y && se.bind("mousedown.jsp", function(t) {
                    if (void 0 === t.originalTarget || t.originalTarget == t.currentTarget) {
                        var i, s = e(this), n = s.offset(), a = t.pageY - n.top - Z, r = !0, o = function() {
                            var e = s.offset()
                              , n = t.pageY - e.top - re / 2
                              , h = N * $.scrollPagePercent
                              , c = J * h / (W - N);
                            if (0 > a)
                                Z - c > n ? ye.scrollByY(-h) : g(n);
                            else {
                                if (!(a > 0))
                                    return void l();
                                n > Z + c ? ye.scrollByY(h) : g(n)
                            }
                            i = setTimeout(o, r ? $.initialDelay : $.trackClickRepeatFreq),
                            r = !1
                        }, l = function() {
                            i && clearTimeout(i),
                            i = null,
                            e(document).unbind("mouseup.jsp", l)
                        };
                        return o(),
                        e(document).bind("mouseup.jsp", l),
                        !1
                    }
                }),
                X && ce.bind("mousedown.jsp", function(t) {
                    if (void 0 === t.originalTarget || t.originalTarget == t.currentTarget) {
                        var i, s = e(this), n = s.offset(), a = t.pageX - n.left - te, r = !0, o = function() {
                            var e = s.offset()
                              , n = t.pageX - e.left - ue / 2
                              , h = V * $.scrollPagePercent
                              , c = ee * h / (B - V);
                            if (0 > a)
                                te - c > n ? ye.scrollByX(-h) : v(n);
                            else {
                                if (!(a > 0))
                                    return void l();
                                n > te + c ? ye.scrollByX(h) : v(n)
                            }
                            i = setTimeout(o, r ? $.initialDelay : $.trackClickRepeatFreq),
                            r = !1
                        }, l = function() {
                            i && clearTimeout(i),
                            i = null,
                            e(document).unbind("mouseup.jsp", l)
                        };
                        return o(),
                        e(document).bind("mouseup.jsp", l),
                        !1
                    }
                })
            }
            function p() {
                ce && ce.unbind("mousedown.jsp"),
                se && se.unbind("mousedown.jsp")
            }
            function f() {
                e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),
                Q && Q.removeClass("jspActive"),
                K && K.removeClass("jspActive")
            }
            function g(i, s) {
                if (Y) {
                    0 > i ? i = 0 : i > J && (i = J);
                    var n = new e.Event("jsp-will-scroll-y");
                    if (t.trigger(n, [i]),
                    !n.isDefaultPrevented()) {
                        var a = i || 0
                          , r = 0 === a
                          , o = a == J
                          , l = i / J
                          , h = -l * (W - N);
                        void 0 === s && (s = $.animateScroll),
                        s ? ye.animate(Q, "top", i, m, function() {
                            t.trigger("jsp-user-scroll-y", [-h, r, o])
                        }) : (Q.css("top", i),
                        m(i),
                        t.trigger("jsp-user-scroll-y", [-h, r, o]))
                    }
                }
            }
            function m(e) {
                void 0 === e && (e = Q.position().top),
                H.scrollTop(0),
                Z = e || 0;
                var i = 0 === Z
                  , s = Z == J
                  , n = e / J
                  , a = -n * (W - N);
                (we != i || ke != s) && (we = i,
                ke = s,
                t.trigger("jsp-arrow-change", [we, ke, _e, xe])),
                y(i, s),
                F.css("top", a),
                t.trigger("jsp-scroll-y", [-a, i, s]).trigger("scroll")
            }
            function v(i, s) {
                if (X) {
                    0 > i ? i = 0 : i > ee && (i = ee);
                    var n = new e.Event("jsp-will-scroll-x");
                    if (t.trigger(n, [i]),
                    !n.isDefaultPrevented()) {
                        var a = i || 0
                          , r = 0 === a
                          , o = a == ee
                          , l = i / ee
                          , h = -l * (B - V);
                        void 0 === s && (s = $.animateScroll),
                        s ? ye.animate(K, "left", i, b, function() {
                            t.trigger("jsp-user-scroll-x", [-h, r, o])
                        }) : (K.css("left", i),
                        b(i),
                        t.trigger("jsp-user-scroll-x", [-h, r, o]))
                    }
                }
            }
            function b(e) {
                void 0 === e && (e = K.position().left),
                H.scrollTop(0),
                te = e || 0;
                var i = 0 === te
                  , s = te == ee
                  , n = e / ee
                  , a = -n * (B - V);
                (_e != i || xe != s) && (_e = i,
                xe = s,
                t.trigger("jsp-arrow-change", [we, ke, _e, xe])),
                w(i, s),
                F.css("left", a),
                t.trigger("jsp-scroll-x", [-a, i, s]).trigger("scroll")
            }
            function y(e, t) {
                $.showArrows && (oe[e ? "addClass" : "removeClass"]("jspDisabled"),
                le[t ? "addClass" : "removeClass"]("jspDisabled"))
            }
            function w(e, t) {
                $.showArrows && (pe[e ? "addClass" : "removeClass"]("jspDisabled"),
                fe[t ? "addClass" : "removeClass"]("jspDisabled"))
            }
            function _(e, t) {
                var i = e / (W - N);
                g(i * J, t)
            }
            function k(e, t) {
                var i = e / (B - V);
                v(i * ee, t)
            }
            function x(t, i, s) {
                var n, a, r, o, l, h, c, d, u, p = 0, f = 0;
                try {
                    n = e(t)
                } catch (e) {
                    return
                }
                for (a = n.outerHeight(),
                r = n.outerWidth(),
                H.scrollTop(0),
                H.scrollLeft(0); !n.is(".jspPane"); )
                    if (p += n.position().top,
                    f += n.position().left,
                    n = n.offsetParent(),
                    /^body|html$/i.test(n[0].nodeName))
                        return;
                o = T(),
                h = o + N,
                o > p || i ? d = p - $.horizontalGutter : p + a > h && (d = p - N + a + $.horizontalGutter),
                isNaN(d) || _(d, s),
                l = C(),
                c = l + V,
                l > f || i ? u = f - $.horizontalGutter : f + r > c && (u = f - V + r + $.horizontalGutter),
                isNaN(u) || k(u, s)
            }
            function C() {
                return -F.position().left
            }
            function T() {
                return -F.position().top
            }
            function S() {
                var e = W - N;
                return e > 20 && e - T() < 10
            }
            function P() {
                var e = B - V;
                return e > 20 && e - C() < 10
            }
            function M() {
                H.unbind(Te).bind(Te, function(e, t, i, s) {
                    te || (te = 0),
                    Z || (Z = 0);
                    var n = te
                      , a = Z
                      , r = e.deltaFactor || $.mouseWheelSpeed;
                    return ye.scrollBy(i * r, -s * r, !1),
                    n == te && a == Z
                })
            }
            function E() {
                H.unbind(Te)
            }
            function A() {
                return !1
            }
            function D() {
                F.find(":input,a").unbind("focus.jsp").bind("focus.jsp", function(e) {
                    x(e.target, !1)
                })
            }
            function L() {
                F.find(":input,a").unbind("focus.jsp")
            }
            function R() {
                function i() {
                    var e = te
                      , t = Z;
                    switch (s) {
                    case 40:
                        ye.scrollByY($.keyboardSpeed, !1);
                        break;
                    case 38:
                        ye.scrollByY(-$.keyboardSpeed, !1);
                        break;
                    case 34:
                    case 32:
                        ye.scrollByY(N * $.scrollPagePercent, !1);
                        break;
                    case 33:
                        ye.scrollByY(-N * $.scrollPagePercent, !1);
                        break;
                    case 39:
                        ye.scrollByX($.keyboardSpeed, !1);
                        break;
                    case 37:
                        ye.scrollByX(-$.keyboardSpeed, !1)
                    }
                    return n = e != te || t != Z
                }
                var s, n, a = [];
                X && a.push(he[0]),
                Y && a.push(ie[0]),
                F.bind("focus.jsp", function() {
                    t.focus()
                }),
                t.attr("tabindex", 0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp", function(t) {
                    if (t.target === this || a.length && e(t.target).closest(a).length) {
                        var r = te
                          , o = Z;
                        switch (t.keyCode) {
                        case 40:
                        case 38:
                        case 34:
                        case 32:
                        case 33:
                        case 39:
                        case 37:
                            s = t.keyCode,
                            i();
                            break;
                        case 35:
                            _(W - N),
                            s = null;
                            break;
                        case 36:
                            _(0),
                            s = null
                        }
                        return n = t.keyCode == s && r != te || o != Z,
                        !n
                    }
                }).bind("keypress.jsp", function(t) {
                    return t.keyCode == s && i(),
                    t.target === this || a.length && e(t.target).closest(a).length ? !n : void 0
                }),
                $.hideFocus ? (t.css("outline", "none"),
                "hideFocus"in H[0] && t.attr("hideFocus", !0)) : (t.css("outline", ""),
                "hideFocus"in H[0] && t.attr("hideFocus", !1))
            }
            function j() {
                t.attr("tabindex", "-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),
                F.unbind(".jsp")
            }
            function O() {
                if (location.hash && location.hash.length > 1) {
                    var t, i, s = escape(location.hash.substr(1));
                    try {
                        t = e("#" + s + ', a[name="' + s + '"]')
                    } catch (e) {
                        return
                    }
                    t.length && F.find(s) && (0 === H.scrollTop() ? i = setInterval(function() {
                        H.scrollTop() > 0 && (x(t, !0),
                        e(document).scrollTop(H.position().top),
                        clearInterval(i))
                    }, 50) : (x(t, !0),
                    e(document).scrollTop(H.position().top)))
                }
            }
            function z() {
                e(document.body).data("jspHijack") || (e(document.body).data("jspHijack", !0),
                e(document.body).delegate("a[href*=#]", "click", function(t) {
                    var i, s, n, a, r, o, l = this.href.substr(0, this.href.indexOf("#")), h = location.href;
                    if (-1 !== location.href.indexOf("#") && (h = location.href.substr(0, location.href.indexOf("#"))),
                    l === h) {
                        i = escape(this.href.substr(this.href.indexOf("#") + 1));
                        try {
                            s = e("#" + i + ', a[name="' + i + '"]')
                        } catch (e) {
                            return
                        }
                        s.length && (n = s.closest(".jspScrollable"),
                        a = n.data("jsp"),
                        a.scrollToElement(s, !0),
                        n[0].scrollIntoView && (r = e(window).scrollTop(),
                        o = s.offset().top,
                        (r > o || o > r + e(window).height()) && n[0].scrollIntoView()),
                        t.preventDefault())
                    }
                }))
            }
            function I() {
                var e, t, i, s, n, a = !1;
                H.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick MSPointerDown.jsp MSPointerMove.jsp MSPointerUp.jsp MSPointerCancel.jsp").bind("touchstart.jsp MSPointerDown.jsp", function(r) {
                    var o;
                    o = r.originalEvent.touches ? r.originalEvent.touches[0] : r.originalEvent,
                    e = C(),
                    t = T(),
                    i = o.pageX,
                    s = o.pageY,
                    n = !1,
                    a = !0
                }).bind("touchmove.jsp MSPointerMove.jsp", function(r) {
                    if (a) {
                        var o, l = te, h = Z;
                        return o = r.originalEvent.touches ? r.originalEvent.touches[0] : r.originalEvent,
                        ye.scrollTo(e + i - o.pageX, t + s - o.pageY),
                        n = n || Math.abs(i - o.pageX) > 5 || Math.abs(s - o.pageY) > 5,
                        l == te && h == Z
                    }
                }).bind("touchend.jsp MSPointerUp.jsp MSPointerCancel.jsp", function(e) {
                    a = !1
                }).bind("click.jsp-touchclick", function(e) {
                    return n ? (n = !1,
                    !1) : void 0
                })
            }
            function q() {
                var e = T()
                  , i = C();
                t.removeClass("jspScrollable").unbind(".jsp"),
                F.unbind(".jsp"),
                t.replaceWith(Ce.append(F.children())),
                Ce.scrollTop(e),
                Ce.scrollLeft(i),
                ge && clearInterval(ge)
            }
            var $, F, V, N, H, B, W, U, G, Y, X, Q, J, Z, K, ee, te, ie, se, ne, ae, re, oe, le, he, ce, de, ue, pe, fe, ge, me, ve, be, ye = this, we = !0, _e = !0, ke = !1, xe = !1, Ce = t.clone(!1, !1).empty(), Te = e.fn.mwheelIntent ? "mwheelIntent.jsp" : "mousewheel.jsp";
            "border-box" === t.css("box-sizing") ? (me = 0,
            ve = 0) : (me = t.css("paddingTop") + " " + t.css("paddingRight") + " " + t.css("paddingBottom") + " " + t.css("paddingLeft"),
            ve = (parseInt(t.css("paddingLeft"), 10) || 0) + (parseInt(t.css("paddingRight"), 10) || 0)),
            e.extend(ye, {
                reinitialise: function(t) {
                    t = e.extend({}, $, t),
                    s(t)
                },
                scrollToElement: function(e, t, i) {
                    x(e, t, i)
                },
                scrollTo: function(e, t, i) {
                    k(e, i),
                    _(t, i)
                },
                scrollToX: function(e, t) {
                    k(e, t)
                },
                scrollToY: function(e, t) {
                    _(e, t)
                },
                scrollToPercentX: function(e, t) {
                    k(e * (B - V), t)
                },
                scrollToPercentY: function(e, t) {
                    _(e * (W - N), t)
                },
                scrollBy: function(e, t, i) {
                    ye.scrollByX(e, i),
                    ye.scrollByY(t, i)
                },
                scrollByX: function(e, t) {
                    var i = C() + Math[0 > e ? "floor" : "ceil"](e)
                      , s = i / (B - V);
                    v(s * ee, t)
                },
                scrollByY: function(e, t) {
                    var i = T() + Math[0 > e ? "floor" : "ceil"](e)
                      , s = i / (W - N);
                    g(s * J, t)
                },
                positionDragX: function(e, t) {
                    v(e, t)
                },
                positionDragY: function(e, t) {
                    g(e, t)
                },
                animate: function(e, t, i, s, n) {
                    var a = {};
                    a[t] = i,
                    e.animate(a, {
                        duration: $.animateDuration,
                        easing: $.animateEase,
                        queue: !1,
                        step: s,
                        complete: n
                    })
                },
                getContentPositionX: function() {
                    return C()
                },
                getContentPositionY: function() {
                    return T()
                },
                getContentWidth: function() {
                    return B
                },
                getContentHeight: function() {
                    return W
                },
                getPercentScrolledX: function() {
                    return C() / (B - V)
                },
                getPercentScrolledY: function() {
                    return T() / (W - N)
                },
                getIsScrollableH: function() {
                    return X
                },
                getIsScrollableV: function() {
                    return Y
                },
                getContentPane: function() {
                    return F
                },
                scrollToBottom: function(e) {
                    g(J, e)
                },
                hijackInternalLinks: e.noop,
                destroy: function() {
                    q()
                }
            }),
            s(i)
        }
        return t = e.extend({}, e.fn.jScrollPane.defaults, t),
        e.each(["arrowButtonSpeed", "trackClickSpeed", "keyboardSpeed"], function() {
            t[this] = t[this] || t.speed
        }),
        this.each(function() {
            var s = e(this)
              , n = s.data("jsp");
            n ? n.reinitialise(t) : (e("script", s).filter('[type="text/javascript"],:not([type])').remove(),
            n = new i(s,t),
            s.data("jsp", n))
        })
    }
    ,
    e.fn.jScrollPane.defaults = {
        showArrows: !1,
        maintainPosition: !0,
        stickToBottom: !1,
        stickToRight: !1,
        clickOnTrack: !0,
        autoReinitialise: !1,
        autoReinitialiseDelay: 500,
        verticalDragMinHeight: 0,
        verticalDragMaxHeight: 99999,
        horizontalDragMinWidth: 0,
        horizontalDragMaxWidth: 99999,
        contentWidth: void 0,
        animateScroll: !1,
        animateDuration: 300,
        animateEase: "linear",
        hijackInternalLinks: !1,
        verticalGutter: 4,
        horizontalGutter: 4,
        mouseWheelSpeed: 3,
        arrowButtonSpeed: 0,
        arrowRepeatFreq: 50,
        arrowScrollOnHover: !1,
        trackClickSpeed: 0,
        trackClickRepeatFreq: 70,
        verticalArrowPositions: "split",
        horizontalArrowPositions: "split",
        enableKeyboardNavigation: !0,
        hideFocus: !1,
        keyboardSpeed: 0,
        initialDelay: 300,
        speed: 30,
        scrollPagePercent: .8
    }
}),
!function(e) {
    "function" == typeof define && define.amd ? define("jquery.mousewheel", ["jquery"], e) : "object" == typeof exports ? module.exports = e : e(jQuery)
}(function(e) {
    function t(t) {
        var r = t || window.event
          , o = l.call(arguments, 1)
          , h = 0
          , d = 0
          , u = 0
          , p = 0
          , f = 0
          , g = 0;
        if (t = e.event.fix(r),
        t.type = "mousewheel",
        "detail"in r && (u = -1 * r.detail),
        "wheelDelta"in r && (u = r.wheelDelta),
        "wheelDeltaY"in r && (u = r.wheelDeltaY),
        "wheelDeltaX"in r && (d = -1 * r.wheelDeltaX),
        "axis"in r && r.axis === r.HORIZONTAL_AXIS && (d = -1 * u,
        u = 0),
        h = 0 === u ? d : u,
        "deltaY"in r && (u = -1 * r.deltaY,
        h = u),
        "deltaX"in r && (d = r.deltaX,
        0 === u && (h = -1 * d)),
        0 !== u || 0 !== d) {
            if (1 === r.deltaMode) {
                var m = e.data(this, "mousewheel-line-height");
                h *= m,
                u *= m,
                d *= m
            } else if (2 === r.deltaMode) {
                var v = e.data(this, "mousewheel-page-height");
                h *= v,
                u *= v,
                d *= v
            }
            if (p = Math.max(Math.abs(u), Math.abs(d)),
            (!a || a > p) && (a = p,
            s(r, p) && (a /= 40)),
            s(r, p) && (h /= 40,
            d /= 40,
            u /= 40),
            h = Math[h >= 1 ? "floor" : "ceil"](h / a),
            d = Math[d >= 1 ? "floor" : "ceil"](d / a),
            u = Math[u >= 1 ? "floor" : "ceil"](u / a),
            c.settings.normalizeOffset && this.getBoundingClientRect) {
                var b = this.getBoundingClientRect();
                f = t.clientX - b.left,
                g = t.clientY - b.top
            }
            return t.deltaX = d,
            t.deltaY = u,
            t.deltaFactor = a,
            t.offsetX = f,
            t.offsetY = g,
            t.deltaMode = 0,
            o.unshift(t, h, d, u),
            n && clearTimeout(n),
            n = setTimeout(i, 200),
            (e.event.dispatch || e.event.handle).apply(this, o)
        }
    }
    function i() {
        a = null
    }
    function s(e, t) {
        return c.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 === 0
    }
    var n, a, r = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], o = "onwheel"in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], l = Array.prototype.slice;
    if (e.event.fixHooks)
        for (var h = r.length; h; )
            e.event.fixHooks[r[--h]] = e.event.mouseHooks;
    var c = e.event.special.mousewheel = {
        version: "3.1.12",
        setup: function() {
            if (this.addEventListener)
                for (var i = o.length; i; )
                    this.addEventListener(o[--i], t, !1);
            else
                this.onmousewheel = t;
            e.data(this, "mousewheel-line-height", c.getLineHeight(this)),
            e.data(this, "mousewheel-page-height", c.getPageHeight(this))
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var i = o.length; i; )
                    this.removeEventListener(o[--i], t, !1);
            else
                this.onmousewheel = null;
            e.removeData(this, "mousewheel-line-height"),
            e.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function(t) {
            var i = e(t)
              , s = i["offsetParent"in e.fn ? "offsetParent" : "parent"]();
            return s.length || (s = e("body")),
            parseInt(s.css("fontSize"), 10) || parseInt(i.css("fontSize"), 10) || 16
        },
        getPageHeight: function(t) {
            return e(t).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }
    };
    e.fn.extend({
        mousewheel: function(e) {
            return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
        },
        unmousewheel: function(e) {
            return this.unbind("mousewheel", e)
        }
    })
}),
define("controllers/leaderboard-everywhere", ["require", "jquery", "underscore", "backbone", "baseview", "utils/browser", "utils/metrics", "utils/lb/lb-common", "views/lb-everywhere/lbe-body", "utils/pubsub", "collections/score-players", "utils/scores", "views/players-search", "utils/window-size", "jquery.ui", "jquery.ui.touch-punch", "jquery.jscrollpane", "jquery.mousewheel"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("baseview")
      , a = (e("utils/browser"),
    e("utils/metrics"))
      , r = e("utils/lb/lb-common")
      , o = e("views/lb-everywhere/lbe-body")
      , l = e("utils/pubsub")
      , h = e("collections/score-players")
      , c = e("utils/scores")
      , d = e("views/players-search")
      , u = e("utils/window-size");
    e("jquery.ui"),
    e("jquery.ui.touch-punch"),
    e("jquery.jscrollpane"),
    e("jquery.mousewheel");
    var p = 347
      , f = 1178
      , g = 12
      , m = 340
      , v = 596
      , b = 15
      , y = 50
      , w = {
        lb_col_4: 286,
        lb_col_5: 346,
        lb_col_7: 567,
        lb_col_all: f,
        lb_size_small: 800,
        lb_size_large: f
    }
      , _ = n.extend({
        el: "#leaderboard_everywhere",
        defaults: {
            minHeight: m - b,
            minWidth: p - g,
            maxHeight: v - b,
            maxWidth: f - g,
            defaultView: r._lbTypeLookUp.trad,
            playoffStatusUrl: "/en_US/xml/gen/scores/playoffText.json",
            playoffStatusRefreshDelay: 3e4
        },
        events: {
            "click .closePanel": "closePanelBroadcast",
            "click .lbe-menu-link": "clickLBMenuLink",
            "click .lb-footer .lbe_player_search.collapsed": "expandPlayerSearchField",
            "blur .lb-footer .lbe_player_search": "collapsePlayerSearchField",
            "click .lbe_top_player_search.lbe_player_search #lbSearch": "activatePlayerSearchField",
            "mousedown .lbe_top_player_search.lbe_player_search #lbSearch": "clickClearButton",
            "blur .lbe_top_player_search.lbe_player_search #lbSearch": "deactivatePlayerSearchField",
            "click .draggable-handle": "blurPlayerSearchField"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Leaderboard Everywhere"),
            this.selectedView = null,
            this.listenTo(l, "leaderboardEverywhere:open", this.openPanel),
            this.listenTo(l, "leaderboardEverywhere:close", this.closePanel),
            l.on("resize", this.keepPanelWithinViewport.bind(this), this),
            this.listenTo(l, "throttle:resize", function() {
                u.size() === u.sizes.global && (this.resize(),
                l.trigger("leaderboard-everywhere:resize"),
                this.updateScrollBarColumn())
            }),
            this.listenTo(l, "windowsize:global:enter", this.enterMobileLayout),
            this.listenTo(l, "windowsize:global:exit", this.enterDesktopLayout),
            this.listenTo(h, "change:currentRound", this.updateRound),
            this.listenTo(l, "change:playoffStatus", this.updatePlayoffStatus),
            this.listenTo(l, "everywhere:scores_collection:modified", function() {
                setTimeout(this.updateScrollBarColumn.bind(this), 0)
            }),
            this.options = i.extend({}, this.defaults, e);
            var s = t.cookie(r._lbCookieNames.LBeverywhere) || this.options.defaultView;
            this.selectLBView(s),
            this.lbView = new o({
                el: this.$(".lb-body"),
                lbtype: s
            })
        },
        render: function() {
            this.$el.draggable({
                containment: "window",
                handle: ".draggable-handle",
                scroll: !1,
                stop: function(e, t) {
                    this.$el.position().top <= y && this.$el.css("top", y),
                    r.setLBEverywherePanelPosition(this.$el.position().top, t.position.left),
                    a.measureApp("Leader Board Everywhere", "Drag")
                }
                .bind(this)
            }).resizable({
                containment: "section#app-wrap",
                resize: function(e, t) {
                    this.resize(),
                    this.reinitScroll()
                }
                .bind(this),
                stop: function(e, t) {
                    l.trigger("leaderboard-everywhere:resize", e, t),
                    a.measureApp("Leader Board Everywhere", "Resize"),
                    this.updateScrollBarColumn()
                }
                .bind(this),
                handles: {
                    nw: "#nwHandle",
                    sw: "#swHandle",
                    se: "#seHandle"
                },
                minWidth: this.options.minWidth,
                minHeight: this.options.minHeight,
                maxWidth: this.options.maxWidth,
                maxHeight: this.options.maxHeight
            }),
            this.$el.draggable("disable"),
            this.$el.resizable("disable"),
            this.lbView.render(),
            this.buildPlayersSearchView();
            var e = r.getLBEverywherePanelSize();
            e && (this.$el.css("width", e.width),
            this.$el.css("height", e.height));
            var t = r.getLBEverywherePanelPosition();
            return t && (this.$el.css("top", t.top),
            this.$el.css("left", t.left),
            this.$el.css("right", "auto")),
            this.resize(),
            this
        },
        openPanel: function() {
            !t.cookie(r._lbCookieNames.LBeverywhere) && this.$el.hasClass("lb-col-all") && this.selectLBView(r._lbTypeLookUp.ou),
            this.$el.addClass("show"),
            this.keepPanelWithinViewport(),
            this.updateScrollBarColumn(),
            u.size() >= u.sizes.tablet && (this.$el.draggable("enable"),
            this.$el.resizable("enable"))
        },
        closePanel: function() {
            this.$el.removeClass("show"),
            this.$el.draggable("disable"),
            this.$el.resizable("disable")
        },
        closePanelBroadcast: function() {
            l.trigger("leaderboardEverywhere:close"),
            a.trackS({
                prop56: "LB Panel Off",
                eVar56: "LB Panel Off"
            }),
            a.measureApp("Leader Board Everywhere", "LB Panel Off")
        },
        resize: function() {
            var e, i = this.$el.outerWidth();
            if (e = i <= w.lb_col_4 ? "lb-col-4" : i <= w.lb_col_5 ? "lb-col-5" : i <= w.lb_col_7 ? "lb-col-7" : "lb-col-all",
            this.$el.hasClass(e) || (this.$el.removeClass(function(e, t) {
                return (t.match(/lb-col-[\w]*/g) || []).join(" ")
            }),
            "lb-col-all" !== e ? this.selectLBView(r._lbTypeLookUp.trad) : this.selectLBView(t.cookie(r._lbCookieNames.LBeverywhere) || r._lbTypeLookUp.ou),
            this.$el.addClass(e)),
            "lb-col-all" === e) {
                var s = "";
                i > w.lb_col_7 && i <= w.lb_size_small ? s = "lb-size-small" : i > w.lb_size_small && (s = "lb-size-large"),
                this.$el.hasClass(s) || (this.$el.removeClass(function(e, t) {
                    return (t.match(/lb-size-[\w]*/g) || []).join(" ")
                }),
                this.$el.addClass(s))
            }
            u.size() > u.sizes.global && r.setLBEverywherePanelSize(this.$el.width(), this.$el.height())
        },
        keepPanelWithinViewport: function() {
            if (u.size() > u.sizes.global) {
                var e = this.$el.position().left
                  , t = e + this.$el.outerWidth();
                if (t > document.body.clientWidth)
                    if (e <= 0) {
                        var i = this.$el.outerWidth() - g - (t - document.body.clientWidth);
                        this.$el.css("width", i),
                        this.updateScrollBarColumn(),
                        r.setLBEverywherePanelSize(this.$el.width(), this.$el.height())
                    } else {
                        var s = e - (t - document.body.clientWidth);
                        this.$el.css({
                            left: s
                        });
                        var n = this.$el.position();
                        r.setLBEverywherePanelPosition(n.top, n.left)
                    }
                this.$el.position().top <= y && this.$el.css("top", y);
                var a = this.$el.position().top
                  , o = a + this.$el.outerHeight();
                if (o > document.body.clientHeight)
                    if (a <= y) {
                        if (this.$el.outerHeight() > m) {
                            var l = this.$el.outerHeight() - b - (o - document.body.clientHeight);
                            this.$el.css({
                                height: l
                            }),
                            r.setLBEverywherePanelSize(this.$el.width(), this.$el.height())
                        }
                    } else {
                        var h = a - (o - document.body.clientHeight);
                        this.$el.css({
                            top: h
                        });
                        var n = this.$el.position();
                        r.setLBEverywherePanelPosition(n.top, n.left)
                    }
            }
        },
        clickLBMenuLink: function(e) {
            var i = t(e.target).data("id");
            this.selectLBView(i),
            i === r._lbTypeLookUp.trad ? r.setLbEverywhereTradCookie() : i === r._lbTypeLookUp.ou && r.setLbEverywhereOuCookie(),
            a.measureApp("Leader Board Everywhere", "Menu", i, "Select")
        },
        selectLBView: function(e) {
            var t = this.$(".lbe-menu-link.selected");
            t.data("id") === e && 0 !== t.length || (t.removeClass("selected"),
            this.$('.lbe-menu-link[data-id="' + e + '"]').addClass("selected"),
            l.trigger("lbEverywhere:showLBView", e)),
            this.selectedView = e,
            this.updateScrollBarColumn()
        },
        updateRound: function() {
            this.$(".lb-footer .round").html("ROUND " + c.Utilities.currentRound())
        },
        updatePlayoffStatus: function() {
            c.collection.playoffExists ? (this.$(".lb-footer .round").addClass("hide"),
            this.$(".lbe-menu-link").addClass("alwaysHide"),
            this.$(".playoff-wrapper").removeClass("hide"),
            this.getAndUpdatePlayoffText(),
            this.timer = setInterval(this.getAndUpdatePlayoffText.bind(this), this.options.playoffStatusRefreshDelay)) : (this.$(".lb-footer .round").removeClass("hide"),
            this.$(".lbe-menu-link").removeClass("alwaysHide"),
            this.$(".playoff-wrapper").addClass("hide"),
            clearInterval(this.timer))
        },
        getAndUpdatePlayoffText: function() {
            s.ajax({
                type: "GET",
                dataType: "json",
                url: this.options.playoffStatusUrl,
                success: function(e) {
                    this.$(".playoff-wrapper .body").html(e.leaderboardPlayoff_Text)
                }
                .bind(this),
                error: function(e, t, i) {
                    console.error("Error fetching playoff text in controller/leaderboard-everywhere: " + t)
                }
            })
        },
        buildPlayersSearchView: function() {
            if (c.isDataLoaded()) {
                var e = c.collection.clone();
                this.playersSearchView = new d({
                    el: this.$(".lbe_player_search"),
                    collection: e,
                    searchKey: "full_name",
                    showFlag: r.lbShowPlayerFlag.EVERYWHERE,
                    metrics: ["Leader Board Everywhere"]
                }),
                this.playersSearchView.render(),
                this.listenTo(e, "modified", function(e, t) {
                    var i = "search" === e && "" !== t;
                    l.trigger(r.lbFormat.EVERYWHERE + ":scores_collection:modified", i)
                })
            } else
                l.once("scores:refresh", this.buildPlayersSearchView, this)
        },
        expandPlayerSearchField: function(e) {
            a.measureApp("Leader Board Everywhere", "Player Search", "Open");
            var i = t(e.currentTarget);
            i.removeClass("collapsed").addClass("expanded"),
            i.find("input").focus()
        },
        collapsePlayerSearchField: function(e) {
            var i = t(e.currentTarget);
            "" === i.find("input").val() && i.removeClass("expanded").addClass("collapsed")
        },
        activatePlayerSearchField: function(e) {
            var i = t(e.currentTarget);
            i.addClass("active"),
            i.find("input").focus()
        },
        deactivatePlayerSearchField: function(e) {
            t(e.currentTarget).removeClass("active")
        },
        clickClearButton: function(e) {
            t(e.target).hasClass("lbClearButton") && e.preventDefault()
        },
        blurPlayerSearchField: function(e) {
            var i = "lbe_player_search"
              , s = t(e.target);
            s.hasClass(i) || 0 !== s.parents("." + i).length || this.$("." + i + " input").blur()
        },
        reinitScroll: function() {
            var e = this.$(".custom-scroll-pane." + this.selectedView).data("jsp");
            e ? e.reinitialise() : this.$(".custom-scroll-pane." + this.selectedView).jScrollPane({
                verticalGutter: 0
            })
        },
        updateScrollBarColumn: function() {
            this.reinitScroll();
            var e = this.$(".content." + this.selectedView);
            0 === e.find(".jspVerticalBar").length ? e.find(".scrollbar-column").addClass("hide") : e.find(".scrollbar-column").removeClass("hide")
        },
        enterMobileLayout: function() {
            this.$el.draggable("disable"),
            this.$el.resizable("disable")
        },
        enterDesktopLayout: function() {
            this.$el.draggable("enable"),
            this.$el.resizable("enable"),
            this.resize(),
            this.keepPanelWithinViewport(),
            this.updateScrollBarColumn()
        },
        onDispose: function() {
            clearInterval(this.timer),
            l.off("resize", void 0, this)
        }
    });
    return _
}),
define("text!templates/whats-new.html!strip", [], function() {
    return '<div class="content center">\n <div class="close">\n <a href="#"><img src="/images/misc/lightbox_close_white.png" width="10" height="10" border="0" alt="Close" title="Close"/></a>\n </div>\n <div class="message">\n <p><%= message %></p>\n\n\t\t<% if (arrow_direction && arrow_direction.trim()) { %>\n\t <img class="newArrows <%= arrow_direction %>" src="/images/misc/whatsnew_arrow_<%= arrow_direction %>.png" border="0" alt="Arrow <%= arrow_direction %>" title="Arrow <%= arrow_direction %>"/>\n <% } %>\n </div>\n</div>\n'
}),
define("views/whats-new", ["require", "backbone", "underscore", "utils/browser", "utils/metrics", "utils/pubsub", "text!templates/whats-new.html!strip"], function(e) {
    var t = e("backbone")
      , i = e("underscore")
      , s = e("utils/browser")
      , n = e("utils/metrics")
      , a = e("utils/pubsub")
      , r = e("text!templates/whats-new.html!strip")
      , o = t.View.extend({
        className: "whats-new-panel",
        template: i.template(r),
        defaults: {
            id: null,
            message: "",
            arrow_direction: ""
        },
        events: {
            "click .close": "close"
        },
        initialize: function(e) {
            this.options = i.extend({}, this.defaults, e),
            this.listenTo(a, "whats-new:" + this.id + ":reposition", this.reposition)
        },
        render: function() {
            return this.$el.html(this.template({
                message: this.options.message,
                arrow_direction: this.options.arrowDirection
            })),
            this
        },
        close: function(e) {
            e.preventDefault(),
            this.trigger("close", this.id);
            var t = n.page_section;
            "" !== n.page_title && n.page_title !== n.page_section && (t += ":" + n.page_title),
            s.app ? n.appMeasure([t, "What's New", "Close", this.id].join(":")) : n.measureApp(t, "What's New", "Close", this.id)
        },
        reposition: function(e) {
            e && this.$el.css(e)
        }
    });
    return o
}),
define("controllers/whats-new", ["require", "jquery", "underscore", "baseview", "views/whats-new", "utils/pubsub"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("baseview")
      , n = e("views/whats-new")
      , a = e("utils/pubsub")
      , r = {
        floatVideo: {
            message: "The Picture in Picture view can be resized and relocated.",
            arrowDirection: "right"
        },
        heroVideo: {
            message: "Video can follow you<br/>anywhere on Masters.com",
            arrowDirection: "down"
        },
        shotList: {
            message: 'The shot list is expandable, with video highlights marked with this icon <img src="/images/misc/play-icon.png" border="0" width="15px"/>',
            arrowDirection: "down"
        },
        shotListHighlight: {
            message: 'Select the &nbsp; <img src="/images/misc/play-icon-highlight.png" border="0" width="20px"/> &nbsp; icon in the shot list to view a highlight'
        },
        greenDetailView: {
            message: "The green can be selected for a detail view"
        }
    }
      , o = s.extend({
        el: "#whatsNew",
        defaults: {
            cookieName: "whatsNewClosed",
            cookiePath: "/en_US/",
            cookieExpires: 10
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("What's New"),
            this.options = i.extend({}, this.defaults, e),
            this.viewsMap = {},
            this.listenTo(a, "whats-new:show", this.show),
            this.listenTo(a, "whats-new:hide", this.hide),
            this.listenTo(a, "whats-new:close", this.close)
        },
        render: function() {
            return this
        },
        show: function(e) {
            var t = r[e];
            if (t && !this.isClosed(e)) {
                var i = this.viewsMap[e];
                i ? i.$el.show() : (i = new n({
                    id: e,
                    message: t.message,
                    arrowDirection: t.arrowDirection
                }).render(),
                this.viewsMap[e] = i,
                this.listenTo(i, "close", this.close),
                this.$el.append(i.el))
            }
        },
        hide: function(e) {
            this.viewsMap[e] && this.viewsMap[e].$el.hide()
        },
        close: function(e) {
            var t = this.viewsMap[e];
            t && (t.dispose(),
            delete this.viewsMap[e],
            this.saveClosed(e))
        },
        saveClosed: function(e) {
            var i = this.getClosed();
            i[e] = !0,
            t.cookie(this.options.cookieName, JSON.stringify(i), {
                expires: this.options.cookieExpires,
                path: this.options.cookiePath
            })
        },
        isClosed: function(e) {
            return this.getClosed()[e] || !1
        },
        getClosed: function() {
            var e = t.cookie(this.options.cookieName);
            return e ? t.parseJSON(e) : {}
        },
        onDispose: function() {
            for (var e in this.viewsMap)
                this.viewsMap.hasOwnProperty(e) && this.viewsMap[e].dispose()
        }
    });
    return o
}),
define("controllers/app", ["require", "underscore", "backbone", "utils/common", "views/mainmenu", "views/site-alert", "views/notifications", "controllers/panel", "controllers/leaderboard-everywhere", "controllers/whats-new", "utils/querystring", "utils/browser", "utils/pubsub"], function(e) {
    var t = e("underscore")
      , i = e("backbone")
      , s = e("utils/common")
      , n = e("views/mainmenu")
      , a = e("views/site-alert")
      , r = e("views/notifications")
      , o = e("controllers/panel")
      , l = e("controllers/leaderboard-everywhere")
      , h = e("controllers/whats-new")
      , c = e("utils/querystring")
      , d = e("utils/browser")
      , u = e("utils/pubsub")
      , p = i.View.extend({
        el: ".outer-wrap",
        events: {},
        initialize: function(e) {
            e.router && (this.router = e.router),
            eventsCore.start(),
            d.performChecks(),
            "all" === eventsCore.util.getUrlParam("loglevel") && eventsCore.setLogLevel("all"),
            this.$app = this.$("#app-wrap"),
            this.initThrottledResize(),
            this.menu = new n(this.$app).render(),
            this.alert = new a({
                menu: this.menu
            }).render(),
            this.notifications = (new r).render(),
            s.video_panel = (new o).render(),
            this.leaderboardEverywhere = (new l).render(),
            this.whatsNew = (new h).render(),
            this.listenTo(i.history, "route", this.updateNav)
        },
        onDispose: function() {
            u.off("resize", void 0, this)
        },
        initThrottledResize: function() {
            u.on("resize", t.throttle(function() {
                u.trigger("throttle:resize")
            }, 200), this)
        },
        updateNav: function(e) {
            this.menu.trigger("route:change"),
            s.video_panel.trigger("route:change"),
            eventsCore.util.updateParams(),
            c.refresh(),
            e.isFirstLoad || (s.referrer = e.last_referrer)
        }
    });
    return p
}),
define("app", ["require", "base-app", "backbone", "controllers/app"], function(e) {
    var t = e("base-app")
      , i = e("backbone")
      , s = e("controllers/app")
      , n = new t;
    n.init(),
    window.masters = new s({
        router: n.router
    }),
    i.history.start({
        pushState: !0,
        hashChange: !1,
        root: "/"
    })
}),
define("utils/scroll-to-fade", ["require", "jquery", "backbone", "utils/querystring", "utils/common", "utils/pubsub"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = (e("utils/querystring"),
    e("utils/common"))
      , n = e("utils/pubsub")
      , a = i.View.extend({
        el: ".moreWrapper",
        m: [],
        h: 0,
        initialize: function(e) {
            e = _.extend({}, e),
            this.no_fade = e.no_fade,
            this.$window = t(window),
            this.initFade(),
            this.listenTo(n, "throttle:resize", this.resetOffset)
        },
        render: function() {
            return this.resetOffset(),
            this.fadeOnScroll(),
            this
        },
        onDispose: function() {
            n.off("scroll touchmove", this.fadeOnScroll, this)
        },
        resetOffset: function() {
            var e = this;
            this.$el.each(function(i) {
                var n = t(this).offset().top;
                e.m[i] = n + s.header_height
            }),
            this.h = this.$window.height()
        },
        initFade: function() {
            this.no_fade !== !1 && (n.on("scroll touchmove", this.fadeOnScroll.bind(this), this),
            this.listenTo(n, "throttle:resize", this.fadeOnScroll))
        },
        fadeOnScroll: function() {
            var e = this.$window.scrollTop()
              , i = this;
            t.each(this.m, function(t, s) {
                var n = i.$el.eq(t)
                  , a = s + n.height()
                  , r = 1;
                e > a - i.h && (r = (a - i.h / 2 - e) / (i.h / 2)),
                r < 0 && (r = 0),
                n.css({
                    opacity: r
                })
            })
        }
    });
    return a
}),
define("views/landing-hero", ["require", "jquery", "views/base-hero", "utils/pubsub", "utils/window-size", "utils/common", "utils/browser", "utils/scroll-to-fade"], function(e) {
    var t = e("jquery")
      , i = e("views/base-hero")
      , s = e("utils/pubsub")
      , n = e("utils/window-size")
      , a = e("utils/common")
      , r = (e("utils/browser"),
    e("utils/scroll-to-fade"))
      , o = i.extend({
        onInitialization: function() {
            this.$body = t("body"),
            this.listenTo(s, "throttle:resize", function() {
                this.trigger("hero:resize")
            }),
            this.listenTo(s, "hero:resize", function() {
                this.trigger("hero:resize")
            }),
            this.on("hero:resize", this.resize, this)
        },
        onRender: function() {
            this.scrollFade = (new r).render(),
            this.resize()
        },
        onDispose: function() {
            this.scrollFade.dispose()
        },
        resize: function() {
            var e = "";
            a.alert && a.alert.on || n.size() === n.sizes.global || !Modernizr.csscalc ? (e = this.$body.height() - a.header_height,
            a.alert && a.alert.on && (e -= a.alert.height),
            this.$el.css("height", e)) : "" !== this.el.style.height && this.$el.css("height", "")
        }
    });
    return o
}),
define("utils/sticky-nav", ["require", "backbone", "jquery", "utils/pubsub", "utils/common", "utils/window-size"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/pubsub")
      , n = e("utils/common")
      , a = e("utils/window-size")
      , r = t.View.extend({
        initialize: function() {
            this.active = !1,
            this.stickied = !1,
            this.$nav = this.$el.parent(),
            this.$static_body = this.$nav.parent(),
            this.nav_top,
            this.$doc = i(document),
            this.listenTo(s, "throttle:resize", this.resizeListener)
        },
        render: function() {
            return this.static_margin = this.$nav.offset().top - this.$static_body.offset().top,
            this.resetTrigger(),
            a.size() !== a.sizes.global && (this.active = !0,
            this.initSticky()),
            this
        },
        onDispose: function() {
            this.disableSticky()
        },
        resetTrigger: function() {
            this.nav_top = this.$static_body.offset().top - n.header_height + this.static_margin
        },
        resizeListener: function() {
            this.resetTrigger(),
            this.active && a.size() === a.sizes.global ? (this.active = !1,
            this.stickied = !1,
            this.disableSticky(),
            this.$nav.removeClass("stickybar"),
            this.$el.removeClass("open")) : this.active || a.size() === a.sizes.global || (this.active = !0,
            this.initSticky()),
            this.scrollListener()
        },
        initSticky: function() {
            s.on("scroll", this.scrollListener.bind(this), this)
        },
        disableSticky: function() {
            s.off("scroll", this.scrollListener, this)
        },
        scrollListener: function() {
            var e = this.$doc.scrollTop();
            e > this.nav_top && !this.stickied ? (this.$nav.addClass("stickybar"),
            this.stickied = !0,
            this.$el.removeClass("open")) : this.stickied && this.$nav.hasClass("stickybar") && e <= this.nav_top && (this.$nav.removeClass("stickybar"),
            this.stickied = !1,
            this.$el.removeClass("open"))
        }
    });
    return r
}),
define("collections/news-items", ["require", "backbone", "models/news-item"], function(e) {
    var t = e("backbone")
      , i = e("models/news-item")
      , s = t.Collection.extend({
        model: i,
        initialize: function(e, t) {
            t && t.url && (this.url = t.url)
        },
        parse: function(e) {
            return e.content
        }
    });
    return s
}),
define("text!templates/main-news-item.html!strip", [], function() {
    return '<% if(model.type === \'insight\' && model.image.video !== \'\') { %>\n <div class="container<%= klass %>" data-url="<%= model.link %>" data-caption="<%= model.caption %>">\n <div class="image insight">\n <!--[if lt IE 9]><span></span><![endif]-->\n <img src="/images/now/trans_16x9.gif" data-lower="<%= model.image.small %>" data-medium="<%= model.image.medium %>" data-high="<%= model.image.large %>" class="srcpic">\n <video src="<%= model.image.video %>" type="video/mp4" />\n </div>\n <% if(model.label !== \'\') { %>\n <div class="label text"><%= model.label %></div>\n <% } %>\n <div class="caption_row">\n <% if(model.icon !== \'\') { %>\n <div class="label icon <%= model.icon %>"></div>\n <% } %>\n <div class="caption"><%= model.caption === \'\' ? \'&nbsp;\' : model.caption %></div>\n </div>\n <% if(model.image.video !== \'\') { %>\n <a href="#" class="replay"></a>\n <% } %>\n </div>\n<% }else{ %>\n<a href="<%= model.link %>" target="<%= isExit ? \'_blank\' : \'\' %>" <%= isExit ? \'data-bypass\' : \'\' %>>\n <div class="container<%= klass %>">\n <div class="image">\n <!--[if lt IE 9]><span></span><![endif]-->\n <img src="/images/now/trans_16x9.gif" data-lower="<%= model.image.small %>" data-medium="<%= model.image.medium %>" data-high="<%= model.image.large %>" class="srcpic">\n </div>\n <% if(model.label !== \'\') { %>\n <div class="label text"><%= model.label %></div>\n <% } %>\n <div class="caption_row">\n <% if(model.icon !== \'\') { %>\n <div class="label icon <%= model.icon %>"></div>\n <% } %>\n <div class="caption"><%= model.caption === \'\' ? \'&nbsp;\' : model.caption %></div>\n </div>\n </div>\n</a>\n<% } %>'
}),
define("text!templates/atomic-news-item.html!strip", [], function() {
    return '<div class="container<%= klass %> containerAtomic">\n <img src="/images/now/trans_16x9.gif" class="half" />\n <img src="/images/now/trans_32x9.gif" class="full srcpic" data-lower="/images/now/trans_16x9.gif" data-medium="/images/now/trans_32x9.gif" data-high="/images/now/trans_32x9.gif" />\n <div class="caption_row">\n <div class="label icontext"></div>\n <div class="caption">&nbsp;</div>\n </div>\n <div class="contentWrapper">\n <div class="content">\n <div class="content_center">\n <div class="text">\n <p><%= model.text %></p>\n </div>\n <% if(model.type === \'social\') { %>\n <div class="username"><%= model.username %></div>\n <% } %>\n </div>\n </div>\n </div>\n</div>'
}),
define("views/news-item", ["require", "underscore", "backbone", "text!templates/main-news-item.html!strip", "text!templates/atomic-news-item.html!strip", "utils/social", "utils/common"], function(e) {
    var t = e("underscore")
      , i = e("backbone")
      , s = e("text!templates/main-news-item.html!strip")
      , n = e("text!templates/atomic-news-item.html!strip")
      , a = e("utils/social")
      , r = e("utils/common")
      , o = i.View.extend({
        tagName: "div",
        className: "wrapper",
        main_template: t.template(s),
        atomic_template: t.template(n),
        events: {
            "click .containerInsight img": "playVideo",
            "click .containerInsight .replay": "playVideo",
            "click video": "openSocialOverlay",
            "click .containerBreaking": "openSocialOverlay"
        },
        initialize: function() {
            this.assignAttributes(),
            this.listenTo(this.model, "change:visible", this.toggleVisible)
        },
        render: function() {
            return this.$el.html(this.construct()),
            this.toggleVisible(),
            this.model.get("image") && "" !== this.model.get("image").video && (this.$video = this.$("video"),
            this.video = this.$("video")[0],
            this.attachVideoListeners()),
            this
        },
        toggleVisible: function() {
            this.$el.toggleClass("visible", this.model.get("visible"))
        },
        assignAttributes: function() {
            var e = r.toTitleCase(this.model.get("size"));
            this.$el.attr({
                class: "wrapper wrapper" + e,
                "data-size": e,
                "data-type": this.model.get("type"),
                "data-players": this.model.get("players"),
                id: "content" + this.model.get("id"),
                "data-content-id": this.model.get("id")
            })
        },
        construct: function() {
            if (this.model.layout.isAtomic) {
                var e = this.model.layout.class || "";
                return e += " version" + this.model.get("background").toUpperCase(),
                this.atomic_template({
                    klass: e,
                    model: this.model.attributes
                })
            }
            return this.main_template({
                isExit: r.isExitLink(this.model.get("link")),
                klass: this.model.layout.class,
                model: this.model.attributes
            })
        },
        attachVideoListeners: function() {
            this.$video.on("pause ended", function() {
                this.$el.addClass("videonotplaying").removeClass("videoplaying")
            }
            .bind(this)),
            this.$video.on("playing", function() {
                this.$el.addClass("videoplaying").removeClass("videonotplaying")
            }
            .bind(this))
        },
        playVideo: function(e) {
            this.$video.show(),
            this.video.play()
        },
        openSocialOverlay: function(e) {
            var t = $(e.currentTarget);
            if (!t.parent().is("a")) {
                e.preventDefault();
                var i = this.$el;
                if (this.$(".containerPhoto").length > 0) {
                    var s = t.context.getAttribute("data-url")
                      , n = t.context.getAttribute("data-caption");
                    a.loadSocialBox(i, s, "Home:Insights", n, "")
                } else {
                    var s = "/en_US/index.html"
                      , n = $.trim(t.find(".text").text()).slice(0, 50);
                    a.loadSocialBox(i, s, "Home:Masters Now:Breaking News", n, "")
                }
            }
        }
    });
    return o
}),
function(e) {
    "use strict";
    e.jscroll = {
        defaults: {
            debug: !1,
            autoTrigger: !0,
            autoTriggerUntil: !1,
            loadingHtml: "<small>Loading...</small>",
            loadingFunction: !1,
            padding: 0,
            nextSelector: "a:last",
            contentSelector: "",
            pagingSelector: "",
            dataType: "html",
            dataURL: !1,
            dataProcess: !1,
            callback: !1
        }
    };
    var t = function(t, i) {
        var s = t.data("jscroll")
          , n = "function" == typeof i ? {
            callback: i
        } : i
          , a = e.extend({}, e.jscroll.defaults, n, s || {})
          , r = "visible" === t.css("overflow-y")
          , o = t.find(a.nextSelector).first()
          , l = e(window)
          , h = e("body")
          , c = r ? l : t
          , d = e.trim(o.attr("href") + " " + a.contentSelector)
          , u = function() {
            var t = e(a.loadingHtml).filter("img").attr("src");
            if (t) {
                var i = new Image;
                i.src = t
            }
        }
          , p = function() {
            t.find(".jscroll-inner").length || t.contents().wrapAll('<div class="jscroll-inner" />')
        }
          , f = function(e) {
            var t;
            a.pagingSelector ? e.closest(a.pagingSelector).hide() : (t = e.parent().not(".jscroll-inner,.jscroll-added").addClass("jscroll-next-parent").hide(),
            t.length || e.wrap('<div class="jscroll-next-parent" />').parent().hide())
        }
          , g = function() {
            return c.unbind(".jscroll"),
            t.removeData("jscroll").find(".jscroll-inner").children().unwrap().filter(".jscroll-added").children().unwrap()
        }
          , m = function() {
            if (t.is(":visible")) {
                p();
                var e = t.find("div.jscroll-inner").first()
                  , i = t.data("jscroll")
                  , s = parseInt(t.css("borderTopWidth"), 10)
                  , n = isNaN(s) ? 0 : s
                  , o = parseInt(t.css("paddingTop"), 10) + n
                  , l = r ? c.scrollTop() : t.offset().top
                  , h = e.length ? e.offset().top : 0
                  , d = Math.ceil(l - h + c.height() + o);
                if (!i.waiting && d + a.padding >= e.outerHeight())
                    return _("info", "jScroll:", e.outerHeight() - d, "from bottom. Loading next request..."),
                    y()
            }
        }
          , v = function(e) {
            return e = e || t.data("jscroll"),
            e && e.nextHref ? (b(),
            !0) : (_("warn", "jScroll: nextSelector not found - destroying"),
            g(),
            !1)
        }
          , b = function() {
            var i = t.find(a.nextSelector).first();
            if (i.length)
                if (a.autoTrigger && (a.autoTriggerUntil === !1 || a.autoTriggerUntil > 0)) {
                    f(i);
                    var s = h.height() - t.offset().top
                      , n = t.height() < s ? t.height() : s
                      , r = t.offset().top - l.scrollTop() > 0 ? l.height() - (t.offset().top - e(window).scrollTop()) : l.height();
                    n <= r && m(),
                    t.find(a.nextSelector).length && c.unbind(".jscroll").bind("scroll.jscroll", function() {
                        return m()
                    }),
                    a.autoTriggerUntil > 0 && a.autoTriggerUntil--
                } else
                    c.unbind(".jscroll"),
                    i.bind("click.jscroll", function() {
                        return f(i),
                        y(),
                        !1
                    })
        }
          , y = function() {
            var i = t.find("div.jscroll-inner").first()
              , s = t.data("jscroll");
            return s.waiting = !0,
            i.append('<div class="jscroll-added" />').children(".jscroll-added").last().html('<div class="jscroll-loading" id="jscroll-loading">' + a.loadingHtml + "</div>").promise().done(function() {
                a.loadingFunction && a.loadingFunction()
            }),
            t.animate({
                scrollTop: i.outerHeight()
            }, 0, function() {
                var t = i.find("div.jscroll-added").last();
                if ("html" === a.dataType)
                    t.load(s.nextHref, function(e, t) {
                        return "error" === t ? g() : void w(this, s)
                    });
                else if ("json" === a.dataType) {
                    if (a.dataURL === !1)
                        return _("warn", "jScroll: no dataURL present for JSON data type - destroying"),
                        g();
                    e.getJSON(a.dataURL, function(e, i) {
                        return "error" !== i && a.dataProcess ? (a.dataProcess && a.dataProcess.call(this, t, e),
                        void w(t, e)) : g()
                    })
                } else {
                    if (!a.dataProcess)
                        return g();
                    a.dataProcess.call(this, t),
                    w(t, s)
                }
            })
        }
          , w = function(i, s) {
            var n = e(i).find(a.nextSelector).first();
            s.waiting = !1,
            s.nextHref = !!n.attr("href") && e.trim(n.attr("href") + " " + a.contentSelector),
            t.data("jscroll", s),
            e(".jscroll-next-parent", t).remove();
            var r = v();
            a.callback && a.callback.call(i, r),
            _("dir", s)
        }
          , _ = function(e) {
            if (a.debug && "object" == typeof console && ("object" == typeof e || "function" == typeof console[e]))
                if ("object" == typeof e) {
                    var t = [];
                    for (var i in e)
                        "function" == typeof console[i] ? (t = e[i].length ? e[i] : [e[i]],
                        console[i].apply(console, t)) : console.log.apply(console, t)
                } else
                    console[e].apply(console, Array.prototype.slice.call(arguments, 1))
        };
        return t.data("jscroll", e.extend({}, s, {
            initialized: !0,
            waiting: !1,
            nextHref: d
        })),
        p(),
        u(),
        b(),
        e.extend(t.jscroll, {
            destroy: g
        }),
        t
    };
    e.fn.jscroll = function(i) {
        return this.each(function() {
            var s, n = e(this), a = n.data("jscroll");
            a && a.initialized || (s = new t(n,i))
        })
    }
}(jQuery),
define("jquery.jscroll", ["jquery"], function() {}),
define("views/content-list", ["require", "backbone", "jquery", "underscore", "utils/pubsub", "utils/common", "utils/favorites", "utils/metrics", "collections/news-items", "views/news-item", "jquery.cookie", "jquery.jscroll"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("underscore")
      , n = e("utils/pubsub")
      , a = e("utils/common")
      , r = e("utils/favorites")
      , o = e("utils/metrics")
      , l = e("collections/news-items")
      , h = e("views/news-item");
    e("jquery.cookie"),
    e("jquery.jscroll");
    var c = t.View.extend({
        el: "section.content",
        events: {
            "click .wrapper > a": "trackContentClick"
        },
        defaults: {
            json_path: "",
            json_array: [],
            defaultType: "all",
            populate: function() {},
            geo_block_types: [],
            is_blocked: !1,
            navWrapper: void 0,
            loadPerPage: 10,
            contentRefreshInterval: 60,
            cookie_reset_selectors: "#eventLogo a, #home a",
            loading_link: '<a href="#" class="loading"><img src="/images/now/loading.gif" width="89" height="50"></a>',
            no_content_text: "No matching news entries found."
        },
        default_settings: {
            selectedRound: "",
            oldestRound: "",
            selectedType: "",
            jscroll_loaded: !1,
            oldestLoad: -1,
            newLoad: 0,
            newestLoad: 0,
            contentRefreshId: void 0
        },
        scroll_section: "",
        all_content: [],
        daycontent: void 0,
        news_items_list: [],
        content_list: [],
        count: 0,
        initialize: function(e) {
            this.options = s.extend({}, this.defaults, e),
            this.settings = s.extend({}, this.default_settings),
            this.processState()
        },
        render: function() {},
        onDispose: function() {
            this.unloadCookieReset(),
            this.news_items_list = []
        },
        selectType: function(e) {},
        updateFilters: function(e) {},
        processState: function() {
            var e, t = i.cookie("masNowClear");
            try {
                e = JSON.parse(t)
            } catch (t) {
                e = {
                    now: void 0,
                    track: void 0
                }
            }
            var n = {
                now: void 0,
                track: void 0
            };
            s.each(e, function(e, t) {
                switch (e) {
                case "set":
                    n[t] = "stored";
                    break;
                case "stored":
                    n[t] = "true";
                    break;
                case "true":
                case void 0:
                    n[t] = void 0,
                    "now" === t ? (i.removeCookie("masNowDate", {
                        path: "/en_US/"
                    }),
                    i.removeCookie("masNowType", {
                        path: "/en_US/"
                    }),
                    i.removeCookie("masNowContent", {
                        path: "/en_US/"
                    })) : "track" === t && i.removeCookie("masTrack", {
                        path: "/en_US/"
                    })
                }
            }),
            i.cookie("masNowClear", JSON.stringify(n), {
                path: "/"
            }),
            this.loadCookieReset()
        },
        loadCookieReset: function() {
            i(this.options.cookie_reset_selectors).on("click.cookie", function() {
                i.cookie("masNowClear", JSON.stringify({
                    now: !0,
                    track: !0
                }), {
                    path: "/"
                })
            })
        },
        unloadCookieReset: function() {
            i(this.options.cookie_reset_selectors).off("click.cookie")
        },
        interpolate: function(e) {
            return this.options.json_path.replace(/#{[^}]*}/, e)
        },
        trackContentClick: function() {
            this._trackContentClick.apply(this, arguments)
        },
        _trackContentClick: function() {},
        selectDate: function(e) {
            this.settings.oldestLoad = -1,
            this.settings.newestLoad = 0,
            this.settings.selectedRound = this.settings.oldestRound = e,
            this.settings.jscroll_loaded && (this.scroll_section.jscroll.destroy(),
            this.settings.jscroll_loaded = !1),
            this.$el.html(this.options.loading_link),
            "latest" === this.settings.selectedRound && (e = this.options.json_array[0],
            this.settings.oldestRound = e);
            var t = this.interpolate(e);
            return this.loadJSON(t, !1)
        },
        loadJSON: function(e, t) {
            var i = new l([],{
                url: e
            });
            return this.news_items_list.push(i),
            i.fetch({
                success: function(e, i, s) {
                    this.loadJSONData(e, t, i.date)
                }
                .bind(this)
            })
        },
        loadJSONData: function(e, t, n) {
            this.daycontent = e.models.slice(0),
            this.daycontent.reverse(),
            "" === this.settings.selectedType && (this.settings.selectedType = this.options.defaultType),
            this.removeGeoBlockedItems(),
            this.all_content = s.union(this.all_content, this.daycontent),
            this.scroll_section = i('<div id="scroll_' + this.settings.oldestRound + '" class="scroll_content">').append(i(this.options.loading_link).css({
                height: i(window).height()
            })),
            t && "" !== n && e.length > 0 && this.scroll_section.append("<h3>" + n + "</h3>"),
            this.$(".loading").remove(),
            this.$el.append(this.scroll_section),
            this.loadJScroll(t),
            this.settings.jscroll_loaded = !0,
            t || (clearInterval(this.settings.contentRefreshId),
            this.content_list = a.extractIDs(this.daycontent)),
            this.updateFilters(t)
        },
        removeGeoBlockedItems: function() {
            if (this.options.geo_block_types.length > 0 && this.options.is_blocked && (this.daycontent = s.filter(this.daycontent, function(e) {
                return s.indexOf(this.options.geo_block_types, e.get("type")) === -1
            }, this),
            0 === this.daycontent.length))
                return this.options.navWrapper.find('a.option[data-src="' + this.settings.oldestRound + '"]').remove(),
                void this.scrollCallback(!0)
        },
        loadJScroll: function(e) {
            this.settings.oldestLoad = this.daycontent.length,
            e || (this.settings.newestLoad = this.settings.oldestLoad);
            var t = this;
            this.scroll_section.jscroll({
                debug: !1,
                padding: 200,
                nextSelector: "a.loading",
                dataType: "none",
                dataProcess: this._processJScrollData.bind(this),
                callback: function(e) {
                    e || t.scrollCallback()
                }
            }),
            this.stopListening(n, "throttle:resize", this._forceScroll),
            this.listenTo(n, "throttle:resize", this._forceScroll)
        },
        _forceScroll: function() {
            i(window).trigger("scroll.jscroll").trigger("scroll.unveil")
        },
        _processJScrollData: function(e) {
            var t = this.daycontent;
            this.settings.newLoad = this.settings.oldestLoad,
            this.settings.oldestLoad -= this.options.loadPerPage,
            this.settings.oldestLoad < 0 && (this.settings.oldestLoad = 0),
            this.settings.oldestLoad > 0 && "half" === t[this.settings.oldestLoad].size && "half" === t[this.settings.oldestLoad - 1].size && "half" !== t[this.settings.oldestLoad + 1].size && this.settings.oldestLoad--;
            var s = t.slice(this.settings.oldestLoad, this.settings.newLoad);
            if (this.options.populate(s, e),
            this.settings.oldestLoad > 0 && e.append(this.options.loading_link),
            console.log("jscroll newestLoad: " + this.settings.newLoad),
            "Home" === o.page_section && "all" === this.settings.selectedType && this.settings.newLoad >= this.options.loadPerPage) {
                var n = i.cookie("masNowContent");
                console.log("checking for metrics scroll state"),
                this.count > 0 && void 0 === n && o.measureApp(o.page_section, "Scroll", this.count + ""),
                this.count += 1
            }
        },
        scrollCallback: function(e) {
            if ("latest" === this.settings.selectedRound) {
                var t = this.options.json_array
                  , i = s.indexOf(t, this.settings.oldestRound);
                if (i !== t.length - 1) {
                    var n = t[i + 1];
                    this.settings.oldestRound = n,
                    this.loadMoreContent(n, e)
                } else {
                    var a = this.$(".wrapper.visible");
                    0 === a.length && this.$el.append('<div class="wrapper wrapperFull no_content">' + this.options.no_content_text + "</div>")
                }
            } else
                0 === this.daycontent.length && (this.$(".loading").remove(),
                this.$el.append('<div class="wrapper wrapperFull no_content">' + this.options.no_content_text + "</div>"))
        },
        loadMoreContent: function(e, t) {
            var i = this.interpolate(e);
            this.loadJSON(i, !t)
        },
        updateDate: function(e) {
            var t = this.interpolate(e);
            i.getJSON(t, function(e) {
                var t = this.content_list;
                this.daycontent = e.content,
                this.content_list = a.extractIDs(this.daycontent);
                var s = this.daycontent.length;
                if (s > this.settings.newestLoad) {
                    var n = this.daycontent.slice(this.settings.newestLoad, s);
                    this.settings.newestLoad = s;
                    var r = i('<div class="jscroll-added new-content"></div>');
                    this.$(".jscroll-added:first-child").before(r),
                    this.options.populate(n, r)
                }
                this.removeContent(t)
            })
        },
        removeContent: function(e) {
            var t = s.difference(e, this.content_list)
              , i = t.length;
            if (i > 0) {
                for (var n = 0; n < i; n++)
                    this.$("#content" + t[n]).remove();
                var a = this.$("div.scroll_content:first-child").find("div.wrapper");
                "all" === this.settings.selectedType ? a.resetLayout("default") : a.resetLayout(),
                this._forceScroll()
            }
        },
        _selectType: function(e, t) {
            var i = this.$("div.scroll_content");
            if (this.$(".no_content").hide(),
            "all" === e) {
                this.all_content.forEach(function(e) {
                    e.set("visible", !0)
                });
                for (var n = 0, a = i.length; n < a; n++) {
                    var o = i.eq(n)
                      , l = o.find("div.wrapper");
                    l.resetLayout("default"),
                    l.length > 0 && o.find("h3").show()
                }
            } else {
                var h = "";
                if ("function" == typeof t && (h = t.call(this)),
                "" !== h) {
                    var c = !1;
                    "favorite" !== h ? h = h.split("|") : (h = r.getPlayerIDs(),
                    c = !0);
                    var d = 0;
                    this.news_items_list.forEach(function(e) {
                        s.each(e.models, function(e) {
                            var t;
                            t = c ? e.get("players").split(",") : [e.get("type")];
                            var i = s.intersection(t, h).length > 0;
                            e.set("visible", i)
                        })
                    });
                    for (var n = 0, a = i.length; n < a; n++) {
                        var u = i.eq(n)
                          , l = u.find("div.wrapper.visible");
                        l.resetLayout(),
                        d += l.length,
                        0 === l.length ? u.find("h3").hide() : u.find("h3").show()
                    }
                    0 === d && this.$(".no_content").show()
                }
            }
            this.settings.selectedType = e,
            this._forceScroll()
        },
        _updateFilters: function(e, t, s, n) {
            void 0 === n && (n = !1),
            "function" == typeof s && s.call(this, t);
            var a = e.$("a");
            i.each(t, function(e) {
                var i = a.filter('[href$="' + e + '"]');
                t[e] ? i.removeClass("disabled") : n || i.addClass("disabled")
            }),
            e.setOption(e.findIndexByType(this.settings.selectedType))
        },
        _buildContent: function(e, t, s) {
            var n = []
              , a = this;
            i.each(e.reverse(), function(e) {
                var t = "";
                "function" == typeof s && s.call(a, this);
                var i = new h({
                    model: this
                }).render();
                t = i.$el,
                n.push(t)
            }),
            t.html(n),
            this.unveil(t.find("img.srcpic"))
        }
    });
    return c
}),
define("views/primary-dropdown", ["require", "backbone", "jquery", "utils/metrics"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/metrics")
      , n = t.View.extend({
        el: ".filter",
        events: {
            "click .selected_container": "toggleOpen",
            "click .options a": "selectOption"
        },
        defaults: {
            callback: function() {},
            callback_context: this,
            metrics: []
        },
        open: !1,
        selected: 0,
        initialize: function(e) {
            this.options = _.extend({}, this.defaults, e),
            this.$(".selected_container").hasClass("open") && (this.open = !0),
            0 === this.options.metrics.length && (this.options.metrics = [s.page_section, "Day Picker"]),
            this.$parent = this.$el.parent(),
            this.$selected_option = this.$(".selected_option"),
            this.$selected = this.$(".options a.selected"),
            this.selected = this.$selected.index() || 0,
            this.listenTo(this, "select", this.setOption)
        },
        render: function() {},
        dispose: function() {
            t.View.prototype.dispose.call(this, !0)
        },
        setCallback: function(e, t) {
            this.options.callback = e,
            void 0 !== t && (this.options.callback_context = t)
        },
        selectedVal: function() {
            return this.$(".options a.selected").data("src")
        },
        findBySrc: function(e) {
            return this.$('a[data-src="' + e + '"]')
        },
        setSelectedOption: function(e) {
            return this.$(".selected_option").html(e)
        },
        toggleOpenState: function(e) {
            void 0 !== e ? this.open = e : this.open = !this.open,
            this.$el.toggleClass("open", this.open)
        },
        toggleOpen: function(e) {
            e.preventDefault(),
            this.toggleOpenState(),
            this.measureApp(this.open ? "Open" : "Close")
        },
        selectOption: function(e) {
            e.preventDefault();
            var t = i(e.currentTarget);
            t.index() !== this.selected && (this.options.callback.call(this.options.callback_context, t.data("src")),
            this.trigger("select", t.index()),
            this.measureApp(t.html())),
            this.toggleOpenState(!1)
        },
        setOption: function(e) {
            this.selected = e,
            this.$selected = this.$(".options a:eq(" + e + ")");
            var t = this.$selected.html();
            this.$selected_option.html(t).toggleClass("toggle"),
            this.$(".selected").removeClass("selected"),
            this.$selected.addClass("selected")
        },
        measureApp: function() {
            for (var e = this.options.metrics.slice(0), t = arguments.length - 1; t >= 0; t--)
                e.push(arguments[t]);
            s.measureApp.apply(window, e)
        }
    });
    return n
}),
define("views/secondary-dropdown", ["require", "backbone", "jquery", "underscore", "utils/metrics", "utils/window-size"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("underscore")
      , n = e("utils/metrics")
      , a = e("utils/window-size")
      , r = t.View.extend({
        el: ".tabs",
        events: {
            "click a.selected": "toggleOpen",
            "click a:not(.selected):not(.disabled)": "selectOption",
            "click a": "noOp"
        },
        defaults: {
            max_size: "",
            callback: function() {},
            callback_context: this,
            metrics: ""
        },
        open: !1,
        selected: 0,
        initialize: function(e) {
            this.options = s.extend({}, this.defaults, e),
            null !== this.options.metrics && 0 === this.options.metrics.length && (this.options.metrics = "View"),
            this.options.metrics = s.compact([n.page_section, this.options.metrics]),
            this.$parent = this.$el.parent(),
            this.$selected = this.$(".selected"),
            this.selected = this.$selected.index()
        },
        setCallback: function(e, t) {
            this.options.callback = e,
            void 0 !== t && (this.options.callback_context = t)
        },
        findByType: function(e) {
            return this.$('a[href^="#tab_' + e + '"]')
        },
        findIndexByType: function(e) {
            var t = this.findByType(e)
              , i = t.index();
            return this.open && (i -= 1),
            i
        },
        noOp: function(e) {
            e.preventDefault()
        },
        toggleOpenState: function(e) {
            var t;
            void 0 !== e ? this.open = e : this.open = !this.open,
            this.$el.toggleClass("open", this.open),
            this.open ? (t = this.$selected.clone().addClass("clone"),
            this.$el.prepend(t)) : this.$(".clone").remove()
        },
        toggleOpen: function(e) {
            this.check_size() && (this.toggleOpenState(),
            this.measureApp("Tab", this.open ? "Open" : "Close"))
        },
        selectOption: function(e) {
            var t = i(e.currentTarget);
            this.$selected = t,
            this.selected = t.index(),
            this.open && (this.selected -= 1),
            this.setOption(),
            this.measureApp(this.getSelectedMeasureText()),
            this.check_size() && this.toggleOpenState(!1),
            this.options.callback.call(this.options.callback_context, this.$selected.attr("href"))
        },
        getSelectedMeasureText: function() {
            return this.$selected.text()
        },
        setOption: function(e) {
            void 0 !== e && (this.selected = e),
            (isNaN(this.selected) || this.selected < 0) && (this.selected = 0),
            this.$selected = this.$("a:not(.clone)").eq(this.selected),
            this.$(".selected").removeClass("selected"),
            this.$selected.addClass("selected")
        },
        check_size: function() {
            return "" === this.options.max_size || this.options.max_size === a.sizes.global ? a.size() === a.sizes.global : this.options.max_size !== a.sizes.tablet || a.size() !== a.sizes.desktop
        },
        measureApp: function() {
            for (var e = this.options.metrics.slice(0), t = 0; t < arguments.length; t++)
                e.push(arguments[t]);
            n.measureApp.apply(window, e)
        }
    });
    return r
}),
define("jquery.dropdown_ext", ["require", "jquery", "utils/metrics", "utils/window-size"], function(e) {
    var t = e("jquery")
      , i = e("utils/metrics")
      , s = e("utils/window-size");
    t.fn.primaryDropdown = function(e, s) {
        return void 0 === s && (s = [i.page_section, "Day Picker"]),
        this.on("click.primarydropdown", ".selected_container", function(e) {
            e.preventDefault();
            var n = t(this).parents(".filter")
              , a = s.slice(0);
            n.hasClass("open") ? (n.removeClass("open"),
            a.push("Close"),
            i.measureApp.apply(window, a)) : (n.addClass("open"),
            a.push("Open"),
            i.measureApp.apply(window, a))
        }).on("click.primarydropdown", ".options a", function(n) {
            n.preventDefault();
            var a = t(this).parents(".filter");
            if (!t(this).hasClass("selected")) {
                "function" == typeof e && e.call(this, t(this).data("src"));
                var r = a.find(".selected_option");
                r.html(t(this).html()).toggleClass("toggle"),
                t(this).addClass("selected").siblings(".selected").removeClass("selected");
                var o = s.slice(0);
                o.push(t(this).html()),
                i.measureApp.apply(window, o)
            }
            a.removeClass("open")
        }),
        this
    }
    ,
    t.fn.secondaryDropdown = function(e, n) {
        var a, r = "View";
        void 0 !== n && (a = n.max_size,
        void 0 !== n.metrics_action && "" !== n.metrics_action && (r = n.metrics_action));
        var o = function() {
            return void 0 === a || "global" === a ? "global" === s.size() : "tablet" != a || "desktop" !== s.size()
        };
        return this.on("click", "a.selected", function(e) {
            if (e.preventDefault(),
            o()) {
                var s = t(this).parent();
                if (s.hasClass("open"))
                    s.removeClass("open"),
                    i.measureApp(i.page_section, r, "Tab", "Close"),
                    s.find(".clone").remove();
                else {
                    s.addClass("open"),
                    i.measureApp(i.page_section, r, "Tab", "Open");
                    var n = t(this).clone().addClass("clone");
                    s.prepend(n)
                }
            }
        }).on("click", "a:not(.selected):not(.disabled)", function(s) {
            t(this).addClass("selected").siblings(".selected").removeClass("selected"),
            i.measureApp(i.page_section, r, t(this).text()),
            o() && t(this).parent().removeClass("open").find(".clone").remove(),
            "function" == typeof e && e.call(this, t(this).attr("href"))
        }).on("click", "a", function(e) {
            e.preventDefault()
        }),
        this
    }
    ,
    t.fn.resetLayout = function(e) {
        var i = this;
        if (void 0 !== e && "default" === e)
            return this.removeClass("wrapperFull wrapperHalf wrapperClear").each(function(e) {
                var s = t(this);
                if (s.hasClass("wrapperThird"))
                    e % 3 === 0 && s.addClass("wrapperClear");
                else {
                    if (0 === e && "Half" === s.data("size") && "Half" !== t(i[e + 1]).data("size"))
                        return void s.addClass("wrapperFull");
                    s.addClass("wrapper" + s.data("size"))
                }
            }),
            this;
        var s = 0
          , n = this.length - 1;
        return this.removeClass("wrapperFull wrapperHalf wrapperClear").each(function(e) {
            var i = t(this)
              , a = i.hasClass("wrapperThird");
            switch (s % 3) {
            case 1:
                if (!a && e === n) {
                    i.addClass("wrapperFull");
                    break
                }
            case 2:
                a ? s++ : i.find(".containerStats").length > 0 ? i.addClass("wrapperFull") : (i.addClass("wrapperHalf"),
                s++);
                break;
            case 0:
            default:
                a ? i.addClass("wrapperClear") : i.addClass("wrapperFull"),
                s++
            }
        }),
        this
    }
}),
define("views/landing-body", ["require", "backbone", "jquery", "utils/common", "settings", "utils/pubsub", "utils/sticky-nav", "views/content-list", "views/primary-dropdown", "views/secondary-dropdown", "jquery.dropdown_ext"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/common")
      , n = e("settings")
      , a = e("utils/pubsub")
      , r = e("utils/sticky-nav")
      , o = e("views/content-list")
      , l = e("views/primary-dropdown")
      , h = e("views/secondary-dropdown");
    e("jquery.dropdown_ext");
    var c = t.View.extend({
        el: "section.body",
        events: {},
        options: {
            content_list: {}
        },
        scroll_timeoutId: void 0,
        initialize: function() {
            n.Scores.pre && !n.showFavorites || this.$("#mediaSelector").find('a[href$="favorite"]').css("display", ""),
            this.$daySelector = new l({
                el: this.$("#daySelector")
            }),
            this.$mediaSelector = new h({
                el: this.$("#mediaSelector")
            }),
            this.content_src_ary = this.$daySelector.$(".option").map(function() {
                return i(this).data("src")
            }).toArray(),
            this.content_src_ary.shift(),
            this.listenTo(a, "throttle:resize", this.resizeCallback)
        },
        render: function() {
            return this.stickyNav = new r({
                el: this.$daySelector.el
            }).render(),
            this.setupContentList(),
            this.onRender(),
            this
        },
        onDispose: function() {
            this.$daySelector.dispose(),
            this.$mediaSelector.dispose(),
            this.stickyNav.dispose(),
            this.list.dispose(),
            clearTimeout(this.scroll_timeoutId)
        },
        resizeCallback: function() {
            s.collapseMenus([this.$daySelector, this.$mediaSelector])
        },
        setupContentList: function() {
            this.list = new o(this.options.content_list),
            this.defineContentListOverrides(),
            this.$daySelector.setCallback(this.list.selectDate, this.list),
            this.$mediaSelector.setCallback(function(e) {
                var t = e.substring(5);
                this.list.selectType(t),
                this.options.media_dropdown_callback && "function" == typeof this.options.media_dropdown_callback && this.options.media_dropdown_callback.call(this, t)
            }, this)
        },
        defineContentListOverrides: function() {},
        buildDayContent: function(e, t) {}
    });
    return c
}),
define("views/index-landing-body", ["require", "views/landing-body", "jquery", "underscore", "utils/pubsub", "utils/favorites", "jquery.dropdown_ext"], function(e) {
    var t = e("views/landing-body")
      , i = e("jquery")
      , s = e("underscore")
      , n = e("utils/pubsub")
      , a = e("utils/favorites");
    e("jquery.dropdown_ext");
    var r = t.extend({
        initialize: function() {
            t.prototype.initialize.apply(this, arguments),
            s.extend(this.options, {
                content_list: {
                    json_path: "/en_US/xml/gen/now/#{round}.json",
                    json_array: this.content_src_ary,
                    populate: this.buildDayContent.bind(this)
                },
                media_dropdown_callback: function(e) {
                    i.cookie("masNowType", e, {
                        path: "/en_US/"
                    })
                }
            })
        },
        onRender: function() {
            this.loadDefaultDateTypeContent()
        },
        onDispose: function() {
            n.off("unload.masNow", "", this),
            t.prototype.onDispose.apply(this, arguments)
        },
        defineContentListOverrides: function() {
            var e = this.$mediaSelector;
            this.list.updateFilters = function(t) {
                this._updateFilters(e, {
                    favorite: !1,
                    news: !1,
                    photos: !1,
                    videos: !1,
                    insights: !1
                }, function(e) {
                    var t = a.getPlayerIDs()
                      , i = t.length;
                    i > 0 && (e.favorite = !0);
                    var s = this.daycontent;
                    "latest" === this.settings.selectedRound && (s = this.all_content);
                    var n = 0
                      , r = s.length;
                    for (n; n < r; n++) {
                        var o = s[n];
                        switch (o.get("type")) {
                        case "photo":
                        case "gallery":
                            e.photos = !0;
                            break;
                        case "video":
                            e.videos = !0;
                            break;
                        case "article":
                        case "text":
                            e.news = !0;
                            break;
                        case "insight":
                            e.insights = !0
                        }
                        if (e.photos && e.videos && e.news && e.insights)
                            break
                    }
                }, t)
            }
            ,
            this.list.selectType = function(e) {
                this._selectType(e, function() {
                    var t = "";
                    switch (e) {
                    case "favorite":
                        t = "favorite";
                        break;
                    case "news":
                        t = "article|text";
                        break;
                    case "photos":
                        t = "photo|gallery";
                        break;
                    case "stats":
                        t = "stat";
                        break;
                    case "videos":
                        t = "video";
                        break;
                    case "insights":
                        t = "insight"
                    }
                    return t
                })
            }
            ,
            this.list._selectDate = this.list.selectDate,
            this.list.selectDate = function(e) {
                this.settings.selectedType = this.options.defaultType,
                this.count = 0,
                this._selectDate(e),
                i.cookie("masNowDate", e, {
                    path: "/en_US/"
                })
            }
            .bind(this.list)
        },
        buildDayContent: function(e, t) {
            this.list._buildContent(e, t),
            this.list.selectType(this.list.settings.selectedType)
        },
        loadDefaultDateTypeContent: function() {
            var e = i.cookie("masNowDate");
            if (e) {
                var t = this.$daySelector.findBySrc(e)
                  , s = t.index();
                this.$daySelector.setOption(s)
            } else
                e = this.$daySelector.selectedVal();
            var a = i.cookie("masNowType");
            a && (this.$mediaSelector.$('a[href="#' + a + '"]').addClass("selected").siblings(".selected").removeClass("selected"),
            this.list.settings.selectedType = a);
            i.when(this.list._selectDate(e)).then(function() {
                new i.Deferred,
                i.cookie("masNowContent")
            }),
            n.on("unload.masNow", function() {
                var e = JSON.parse(i.cookie("masNowClear"));
                e.now = "set",
                i.cookie("masNowClear", JSON.stringify(e), {
                    path: "/"
                })
            }, this),
            this.list._trackContentClick = function(e) {
                var t = e.currentTarget
                  , s = i(t).closest("wrapper");
                "link" !== s && i.cookie("masNowContent", t.getAttribute("href"), {
                    path: "/en_US/"
                })
            }
        }
    });
    return r
}),
define("controllers/index", ["require", "jquery", "underscore", "backbone", "baseview", "views/landing-hero", "utils/metrics", "utils/geoblock", "views/index-landing-body", "unveil"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = (e("backbone"),
    e("baseview"))
      , s = e("views/landing-hero")
      , n = e("utils/metrics")
      , a = e("utils/geoblock")
      , r = e("views/index-landing-body");
    e("unveil");
    var o = i.extend({
        events: {},
        geo_checked: !1,
        processPageVars: function() {
            this.props = {
                prop36: this.jsonData.metrics.prop36
            },
            n.page_section = "Home"
        },
        onInitialization: function() {
            a.checkAction = this.geoAction.bind(this),
            this.hero = new s({
                el: this.$("section.hero-wrap")
            }),
            this.hero.$welcome_alt = this.$("#welcome_alt"),
            this.contentBody = new r({
                el: this.$("section.body")
            })
        },
        geoAction: function() {
            if (console.log("[index.js] running Index Geo.checkAction, " + this.geo_checked),
            !this.geo_checked && a.isLoaded()) {
                var e = this.hero.$welcome_alt
                  , i = this.hero.$welcome;
                if (a.isBlocked()) {
                    var s = {};
                    t.each(["lower", "medium", "high", "lower-portrait"], function(t) {
                        s["data-" + t] = e.data(t)
                    }),
                    i.attr(s),
                    this.unveil(i),
                    i.find(".hero_promo").html(e.find(".hero_promo").html()),
                    i.find(".contentWrapper").html(e.find(".contentWrapper").html())
                }
                e.remove(),
                this.geo_checked = !0
            }
        },
        onRender: function() {
            this.geoAction(),
            this.hero.render(),
            this.contentBody.render()
        },
        onDispose: function() {
            this.contentBody.dispose()
        }
    });
    return o
}),
define("views/fontsize-change", ["require", "jquery", "backbone", "utils/browser", "utils/metrics", "jquery.cookie"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("utils/browser")
      , n = e("utils/metrics");
    e("jquery.cookie");
    var a = i.View.extend({
        el: ".fontSizeChange",
        events: {
            "click #normal": "getNormal",
            "click #larger": "getLarger",
            "click #largest": "getLargest"
        },
        defaults: {
            _default: "normal"
        },
        size: "normal",
        initialize: function(e) {
            e && (this.article_text = e.article_text);
            var i = t.cookie("masFontSize");
            if (null !== i && "normal" !== i)
                "larger" === i ? this.getLarger(!0) : "largest" === i && this.getLargest(!0);
            else if (null === i)
                switch (this._default) {
                case "larger":
                    this.getLarger(!0);
                    break;
                case "largest":
                    this.getLargest(!0)
                }
        },
        render: function() {},
        getLarger: function(e) {
            this.getSize("larger", e)
        },
        getLargest: function(e) {
            this.getSize("largest", e)
        },
        getNormal: function() {
            this.getSize("normal")
        },
        getSize: function(e, i) {
            if (this.size !== e) {
                var a = this.article_text;
                void 0 !== a && a.removeClass("larger largest").addClass(e),
                this.$("#" + e).addClass("selected").siblings().removeClass("selected"),
                t.cookie("masFontSize", e, {
                    path: "/",
                    expires: 100
                }),
                this.size = e,
                i !== !0 && (s.app ? n.appMeasure("News:Articles:font" + e) : n.measureApp("Articles", "Article", "font" + e))
            }
        },
        changeableContent: function() {
            return article_text ? article_text : null
        }
    });
    return a
}),
!function(e) {
    var t = {}
      , s = {
        mode: "horizontal",
        slideSelector: "",
        infiniteLoop: !0,
        hideControlOnEnd: !1,
        speed: 500,
        easing: null,
        slideMargin: 0,
        startSlide: 0,
        randomStart: !1,
        captions: !1,
        ticker: !1,
        tickerHover: !1,
        adaptiveHeight: !1,
        adaptiveHeightSpeed: 500,
        video: !1,
        useCSS: !0,
        use3D: !0,
        preloadImages: "visible",
        responsive: !0,
        slideZIndex: 50,
        wrapperClass: "bx-wrapper",
        touchEnabled: !0,
        swipeThreshold: 50,
        oneToOneTouch: !0,
        preventDefaultSwipeX: !0,
        preventDefaultSwipeY: !1,
        pager: !0,
        pagerType: "full",
        pagerShortSeparator: " / ",
        pagerSelector: null,
        buildPager: null,
        pagerCustom: null,
        controls: !0,
        nextText: "Next",
        prevText: "Prev",
        nextSelector: null,
        prevSelector: null,
        autoControls: !1,
        startText: "Start",
        stopText: "Stop",
        autoControlsCombine: !1,
        autoControlsSelector: null,
        auto: !1,
        pause: 4e3,
        autoStart: !0,
        autoDirection: "next",
        autoHover: !1,
        autoDelay: 0,
        autoSlideForOnePage: !1,
        minSlides: 1,
        maxSlides: 1,
        moveSlides: 0,
        slideWidth: 0,
        onSliderLoad: function() {},
        onSlideBefore: function() {},
        onSlideAfter: function() {},
        onSlideNext: function() {},
        onSlidePrev: function() {},
        onSliderResize: function() {}
    };
    e.fn.bxSlider = function(n) {
        if (0 == this.length)
            return this;
        if (this.length > 1)
            return this.each(function() {
                e(this).bxSlider(n)
            }),
            this;
        var a = {}
          , r = this;
        t.el = this;
        var o = e(window).width()
          , l = e(window).height()
          , h = function() {
            a.settings = e.extend({}, s, n),
            a.settings.slideWidth = parseInt(a.settings.slideWidth),
            a.children = r.children(a.settings.slideSelector),
            a.children.length < a.settings.minSlides && (a.settings.minSlides = a.children.length),
            a.children.length < a.settings.maxSlides && (a.settings.maxSlides = a.children.length),
            a.settings.randomStart && (a.settings.startSlide = Math.floor(Math.random() * a.children.length)),
            a.active = {
                index: a.settings.startSlide
            },
            a.carousel = a.settings.minSlides > 1 || a.settings.maxSlides > 1,
            a.carousel && (a.settings.preloadImages = "all"),
            a.minThreshold = a.settings.minSlides * a.settings.slideWidth + (a.settings.minSlides - 1) * a.settings.slideMargin,
            a.maxThreshold = a.settings.maxSlides * a.settings.slideWidth + (a.settings.maxSlides - 1) * a.settings.slideMargin,
            a.working = !1,
            a.controls = {},
            a.interval = null,
            a.animProp = "vertical" == a.settings.mode ? "top" : "left",
            a.usingCSS = a.settings.useCSS && "fade" != a.settings.mode && function() {
                var e = document.createElement("div")
                  , t = ["WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"];
                for (var i in t)
                    if (void 0 !== e.style[t[i]])
                        return a.cssPrefix = t[i].replace("Perspective", "").toLowerCase(),
                        a.animProp = "-" + a.cssPrefix + "-transform",
                        !0;
                return !1
            }(),
            "vertical" == a.settings.mode && (a.settings.maxSlides = a.settings.minSlides),
            r.data("origStyle", r.attr("style")),
            r.children(a.settings.slideSelector).each(function() {
                e(this).data("origStyle", e(this).attr("style"))
            }),
            c()
        }
          , c = function() {
            r.wrap('<div class="' + a.settings.wrapperClass + '"><div class="bx-viewport"></div></div>'),
            a.viewport = r.parent(),
            a.loader = e('<div class="bx-loading" />'),
            a.viewport.prepend(a.loader),
            r.css({
                width: "horizontal" == a.settings.mode ? 100 * a.children.length + 215 + "%" : "auto",
                position: "relative"
            }),
            a.usingCSS && a.settings.easing ? r.css("-" + a.cssPrefix + "-transition-timing-function", a.settings.easing) : a.settings.easing || (a.settings.easing = "swing"),
            m(),
            a.viewport.css({
                width: "100%",
                overflow: "hidden",
                position: "relative"
            }),
            a.viewport.parent().css({
                maxWidth: f()
            }),
            a.settings.pager || a.viewport.parent().css({
                margin: "0 auto 0px"
            }),
            a.children.css({
                float: "horizontal" == a.settings.mode ? "left" : "none",
                listStyle: "none",
                position: "relative"
            }),
            a.children.css("width", g()),
            "horizontal" == a.settings.mode && a.settings.slideMargin > 0 && a.children.css("marginRight", a.settings.slideMargin),
            "vertical" == a.settings.mode && a.settings.slideMargin > 0 && a.children.css("marginBottom", a.settings.slideMargin),
            "fade" == a.settings.mode && (a.children.css({
                position: "absolute",
                zIndex: 0,
                display: "none"
            }),
            a.children.eq(a.settings.startSlide).css({
                zIndex: a.settings.slideZIndex,
                display: "block"
            })),
            a.controls.el = e('<div class="bx-controls" />'),
            a.settings.captions && T(),
            a.active.last = a.settings.startSlide == v() - 1,
            a.settings.video && r.fitVids();
            var t = a.children.eq(a.settings.startSlide);
            "all" == a.settings.preloadImages && (t = a.children),
            a.settings.ticker ? a.settings.pager = !1 : (a.settings.pager && k(),
            a.settings.controls && x(),
            a.settings.auto && a.settings.autoControls && C(),
            (a.settings.controls || a.settings.autoControls || a.settings.pager) && a.viewport.after(a.controls.el)),
            d(t, u)
        }
          , d = function(t, i) {
            var s = t.find("img, iframe").length;
            if (0 == s)
                return void i();
            var n = 0;
            t.find("img, iframe").each(function() {
                e(this).one("load", function() {
                    ++n == s && i()
                }).each(function() {
                    this.complete && e(this).load()
                })
            })
        }
          , u = function() {
            if (a.settings.infiniteLoop && "fade" != a.settings.mode && !a.settings.ticker) {
                var t = "vertical" == a.settings.mode ? a.settings.minSlides : a.settings.maxSlides
                  , i = a.children.slice(0, t).clone().addClass("bx-clone")
                  , s = a.children.slice(-t).clone().addClass("bx-clone");
                r.append(i).prepend(s)
            }
            a.loader.remove(),
            y(),
            "vertical" == a.settings.mode && (a.settings.adaptiveHeight = !0),
            a.viewport.height(p()),
            r.redrawSlider(),
            a.settings.onSliderLoad(a.active.index),
            a.initialized = !0,
            a.settings.responsive && e(window).bind("resize", N),
            a.settings.auto && a.settings.autoStart && (v() > 1 || a.settings.autoSlideForOnePage) && O(),
            a.settings.ticker && z(),
            a.settings.pager && D(a.settings.startSlide),
            a.settings.controls && j(),
            a.settings.touchEnabled && !a.settings.ticker && q()
        }
          , p = function() {
            var t = 0
              , s = e();
            if ("vertical" == a.settings.mode || a.settings.adaptiveHeight)
                if (a.carousel) {
                    var n = 1 == a.settings.moveSlides ? a.active.index : a.active.index * b();
                    for (s = a.children.eq(n),
                    i = 1; i <= a.settings.maxSlides - 1; i++)
                        s = s.add(n + i >= a.children.length ? a.children.eq(i - 1) : a.children.eq(n + i))
                } else
                    s = a.children.eq(a.active.index);
            else
                s = a.children;
            return "vertical" == a.settings.mode ? (s.each(function() {
                t += e(this).outerHeight()
            }),
            a.settings.slideMargin > 0 && (t += a.settings.slideMargin * (a.settings.minSlides - 1))) : t = Math.max.apply(Math, s.map(function() {
                return e(this).outerHeight(!1)
            }).get()),
            "border-box" == a.viewport.css("box-sizing") ? t += parseFloat(a.viewport.css("padding-top")) + parseFloat(a.viewport.css("padding-bottom")) + parseFloat(a.viewport.css("border-top-width")) + parseFloat(a.viewport.css("border-bottom-width")) : "padding-box" == a.viewport.css("box-sizing") && (t += parseFloat(a.viewport.css("padding-top")) + parseFloat(a.viewport.css("padding-bottom"))),
            t
        }
          , f = function() {
            var e = "100%";
            return a.settings.slideWidth > 0 && (e = "horizontal" == a.settings.mode ? a.settings.maxSlides * a.settings.slideWidth + (a.settings.maxSlides - 1) * a.settings.slideMargin : a.settings.slideWidth),
            e
        }
          , g = function() {
            var e = a.settings.slideWidth
              , t = a.viewport.width();
            return 0 == a.settings.slideWidth || a.settings.slideWidth > t && !a.carousel || "vertical" == a.settings.mode ? e = t : a.settings.maxSlides > 1 && "horizontal" == a.settings.mode && (t > a.maxThreshold || t < a.minThreshold && (e = (t - a.settings.slideMargin * (a.settings.minSlides - 1)) / a.settings.minSlides)),
            e
        }
          , m = function() {
            var e = 1;
            if ("horizontal" == a.settings.mode && a.settings.slideWidth > 0)
                if (a.viewport.width() < a.minThreshold)
                    e = a.settings.minSlides;
                else if (a.viewport.width() > a.maxThreshold)
                    e = a.settings.maxSlides;
                else {
                    var t = a.children.first().width() + a.settings.slideMargin;
                    e = Math.floor((a.viewport.width() + a.settings.slideMargin) / t)
                }
            else
                "vertical" == a.settings.mode && (e = a.settings.minSlides);
            return e
        }
          , v = function() {
            var e = 0;
            if (a.settings.moveSlides > 0)
                if (a.settings.infiniteLoop)
                    e = Math.ceil(a.children.length / b());
                else
                    for (var t = 0, i = 0; t < a.children.length; )
                        ++e,
                        t = i + m(),
                        i += a.settings.moveSlides <= m() ? a.settings.moveSlides : m();
            else
                e = Math.ceil(a.children.length / m());
            return e
        }
          , b = function() {
            return a.settings.moveSlides > 0 && a.settings.moveSlides <= m() ? a.settings.moveSlides : m()
        }
          , y = function() {
            if (a.children.length > a.settings.maxSlides && a.active.last && !a.settings.infiniteLoop) {
                if ("horizontal" == a.settings.mode) {
                    var e = a.children.last()
                      , t = e.position();
                    w(-(t.left - (a.viewport.width() - e.outerWidth())), "reset", 0)
                } else if ("vertical" == a.settings.mode) {
                    var i = a.children.length - a.settings.minSlides
                      , t = a.children.eq(i).position();
                    w(-t.top, "reset", 0)
                }
            } else {
                var t = a.children.eq(a.active.index * b()).position();
                a.active.index == v() - 1 && (a.active.last = !0),
                void 0 != t && ("horizontal" == a.settings.mode ? w(-t.left, "reset", 0) : "vertical" == a.settings.mode && w(-t.top, "reset", 0))
            }
        }
          , w = function(e, t, i, s) {
            if (a.usingCSS) {
                var n = "vertical" == a.settings.mode ? "0, " + e + "px" : e + "px, 0"
                  , o = a.settings.use3D ? "translate3d(" + n + ", 0)" : "translate(" + n + ")";
                r.css("-" + a.cssPrefix + "-transition-duration", i / 1e3 + "s"),
                "slide" == t ? (r.css(a.animProp, o),
                r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function() {
                    r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),
                    L()
                })) : "reset" == t ? r.css(a.animProp, o) : "ticker" == t && (r.css("-" + a.cssPrefix + "-transition-timing-function", "linear"),
                r.css(a.animProp, o),
                r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function() {
                    r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),
                    w(s.resetValue, "reset", 0),
                    I()
                }))
            } else {
                var l = {};
                l[a.animProp] = e,
                "slide" == t ? r.animate(l, i, a.settings.easing, function() {
                    L()
                }) : "reset" == t ? r.css(a.animProp, e) : "ticker" == t && r.animate(l, speed, "linear", function() {
                    w(s.resetValue, "reset", 0),
                    I()
                })
            }
        }
          , _ = function() {
            for (var t = "", i = v(), s = 0; i > s; s++) {
                var n = "";
                a.settings.buildPager && e.isFunction(a.settings.buildPager) ? (n = a.settings.buildPager(s),
                a.pagerEl.addClass("bx-custom-pager")) : (n = s + 1,
                a.pagerEl.addClass("bx-default-pager")),
                t += '<div class="bx-pager-item"><a href="" data-slide-index="' + s + '" class="bx-pager-link">' + n + "</a></div>"
            }
            a.pagerEl.html(t)
        }
          , k = function() {
            a.settings.pagerCustom ? a.pagerEl = e(a.settings.pagerCustom) : (a.pagerEl = e('<div class="bx-pager" />'),
            a.settings.pagerSelector ? e(a.settings.pagerSelector).html(a.pagerEl) : a.controls.el.addClass("bx-has-pager").append(a.pagerEl),
            _()),
            a.pagerEl.on("click", "a", A)
        }
          , x = function() {
            a.controls.next = e('<a class="bx-next" href="">' + a.settings.nextText + "</a>"),
            a.controls.prev = e('<a class="bx-prev" href="">' + a.settings.prevText + "</a>"),
            a.controls.next.bind("click", S),
            a.controls.prev.bind("click", P),
            a.settings.nextSelector && e(a.settings.nextSelector).append(a.controls.next),
            a.settings.prevSelector && e(a.settings.prevSelector).append(a.controls.prev),
            a.settings.nextSelector || a.settings.prevSelector || (a.controls.directionEl = e('<div class="bx-controls-direction" />'),
            a.controls.directionEl.append(a.controls.prev).append(a.controls.next),
            a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl))
        }
          , C = function() {
            a.controls.start = e('<div class="bx-controls-auto-item"><a class="bx-start" href="">' + a.settings.startText + "</a></div>"),
            a.controls.stop = e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">' + a.settings.stopText + "</a></div>"),
            a.controls.autoEl = e('<div class="bx-controls-auto" />'),
            a.controls.autoEl.on("click", ".bx-start", M),
            a.controls.autoEl.on("click", ".bx-stop", E),
            a.settings.autoControlsCombine ? a.controls.autoEl.append(a.controls.start) : a.controls.autoEl.append(a.controls.start).append(a.controls.stop),
            a.settings.autoControlsSelector ? e(a.settings.autoControlsSelector).html(a.controls.autoEl) : a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl),
            R(a.settings.autoStart ? "stop" : "start")
        }
          , T = function() {
            a.children.each(function() {
                var t = e(this).find("img:first").attr("title");
                void 0 != t && ("" + t).length && e(this).append('<div class="bx-caption"><span>' + t + "</span></div>")
            })
        }
          , S = function(e) {
            a.settings.auto && r.stopAuto(),
            r.goToNextSlide(),
            e.preventDefault()
        }
          , P = function(e) {
            a.settings.auto && r.stopAuto(),
            r.goToPrevSlide(),
            e.preventDefault()
        }
          , M = function(e) {
            r.startAuto(),
            e.preventDefault()
        }
          , E = function(e) {
            r.stopAuto(),
            e.preventDefault()
        }
          , A = function(t) {
            a.settings.auto && r.stopAuto();
            var i = e(t.currentTarget);
            if (void 0 !== i.attr("data-slide-index")) {
                var s = parseInt(i.attr("data-slide-index"));
                s != a.active.index && r.goToSlide(s),
                t.preventDefault()
            }
        }
          , D = function(t) {
            var i = a.children.length;
            return "short" == a.settings.pagerType ? (a.settings.maxSlides > 1 && (i = Math.ceil(a.children.length / a.settings.maxSlides)),
            void a.pagerEl.html(t + 1 + a.settings.pagerShortSeparator + i)) : (a.pagerEl.find("a").removeClass("active"),
            void a.pagerEl.each(function(i, s) {
                e(s).find("a").eq(t).addClass("active")
            }))
        }
          , L = function() {
            if (a.settings.infiniteLoop) {
                var e = "";
                0 == a.active.index ? e = a.children.eq(0).position() : a.active.index == v() - 1 && a.carousel ? e = a.children.eq((v() - 1) * b()).position() : a.active.index == a.children.length - 1 && (e = a.children.eq(a.children.length - 1).position()),
                e && ("horizontal" == a.settings.mode ? w(-e.left, "reset", 0) : "vertical" == a.settings.mode && w(-e.top, "reset", 0))
            }
            a.working = !1,
            a.settings.onSlideAfter(a.children.eq(a.active.index), a.oldIndex, a.active.index)
        }
          , R = function(e) {
            a.settings.autoControlsCombine ? a.controls.autoEl.html(a.controls[e]) : (a.controls.autoEl.find("a").removeClass("active"),
            a.controls.autoEl.find("a:not(.bx-" + e + ")").addClass("active"))
        }
          , j = function() {
            1 == v() ? (a.controls.prev.addClass("disabled"),
            a.controls.next.addClass("disabled")) : !a.settings.infiniteLoop && a.settings.hideControlOnEnd && (0 == a.active.index ? (a.controls.prev.addClass("disabled"),
            a.controls.next.removeClass("disabled")) : a.active.index == v() - 1 ? (a.controls.next.addClass("disabled"),
            a.controls.prev.removeClass("disabled")) : (a.controls.prev.removeClass("disabled"),
            a.controls.next.removeClass("disabled")))
        }
          , O = function() {
            a.settings.autoDelay > 0 ? setTimeout(r.startAuto, a.settings.autoDelay) : r.startAuto(),
            a.settings.autoHover && r.hover(function() {
                a.interval && (r.stopAuto(!0),
                a.autoPaused = !0)
            }, function() {
                a.autoPaused && (r.startAuto(!0),
                a.autoPaused = null)
            })
        }
          , z = function() {
            var t = 0;
            if ("next" == a.settings.autoDirection)
                r.append(a.children.clone().addClass("bx-clone"));
            else {
                r.prepend(a.children.clone().addClass("bx-clone"));
                var i = a.children.first().position();
                t = "horizontal" == a.settings.mode ? -i.left : -i.top
            }
            w(t, "reset", 0),
            a.settings.pager = !1,
            a.settings.controls = !1,
            a.settings.autoControls = !1,
            a.settings.tickerHover && !a.usingCSS && a.viewport.hover(function() {
                r.stop()
            }, function() {
                var t = 0;
                a.children.each(function() {
                    t += "horizontal" == a.settings.mode ? e(this).outerWidth(!0) : e(this).outerHeight(!0)
                });
                var i = a.settings.speed / t
                  , s = "horizontal" == a.settings.mode ? "left" : "top"
                  , n = i * (t - Math.abs(parseInt(r.css(s))));
                I(n)
            }),
            I()
        }
          , I = function(e) {
            speed = e ? e : a.settings.speed;
            var t = {
                left: 0,
                top: 0
            }
              , i = {
                left: 0,
                top: 0
            };
            "next" == a.settings.autoDirection ? t = r.find(".bx-clone").first().position() : i = a.children.first().position();
            var s = "horizontal" == a.settings.mode ? -t.left : -t.top
              , n = "horizontal" == a.settings.mode ? -i.left : -i.top
              , o = {
                resetValue: n
            };
            w(s, "ticker", speed, o)
        }
          , q = function() {
            a.touch = {
                start: {
                    x: 0,
                    y: 0
                },
                end: {
                    x: 0,
                    y: 0
                }
            },
            a.viewport.bind("touchstart", $)
        }
          , $ = function(e) {
            if (a.working)
                e.preventDefault();
            else {
                a.touch.originalPos = r.position();
                var t = e.originalEvent;
                a.touch.start.x = t.changedTouches[0].pageX,
                a.touch.start.y = t.changedTouches[0].pageY,
                a.viewport.bind("touchmove", F),
                a.viewport.bind("touchend", V)
            }
        }
          , F = function(e) {
            var t = e.originalEvent
              , i = Math.abs(t.changedTouches[0].pageX - a.touch.start.x)
              , s = Math.abs(t.changedTouches[0].pageY - a.touch.start.y);
            if (3 * i > s && a.settings.preventDefaultSwipeX ? e.preventDefault() : 3 * s > i && a.settings.preventDefaultSwipeY && e.preventDefault(),
            "fade" != a.settings.mode && a.settings.oneToOneTouch) {
                var n = 0;
                if ("horizontal" == a.settings.mode) {
                    var r = t.changedTouches[0].pageX - a.touch.start.x;
                    n = a.touch.originalPos.left + r
                } else {
                    var r = t.changedTouches[0].pageY - a.touch.start.y;
                    n = a.touch.originalPos.top + r
                }
                w(n, "reset", 0)
            }
        }
          , V = function(e) {
            a.viewport.unbind("touchmove", F);
            var t = e.originalEvent
              , i = 0;
            if (a.touch.end.x = t.changedTouches[0].pageX,
            a.touch.end.y = t.changedTouches[0].pageY,
            "fade" == a.settings.mode) {
                var s = Math.abs(a.touch.start.x - a.touch.end.x);
                s >= a.settings.swipeThreshold && (a.touch.start.x > a.touch.end.x ? r.goToNextSlide() : r.goToPrevSlide(),
                r.stopAuto())
            } else {
                var s = 0;
                "horizontal" == a.settings.mode ? (s = a.touch.end.x - a.touch.start.x,
                i = a.touch.originalPos.left) : (s = a.touch.end.y - a.touch.start.y,
                i = a.touch.originalPos.top),
                !a.settings.infiniteLoop && (0 == a.active.index && s > 0 || a.active.last && 0 > s) ? w(i, "reset", 200) : Math.abs(s) >= a.settings.swipeThreshold ? (0 > s ? r.goToNextSlide() : r.goToPrevSlide(),
                r.stopAuto()) : w(i, "reset", 200)
            }
            a.viewport.unbind("touchend", V)
        }
          , N = function() {
            if (a.initialized) {
                var t = e(window).width()
                  , i = e(window).height();
                (o != t || l != i) && (o = t,
                l = i,
                r.redrawSlider(),
                a.settings.onSliderResize.call(r, a.active.index))
            }
        };
        return r.goToSlide = function(t, i) {
            if (!a.working && a.active.index != t)
                if (a.working = !0,
                a.oldIndex = a.active.index,
                a.active.index = 0 > t ? v() - 1 : t >= v() ? 0 : t,
                a.settings.onSlideBefore(a.children.eq(a.active.index), a.oldIndex, a.active.index),
                "next" == i ? a.settings.onSlideNext(a.children.eq(a.active.index), a.oldIndex, a.active.index) : "prev" == i && a.settings.onSlidePrev(a.children.eq(a.active.index), a.oldIndex, a.active.index),
                a.active.last = a.active.index >= v() - 1,
                a.settings.pager && D(a.active.index),
                a.settings.controls && j(),
                "fade" == a.settings.mode)
                    a.settings.adaptiveHeight && a.viewport.height() != p() && a.viewport.animate({
                        height: p()
                    }, a.settings.adaptiveHeightSpeed),
                    a.children.filter(":visible").fadeOut(a.settings.speed).css({
                        zIndex: 0
                    }),
                    a.children.eq(a.active.index).css("zIndex", a.settings.slideZIndex + 1).fadeIn(a.settings.speed, function() {
                        e(this).css("zIndex", a.settings.slideZIndex),
                        L()
                    });
                else {
                    a.settings.adaptiveHeight && a.viewport.height() != p() && a.viewport.animate({
                        height: p()
                    }, a.settings.adaptiveHeightSpeed);
                    var s = 0
                      , n = {
                        left: 0,
                        top: 0
                    };
                    if (!a.settings.infiniteLoop && a.carousel && a.active.last)
                        if ("horizontal" == a.settings.mode) {
                            var o = a.children.eq(a.children.length - 1);
                            n = o.position(),
                            s = a.viewport.width() - o.outerWidth()
                        } else {
                            var l = a.children.length - a.settings.minSlides;
                            n = a.children.eq(l).position()
                        }
                    else if (a.carousel && a.active.last && "prev" == i) {
                        var h = 1 == a.settings.moveSlides ? a.settings.maxSlides - b() : (v() - 1) * b() - (a.children.length - a.settings.maxSlides)
                          , o = r.children(".bx-clone").eq(h);
                        n = o.position()
                    } else if ("next" == i && 0 == a.active.index)
                        n = r.find("> .bx-clone").eq(a.settings.maxSlides).position(),
                        a.active.last = !1;
                    else if (t >= 0) {
                        var c = t * b();
                        n = a.children.eq(c).position()
                    }
                    if ("undefined" != typeof n) {
                        var d = "horizontal" == a.settings.mode ? -(n.left - s) : -n.top;
                        w(d, "slide", a.settings.speed)
                    }
                }
        }
        ,
        r.goToNextSlide = function() {
            if (a.settings.infiniteLoop || !a.active.last) {
                var e = parseInt(a.active.index) + 1;
                r.goToSlide(e, "next")
            }
        }
        ,
        r.goToPrevSlide = function() {
            if (a.settings.infiniteLoop || 0 != a.active.index) {
                var e = parseInt(a.active.index) - 1;
                r.goToSlide(e, "prev")
            }
        }
        ,
        r.startAuto = function(e) {
            a.interval || (a.interval = setInterval(function() {
                "next" == a.settings.autoDirection ? r.goToNextSlide() : r.goToPrevSlide()
            }, a.settings.pause),
            a.settings.autoControls && 1 != e && R("stop"))
        }
        ,
        r.stopAuto = function(e) {
            a.interval && (clearInterval(a.interval),
            a.interval = null,
            a.settings.autoControls && 1 != e && R("start"))
        }
        ,
        r.getCurrentSlide = function() {
            return a.active.index
        }
        ,
        r.getCurrentSlideElement = function() {
            return a.children.eq(a.active.index)
        }
        ,
        r.getSlideCount = function() {
            return a.children.length
        }
        ,
        r.redrawSlider = function() {
            a.children.add(r.find(".bx-clone")).width(g()),
            a.viewport.css("height", p()),
            a.settings.ticker || y(),
            a.active.last && (a.active.index = v() - 1),
            a.active.index >= v() && (a.active.last = !0),
            a.settings.pager && !a.settings.pagerCustom && (_(),
            D(a.active.index))
        }
        ,
        r.destroySlider = function() {
            a.initialized && (a.initialized = !1,
            e(".bx-clone", this).remove(),
            a.children.each(function() {
                void 0 != e(this).data("origStyle") ? e(this).attr("style", e(this).data("origStyle")) : e(this).removeAttr("style")
            }),
            void 0 != e(this).data("origStyle") ? this.attr("style", e(this).data("origStyle")) : e(this).removeAttr("style"),
            e(this).unwrap().unwrap(),
            a.controls.el && a.controls.el.remove(),
            a.controls.next && a.controls.next.remove(),
            a.controls.prev && a.controls.prev.remove(),
            a.pagerEl && a.settings.controls && a.pagerEl.remove(),
            e(".bx-caption", this).remove(),
            a.controls.autoEl && a.controls.autoEl.remove(),
            clearInterval(a.interval),
            a.settings.responsive && e(window).unbind("resize", N))
        }
        ,
        r.reloadSlider = function(e) {
            void 0 != e && (n = e),
            r.destroySlider(),
            h()
        }
        ,
        h(),
        this
    }
}(jQuery),
define("jquery.bxslider", ["jquery"], function() {}),
define("utils/carousel", ["require", "jquery", "underscore", "utils/browser", "jquery.bxslider"], function(e) {
    var t = e("jquery")
      , i = (e("underscore"),
    e("utils/browser"));
    BxSlider = e("jquery.bxslider");
    var s = function() {
        return this.source = "",
        this.active = !1,
        this.loading = !1,
        this.data = "",
        this.defaults = {
            has_images: !0,
            useCSS: !0,
            use3D: !1,
            pager: !1,
            slideMargin: 10,
            startSlide: 0,
            nextSelector: ".bx-control-right",
            prevSelector: ".bx-control-left",
            nextText: "Next <!--[if lt IE 9]><span></span><![endif]-->",
            prevText: "Prev <!--[if lt IE 9]><span></span><![endif]-->"
        },
        arguments.length > 0 ? this.init.apply(this, arguments) : this
    };
    return s.prototype.init = function(e, i) {
        this.loading = !0,
        this.source = t(e),
        this.options = t.extend({}, this.defaults, i);
        var s = this.populate(this.source)
          , n = this;
        return t.when(s).done(function() {
            n.load()
        })
    }
    ,
    s.prototype.refresh = function(e) {
        var i = this.current()
          , e = t.extend({}, this.options, {
            startSlide: i
        }, e);
        this.source.reloadSlider(e)
    }
    ,
    s.prototype.load = function() {
        var e = this.options.onSliderLoad
          , s = this;
        if (0 !== this.source.length) {
            var n = this.source[0].childElementCount;
            this.options.onSliderLoad = function(t) {
                "function" == typeof e && e.call(this, t),
                s.active = !0,
                s.loading = !1,
                i.safari && setTimeout(function() {
                    s.source.redrawSlider()
                }, 300)
            }
            ,
            n <= 1 && (s.options.touchEnabled = !1);
            var a = this.options.onSlideAfter;
            this.options.onSlideAfter = function(e, i, s) {
                "function" == typeof a && a.call(this, e, i, s),
                this.has_images && t(window).trigger("lookup.unveil")
            }
            ,
            this.source = this.source.bxSlider(this.options),
            i.oldIE && setTimeout(function() {
                console.log("manual refresh on load"),
                s.refresh()
            }, 500)
        }
    }
    ,
    s.prototype.current = function() {
        return this.source.getCurrentSlide()
    }
    ,
    s.prototype.setslide = function(e) {
        this.source.goToSlide(e)
    }
    ,
    s.prototype.destroy = function() {
        console.log("destroying slider"),
        this.source.destroySlider(),
        this.active = !1
    }
    ,
    s.prototype.populate = function() {
        var e = new t.Deferred;
        return e.resolve()
    }
    ,
    s.prototype.redraw = function() {
        this.source.redrawSlider()
    }
    ,
    s
}),
define("collections/static-collection", ["require", "backbone", "jquery"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = t.Collection.extend({
        fetch: function(e) {
            return e = _.extend({}, e),
            this.length > 0 ? (e.success && (e.success.call(e.context, this, this.toJSON(), e),
            this.trigger("sync", this, this.toJSON(), e)),
            i.when()) : t.Collection.prototype.fetch.apply(this, arguments)
        }
    });
    return s
}),
define("models/panorama", ["require", "backbone"], function(e) {
    var t = e("backbone")
      , i = t.Model.extend({
        defaults: {
            id: "",
            device: "",
            mapDiff: "",
            mapCoord: "",
            description: "",
            yawOffset: "",
            thumb: "",
            path: "",
            galleryname: ""
        },
        initialize: function() {}
    });
    return i
}),
define("collections/panoramas", ["require", "backbone", "jquery", "models/panorama"], function(e) {
    var t = e("backbone")
      , i = (e("jquery"),
    e("models/panorama"))
      , s = t.Collection.extend({
        model: i,
        initialize: function(e, t) {}
    });
    return s
}),
define("models/hole", ["require", "backbone", "collections/panoramas"], function(e) {
    var t = e("backbone")
      , i = e("collections/panoramas")
      , s = t.Model.extend({
        defaults: function() {
            return {
                number: 1,
                feed: "/en_US/xml/man/course/hole1.json",
                plant: "Tea Olive",
                par: 3,
                yds: 150,
                imageL: {
                    src: "/images/course/480x270/H_hole1.jpg",
                    width: "748",
                    height: "420"
                },
                imageM: {
                    src: "/images/course/720x405/H_hole1.jpg",
                    width: "748",
                    height: "420"
                },
                imageH: {
                    src: "/images/course/1024x576/H_hole1.jpg",
                    width: "748",
                    height: "420"
                },
                thumbnail: {
                    src: "/images/course/H_hole1_thumb.jpg",
                    width: "246",
                    height: "143"
                },
                storylink: {
                    src: "/ipad/en_US/course/story/hole1.html"
                },
                storythumb: {
                    src: "/images/course/S_hole1.jpg"
                },
                plantText: {
                    cdata: "<i>Osmanthus fragrans</i>, native to southern Asia, is an evergreen shrub or small tree belonging to the Olive Family. Its intermittent displays of small white flowers from December to March are delightfully fragrant. The Tea Olive attains a height of 16 to 20 feet."
                },
                holeDesc: {
                    cdata: "The first is a slight dogleg right that plays uphill. Drives to the left may catch the trees. The hole requires a precise second shot to an undulating green. A poorly struck approach may result in a difficult two-putt."
                },
                hist: {
                    cdata: "In 1935, the hole featured a left fairway bunker that was later removed. A greenside bunker, front and left, was added in 1951."
                },
                lstYrAvSrks: "4.245 (4)",
                cumAvSrks: "4.23 (7)",
                lowAvStks: "4.008 (1974)",
                highAvStks: "4.474 (2007)",
                eagles: 0,
                birdies: 20,
                pars: 177,
                bogies: 75,
                dblBogies: 5,
                other: 1,
                panoramas: new i
            }
        },
        channels: {
            11: "ac",
            12: "ac",
            13: "ac",
            15: "1516",
            16: "1516"
        },
        idAttribute: "number",
        initialize: function() {},
        parse: function(e) {
            return e.number = parseInt(e.number, 10),
            e
        }
    });
    return s
}),
define("collections/holes", ["require", "collections/static-collection", "models/hole"], function(e) {
    var t = e("collections/static-collection")
      , i = e("models/hole")
      , s = t.extend({
        model: i,
        url: "/en_US/xml/man/course/holes.json",
        panos_fetched: !1,
        initialize: function() {},
        parse: function(e) {
            return e.holes
        },
        comparator: "number"
    });
    return new s
}),
define("views/base-carousel", ["require", "jquery", "underscore", "backbone", "utils/browser", "utils/carousel", "utils/metrics", "unveil"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/browser")
      , a = (e("utils/carousel"),
    e("utils/metrics"));
    e("unveil");
    var r = s.View.extend({
        events: {},
        _template: void 0,
        _default: {
            story: !1,
            flyover: !1,
            btn: !1,
            measure_prefix: [],
            app_measure_prefix: "",
            metrics_suffix: "",
            metrics_keys: {}
        },
        _default_keys: {
            hole: "Holes",
            photo: "Photos",
            player: "Players",
            video: "VOD",
            panorama: "360 Views"
        },
        initialize: function(e) {
            this.logger || (this.logger = new eventsCore.util.Logger("BaseCarouselView")),
            this.logger.info("Initialize"),
            this.options = t.extend({}, this._default, e),
            0 === this.options.measure_prefix.length && (this.options.measure_prefix = [a.page_section, a.page_title]),
            "" === this.options.app_measure_prefix && (this.options.app_measure_prefix = this.options.measure_prefix.join(":")),
            this.metrics_keys = i.extend({}, this._default_keys, this.options.metrics_keys),
            this.logger.info("options :%o", this.options),
            this.cards = []
        },
        render: function() {
            return n.app && this.$(".bx-control").addClass("noarrow"),
            this.$el.html(this.loadContentCarousel()),
            this
        },
        onDispose: function() {
            this.cards.forEach(function(e) {
                e.dispose()
            })
        },
        loadContentCarousel: function() {
            return ""
        },
        getMetricsName: function() {
            var e = this.el.className.match(/hole|photo|player|video|panorama/)[0]
              , t = this.metrics_keys[e];
            return void 0 === t && (t = "Unknown"),
            t = {
                normal: i.flatten([this.options.measure_prefix, [t]]),
                app: this.options.app_measure_prefix + ":" + t
            }
        },
        getCarouselOptions: function() {
            var e, t = this, s = this.getMetricsName(), r = i.clone(s.normal);
            r.push("Next");
            var o = i.clone(s.normal);
            return o.push("Previous"),
            t.logger.info("global - setting carousel options"),
            e = {
                infiniteLoop: !1,
                hideControlOnEnd: !0,
                touchEnabled: !0,
                nextSelector: this.$el.find(".bx-control-right"),
                prevSelector: this.$el.find(".bx-control-left"),
                onSliderLoad: function(e) {
                    t.setCarouselMargins(),
                    0 === e && t.$el.find(".bx-control-left").addClass("disabled");
                    var i = t.$(".carousel:first-child").children().length;
                    e === i - 1 && t.$el.find(".bx-control-right").addClass("disabled")
                },
                onSlideBefore: function(e, t, i) {
                    var s = e.siblings().length + 1 - 1
                      , n = e.closest(".articleCarousel");
                    n.find(".bx-control.disabled").removeClass("disabled"),
                    0 === i && n.find(".bx-control-left").addClass("disabled"),
                    i === s && n.find(".bx-control-right").addClass("disabled")
                },
                onSlideNext: function(e, t, i) {
                    n.app ? a.appMeasure(s.app + ":Next") : a.measureApp.apply(a, r)
                },
                onSlidePrev: function(e, t, i) {
                    n.app ? a.appMeasure(s.app + ":Previous") : a.measureApp.apply(a, o)
                }
            }
        },
        handleBlankCarouselItem: function(e) {
            if ("global" == windowSize)
                t(e + " .carousel").find(".blank").remove();
            else
                switch (e) {
                case ".playerCardCarousel":
                    t(e + " .carousel").prepend('<div class="playerCard blank"><div class="image no_gradient"><img src="/images/now/trans_16x9.gif" /></div></div>');
                    break;
                case ".holeInfoCarousel":
                    t(e + " .carousel").prepend('<div class="holeCard blank"><div class="image no_gradient"><img src="/images/now/trans_16x9.gif" /></div></div>');
                    break;
                case ".photoCarousel":
                    t(e + " .carousel").prepend('<div class="photoItem blank"><div class="photo"><img src="/images/now/trans_16x9.gif"/></div></div>');
                    break;
                case ".videoCarousel":
                    t(e + " .carousel").prepend('<div class="videoItem blank"><div class="video"><img src="/images/now/trans_16x9.gif"/></div></div>')
                }
        },
        setCarouselMargins: function() {
            var e = this.$(".carousel")
              , t = e.css("width");
            t = parseFloat(t.replace("%", "")),
            t += 10,
            t += "%",
            e.css("width", t)
        }
    });
    return r
}),
define("text!templates/hole-card.html!strip", [], function() {
    return '<a href="<%= url %>" <%= inApp ? "data-bypass" : "" %>>\n <div class="image"><!--[if lt IE 9]><span></span><![endif]--><img src="<%= img %>" data-lower="<%= imagePath.L %>" data-medium="<%= imagePath.M %>" data-high="<%= imagePath.H %>" border="0" alt=""/></div>\n <div class="holeInfo">\n <div class="hole-name">Hole&nbsp;<%= hole_data.number %>, <span><%= hole_data.plant %></span></div>\n <div class="stats">\n <div class="stat hole-par"><dt>Par</dt><dd><%= par %></dd></div>\n <div class="stat hole-yards"><dt>Yards</dt><dd><%= yards %></dd></div>\n <% if(options.flyover) { %>\n <div class="stat hole-flyover"><dt>Flyover</dt><dd><img src="/images/now/hole_flyover.png" width="37" height="21" border="0" alt="Flyover" title="Flyover"/></dd></div>\n <% } %>\n <% if(options.story) { %>\n <div class="stat hole-story"><dt>Story</dt><dd><img src="/images/now/hole_story.png" width="26" height="21" border="0" alt="Story" title="Story"/></div>\n <% } %>\n </div>\n </div>\n</a>'
}),
define("views/hole-card", ["require", "jquery", "underscore", "backbone", "utils/browser", "utils/common", "text!templates/hole-card.html!strip"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/browser")
      , a = e("utils/common")
      , r = e("text!templates/hole-card.html!strip")
      , o = s.View.extend({
        className: "holeCard",
        main_template: i.template(r),
        events: {},
        _template: void 0,
        _default: {
            story: !1,
            flyover: !1,
            btn: !1,
            metrics_suffix: ""
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("HoleCardView"),
            this.logger.info("Initialize"),
            this.$el.attr({
                "data-id": "hole" + this.model.get("number")
            }),
            this.options = t.extend({}, this._default, e)
        },
        render: function() {
            return this.$el.html(this.build()),
            this
        },
        onDispose: function() {
            this.$("a").off("click")
        },
        build: function() {
            var e = "/images/course/F_hole" + this.model.get("number") + ".jpg";
            e = "/images/now/trans_16x9.gif";
            var i = this.model.get("par") || "&nbsp;"
              , s = this.model.get("yds") || "&nbsp;"
              , r = this.options.story || "&nbsp;"
              , o = this.model.get("imageL").src || e
              , l = this.model.get("imageM").src || e
              , h = this.model.get("imageH").src || e
              , c = "/en_US/course/hole" + this.model.get("number") + ".html";
            "" !== this.options.metrics_suffix && (c += "?promo=" + this.options.metrics_suffix),
            this.logger.info("build - this.model.attributes:%o", this.model.attributes);
            var d = this.main_template({
                hole_data: this.model.attributes,
                url: c,
                inApp: n.app,
                img: e,
                imagePath: {
                    L: o,
                    M: l,
                    H: h
                },
                par: i,
                yards: s,
                story: r,
                options: this.options
            });
            if (n.app) {
                d = t(d);
                var u = this.model.get("number");
                n.apptype.android ? d.on("click", function(e) {
                    e.preventDefault(),
                    a.sendAndroidMessage("hole?id=" + u)
                }) : d.on("click", function(e) {
                    e.preventDefault(),
                    a.sendiOSMessage("hole", u)
                })
            }
            return d
        }
    });
    return o
}),
define("views/hole-carousel", ["require", "jquery", "backbone", "utils/browser", "utils/pubsub", "utils/carousel", "collections/holes", "views/base-carousel", "views/hole-card", "utils/metrics", "unveil"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("utils/browser"),
    e("utils/pubsub"),
    e("utils/carousel"))
      , i = e("collections/holes")
      , s = e("views/base-carousel")
      , n = e("views/hole-card");
    e("utils/metrics");
    e("unveil");
    var a = s.extend({
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("HoleCarouselView"),
            s.prototype.initialize.apply(this, arguments)
        },
        loadContentCarousel: function() {
            var e = this;
            i.fetch({
                success: function(t) {
                    e.collection = t,
                    e.process()
                }
            })
        },
        process: function() {
            var e = [];
            _.each(this.options.article_holes, function(t) {
                this.logger.info("loadHoleCarousel - article_holes hole:%o", t);
                var i, s = "", a = this.collection.get(t);
                i = new n({
                    model: a,
                    story: !0,
                    flyover: !0,
                    metrics_suffix: "course_article"
                }).render(),
                this.cards.push(i),
                s = i.$el,
                e.push(s)
            }
            .bind(this)),
            this.$(".carousel").append(e),
            this.clearUnveil(),
            this.unveil(this.$(".carousel").find(".image img, .photo img"), {
                horizontal: !0
            }),
            this.hole_carousel = new t,
            h_opts = this.getCarouselOptions(),
            this.hole_carousel.init(this.$(".carousel"), h_opts)
        }
    });
    return a
}),
define("text!templates/photo-card.html!strip", [], function() {
    return '<div class="photo">\n <a <%= url %>><img src="/images/now/trans_16x9.gif" data-lower="<%= imagePath.L %>" data-medium="<%= imagePath.M %>" data-high="<%= imagePath.H %>" data-url="<%= this.options.photopage %>" border="0" alt=""/></a>\n</div>'
}),
define("views/photo-card", ["require", "jquery", "underscore", "backbone", "utils/browser", "utils/common", "text!templates/photo-card.html!strip"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/browser")
      , a = e("utils/common")
      , r = e("text!templates/photo-card.html!strip")
      , o = s.View.extend({
        className: "photoItem",
        main_template: i.template(r),
        events: {
            "click .photo a": "clickPhoto"
        },
        _template: void 0,
        _default: {
            story: !1,
            flyover: !1,
            btn: !1,
            metrics_suffix: ""
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("PhotoCardView"),
            this.logger.info("Initialize"),
            this.options = t.extend({}, this._default, e)
        },
        render: function() {
            return this.$el.html(this.build()),
            this
        },
        dispose: function() {
            s.View.prototype.dispose.call(this, !0)
        },
        build: function() {
            var e = "/images/now/trans_16x9.gif"
              , t = this.options.item.imagefileL || e
              , i = this.options.item.imagefileM || e
              , s = this.options.item.imagefileH || e
              , n = "" === this.options.item.photopage ? "" : "href='" + this.options.item.photopage + "'";
            return this.logger.info("build - this.options.item:%o", this.options.item),
            this.main_template({
                url: n,
                img: e,
                imagePath: {
                    L: t,
                    M: i,
                    H: s
                },
                options: this.options.item
            })
        },
        clickPhoto: function(e) {
            if (n.app) {
                e.preventDefault();
                var t = i.clone(this.options.item);
                return t.imagefileL = t.imagefileH,
                t.scaption = t.lcaption,
                n.apptype.ios ? a.sendiOSMessage("photoDetails", t) : (t = JSON.stringify(t),
                a.sendAndroidMessage("photo?data=" + t)),
                !1
            }
            return !0
        }
    });
    return o
}),
define("text!templates/photo-caption.html!strip", [], function() {
    return "<div class=\"caption_credit\">\n <% if(options.credit && options.credit !== '') { %>\n Photo by: <%= options.credit %><br/>\n <% } %>\n <%= options.lcaption %>\n</div>"
}),
define("views/photo-caption", ["require", "jquery", "underscore", "backbone", "utils/browser", "text!templates/photo-caption.html!strip"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = (e("utils/browser"),
    e("text!templates/photo-caption.html!strip"))
      , a = s.View.extend({
        className: "photoItem",
        main_template: i.template(n),
        events: {},
        _template: void 0,
        _default: {
            story: !1,
            flyover: !1,
            btn: !1,
            metrics_suffix: ""
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("PhotoCaptionView"),
            this.logger.info("Initialize"),
            this.options = t.extend({}, this._default, e)
        },
        render: function() {
            return this.$el.html(this.build()),
            this
        },
        dispose: function() {
            s.View.prototype.dispose.call(this, !0)
        },
        build: function() {
            return this.logger.info("build - this.options.item:%o", this.options.item),
            this.main_template({
                options: this.options.item
            })
        }
    });
    return a
}),
define("views/photo-carousel", ["require", "jquery", "backbone", "utils/browser", "utils/carousel", "views/base-carousel", "views/photo-card", "views/photo-caption", "utils/metrics", "unveil"], function(e) {
    var t = e("jquery")
      , i = (e("backbone"),
    e("utils/browser"),
    e("utils/carousel"))
      , s = e("views/base-carousel")
      , n = e("views/photo-card")
      , a = e("views/photo-caption");
    e("utils/metrics");
    e("unveil");
    var r = s.extend({
        events: {},
        photo_data: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("PhotoCarouselView"),
            s.prototype.initialize.apply(this, arguments)
        },
        loadContentCarousel: function() {
            var e = this;
            t.ajax({
                url: e.options.article_photos,
                type: "GET",
                cache: "true",
                dataType: "json",
                async: !0,
                success: function(t) {
                    e.photo_data = t.gallery,
                    e.process()
                },
                error: function(t, i) {
                    e.logger.info("Error loading " + e.options.article_photos + ": " + t.status)
                }
            })
        },
        process: function() {
            var e = []
              , s = [];
            t.each(this.photo_data.item, function(t, i) {
                var r, o, l = "", h = "";
                r = new n({
                    item: i
                }).render(),
                o = new a({
                    item: i
                }).render(),
                this.cards.push(r),
                this.cards.push(o),
                l = r.$el,
                e.push(l),
                h = o.$el,
                s.push(h)
            }
            .bind(this)),
            this.$(".carousel").append(e),
            this.$el.next(".photoCaptionCarousel").find(".carousel").append(s),
            this.photo_carousel = new i,
            this.photo_caption_carousel = new i;
            var r = this
              , o = this.getCarouselOptions()
              , l = o.onSlideBefore;
            o.onSlideBefore = function(e, t, i) {
                l.call(this, e, t, i),
                r.photo_caption_carousel.source.goToSlide(i)
            }
            ,
            this.photo_carousel.init(this.$(".carousel"), o),
            o.nextSelector = ".photoCaptionCarousel .bx-control-right",
            o.prevSelector = ".photoCaptionCarousel .bx-control-left",
            o.onSlideBefore = function(e, t, i) {}
            ,
            o.touchEnabled = !1,
            this.photo_caption_carousel.init(this.$el.next(".photoCaptionCarousel").find(".carousel"), o),
            this.clearUnveil(),
            this.unveil(this.$(".carousel").find(".image img, .photo img"), {
                horizontal: !0
            })
        }
    });
    return r
}),
define("text!templates/video-card.html!strip", [], function() {
    return '<a href="<%= options.link %>">\n\t<div class="photo image"><!--[if lt IE 9]><span></span><![endif]--><img src="/images/now/trans_16x9.gif" data-lower="<%= options.pictureL %>" data-medium="<%= options.pictureM %>" data-high="<%= options.pictureH %>" border="0" alt=""/></div>\n\t<!--div class="image"><img class="srcpic unveiled" data-high="/images/now/photo_sample9.jpg" data-medium="/images/now/photo_sample9.jpg" data-lower="/images/now/photo_sample9.jpg" src="/images/now/photo_sample9.jpg"></div-->\n\t<div class="centered_icon play"></div>\n\t<div class="caption"><%= options.title %></div>\n</a>\n<section class="ecp-player">\n <div id="wrapper_body_<%= options.id%>" class="masters-ecp playerwrapperContainer"></div>\n</section>'
}),
define("views/video-card", ["require", "jquery", "underscore", "backbone", "text!templates/video-card.html!strip"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("text!templates/video-card.html!strip")
      , a = s.View.extend({
        className: "videoItem bodyVideo",
        template: i.template(n),
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("VideoCardView"),
            this.logger.info("Initialize"),
            this.options = t.extend({}, this._default, e),
            this.$el.attr({
                "video-id": "body_" + this.options.item.id
            })
        },
        render: function() {
            return this.$el.html(this.build()),
            this
        },
        dispose: function() {
            s.View.prototype.dispose.call(this, !0)
        },
        build: function() {
            var e = "/images/now/trans_16x9.gif"
              , t = this.options.item.pictureL || e
              , i = this.options.item.pictureM || e
              , s = this.options.item.pictureH || e;
            return this.template({
                img: e,
                imagePath: {
                    L: t,
                    M: i,
                    H: s
                },
                options: this.options.item
            })
        }
    });
    return a
}),
define("views/video-carousel", ["require", "jquery", "backbone", "utils/browser", "utils/carousel", "views/base-carousel", "views/video-card", "utils/metrics", "unveil"], function(e) {
    var t = e("jquery")
      , i = (e("backbone"),
    e("utils/browser"),
    e("utils/carousel"))
      , s = e("views/base-carousel")
      , n = e("views/video-card");
    e("utils/metrics");
    e("unveil");
    var a = s.extend({
        events: {},
        video_data: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("VideoCarouselView"),
            s.prototype.initialize.apply(this, arguments)
        },
        loadContentCarousel: function() {
            var e = this;
            t.ajax({
                url: e.options.article_videos,
                type: "GET",
                cache: "true",
                dataType: "json",
                async: !0,
                success: function(t) {
                    e.video_data = t.article,
                    e.process()
                },
                error: function(t, i) {
                    e.logger.info("Error loading " + e.options.article_videos + ": " + t.status)
                }
            })
        },
        process: function() {
            var e = [];
            t.each(this.video_data.video, function(i, s) {
                var a, r = "";
                a = new n({
                    item: s
                }).render(),
                this.cards.push(a),
                r = a.$el,
                e.push(r),
                this.options.video_data.push(t.extend({}, s, {
                    id: "body_" + s.id,
                    type: "vod",
                    contentType: "Article:VOD"
                }))
            }
            .bind(this)),
            this.$(".carousel").append(e),
            this.unveil(this.$(".carousel").find(".image img, .photo img"), {
                horizontal: !0
            }),
            this.carousel = new i,
            h_opts = this.getCarouselOptions(),
            this.carousel.init(this.$(".carousel"), h_opts)
        }
    });
    return a
}),
define("text!templates/player-card.html!strip", [], function() {
    return '<% if (options.bio_link) { %>\n <a href="<%= url %>" <%= inApp ? "data-bypass" : "" %>>\n<% } %>\n <div class="image"><img src="<%= img %>" data-lower="<%= imagePath.L %>" data-medium="<%= imagePath.M %>" data-high="<%= imagePath.H %>" /></div>\n <div class="playerInfo">\n <div class="name"><%= player.first_name %> <%= player.last_name %> <%= amateurStatus %></div>\n <% if (options.tv_name) { %>\n <div class="tvname"><%= player.display_name2 %></div>\n <% } %>\n <% if (options.country) { %>\n <div class="country"><img src="<%= flag %>" width="25" height="15" border="0" /><%= player.country_long %></div>\n <% } %>\n <% if (options.bio_link && !options.item) { %>\n <span class="link linktag chevron right white">View Profile <!--[if lt IE 9]><span></span><![endif]--></span>\n <% } %>\n <% if (options.scores) { %>\n <div class="stats">\n <div class="stat"><dt>Position</dt><dd><%= pos %></dd></div>\n <div class="stat"><dt>Today</dt><dd class="<%= today_klass %>"><%= today %></dd></div>\n <div class="stat"><dt>Thru</dt><dd><%= thru %></dd></div>\n <div class="stat"><dt>Total</dt><dd class="<%= topar_klass %>"><%= total %></dd></div>\n </div>\n <% } %>\n <% if (options.favorite) { %>\n <div class="favorite <%= player.is_fave ? "selected" : "" %>">&nbsp;</div>\n <% } %>\n </div>\n<% if (options.bio_link) { %>\n </a>\n<% } %>'
}),
define("views/player-card", ["require", "backbone", "underscore", "settings", "text!templates/player-card.html!strip", "utils/browser", "utils/common", "utils/scores", "utils/favorites"], function(e) {
    var t = e("backbone")
      , i = e("underscore")
      , s = e("settings")
      , n = e("text!templates/player-card.html!strip")
      , a = e("utils/browser")
      , r = e("utils/common")
      , o = e("utils/scores")
      , l = e("utils/favorites")
      , h = {};
    h.favorite_tip = i.template('<div class="favoriteTip"> <div class="close">&nbsp;</div> <div class="text"> Your favorite players will show up at the top of the Leader Board when the tournament begins. </div></div>');
    var c = t.View.extend({
        className: "playerCard",
        template: i.template(n),
        defaults: {
            scores: !0,
            tv_name: !1,
            favorite: !1,
            country: !1,
            bio_link: !1,
            show_amateur_status: !1,
            show_favorite_tip: !1,
            metrics_suffix: "",
            item: !1,
            location: "module"
        },
        events: {
            "click .favorite": "toggleFavorite",
            "click .favoriteTip .close": "closeFavoriteTip"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("PlayerCard"),
            this.logger.info("initialize"),
            this.options = i.extend({}, this.defaults, e),
            this.options.item ? this.$el.attr({
                class: "playerCard item"
            }) : this.$el.attr({
                "data-id": this.model.id,
                class: "playerCard " + (s.Scores.pre ? "pretour" : "midtour")
            }),
            this.options.scores && this.listenTo(this.model, "change:thru", this.render),
            this.listenTo(this.model, "change:is_fave", this.updateFavoriteStyle),
            this.on("fadeCard", this._fadeCard, this)
        },
        render: function() {
            return this.$el.html(this.build()),
            this.clearUnveil(),
            this.unveil(this.$(".image img, .photo img")),
            this
        },
        onDispose: function() {
            this.$("a").off("click")
        },
        build: function() {
            var e = this.model
              , t = "";
            this.options.show_amateur_status && (t = e.get("amateur") ? "(A)" : "");
            var i = "/images/now/trans_16x9.gif"
              , s = e.get("today") || "&nbsp;"
              , n = e.get("thru") || "&nbsp;"
              , l = e.get("topar") || "&nbsp;"
              , h = "/images/players/2016/720x405/" + e.id + ".jpg"
              , c = "/images/players/2016/960x540/" + e.id + ".jpg"
              , d = "/images/players/2016/960x540/" + e.id + ".jpg";
            "filmstrip" !== this.options.location && (h = "/images/players/2016/720x405/" + e.id + ".jpg",
            c = "/images/players/2016/320x180/" + e.id + ".jpg",
            d = "/images/players/2016/480x270/" + e.id + ".jpg"),
            "info" === this.options.location && (h = "/images/players/2016/320x180/" + e.id + ".jpg");
            var u = "/en_US/players/player_" + e.id + ".html";
            "" !== this.options.metrics_suffix && (u += "?promo=" + this.options.metrics_suffix);
            var p = e.get("country") || !1
              , f = "/images/flags/" + e.get("country") + "_sm.gif";
            p || (f = i);
            var g = this.template({
                player: e.attributes,
                amateurStatus: t,
                pos: o.Utilities.getPosition(e),
                url: u,
                inApp: a.app,
                img: i,
                imagePath: {
                    L: h,
                    M: c,
                    H: d
                },
                flag: f,
                options: this.options,
                today: s,
                today_klass: o.Utilities.className(e.get("today") || ""),
                total: l,
                topar_klass: o.Utilities.className(e.get("topar") || ""),
                thru: n
            });
            return a.app && this.options.bio_link && (g = $(g),
            a.apptype.android ? g.on("click", function(t) {
                t.preventDefault(),
                r.sendAndroidMessage("player?id=" + e.id)
            }) : g.on("click", function(t) {
                t.preventDefault(),
                r.sendiOSMessage("player", e.id)
            })),
            g
        },
        toggleFavorite: function(e) {
            return this.model.trigger("toggleFavorite"),
            !1
        },
        updateFavoriteStyle: function() {
            this.$el.find(".favorite").toggleClass("selected", this.model.get("is_fave")),
            s.Scores.pre && this.options.show_favorite_tip && l.first && (l.first = !1,
            this.$el.append(h.favorite_tip()),
            setTimeout(function() {
                this.closeFavoriteTip()
            }
            .bind(this), 8e3))
        },
        closeFavoriteTip: function() {
            this.$el.find(".favoriteTip").remove()
        },
        _fadeCard: function(e) {
            e ? this.$el.fadeTo("fast", .3) : this.$el.fadeTo("fast", 1)
        }
    });
    return c
}),
define("views/player-carousel", ["require", "backbone", "utils/carousel", "utils/browser", "views/base-carousel", "views/player-card", "settings", "utils/metrics", "utils/scores", "utils/pubsub"], function(e) {
    var t, i = (e("backbone"),
    e("utils/carousel")), s = e("utils/browser"), n = e("views/base-carousel"), a = e("views/player-card"), r = e("settings"), o = (e("utils/metrics"),
    e("utils/scores")), l = e("utils/pubsub"), h = n.extend({
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("PlayerCarouselView"),
            n.prototype.initialize.apply(this, arguments)
        },
        loadContentCarousel: function() {
            r.Scores.live || r.Scores.post ? o.isDataLoaded() ? this.loadPlayerInfo() : this.listenToOnce(l, "scores:refresh", this.loadPlayerInfo) : r.Scores.pre && e(["collections/players"], function(e) {
                t = e,
                t.fetch({
                    success: function(e, t, i) {
                        this.loadPrePlayerInfo(e)
                    }
                    .bind(this)
                })
            }
            .bind(this))
        },
        loadPlayerInfo: function() {
            if (0 === this.cards.length) {
                var e = [];
                this.options.article_players.forEach(function(t) {
                    var i = o.collection.get(t);
                    if (i) {
                        var n = new a({
                            model: i,
                            country: !0,
                            bio_link: !0,
                            metrics_suffix: "bio_article",
                            favorite: !s.app,
                            location: "filmstrip"
                        }).render();
                        this.cards.push(n),
                        e.push(n.$el)
                    }
                }
                .bind(this)),
                this.$(".carousel").append(e),
                this.carousel = new i;
                var t = this.getCarouselOptions();
                this.carousel.init(this.$(".carousel"), t)
            }
        },
        loadPrePlayerInfo: function(e) {
            var t = [];
            this.options.article_players.forEach(function(i) {
                var n = e.get(i);
                if (n) {
                    var o = new a({
                        model: n,
                        scores: !1,
                        country: !0,
                        bio_link: r.playersListNav,
                        metrics_suffix: "bio_article",
                        favorite: !s.app,
                        location: "filmstrip"
                    }).render();
                    this.cards.push(o),
                    t.push(o.$el)
                }
            }
            .bind(this)),
            this.$(".carousel").append(t),
            this.carousel = new i;
            var n = this.getCarouselOptions();
            this.carousel.init(this.$(".carousel"), n)
        }
    });
    return h
}),
define("views/print-window", ["require", "jquery", "backbone", "utils/browser", "utils/metrics"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = (e("utils/browser"),
    e("utils/metrics"))
      , n = i.View.extend({
        el: ".printLink",
        events: {
            click: "printWindow"
        },
        initialize: function(e) {
            this.options = t.extend({
                navbar: !1,
                page_title: "2017 Masters Tournament",
                text_only: !1,
                metrics_name: "Tournament:Patron Info"
            }, e)
        },
        printWindow: function(e) {
            e.preventDefault();
            var t = window.location.href
              , i = window.open("", "PrintWindow", "width=780,height=600")
              , n = t.split("?");
            this.options.text_only || (this.options.print_text = document.getElementById(this.options.print_div).innerHTML);
            var a = "<html><head><title>" + this.options.page_title + '</title> <link rel="stylesheet" href="/mas/css/reset.css" type="text/css"><link rel="stylesheet" href="/mas/css/global.css" type="text/css"><link rel="stylesheet" href="/mas/css/print.css" type="text/css"><style type="text/css"> body,td,select,input { font-family : Arial, Helvetica, sans-serif; } .text{font-size : 11px;}h2,h3{font-weight:bold;}p{ margin-bottom: 1em;}.patron_info { padding-top: 25px; text-align: center;}</style> <script language="Javascript1.2">function printpage() { window.print();} </script></head><body onload="printpage();" topmargin="20" leftmargin="20" marginheight="20" marginwidth="20">';
            this.options.navbar && (a += '<div style="orphans:5;"><div id="navbar" style="page-break-after:avoid;"><img src="/images/misc/print_logo.jpg" alt="Masters" id="Masters" width="202" height="45"></div>'),
            a += '<div id="pagecontent"><h1>' + this.options.page_title + "</h1>" + this.options.print_text + "<br><br><br>",
            this.options.pageURL && (a += '<div id="url">' + n[0] + "</div>"),
            a += "</div></body></html>",
            i.document.open(),
            i.document.write(a),
            i.document.close(),
            s.measureApp(this.options.metrics_name, this.options.page_title, "print")
        }
    });
    return n
}),
define("text!templates/related-article-item.html!strip", [], function() {
    return '<a href="<%= link %>" data-id="<%= id%>">\n <div class="photo"><img src="<%= photo %>"></div>\n <div class="header">Related Article</div>\n <div class="articleInfo">\n <div class="title"><%= title%></div>\n <div class="author_date"><%= author_date%></div>\n </div>\n</a>'
}),
define("utils/date-util", ["require"], function(e) {
    var t = {
        longDaysInWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        shortDaysInWeek: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        longMonthsInYear: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        shortMonthsInYear: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        getLongMonth: function(e) {
            return this.longMonthsInYear[e.getMonth()]
        },
        getShortMonth: function(e) {
            return this.shortMonthsInYear[e.getMonth()]
        },
        getLongDayOfWeek: function(e) {
            return this.longDaysInWeek[e.getDay()]
        },
        getShortDayOfWeek: function(e) {
            return this.shortDaysInWeek[e.getMonth()]
        }
    };
    return t
}),
define("views/related-article", ["require", "jquery", "backbone", "text!templates/related-article-item.html!strip", "utils/browser", "utils/common", "relatedcontent", "models/news-item", "utils/date-util"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("text!templates/related-article-item.html!strip")
      , s = e("utils/browser")
      , n = (e("utils/common"),
    e("relatedcontent"))
      , a = (e("models/news-item"),
    e("utils/date-util"))
      , r = t.View.extend({
        el: ".next_article",
        events: {},
        template: _.template(i),
        defaults: {
            related_id: "",
            url: "/en_US/cms/feeds/articlesLastX.json"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("RelatedArticles"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.create()
        },
        render: function() {
            return this.related_list.load(),
            this
        },
        construct: function() {
            console.log("construct - data:%o", this.jsonData);
            var e = this.jsonData.link;
            if (s.app) {
                var t = e
                  , i = t.search(/\/en_US\/news\/articles\/\d{4}-\d{2}-\d{2}\//);
                "ipad" !== t.substring(i - 4, i) && (e = t.slice(0, i) + "/ipad" + t.slice(i))
            }
            var n = this.template({
                id: this.jsonData.id,
                author_date: this.jsonData.author_date,
                photo: this.jsonData.photo,
                title: this.jsonData.title,
                link: e
            });
            this.$el.html(n)
        },
        create: function() {
            var e = this;
            this.related_list = new n.List({
                container: this.$el,
                id: this.options.related_id,
                url: this.options.url,
                type: "content",
                filter: "articles",
                limit: 1,
                link_suffix: {
                    article: "article_next"
                },
                callback: function(t) {
                    ("success" === t.status && 0 === this.content.length || "error" === t.status) && (console.info("Articles.loadRelatedContent: " + t.status + ", length: " + this.content.length),
                    "url" !== this.type ? (this.reinitialize({
                        type: "url"
                    }),
                    this.load()) : e.$el.hide())
                }
            });
            var t = this.related_list.convertContentItem;
            this.related_list.convertContentItem = function(e) {
                var i = t(e)
                  , s = new Date(i.get("published").split(" ", 1)[0]);
                return i.set("published", a.getLongDayOfWeek(s) + ", " + a.getLongMonth(s) + " " + s.getDate() + ", " + s.getFullYear()),
                i
            }
            ,
            this.related_list.buildHTML = function() {
                if (this.content.length > 0) {
                    var t = (e.$el,
                    this.content[0]);
                    e.jsonData = {
                        id: t.get("cmsId"),
                        author_date: t.get("published"),
                        photo: t.get("image").medium,
                        title: t.get("caption"),
                        link: t.get("link")
                    },
                    e.construct()
                }
            }
        }
    });
    return r
}),
define("controllers/article", ["require", "jquery", "underscore", "backbone", "baseview", "utils/browser", "utils/common", "views/fontsize-change", "views/base-hero", "views/hole-carousel", "views/photo-carousel", "views/video-carousel", "views/player-carousel", "views/print-window", "views/related-article", "utils/video-player", "utils/metrics"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("baseview")
      , a = e("utils/browser")
      , r = e("utils/common")
      , o = e("views/fontsize-change")
      , l = e("views/base-hero")
      , h = e("views/hole-carousel")
      , c = e("views/photo-carousel")
      , d = e("views/video-carousel")
      , u = e("views/player-carousel")
      , p = e("views/print-window")
      , f = e("views/related-article")
      , g = e("utils/video-player")
      , m = e("utils/metrics")
      , v = l.extend({
        events: {
            "click #welcome:not(.heroVideo) .imageWrapper": "openHeroPhoto",
            "click #welcome:not(.heroVideo) .contentWrapper": "openHeroPhoto"
        },
        onInitialization: function(e) {
            this.heroDetails = e.heroDetails || {}
        },
        openHeroPhoto: function(e) {
            if (e.preventDefault(),
            a.app)
                if (this.heroDetails.imagefileL = this.heroDetails.imagefileH,
                this.heroDetails.scaption = this.heroDetails.lcaption,
                a.apptype.ios)
                    r.sendiOSMessage("photoDetails", this.heroDetails);
                else {
                    var t = JSON.stringify(this.heroDetails);
                    r.sendAndroidMessage("photo?data=" + t)
                }
            else
                s.history.navigate(this.heroDetails.photopage, !0)
        }
    })
      , b = n.extend({
        events: {
            "click .media_promo a": "mediaPromoClick",
            "click .bodyVideo > a": "mediaPromoClick",
            "click .photoItem a": "photoClick",
            "click .text a": "textLinkClick",
            "click #newbox .close": "closeAlerts"
        },
        articleTitle: "",
        onInitialization: function() {
            this.hero = new v({
                el: this.$(".hero-wrap"),
                heroDetails: this.jsonData.heroImageDetails
            }),
            this.self = this,
            this.logger = new eventsCore.util.Logger("ArticleView"),
            this.logger.info("onInitialization"),
            this.players = {},
            this.article_content = this.$("article").find("> .text"),
            this.fontsize = new o({
                el: this.$(".fontSizeChange"),
                article_text: this.article_content
            }),
            this.next_article = new f({
                el: this.$(".next_article"),
                related_id: this.jsonData.pageDetails.pageId
            }),
            g.setSinglePlayerMode(),
            this.printOptions(),
            this.listenTo(g, "player:complete", this.onCompleteEvent),
            this.listenTo(g, "player:play", this.onPlayEvent),
            this.listenTo(g, "player:stop", this.onStopEvent)
        },
        processPageVars: function() {
            for (var e = this.jsonData.pageDetails, t = ["pageId", "pageURL", "pageTitle2", "pageAbstr"], i = t.length - 1; i >= 0; i--) {
                var s = t[i];
                e[s] = encodeURIComponent(e[s])
            }
            void 0 !== e.pageTitle && (this.articleTitle = e.pageTitle),
            this.pageTitle = "Article Detail",
            this.props = {
                prop4: "Articles",
                prop5: e.pageTitle,
                prop6: e.pageTitle,
                prop17: "Articles:" + e.pageTitle,
                prop20: e.pageAuthor,
                prop21: e.pageDate
            },
            this.logger.info("processPageVars - data:%o", this.jsonData)
        },
        onRender: function() {
            n.prototype.onRender.apply(this, arguments);
            var e = this.$(".articleCarousel");
            this.carousels = [],
            e.each(function(e, s) {
                if (t(s).hasClass("holeInfoCarousel")) {
                    var n = []
                      , a = t(s).attr("data-holes");
                    n = a.split(","),
                    n = i.map(n, function(e) {
                        return parseInt(e, 10)
                    });
                    var r = new h({
                        article_holes: n,
                        el: s,
                        measure_prefix: [m.page_section, "Article"],
                        app_measure_prefix: "News:Article"
                    });
                    r.render(),
                    this.carousels.push(r)
                } else if (t(s).hasClass("photoCarousel")) {
                    var o = t(s).attr("data-path")
                      , l = new c({
                        article_photos: o,
                        el: s,
                        measure_prefix: [m.page_section, "Article"],
                        app_measure_prefix: "News:Article"
                    }).render();
                    this.carousels.push(l)
                } else if (t(s).hasClass("videoCarousel")) {
                    var p = t(s).attr("data-path")
                      , f = this.jsonData.video;
                    void 0 === f && (this.jsonData.video = [],
                    f = this.jsonData.video);
                    var g = new d({
                        article_videos: p,
                        el: s,
                        video_data: f,
                        measure_prefix: [m.page_section, "Article"],
                        app_measure_prefix: "News:Article"
                    }).render();
                    this.carousels.push(g)
                } else if (t(s).hasClass("playerCardCarousel")) {
                    var v = t(s).attr("data-ids").split(",");
                    v = i.map(v, function(e) {
                        return parseInt(e, 10)
                    });
                    var b = new u({
                        article_players: v,
                        el: s,
                        measure_prefix: [m.page_section, "Article"],
                        app_measure_prefix: "News:Article"
                    }).render();
                    this.carousels.push(b)
                }
            }
            .bind(this)),
            this.unveil(this.$(".containerPhoto, .containerVideo").find("img.srcpic")),
            this.next_article.render()
        },
        onDispose: function() {
            this.fontsize.dispose(),
            this.printview.dispose(),
            this.carousels.forEach(function(e) {
                e.dispose()
            }),
            g.dispose()
        },
        printOptions: function() {
            var e = this.hero.$(".articleInfo .author_date").clone()
              , i = t("<div />").append(e).html() + "<br/>" + t("<div />").append(this.article_content.clone()).html();
            this.printview = new p({
                el: this.$(".printLink"),
                navbar: !0,
                page_title: this.articleTitle,
                print_text: i,
                text_only: !0,
                metrics_name: "Articles",
                pageURL: !0
            })
        },
        mediaPromoClick: function(e) {
            var s = t(e.target).closest("div[video-id]").attr("video-id");
            if (a.app)
                0 === s.search(/^body_/) && (s = s.substring(5)),
                a.apptype.ios ? r.sendiOSMessage("video", s) : a.apptype.android && r.sendAndroidMessage("video?id=" + s);
            else {
                var n = i.find(this.jsonData.video, function(e) {
                    return e.id === s
                });
                g.loadVideo(n, s, {
                    vod: !0,
                    metrics_prefix: m.page_section + ":" + m.page_title
                }),
                m.measureAppMediaLoad(m.page_section, m.page_title, m.video_action, n.title),
                this.$("#welcome").has('div[id="wrapper_' + s + '"]').addClass("dim")
            }
            return !1
        },
        onPlayEvent: function(e) {
            this.logger.info("onPlayEvent - data:%o", e)
        },
        onStopEvent: function(e) {
            this.logger.info("onStopEvent - data:%o", e);
            var t = this.$("#wrapper_" + e.id);
            this.hero.$welcome.has(t).length > 0 && this.hero.$welcome.removeClass("dim")
        },
        onCompleteEvent: function(e) {
            this.logger.info("onCompleteEvent - data:%o", e),
            this.$("#welcome").has('div[id="' + e.id + '"]').removeClass("dim"),
            this.$(".ecp-player").has('div[id="' + e.id + '"]').hide()
        },
        photoClick: function(e) {
            if (a.app) {
                e.preventDefault();
                var t = e.currentTarget
                  , s = t.getAttribute("data-id");
                if (this.jsonData.photoDetails && this.jsonData.photoDetails[s]) {
                    var n = i.clone(this.jsonData.photoDetails[s]);
                    n.imagefileL = n.imagefileH,
                    n.scaption = n.lcaption,
                    a.apptype.ios ? r.sendiOSMessage("photoDetails", n) : (n = JSON.stringify(n),
                    r.sendAndroidMessage("photo?data=" + n))
                }
                return !1
            }
            return !0
        },
        textLinkClick: function(e) {
            if (a.app) {
                var i = t(e.currentTarget)
                  , s = i.attr("href")
                  , n = s.search(/\/en_US\/news\/articles\/\d{4}-\d{2}-\d{2}\//);
                if (n > -1) {
                    var r = s;
                    "ipad" !== s.substring(n - 4, n) && (r = s.slice(0, n) + "/ipad" + s.slice(n)),
                    r += r.search(/\?/) > -1 ? "&" : "?",
                    a.apptype.android ? r += "android" : a.apptype.ios && (r += "ios"),
                    i.attr("href", r)
                }
            }
        }
    });
    return b
}),
define("utils/scores-video", ["require", "jquery", "backbone", "utils/scores", "utils/channel-controller", "utils/pubsub", "eventsCore"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("utils/scores")
      , n = e("utils/channel-controller")
      , a = e("utils/pubsub");
    e("eventsCore");
    var r = function() {
        _.extend(this, i.Events);
        var e = {
            ac: {
                11: {
                    players: []
                },
                12: {
                    players: []
                },
                13: {
                    players: []
                }
            },
            1516: {
                15: {
                    players: []
                },
                16: {
                    players: []
                }
            }
        }
          , r = {
            fg1: {
                players: []
            }
        };
        this.cid = "scoresvideo",
        this.holeChannels = t.extend(!0, {}, e),
        this.groupChannels = t.extend(!0, {}, r);
        var o;
        return this.init = function(e, t) {
            this.setCallback(t);
            var i = function() {
                return s.isDataLoaded() ? 0 === n.collection.length ? void a.off("livevideo:reset", i, this).once("livevideo:reset", i, this) : void t.apply(e) : void a.off("scores:refresh", i, this).once("scores:refresh", i, this)
            };
            return "function" == typeof o && (i(),
            a.on("scores:refresh", i, this)),
            this
        }
        ,
        this.setCallback = function(e) {
            "function" == typeof e && (o = e)
        }
        ,
        this.resetChannelPlayers = function() {
            this.holeChannels = t.extend(!0, {}, e)
        }
        ,
        this.assignFeaturedGroupPlayers = function() {
            console.log("[ScoresVideo] assigning featured group players");
            var e = this;
            n.collection.forEach(function(t, i, s) {
                if (t.id.indexOf("fg") > -1) {
                    var n = t.get("fg").split(",");
                    "" !== n[0] && (void 0 === e.groupChannels[t.id] && (e.groupChannels[t.id] = {}),
                    e.groupChannels[t.id].players = n)
                }
            }),
            this.trigger("featuredplayers:refresh")
        }
        ,
        this.parsePlayersByChannel = function() {
            if (s.isDataLoaded()) {
                console.log("[ScoresVideo] parsing players by channel"),
                this.resetChannelPlayers();
                var e = s.collection.clone();
                e.comparator = "tee_order",
                e.sort();
                var i = this;
                e.forEach(function(e, n, a) {
                    if (s.Utilities.inGoodStanding(e) === !0 && !s.Utilities.missedCut(e)) {
                        var r = e.getCurrentHole();
                        "" !== e.get("live") && t.each(i.holeChannels, function(t, i) {
                            "undefined" != typeof this[r] && _.indexOf(this[r].players, e.id) === -1 && this[r].players.push(e.id)
                        })
                    }
                }),
                console.log(this.holeChannels),
                console.log(this.groupChannels),
                this.trigger("holeplayers:refresh")
            } else
                a.off("scores:refresh", this.parsePlayersByChannel, this).once("scores:refresh", this.parsePlayersByChannel, this)
        }
        ,
        this.isPlayerLive = function(e) {
            var i = e + ""
              , s = -1;
            return t.each(this.groupChannels, function(e) {
                if (_.indexOf(this.players, i) > -1 && n.checkChannelStatus(e))
                    return void (s = e)
            }),
            s === -1 && t.each(this.holeChannels, function(e) {
                t.each(this, function(t) {
                    if (_.indexOf(this.players, i) > -1 && n.checkChannelStatus(e))
                        return void (s = e)
                }),
                s !== -1
            }),
            s
        }
        ,
        this.hasHighlightVideo = function(e, t, i) {
            if (t < 5) {
                var n = e.get("r" + t)
                  , a = n.split("|");
                n = a[2];
                var r = n.charCodeAt(i - 1);
                return r >= 96 && r <= 122
            }
            return s.Playoff.hasVideo(e.id, i)
        }
        ,
        this.init.apply(this, arguments)
    };
    return new r
}),
define("text!templates/watch-carousel-item.html!strip", [], function() {
    return '<% if(obj.live) { %>\n <%= link %>\n<% } %>\n <div class="image channelImage <%= liveClass %>"><!--[if lt IE 9]><span></span><![endif]--><img src="/images/now/trans_16x9.gif" data-lower="<%= obj.imagePathL %>" data-medium="<%= obj.imagePathM %>" data-high="<%= obj.imagePathH %>" border="0" alt=""/></div>\n <div class="label text <%= liveClass %>"><%= statusText %></div>\n <div class="caption_row <%= liveClass %>">\n<% if (obj.live) { %>\n<% if (obj.channelId === "radio") { %>\n <div class="label icon radio"></div>\n<% } else { %>\n <div class="label icon video"></div>\n<% }} %>\n <div class="caption"><%= obj.name %></div>\n<% if(!obj.live) { %>\n <div class="message"><%= obj.caption %>\n <% if(_.indexOf(["ac","1516"], obj.channelId) > -1) { %>\n <span>* All Times are Approximate</span>\n <% } %>\n </div>\n <% if(replay && replay !== "") { %>\n <a href="<%= replay %>"><span class="label icon replay video"></span><span class="replay caption">WATCH REPLAYS</span></a>\n <% } %>\n<% } %>\n </div>\n <div class="containerFeaturedPlayers"></div>\n<% if(obj.live) { %>\n </a>\n<% } %>\n<% if(show_info) { %>\n <a href="#" class="info <%= liveClass %>">Info</a>\n <div class="infoWrapper">\n <div class="caption"><%= obj.name %></div>\n </div>\n<% } %>'
}),
define("views/watch-carousel", ["require", "backbone", "jquery", "utils/metrics", "utils/carousel", "text!templates/watch-carousel-item.html!strip", "utils/geoblock", "utils/pubsub", "utils/channel-controller", "utils/scores", "utils/scores-video", "views/player-card"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/metrics")
      , n = e("utils/carousel")
      , a = e("text!templates/watch-carousel-item.html!strip")
      , r = e("utils/geoblock")
      , o = e("utils/pubsub")
      , l = e("utils/channel-controller")
      , h = e("utils/scores")
      , c = e("utils/scores-video")
      , d = e("views/player-card")
      , u = {};
    u.overlay_hole = _.template('<div class="hole"><div class="holeNo">Hole No. <%= hole %></div> <table class="holePlayers" cellspacing="0" cellpadding="0" border="0"> <tr><th>&nbsp;</th><th>Position</th><th>Today</th><th>Total</th></tr> <%= player_rows %> </table></div>'),
    u.overlay_hole_players = _.template('<tr> <td class="player"><%= player.display_name %></td> <td class="stat"><%= player.pos %></td> <td class="stat <%= today %>"><%= player.today %></td> <td class="stat <%= topar %>"><%= player.topar %></td></tr>'),
    u.overlay_hole_empty = '<tr class="divider"><td colspan="4">&nbsp;</td></tr>',
    u.overlay_hole_noplayers = '<tr class="noplayers"><td colspan="4">No players on hole</td></tr>';
    var p = t.View.extend({
        tagName: "li",
        class: "channel",
        template: _.template(a),
        link_template: '<a href="/en_US/watch/live.html?videoChannel=<%= id %>">',
        events: {
            "click a.info": "openInfo",
            "click a.radio": "launchRadio"
        },
        initialize: function(e) {
            this.options = _.extend({}, e),
            this.link_template = _.template(this.options.link_template),
            this.replay = this.model.get("replay"),
            this.hide_replays && (this.replay = ""),
            this.$el.attr({
                id: this.model.get("id"),
                "data-channel": this.model.get("id")
            }),
            this.listenTo(this.model, "change", this.render)
        },
        render: function() {
            this.setTextStrings(),
            this.$el.attr("title", this.model.get("name") + " - " + this.statusText);
            var e = this.template({
                obj: this.model.attributes,
                link: this.link_template({
                    id: this.model.id
                }),
                statusText: this.statusText,
                liveClass: this.liveClass,
                show_info: "" !== this.model.get("fg") || "ac" === this.model.id || "1516" === this.model.id,
                replay: this.replay
            });
            return this.$el.html(e),
            this.loadInfo(),
            this
        },
        onDispose: function() {},
        launchRadio: function(e) {
            e.preventDefault(),
            o.trigger("radio:launch")
        },
        setTextStrings: function() {
            this.liveClass = "offair",
            this.statusText = "Off Air",
            this.model.get("live") && (this.liveClass = "live",
            this.statusText = "Live",
            "radio" === this.model.id && (this.statusText = "On Air"))
        },
        openInfo: function() {
            this.trigger("info:open", this)
        },
        loadInfo: function() {
            if ("ac" === this.model.id || "1516" === this.model.id || "fg1" === this.model.id) {
                if (!h.isDataLoaded())
                    return o.off("scores:refresh", this.loadInfo, this).once("scores:refresh", this.loadInfo, this),
                    void console.log("[WatchCarouselItem] channel %o returning early because data not loaded", this.model.get("name"));
                try {
                    console.log("[WatchCarouselItem] channel %o running loadInfo", this.model.get("name")),
                    this.infowrapper = this.$(".infoWrapper"),
                    "ac" === this.model.id || "1516" === this.model.id ? this.loadHoleInfo() : "fg1" === this.model.id && (c.assignFeaturedGroupPlayers(),
                    this.loadPlayerInfo(),
                    this.loadPlayerFeatured())
                } catch (e) {
                    console.error("[WatchCarouselItem] loading players on channel %o failed on error: %o", this.model.get("name"), e)
                }
            }
        },
        loadHoleInfo: function() {
            c.parsePlayersByChannel();
            var e = i('<div class="holeCardWrapper hole' + this.model.id + '">')
              , t = c.holeChannels[this.model.id];
            i.each(t, function(t, i) {
                for (var s, n = this, a = "", r = 0, o = n.players.length; r < o; r++) {
                    var l = h.collection.get(n.players[r]);
                    0 !== r && void 0 !== s && s.get("teetime") !== l.get("teetime") && (a += u.overlay_hole_empty + u.overlay_hole_empty),
                    a += u.overlay_hole_players({
                        player: l.attributes,
                        today: h.Utilities.className(l.get("today")),
                        topar: h.Utilities.className(l.get("topar"))
                    }),
                    s = l
                }
                "" === a && (a += u.overlay_hole_noplayers);
                var c = u.overlay_hole({
                    hole: t,
                    player_rows: a
                });
                e.append(c)
            }),
            this.infowrapper.append(e)
        },
        loadPlayerFeatured: function() {
            var e = c.groupChannels[this.model.id]
              , t = []
              , i = e.players.length;
            4 === i && this.$(".containerFeaturedPlayers").addClass("twoplayers");
            for (var s = 0; s < i; s++) {
                var n = e.players[s]
                  , a = h.collection.get(n);
                if (void 0 !== a) {
                    var r = new d({
                        model: a,
                        tv_name: !0,
                        scores: !1,
                        item: !0,
                        show_amateur_status: !0,
                        location: "info",
                        metrics_suffix: "bio_watch"
                    }).render();
                    r.$el.addClass("featured"),
                    t.push(r.$el)
                }
            }
            this.$(".containerFeaturedPlayers").append(t)
        },
        loadPlayerInfo: function() {
            var e = i('<div class="playerCardWrapper">')
              , t = c.groupChannels[this.model.id]
              , s = t.players.length;
            4 === s && e.addClass("twoplayers");
            for (var n = 0; n < s; n++) {
                var a = t.players[n]
                  , r = h.collection.get(a);
                if (void 0 !== r) {
                    var o = new d({
                        model: r,
                        metrics_suffix: "bio_watch",
                        location: "info"
                    });
                    e.append(o.render().$el)
                }
            }
            this.infowrapper.append(e)
        }
    })
      , f = t.View.extend({
        el: "ul.carousel",
        events: {},
        initialize: function(e) {
            this.options = _.extend({}, e),
            this.cards = [],
            this.currentOrder = [],
            this.carousel = new n,
            this.carousel.populate = this.populateCarousel.bind(this),
            this.on("enable", this.enable, this),
            this.on("disable", this.disable, this),
            this.on("refresh", this.refresh, this)
        },
        render: function() {
            return this.carousel.init(this.$el, this.defineCarouselOptions()),
            this
        },
        redraw: function() {
            this.carousel.redraw()
        },
        onDispose: function() {
            this.cards.forEach(function(e) {
                e.dispose()
            }),
            this.destroyCarousel()
        },
        destroyCarousel: function() {
            this.carousel.destroy()
        },
        refresh: function(e) {
            this.populateCarousel(e)
        },
        disable: function() {
            this.enabled = !1
        },
        enable: function() {
            this.enabled = !0
        },
        defineCarouselOptions: function() {
            var e = function(e) {
                var t = this.el.style.width;
                t = parseFloat(t.replace("%", "")),
                t += 10,
                t += "%",
                this.el.style.width = t,
                this.unveil(this.$(".channelImage img"), {
                    horizontal: !0
                }),
                i(),
                console.log("carousel: triggering scroll after load"),
                o.trigger("scroll")
            }
            .bind(this)
              , t = function(e, t, i) {
                this.trigger("carousel:newslide")
            }
            .bind(this)
              , i = function() {
                this.trigger("carousel:resize"),
                o.trigger("throttle:resize")
            }
            .bind(this);
            return {
                onSliderLoad: e,
                onSlideBefore: t,
                onSliderResize: i,
                onSlideNext: function() {
                    s.measureApp("Watch", "Channel View", "Next")
                },
                onSlidePrev: function() {
                    s.measureApp("Watch", "Channel View", "Previous")
                },
                infiniteLoop: !r.isBlocked()
            }
        },
        populateCarousel: function(e) {
            var t, i;
            this.carousel.active && (t = this.carousel.current(),
            i = this.currentOrder[t]);
            var s = this.populateItems();
            this.clearUnveil(),
            this.$el.html(s),
            this.carousel.active && (e === !0 && (t = this.currentOrder.indexOf(i)),
            this.carousel.refresh({
                startSlide: t
            }))
        },
        populateItems: function() {
            if (0 === this.cards.length) {
                var e = [];
                return l.collection.forEach(function(t, i, s) {
                    var n = this.createNewCard(t);
                    this.cards.push(n),
                    this.currentOrder.push(t.id),
                    e.push(n.$el)
                }
                .bind(this)),
                e
            }
            this.cards.forEach(function(e) {
                e.$el.detach()
            });
            var t = []
              , i = []
              , e = [];
            return l.collection.forEach(function(s, n, a) {
                var r = this.cards[n];
                if (void 0 === r || s.id !== this.cards[n].model.id) {
                    var o = _.indexOf(this.currentOrder, s.id);
                    o > -1 ? (r = this.cards[o],
                    delete this.cards[o]) : r = this.createNewCard(s)
                } else
                    delete this.cards[n];
                t.push(r),
                i.push(s.id),
                e.push(r.$el)
            }
            .bind(this)),
            this.cards.forEach(function(e) {
                e && (e.dispose(),
                this.stopListening(e))
            }
            .bind(this)),
            this.cards = t,
            this.currentOrder = i,
            e
        },
        createNewCard: function(e) {
            var t = new p({
                model: e,
                link_template: this.options.link_template
            }).render();
            return this.listenTo(t, "info:open", function(e) {
                this.trigger("info:open", e)
            }),
            t
        }
    });
    return f
}),
define("text!templates/watch-grid-item.html!strip", [], function() {
    return '<div class="channel <%= klass %>">\n<% if(obj.live) { %>\n <%= link %>\n<% } %>\n <div class="image <%= liveClass %>"><!--[if lt IE 9]><span></span><![endif]--><img src="/images/now/trans_16x9.gif" data-src="<%= obj.imagePathL %>" border="0" alt=""/></div>\n <div class="label text <%= liveClass %>"><%= statusText %></div>\n <div class="caption_row">\n<% if(obj.live) { %>\n <% if (obj.channelId === "radio") { %>\n <div class="label icon radio"></div>\n <% } else { %>\n <div class="label icon video"></div>\n <% } %>\n<% } %>\n <div class="caption"><%= obj.name %></div>\n </div>\n<% if(obj.live) { %>\n </a>\n<% } %>\n</div>'
}),
define("views/watch-grid", ["require", "jquery", "backbone", "text!templates/watch-grid-item.html!strip", "utils/pubsub", "utils/channel-controller"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("text!templates/watch-grid-item.html!strip")
      , s = e("utils/pubsub")
      , n = e("utils/channel-controller")
      , a = t.View.extend({
        tagName: "div",
        class: "channel",
        events: {
            "click a.radio": "launchRadio"
        },
        template: _.template(i),
        link_template: '<a href="/en_US/watch/live.html?videoChannel=<%= id %>">',
        initialize: function(e) {
            this.options = _.extend({}, e),
            this.link_template = _.template(this.options.link_template),
            this.count = e.count,
            this.liveClass = "offair",
            this.statusText = "Off Air",
            this.model.get("live") && (this.liveClass = "live",
            this.statusText = "Live",
            "radio" === this.model.id && (this.statusText = "On Air")),
            this.klass = "",
            this.count < 3 && (this.klass += " top"),
            this.count % 3 === 2 && (this.klass += " right")
        },
        render: function() {
            var e = this.template({
                obj: this.model.attributes,
                klass: this.klass,
                link: this.link_template({
                    id: this.model.id
                }),
                liveClass: this.liveClass,
                statusText: this.statusText
            });
            return this.setElement(e),
            this
        },
        launchRadio: function(e) {
            e.preventDefault(),
            s.trigger("radio:launch")
        }
    })
      , r = t.View.extend({
        el: "#grid_schedule",
        initialize: function(e) {
            this.options = _.extend({}, e),
            this.on("desktop:show", this.unveilImages, this),
            this.on("refresh", this.refresh, this)
        },
        render: function() {
            this.populateGrid()
        },
        onDispose: function() {
            this.cards.forEach(function(e) {
                e.dispose()
            })
        },
        refresh: function() {
            this.populateGrid()
        },
        unveilImages: function() {
            this.clearUnveil();
            var e = this.$("img");
            this.unveil(e)
        },
        populateGrid: function() {
            var e = this.populateItems();
            this.$el.html(e),
            this.unveilImages()
        },
        populateItems: function() {
            this.cards = [];
            var e = [];
            return n.collection.forEach(function(t, i, s) {
                var n = new a({
                    model: t,
                    count: i,
                    link_template: this.options.link_template
                });
                this.cards.push(n.render()),
                e.push(n.$el)
            }
            .bind(this)),
            e
        }
    });
    return r
}),
define("views/watch-info", ["require", "backbone", "jquery", "utils/metrics"], function(e) {
    var t = e("backbone")
      , i = (e("jquery"),
    e("utils/metrics"))
      , s = t.View.extend({
        el: "#infoContainer",
        events: {
            "click a.info": "close"
        },
        isOpen: !1,
        initialize: function(e) {
            this.options = _.extend({}, e),
            this.on("open", this.open, this),
            this.on("hide", this.hide, this),
            this.on("refresh", this.refresh, this)
        },
        onDispose: function() {
            this.card = void 0
        },
        open: function(e) {
            this.card = e,
            this.isOpen ? this.close() : (this.measureOpen(),
            this.show())
        },
        close: function() {
            this.measureClose(),
            this.hide()
        },
        measureOpen: function() {
            i.measureApp(i.page_section, "Channel Info", this.card.model.get("name"), "Open")
        },
        measureClose: function() {
            i.measureApp(i.page_section, "Channel Info", this.card.model.get("name"), "Close")
        },
        show: function() {
            this.card.$("a.info").addClass("open"),
            this.card.$el.addClass("info-open");
            var e = this.card.$(".infoWrapper").clone();
            this.$el.show();
            var t = this.$(".container").html(e.html());
            this.unveil(t.find("img")),
            this.options.$filler.show(),
            this.isOpen = !0
        },
        hide: function() {
            this.card && (this.card.$("a.info").removeClass("open"),
            this.card.$el.removeClass("info-open")),
            this.$el.hide(),
            this.clearUnveil(),
            this.$(".container").empty(),
            this.options.$filler.hide(),
            this.isOpen = !1
        },
        refresh: function() {
            this.show()
        }
    });
    return s
}),
define("views/watch-schedule", ["require", "backbone", "jquery", "utils/metrics", "views/primary-dropdown", "utils/window-size", "utils/pubsub"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/metrics")
      , n = e("views/primary-dropdown")
      , a = e("utils/window-size")
      , r = e("utils/pubsub")
      , o = n.extend({
        initialize: function() {
            n.prototype.initialize.apply(this, arguments),
            this.setSelectedOption(this.$selected.html()),
            this.$options = this.$(".option"),
            this.option_length = this.$options.length,
            this.delegate("click", "a.sched-control", _.bind(this.navigate, this)),
            this.listenTo(r, "windowsize:global:enter", this.enterMobile),
            this.listenTo(r, "windowsize:global:exit", this.leaveMobile)
        },
        enterMobile: function() {
            this.open && this.toggleOpenState(!1)
        },
        leaveMobile: function() {},
        navigate: function(e) {
            if (e.preventDefault(),
            a.size() === a.sizes.global) {
                var t = i(e.currentTarget)
                  , n = t.hasClass("sched-next") ? 1 : -1
                  , r = this.selected + n;
                n > 0 && this.selected === this.option_length - 1 ? r = 0 : n < 0 && 0 === this.selected && (r = this.option_length - 1),
                n > 0 ? s.measureApp(s.page_section, "Schedule", "Next") : s.measureApp(s.page_section, "Schedule", "Previous"),
                this.setOption(r),
                this.options.callback.call(this.options.callback_context, this.$selected.data("src"))
            }
        },
        toggleOpen: function() {
            a.size() !== a.sizes.global && n.prototype.toggleOpen.apply(this, arguments)
        },
        selectOption: function() {
            a.size() !== a.sizes.global && n.prototype.selectOption.apply(this, arguments)
        }
    })
      , l = t.View.extend({
        el: "#schedule",
        events: {
            "click .close": "close",
            "click a.sched-control": "navigate"
        },
        isOpen: !1,
        select_active: !1,
        states: {
            global: 0,
            desktop: 1
        },
        initialize: function(e) {
            this.options = _.extend({}, e),
            this.filter = new o({
                el: this.$(".filter"),
                callback: this.selectDay,
                callback_context: this
            }),
            this.on("open", this.open, this),
            this.on("close", this.close, this),
            this.listenTo(r, "windowsize:global:enter", this.onResize),
            this.listenTo(r, "windowsize:global:exit", this.onResize)
        },
        render: function() {
            var e = this.filter.selectedVal();
            return this.selectDay(e),
            this
        },
        onDispose: function() {
            this.filter.dispose()
        },
        open: function(e) {
            this.show(),
            "auto" !== e && s.measureApp(s.page_section, "Schedule", "Open")
        },
        close: function(e) {
            this.hide(),
            "auto" !== e && s.measureApp(s.page_section, "Schedule", "Close")
        },
        show: function() {
            a.size() === a.sizes.global ? this.moveTo(this.states.global) : this.options.$filler.show(),
            this.trigger("show"),
            this.$el.show(),
            this.isOpen = !0
        },
        hide: function() {
            a.size() === a.sizes.global ? this.moveTo(this.states.desktop) : this.options.$filler.hide(),
            this.trigger("hide"),
            this.$el.hide(),
            this.isOpen = !1
        },
        moveTo: function(e) {
            if (e === this.states.global) {
                var t = this.$el.parent();
                this.$el.detach(),
                t.before(this.$el)
            } else if (e === this.states.desktop) {
                var i = this.$el.siblings(".channelsWrapper");
                this.$el.detach(),
                i.prepend(this.$el)
            }
        },
        onResize: function() {
            this.isOpen && (a.size() === a.sizes.global ? (this.moveTo(this.states.global),
            this.options.$filler.hide()) : (this.moveTo(this.states.desktop),
            this.options.$filler.show()))
        },
        selectDay: function(e) {
            this.$(".content_tab.active").removeClass("active"),
            this.$("#tab_" + e).addClass("active")
        }
    });
    return l
}),
define("views/watch-landing-hero", ["require", "backbone", "jquery", "views/base-hero", "utils/browser", "utils/pubsub", "utils/geoblock", "utils/window-size", "utils/metrics", "utils/scroll-to-fade", "views/secondary-dropdown", "utils/channel-controller", "utils/scores-video", "views/watch-carousel", "views/watch-grid", "views/watch-info", "views/watch-schedule", "jquery.cookie"], function(e) {
    var t = (e("backbone"),
    e("jquery"))
      , i = e("views/base-hero")
      , s = e("utils/browser")
      , n = e("utils/pubsub")
      , a = e("utils/geoblock")
      , r = e("utils/window-size")
      , o = e("utils/metrics")
      , l = e("utils/scroll-to-fade")
      , h = e("views/secondary-dropdown")
      , c = e("utils/channel-controller")
      , d = e("utils/scores-video")
      , u = e("views/watch-carousel")
      , p = e("views/watch-grid")
      , f = e("views/watch-info")
      , g = e("views/watch-schedule");
    e("jquery.cookie");
    var m = '<% if(id !== "radio") { %><a href="/en_US/watch/live.html?videoChannel=<%= id %>" class=""><% } else { %><a href="#" class="radio"><% } %>'
      , v = i.extend({
        el: ".content-wrap",
        window: "",
        events: {
            "click #showAllChannels": "showAllChannels",
            "click #showSchedule": "clickSchedule"
        },
        default_view: "grid",
        non_default_view: "channels",
        onInitialization: function(e) {
            this.state = e.state,
            this.$title = this.$(".navWrapper.title"),
            this.$viewSelector = new h({
                el: this.$(".tabWrapper.title").find(".tabs"),
                metrics: null
            }),
            this.$schedule = this.$("#schedule"),
            this.$sizeMarker = this.$("#sizeMarker"),
            this.$channelsWrapper = this.$("#liveChannelCarousel"),
            this.infoScreen = new f({
                el: this.$("#infoContainer"),
                $filler: this.$("#infoFiller")
            }),
            this.listenTo(n, "livevideo:reset", this.removeBlockedChannels),
            this.listenTo(n, "livevideo:reset", this.refreshChannels),
            this.schedule = new g({
                el: this.$("#schedule"),
                $filler: this.$("#scheduleFiller")
            }),
            this.listenTo(this.schedule, "show", this.showScheduleHelper),
            this.listenTo(this.schedule, "hide", this.hideScheduleHelper),
            this.listenTo(n, "radio:launch", this.launchRadio)
        },
        onRender: function() {
            this.$viewSelector.setOption(this.$viewSelector.$el.find('a[href$="' + this.default_view + '"]').index()),
            this.scrollFade = new l({
                no_fade: !s.ie8
            }).render(),
            this.removeBlockedChannels(),
            "live" === this.state ? this.loadChannelCarousel() : this.unveil(this.find("img")),
            this.schedule.render()
        },
        onDispose: function() {
            this.scrollFade.dispose()
        },
        processImage: function() {},
        geoAction: function() {
            console.log("running geoAction"),
            this.$channelsWrapper.find(".bx-control").addClass("hidden"),
            this.$viewSelector.dispose(!0),
            this.$("#showSchedule").remove(),
            this.$title.css("margin-bottom", "1.5em")
        },
        removeBlockedChannels: function() {
            if (a.isBlocked()) {
                console.log("[WatchHero] removing blocked channels");
                var e = c.collection.get("radio");
                c.collection.reset(e)
            }
        },
        loadChannelCarousel: function() {
            this.carousel = new u({
                link_template: m
            }),
            this.listenTo(this.carousel, "carousel:resize", this.resizeHandler),
            this.listenTo(this.carousel, "info:open", this.openInfo),
            this.grid = new p({
                link_template: m
            }),
            r.size() !== r.sizes.global ? this.enterDesktop() : this.enterMobile(),
            this.listenTo(n, "windowsize:global:enter", function() {
                this.carousel.carousel.active && (console.log("carousel: entering global, destory desktop, init mobile"),
                this.leaveDesktop(),
                this.enterMobile())
            }),
            this.listenTo(n, "windowsize:global:exit", function() {
                this.carousel.carousel.active || (console.log("carousel: leaving global, destory mobile, init desktop"),
                this.leaveMobile(),
                this.enterDesktop())
            }),
            this.listenTo(n, "windowsize:tablet:enter", function() {
                this.infoScreen.trigger("hide")
            })
        },
        enterMobile: function() {
            console.log("[WatchLandingHero] initing mobile channels"),
            void 0 !== c.collection && c.collection.length > 0 ? this.populateMobileChannels() : this.listenToOnce(n, "livevideo:reset", function() {
                this.populateMobileChannels()
            }),
            this.schedule.isOpen && this.toggleTitle()
        },
        leaveMobile: function() {
            this.schedule.isOpen && this.toggleTitle()
        },
        enterDesktop: function() {
            if (console.log("[WatchLandingHero] initing desktop channels"),
            !a.isBlocked())
                if (t.cookie("channelViewSelect") === this.non_default_view) {
                    this.toggleView(this.non_default_view);
                    var e = this.$viewSelector.findIndexByType(this.non_default_view);
                    this.$viewSelector.setOption(e)
                } else
                    this.toggleView(this.default_view);
            this.$viewSelector.setCallback(function(e) {
                var i = e.substring(5);
                i === this.non_default_view ? t.cookie("channelViewSelect", this.non_default_view, {
                    expires: 5,
                    path: "/en_US/"
                }) : t.removeCookie("channelViewSelect", {
                    expires: 5,
                    path: "/en_US/"
                }),
                this.toggleView(i),
                this.$schedule.active && this.$schedule.trigger("hide")
            }, this),
            void 0 !== c.collection && c.collection.length > 0 ? (this.carousel.render(),
            this.grid.render()) : this.listenToOnce(n, "livevideo:reset", function() {
                this.carousel.render(),
                this.grid.render()
            })
        },
        leaveDesktop: function() {
            console.log("[WatchLandingHero] destroying desktop channels"),
            this.infoScreen.trigger("hide"),
            this.$viewSelector.setCallback(function() {});
            var e = this.$channelsWrapper
              , t = this.$title.find(".filter")
              , i = this.$schedule.add(this.infoScreen.$el);
            e.css("width", ""),
            t.css("width", ""),
            i.css("width", ""),
            this.carousel.destroyCarousel()
        },
        toggleView: function(e) {
            "grid" === e ? (this.$channelsWrapper.addClass("grid"),
            this.$channelsWrapper.find(".bx-control").addClass("hidden"),
            this.grid.trigger("desktop:show")) : (this.$channelsWrapper.removeClass("grid"),
            this.$channelsWrapper.find(".bx-control").removeClass("hidden"))
        },
        refreshChannels: function() {
            d.assignFeaturedGroupPlayers(),
            this.carousel && this.carousel.trigger("refresh", this.infoScreen.isOpen),
            this.grid && this.grid.trigger("refresh"),
            this.infoScreen.isOpen && this.infoScreen.trigger("refresh")
        },
        resizeHandler: function() {
            var e = this.$channelsWrapper
              , i = this.$title.find(".filter")
              , s = this.$schedule.add(this.infoScreen.$el);
            if (r.size() === r.sizes.global)
                return void s.css("max-width", "");
            var n = e.offset().top + 110
              , a = this.$sizeMarker.height() + n
              , o = this.$sizeMarker.width()
              , l = t(window).height();
            if (console.info("offset: " + n + ", markerh: " + a + ", wh: " + l),
            a + 10 >= l) {
                var h = l - n
                  , c = Math.ceil(h * (16 / 9));
                c < 782 && (c = 782),
                c <= .85 * o ? (e.css("width", c),
                i.css("width", c),
                s.css("width", c),
                this.carousel.redraw()) : "" !== e[0].style.width && (e.css("width", ""),
                i.css("width", ""),
                s.css("width", ""),
                this.carousel.redraw())
            } else
                "" !== e[0].style.width && (e.css("width", ""),
                i.css("width", ""),
                s.css("width", ""),
                this.carousel.redraw())
        },
        openInfo: function(e) {
            this.infoScreen.trigger("open", e),
            this.carousel.once("carousel:newslide", function() {
                this.infoScreen.trigger("hide")
            }
            .bind(this))
        },
        populateMobileChannels: function() {
            this.carousel.$el.html(this.carousel.populateItems()),
            this.unveil(this.carousel.$("img")),
            this.$channelsWrapper.addClass("loaded"),
            this.scrollFade.resetOffset()
        },
        showAllChannels: function(e) {
            this.carousel.$el.addClass("showall"),
            t(e.currentTarget).hide(),
            n.trigger("lookup.unveil"),
            o.measureApp(o.page_section, "Show All Channels")
        },
        clickSchedule: function() {
            this.schedule.isOpen ? this.schedule.trigger("close") : this.schedule.trigger("open")
        },
        showScheduleHelper: function() {
            this.carousel.trigger("disable"),
            this.$(".bx-control").addClass("disabled"),
            this.infoScreen.trigger("hide"),
            this.$("#showSchedule").addClass("active"),
            r.size() === r.sizes.global && this.toggleTitle()
        },
        hideScheduleHelper: function() {
            this.carousel.trigger("enable"),
            this.$(".bx-control").removeClass("disabled"),
            this.$("#showSchedule").removeClass("active"),
            r.size() === r.sizes.global && this.toggleTitle()
        },
        toggleTitle: function(e) {
            this.$title.find(".selected_option.hidden").removeClass("hidden").siblings().addClass("hidden")
        },
        launchRadio: function() {
            var e = "/en_US/watch/radio/radio.html?"
              , t = window.location.search
              , i = !1;
            t.indexOf("debug") > 0 && (i = !0);
            var s = new Date
              , n = s.getTime();
            e += "ts=" + n,
            e += i && i.indexOf("debug") > -1 ? "&db=true" : "&db=false",
            e += "&ref=" + document.location.host + document.location.pathname,
            e += "&lang=en_US",
            e += "&stream=0",
            (this.window.closed || "" === this.window) && (this.window = window.open(e, "radioWindow", "width=320,height=480,top=50,left=50,resizable=no,location=no"),
            null == this.window.opener && (this.window.opener = self)),
            this.window.focus()
        }
    });
    return v
}),
define("views/watch-landing-body", ["require", "jquery", "underscore", "views/landing-body", "utils/browser", "utils/geoblock", "utils/window-size", "utils/pubsub", "utils/favorites"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("views/landing-body")
      , n = e("utils/browser")
      , a = e("utils/geoblock")
      , r = e("utils/window-size")
      , o = e("utils/pubsub")
      , l = e("utils/favorites")
      , h = s.extend({
        events: {},
        initialize: function() {
            s.prototype.initialize.apply(this, arguments),
            this.hide_replays = a.isBlocked(),
            this.hide_replays || n.android && (this.hide_replays = !0),
            i.extend(this.options, {
                content_list: {
                    json_path: "/en_US/xml/gen/watch/#{date}.json",
                    json_array: this.content_src_ary,
                    populate: this.buildDayContent.bind(this),
                    geo_block_types: ["replay"],
                    is_blocked: this.hide_replays,
                    no_content_text: '<span style="color:white;">No matching videos found.</span>'
                }
            }),
            this.attachSizeListeners()
        },
        onRender: function() {
            var e = this.$daySelector.selectedVal();
            this.list.selectDate(e),
            this.$mediaSelector.setOption()
        },
        geoAction: function() {
            this.hideReplayLinks()
        },
        hideReplayLinks: function() {
            this.$mediaSelector.$('a[href$="replay"]').remove()
        },
        attachSizeListeners: function() {
            "global" === r.size() && (this.$daySelector.$parent.removeClass("white"),
            this.$mediaSelector.$parent.addClass("dark")),
            this.listenTo(o, "windowsize:global:enter", function() {
                this.$daySelector.$parent.removeClass("white"),
                this.$mediaSelector.$parent.addClass("dark")
            }),
            this.listenTo(o, "windowsize:global:exit", function() {
                this.$daySelector.$parent.addClass("white"),
                this.$mediaSelector.$parent.removeClass("dark")
            })
        },
        defineContentListOverrides: function() {
            var e = this.$mediaSelector;
            this.list.updateFilters = function(i) {
                this._updateFilters(e, {
                    favorite: !1,
                    feature: !1,
                    highlight: !1,
                    interview: !1,
                    replay: !1
                }, function(e) {
                    var i = l.getPlayerIDs()
                      , s = i.length;
                    s > 0 && (e.favorite = !0),
                    t.each(this.daycontent, function(t) {
                        e[this.get("type")] = !0
                    })
                }, i)
            }
            ,
            this.list.selectType = function(e) {
                this._selectType(e, function() {
                    return e
                })
            }
            ,
            t.fn.resetLayout = function(e) {
                return this
            }
        },
        buildDayContent: function(e, t) {
            this.list._buildContent(e, t, function(e) {
                e.set("label", ""),
                e.set("size", "half"),
                e.set("icon", "video"),
                e.layout.class = "Video"
            }),
            this.list.selectType(this.list.settings.selectedType)
        }
    });
    return h
}),
define("controllers/watch-index", ["require", "jquery", "backbone", "baseview", "utils/metrics", "utils/geoblock", "views/watch-landing-hero", "views/watch-landing-body"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("baseview"))
      , i = (e("utils/metrics"),
    e("utils/geoblock"))
      , s = e("views/watch-landing-hero")
      , n = e("views/watch-landing-body")
      , a = t.extend({
        geo_checked: !1,
        initialize: function(e) {
            t.prototype.initialize.apply(this, [e]),
            this.logger = new eventsCore.util.Logger("WatchIndexView"),
            this.logger.info("initialize")
        },
        onInitialization: function() {
            i.checkAction = this.geoAction.bind(this),
            this.hero = new s({
                el: this.$("div.content-wrap"),
                state: this.jsonData.pageState
            }),
            this.contentBody = new n({
                el: this.$("section.body")
            })
        },
        geoAction: function() {
            this.geo_checked || i.isLoaded() && (i.isBlocked() && (this.hero.geoAction(),
            this.contentBody.geoAction()),
            this.geo_checked = !0)
        },
        onRender: function() {
            this.logger.info("onRender"),
            this.geoAction(),
            this.hero.render(),
            this.contentBody.render()
        },
        onDispose: function() {
            this.contentBody.dispose()
        }
    });
    return a
}),
define("views/related-videos", ["require", "jquery", "backbone", "relatedcontent", "views/content-list", "models/news-item", "collections/news-items"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("relatedcontent")
      , s = e("views/content-list")
      , n = (e("models/news-item"),
    e("collections/news-items"))
      , a = t.View.extend({
        el: "section.body",
        defaults: {
            related_id: "",
            video: {},
            url: "/en_US/xml/gen/video/lastX.json"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("RelatedVideos"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.create()
        },
        render: function() {
            return this.related_list.load(),
            "live" !== this.options.type && this.related_list.events.on("request.success", this.loadNextVideo.bind(this)),
            this
        },
        onDispose: function() {
            this.content_list.dispose()
        },
        create: function() {
            var e = this
              , t = this.options.type;
            "highlight" === t ? this.createHighlight() : "shot_highlight" === t ? this.createShotHighlight() : "replay" === t ? this.createReplays() : this.createVODs(),
            this.content_list = new s({
                el: this.$("#recContent"),
                populate: this.buildContent.bind(this)
            }),
            this.related_list.buildHTML = function() {
                e.content_list.$el.html(e.content_list.options.loading_link),
                e.content_list.loadJSONData(this.content, !1)
            }
            ;
            var i = this.related_list.postProcess;
            this.related_list.postProcess = function() {
                var e = this.content;
                Array.isArray(e) && (this.content = new n(e)),
                i.apply(this, arguments)
            }
        },
        buildContent: function(e, t) {
            this.content_list._buildContent.apply(this, arguments)
        },
        callbackHandler: function(e, t) {
            ("success" === t.status && 0 === e.content.length || "error" === t.status) && ("url" !== e.type ? (e.reinitialize({
                type: "url"
            }),
            e.load()) : this.$("#recHeader, #recContent").hide())
        },
        createHighlight: function() {
            var e, t = this.options.related_id.match(/r\d_(\d+)_\d+/);
            if (null !== t && (e = t[1]),
            void 0 === e)
                return null;
            var s = this;
            this.related_list = new i.List({
                id: e,
                url: this.options.url,
                type: "tag",
                limit: 300,
                filter: "video_leaderboard",
                link_suffix: {
                    video: "vod_recommended"
                },
                callback: function(e) {
                    s.callbackHandler(this, e)
                }
            }),
            this.related_list.postProcess = function() {
                this.content.length > 1 && (this.content.comparator = "sort",
                this.content.sort());
                var e = this.content.pluck("cmsId")
                  , t = _.indexOf(e, s.options.related_id) + 1
                  , i = [];
                t > 0 && t < this.content.length ? i = this.content.slice(t, t + 6) : "url" === this.type && 0 === t && (i = this.content.models),
                this.content.reset(i)
            }
        },
        createShotHighlight: function() {
            var e, t = this.options.related_id.match(/r\d_(\d+)_\d+/);
            if (null !== t && (e = t[1]),
            void 0 === e)
                return null;
            var s = this;
            this.related_list = new i.List({
                id: e,
                url: this.options.url,
                type: "tag",
                limit: 300,
                filter: "video_shot_highlight",
                link_suffix: {
                    video: "vod_recommended"
                },
                callback: function(e) {
                    s.callbackHandler(this, e)
                }
            }),
            this.related_list.postProcess = function() {
                this.content.length > 1 && (this.content.comparator = "sort",
                this.content.sort());
                var e = this.content.pluck("cmsId")
                  , t = _.indexOf(e, s.options.related_id) + 1
                  , i = [];
                t > 0 && t < this.content.length ? i = this.content.slice(t, t + 6) : "url" === this.type && 0 === t && (i = this.content.models),
                this.content.reset(i)
            }
        },
        createReplays: function() {
            var e = this.options.video
              , t = e.replay_channel
              , s = this;
            this.related_list = new i.List({
                id: t,
                url: this.options.url,
                type: "tag",
                limit: 300,
                filter: "video_replay",
                link_suffix: {
                    video: "vod_recommended"
                },
                callback: function(e) {
                    s.callbackHandler(this, e)
                }
            }),
            this.related_list.postProcess = function() {
                this.content.length > 1 && (this.content.comparator = function(e, t) {
                    return t.get("sort") - e.get("sort")
                }
                ,
                this.content.sort());
                var e = this.content.pluck("cmsId")
                  , t = _.indexOf(e, s.options.related_id);
                t > -1 && this.content.remove(this.content.at(t))
            }
        },
        createVODs: function() {
            var e = this.options.type;
            "vod" === this.options.type ? e = "content" : "live" === this.options.type && (e = "tag");
            var t = this;
            this.related_list = new i.List({
                container: this.$("#recContent"),
                id: this.options.related_id,
                url: this.options.url,
                type: e,
                limit: 6,
                link_suffix: {
                    video: "vod_recommended",
                    article: "article_recommended",
                    galleries: "gallery_recommended"
                },
                callback: function(e) {
                    t.callbackHandler(this, e)
                }
            })
        },
        loadNextVideo: function() {
            var e = this.options.video;
            this.logger.info("loadNextVideo for v:%o", e);
            var t, i = !1;
            if ("leaderboard" === e.contentType)
                this.related_list && this.related_list.content.length > 0 && (t = this.related_list.content.at(0),
                i = !0);
            else
                for (var s = 0, n = this.related_list.content.length; s < n; s++) {
                    var a = this.related_list.content.at(s);
                    if ("video" === a.get("type")) {
                        t = a,
                        i = !0;
                        break
                    }
                }
            i && this.trigger("nextvideo", t)
        }
    });
    return a
}),
define("views/watch-live-hole-players", ["require", "underscore", "backbone", "views/secondary-dropdown", "views/player-card", "utils/pubsub", "utils/scores", "utils/scores-video", "utils/common"], function(e) {
    var t = e("underscore")
      , i = e("backbone")
      , s = e("views/secondary-dropdown")
      , n = e("views/player-card")
      , a = e("utils/pubsub")
      , r = e("utils/scores")
      , o = e("utils/scores-video")
      , l = e("utils/common")
      , h = {};
    h.no_players = '<div class="noPlayersWrapper wrapperThird playerCard"> <div class="image no_gradient"> <img src="/images/now/trans_16x9.gif" border="0" alt="Legend"/> </div> <span class="noPlayersText">No players currently on hole.</span></div>';
    var c = i.View.extend({
        el: "content_tab",
        selected: !1,
        initialize: function(e) {
            this.hole_num = e.hole_num,
            this.channel = e.channelId,
            this.cardsMap = {},
            this.currentPlayers = [],
            this.listenTo(o, "holeplayers:refresh", this.loadPlayers)
        },
        render: function() {
            return this.loadPlayers(),
            this
        },
        onDispose: function() {
            this.currentPlayers.forEach(function(e) {
                this.cardsMap[e].dispose(),
                delete this.cardsMap[e]
            }
            .bind(this)),
            this.cardsMap = {}
        },
        loadPlayers: function() {
            var e = o.holeChannels[this.channel][this.hole_num];
            if (e.players.length > 0) {
                this.$(".noPlayersWrapper").remove();
                var i = t.difference(e.players, this.currentPlayers)
                  , s = i.length;
                if (s > 0) {
                    for (var l = [], c = 0; c < s; c++) {
                        var d = i[c]
                          , u = new n({
                            model: r.collection.get(d),
                            favorite: !0,
                            metrics_suffix: "bio_live"
                        }).render();
                        u.$el.addClass("wrapperThird"),
                        this.currentPlayers.push(d),
                        this.cardsMap[d] = u,
                        l.push(u.$el)
                    }
                    this.$el.append(l),
                    a.trigger("lookup.unveil")
                }
                var p = t.difference(this.currentPlayers, e.players);
                if (s = p.length,
                s > 0)
                    for (var c = 0; c < s; c++) {
                        var d = p[c];
                        this.cardsMap[d].dispose();
                        var f = this.currentPlayers.indexOf(d);
                        this.currentPlayers.splice(f, 1)
                    }
            } else {
                for (var c = 0, s = this.currentPlayers.length; c < s; c++) {
                    var d = this.currentPlayers[c];
                    this.cardsMap[d].dispose()
                }
                this.currentPlayers = [],
                this.$el.html(h.no_players)
            }
        }
    })
      , d = i.View.extend({
        el: "#livePlayerContent",
        events: {},
        channelId: "ac",
        initialize: function(e) {
            e && e.channelId && (this.channelId = e.channelId),
            this.holeSelector = new s({
                el: this.$("#holeSelector"),
                callback: this.selectHole,
                callback_context: this
            }),
            l.collapseMenus([this.holeSelector]),
            this.hole_views = []
        },
        render: function() {
            return this.load(),
            this
        },
        onDispose: function() {
            this.hole_views.forEach(function(e) {
                e.dispose()
            }),
            this.holeSelector.dispose()
        },
        selectHole: function(e) {
            var t = e.substring(5);
            this.$("#info_" + t + ".hole, #tab_" + t + ".content_tab").addClass("selected").siblings(".selected").removeClass("selected"),
            a.trigger("lookup.unveil")
        },
        load: function() {
            var e = this
              , i = o.holeChannels[this.channelId];
            t.each(i, function(t, i) {
                var s = new c({
                    el: e.$("#tab_hole" + i),
                    hole_num: i,
                    channelId: e.channelId
                }).render();
                e.hole_views.push(s)
            })
        }
    });
    return d
}),
define("views/watch-live-fg-players", ["require", "backbone", "underscore", "views/player-card", "utils/pubsub", "utils/scores", "utils/scores-video", "collections/holes"], function(e) {
    var t = e("backbone")
      , i = e("underscore")
      , s = e("views/player-card")
      , n = e("utils/pubsub")
      , a = e("utils/scores")
      , r = e("utils/scores-video")
      , o = e("collections/holes")
      , l = t.View.extend({
        template: '<div class="holeWrapper"><div class="hole selected"></div></div><div class="players"></div>',
        className: "groups",
        defaults: {
            id: "",
            players: []
        },
        initialize: function(e) {
            if (this.options = i.extend({}, this.defaults, e),
            this.id = this.options.id,
            this.players = this.options.players,
            this.hole = 19,
            this.$el.html(this.template),
            this.$title = this.$(".holeWrapper .hole"),
            this.$players = this.$(".players"),
            this.wrapStyle = "wrapperThird",
            2 === this.players.length) {
                this.wrapStyle = "wrapperHalf";
                var t = $('<div class="content_tab selected twoplayers">');
                this.$players.append(t),
                this.$players = t
            }
            o.fetch({
                success: function() {
                    this.findLatestHole(),
                    this.listenTo(n, "scores:refresh", this.findLatestHole)
                }
                .bind(this)
            }),
            this.cards = []
        },
        render: function() {
            return this.players.forEach(function(e) {
                var t = new s({
                    model: e,
                    favorite: !0,
                    metrics_suffix: "bio_live"
                }).render();
                t.$el.addClass(this.wrapStyle),
                this.cards.push(t),
                this.$players.append(t.$el)
            }
            .bind(this)),
            this
        },
        onDispose: function() {
            this.cards.forEach(function(e) {
                e.dispose()
            })
        },
        findLatestHole: function() {
            this.players.forEach(function(e) {
                var t = a.Utilities.getHoleFromShot(e.get("lastHoleWithShot"));
                t < this.hole && (this.hole = t)
            }
            .bind(this)),
            this.updateHoleInformation()
        },
        updateHoleInformation: function() {
            this.hole < 0 || isNaN(this.hole) || null === this.hole ? this.hole = 1 : this.hole > 18 && (this.hole = 18);
            var e = o.get(this.hole)
              , t = ["Hole " + e.get("number"), e.get("plant"), "Par " + e.get("par"), e.get("yds") + " Yards"];
            this.$title.html(t.join(" &nbsp;/&nbsp; "))
        }
    })
      , h = t.View.extend({
        el: "#livePlayerContent",
        initialize: function(e) {
            e && e.channelId && (this.channelId = e.channelId),
            this.$container = this.$("#holePlayers").empty(),
            this.groups = {},
            this.groupIds = [],
            this.group_views = {},
            this.listenTo(r, "featuredplayers:refresh", this.load)
        },
        render: function() {
            return a.isDataLoaded() ? (this.load(),
            this) : (this.stopListening(r, "featuredplayers:refresh", this.render),
            void this.listenToOnce(r, "featuredplayers:refresh", this.render))
        },
        onDispose: function() {
            this.removeGroupViews()
        },
        load: function() {
            var e = r.groupChannels[this.channelId];
            this.players = e.players.slice(0);
            var t = this.groupIds.slice(0);
            this.groupIds = [],
            this.groups = {};
            for (var s = 0, n = this.players.length; s < n; s++) {
                var o = this.players[s]
                  , l = a.collection.get(o);
                if (void 0 !== l) {
                    var h = l.get("group");
                    void 0 === this.groups[h] && (this.groups[h] = [],
                    this.groupIds.push(h)),
                    this.groups[h].push(l)
                }
            }
            var c = i.difference(t, this.groupIds)
              , d = i.difference(this.groupIds, t);
            this.addGroupViews(d),
            this.removeGroupViews(c)
        },
        addGroupViews: function(e) {
            void 0 === e && (e = this.groupIds);
            for (var t = 0, i = e.length; t < i; t++) {
                var s = e[t];
                if (void 0 === this.group_views[s]) {
                    var a = new l({
                        id: s,
                        players: this.groups[s]
                    }).render();
                    this.group_views[s] = a,
                    this.$container.append(a.$el)
                }
            }
            e.length > 0 && n.trigger("lookup.unveil")
        },
        removeGroupViews: function(e) {
            void 0 === e && (e = this.groupIds);
            for (var t = 0, i = e.length; t < i; t++) {
                var s = e[t];
                this.group_views[s].dispose(),
                delete this.group_views[s]
            }
        }
    });
    return h
}),
define("controllers/watch-live", ["require", "jquery", "underscore", "backbone", "baseview", "utils/metrics", "utils/browser", "utils/common", "utils/pubsub", "utils/title-selector", "collections/holes", "utils/favorites", "utils/geoblock", "utils/video-player", "utils/scroll-to-fade", "utils/channel-controller", "utils/scores-video", "views/related-videos", "views/watch-live-hole-players", "views/watch-live-fg-players"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("baseview")
      , a = e("utils/metrics")
      , r = e("utils/browser")
      , o = e("utils/common")
      , l = e("utils/pubsub")
      , h = e("utils/title-selector")
      , c = e("collections/holes")
      , d = e("utils/favorites")
      , u = e("utils/geoblock")
      , p = e("utils/video-player")
      , f = e("utils/scroll-to-fade")
      , g = e("utils/channel-controller")
      , m = e("utils/scores-video")
      , v = e("views/related-videos")
      , b = e("views/watch-live-hole-players")
      , y = e("views/watch-live-fg-players")
      , w = n.extend({
        events: {
            "click .media_promo a": "mediaPromoClick"
        },
        cid: "watchLiveView",
        related_id: "live",
        geo_checked: !1,
        initialize: function(e) {
            return u.isLoaded() ? u.isBlocked() && this.geoAction() : u.checkAction = this.geoAction.bind(this),
            n.prototype.initialize.apply(this, [e]),
            r.checkMobileTabletDevice(),
            this.logger = new eventsCore.util.Logger("WatchLiveView"),
            a.video_action = "Live",
            this.listenTo(l, "panel:open", this.onPanelOpen),
            this.listenTo(l, "panel:close", this.onPanelClose),
            this.listenTo(l, "panel:exit", this.onPanelExit),
            this.listenTo(l, "panel:live:disable", this.disableLiveVideo),
            this.channel = eventsCore.util.getUrlParam("videoChannel"),
            null === this.channel ? void (this.continue_load = "/en_US/watch/index.html") : (this.hero.$welcome.find("div.media_promo").attr("video-id", this.channel),
            this.cardsMap = {},
            this.playersByHole = {},
            this.loadPlayerSSI(),
            this.updateChannelList(),
            this.refreshChannels(),
            this.channel_object && this.processLoad(),
            this.listenTo(l, "livevideo:reset", this.updateChannelList),
            this.listenTo(l, "livevideo:reset", this.refreshChannels),
            void c.fetch())
        },
        processPageVars: function() {
            var e = g.getChannel(eventsCore.util.getUrlParam("videoChannel"))
              , t = eventsCore.util.getUrlParam("videoChannel");
            e && (t = e.get("name")),
            this.props = {
                prop30: t
            }
        },
        onRender: function() {
            if (this.hero && (this.hero.titleSelector = new h({
                el: this.$("#pageTitle"),
                max: 1,
                measure_key: ["Watch", "Live", "Channel Change"]
            }),
            this.hero.render(),
            this.hero.scrollFade = (new f).render()),
            this.listenTo(p, "player:complete", this.onCompleteEvent),
            this.listenTo(p, "player:play", this.onPlayEvent),
            this.listenTo(p, "player:stop", this.onStopEvent),
            o.internalRef()) {
                var e = this.$(".heroVideo").find("div.media_promo").attr("video-id");
                this.playHeroVideo(e)
            }
        },
        onDispose: function() {
            this.recommended && this.recommended.dispose(),
            this.playerView && this.playerView.dispose()
        },
        geoAction: function() {
            this.geo_checked || u.isLoaded() && (u.isBlocked() && (this.continue_load = "/en_US/watch/index.html"),
            this.geo_checked = !0)
        },
        processLoad: function() {
            var e = this.hero.$welcome.find(".imageWrapper img")
              , t = this.channel_object.get("imagePath");
            e.attr({
                "data-lower": t,
                "data-medium": t,
                "data-high": t
            }),
            this.unveil(e),
            g.checkChannelStatus(this.channel) || (this.continue_load = "/en_US/watch/index.html"),
            d.prefix = a.page_section + ":" + this.channel_object.get("name")
        },
        mediaPromoClick: function(e) {
            var i = t(e.target).closest("div[video-id]").attr("video-id");
            this.playHeroVideo(i),
            a.measureVideoPlayer(a.page_section, a.video_action, "Push to start")
        },
        playHeroVideo: function(e) {
            0 !== g.collection.length && this.video || (this.updateChannelList(),
            this.refreshChannels()),
            this.hero.$welcome.has('div[video-id="' + e + '"]').addClass("dim"),
            this.stopListening(l, "livevideo:reset", this.updateChannelList),
            this.hero.titleSelector.$el.css("visibility", "hidden"),
            this.video ? (l.trigger("throttle:resize"),
            l.trigger("video:playPanel", [this.video], this.channel)) : this.logger.info("mediaPromoClick - video not defined:%o", this.video)
        },
        onPlayEvent: function(e) {
            this.stopListening(l, "livevideo:reset", this.updateChannelList)
        },
        onCompleteEvent: function(e) {
            this.hero.$welcome.has('div[id="' + e.id + '"]').find(".related_banner").show().addClass("visible")
        },
        onStopEvent: function(e) {
            this.hero.$welcome.has('div[id="wrapper_' + e.id + '"]').removeClass("dim")
        },
        onPanelOpen: function(e, t) {
            t && e.videoData && e.videoData.id === this.channel && s.history.navigate("/en_US/watch/index.html", {
                trigger: !0
            })
        },
        onPanelClose: function(e) {
            if (e.videoData && e.videoData.id === this.channel) {
                var t = this.hero.$(".imageWrapper");
                t.css("height", ""),
                this.hero.$el.removeClass("half-height"),
                this.hero.$welcome.removeClass("panel"),
                this.stopListening(l, "ratio:resize", this.halfHeightResize),
                this.stopListening(l, "livevideo:reset", this.updateChannelList),
                this.hero.titleSelector.$el.css("visibility", "hidden")
            }
        },
        onPanelExit: function(e) {
            e.videoData && e.videoData.id === this.channel && (this.onPanelClose(e),
            this.hero.$welcome.removeClass("dim"),
            this.updateChannelList(),
            this.listenTo(l, "livevideo:reset", this.updateChannelList),
            this.hero.titleSelector.$el.css("visibility", "visible"))
        },
        halfHeightResize: function(e, t, i) {
            this.hero.$(".imageWrapper").css("height", i / 2)
        },
        loadPlayerSSI: function() {
            i.indexOf(["ac", "1516", "fg1", "fg2"], this.channel) > -1 && (this.refreshPlayers(),
            this.listenTo(l, "scores:refresh", this.refreshPlayers),
            this.$("#livePlayerContent").load("/en_US/includes/man/watch/live_players_" + this.channel + ".ssi", function(e) {
                this.channel.indexOf("fg") === -1 ? this.playerView = new b({
                    el: this.$("#livePlayerContent"),
                    channelId: this.channel
                }).render() : this.playerView = new y({
                    el: this.$("#livePlayerContent"),
                    channelId: this.channel
                }).render()
            }
            .bind(this)))
        },
        updateChannelList: function() {
            var e = this.$("#pageSelector")
              , i = e.find(".option_wrapper ul")
              , s = [];
            g.collection.forEach(function(i, n, a) {
                var r = "";
                i.get("live") && (r = t('<a href="/en_US/watch/live.html?videoChannel=' + i.get("channelId") + '&changer">' + i.get("name") + "</a>"));
                var o = "";
                if (i.get("channelId") === this.channel) {
                    var l = t('<a href="#">' + i.get("name") + "</a>");
                    o = "selected";
                    var h = e.find(".selector");
                    h.find("a").hasClass("open") && l.addClass("open"),
                    h.html(l)
                }
                i.get("live") && "radio" !== i.get("channelId") && s.push(t('<li class="' + o + '"></li>').append(r))
            }
            .bind(this)),
            0 === s.length && (s = ['<li class="disabled">All Channels Off Air</li>']),
            i.html(s)
        },
        refreshChannels: function() {
            this.channel.indexOf("fg") > -1 && m.assignFeaturedGroupPlayers(),
            this.channel_object = g.getChannel(this.channel),
            this.channel_object && (this.video = g.getVideoObject(this.channel));
            var e = g.checkChannelStatus(this.channel);
            e && this.enableLiveVideo(),
            e || !this.hero.$welcome.hasClass("panel") && this.hero.$welcome.hasClass("dim") || this.disableLiveVideo(),
            this.channel_object && this.related_url !== this.channel_object.get("relatedContent") && (this.related_url = this.channel_object.get("relatedContent"),
            this.loadRelatedContent())
        },
        enableLiveVideo: function() {
            this.hero.$welcome.hasClass("hasVideo") || (this.$("#livePlayerContent").show(),
            this.hero.$welcome.addClass("hasVideo").find(".label").show().removeClass("offair").addClass("live").html("Live"),
            clearTimeout(this.timeoutId))
        },
        disableLiveVideo: function(e) {
            this.hero.$welcome.hasClass("hasVideo") && (this.timeoutId = setTimeout(function() {
                s.history.navigate("/en_US/watch/index.html", !0)
            }, 6e4),
            this.$("#livePlayerContent").hide(),
            this.hero.$welcome.removeClass("hasVideo")),
            this.hero.$welcome.find(".label").show().removeClass("live").addClass("offair").html("Off Air")
        },
        refreshPlayers: function() {
            i.indexOf(["ac", "1516"], this.channel) > -1 ? m.parsePlayersByChannel() : this.channel.indexOf("fg") > -1 && m.assignFeaturedGroupPlayers()
        },
        loadRelatedContent: function() {
            if (0 === g.collection.length)
                l.off("livevideo:reset", this.loadRelatedContent, this).once("livevideo:reset", this.loadRelatedContent, this);
            else {
                var e = "url"
                  , s = !1
                  , n = !1
                  , a = !1;
                if ("" === this.related_url) {
                    switch (this.channel) {
                    case "ac":
                    case "1516":
                        var r = m.holeChannels[this.channel]
                          , o = [];
                        t.each(r, function(e, t) {
                            o.push(t.players)
                        }),
                        o = i.flatten(o),
                        this.related_id = o,
                        s = !0,
                        a = o.length > 0;
                        break;
                    case "fg1":
                    case "fg2":
                        var o = m.groupChannels[this.channel].players;
                        this.related_id = o,
                        n = !0,
                        a = o.length > 0
                    }
                    e = "live"
                }
                void 0 !== this.related_id && "" !== this.related_id && this.related_id.length > 0 ? (this.$("#recHeader, #recContent").show(),
                this.recommended = new v({
                    el: this.$("section.body"),
                    type: e,
                    related_id: this.related_id,
                    url: this.related_url
                }).render()) : (this.$("#recHeader, #recContent").hide(),
                s && !a ? m.once("holeplayers:refresh", this.loadRelatedContent, this) : n && !a && m.once("featuredplayers:refresh", this.loadRelatedContent, this))
            }
        }
    });
    return w
}),
define("views/related-next-video", ["require", "backbone", "utils/ratio-resize", "utils/window-size"], function(e) {
    var t = e("backbone")
      , i = e("utils/ratio-resize")
      , s = e("utils/window-size")
      , n = t.View.extend({
        el: "#nextVideo",
        initialize: function(e) {
            this.on("render", this.render),
            this.on("show", this.show),
            this.on("hide", this.hide),
            this.on("played", this.played),
            e && e.video ? this.video = e.video : this.video = {
                cmsId: "",
                link: "",
                contentType: "",
                image: {
                    medium: ""
                },
                caption: ""
            },
            this.resize = new i({
                title: {
                    height: 50
                },
                hcallback: function(e, t) {
                    e = Math.floor(16 * t / 9),
                    s.size() === s.sizes.global && (e = ""),
                    this.$el.css({
                        width: e
                    })
                }
                .bind(this),
                wcallback: function(e, t) {
                    "" !== this.el.style.width && this.$el.css({
                        width: ""
                    })
                }
                .bind(this)
            })
        },
        render: function() {
            this.$el.attr("id", "nextVideo_" + this.video.get("cmsId"));
            var e = this.video.get("link")
              , t = "Next Video";
            return "leaderboard" === this.video.get("contentType") && (t = "Next Highlight"),
            e = e.replace(/\.html(\?.*)?/, ".html?promo=vod_next"),
            this.$("a").attr("href", e),
            this.$(".photo").html('<img src="' + this.video.get("image").medium + '" />'),
            this.$(".prompt").html(t),
            this.$(".title").html(this.video.get("caption")),
            this
        },
        onDispose: function() {
            this.resize.dispose()
        },
        setVideo: function(e) {
            this.video = e,
            this.render()
        },
        show: function() {
            this.$el.addClass("visible")
        },
        hide: function() {
            this.$el.removeClass("visible")
        },
        played: function() {
            this.$el.addClass("played")
        }
    });
    return n
}),
define("controllers/watch-vod", ["require", "jquery", "underscore", "backbone", "baseview", "utils/metrics", "utils/pubsub", "utils/browser", "utils/window-size", "utils/common", "utils/video-player", "utils/scroll-to-fade", "views/related-videos", "views/related-next-video"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("baseview")
      , a = e("utils/metrics")
      , r = e("utils/pubsub")
      , o = e("utils/browser")
      , l = e("utils/window-size")
      , h = e("utils/common")
      , c = e("utils/video-player")
      , d = e("utils/scroll-to-fade")
      , u = e("views/related-videos")
      , p = e("views/related-next-video")
      , f = n.extend({
        events: {
            "click .media_promo a": "mediaPromoClick"
        },
        initialize: function(e) {
            n.prototype.initialize.apply(this, [e]),
            o.checkMobileTabletDevice(),
            a.video_action = "VOD",
            this.next_video = new p({
                el: this.$("#nextVideo")
            }),
            this.listenTo(r, "panel:open", this.onPanelOpen),
            this.listenTo(r, "panel:close", this.onPanelClose),
            this.listenTo(r, "panel:exit", this.onPanelExit),
            this.logger = new eventsCore.util.Logger("WatchVodView"),
            this.logger.info("initialize - link:%o mobile:%o", this.$("#welcome").find(".media_promo a"), o.mobiledevice)
        },
        processPageVars: function() {
            for (var e = this.jsonData.pageDetails, t = ["pageId", "pageTitle2", "pageAbstr"], s = t.length - 1; s >= 0; s--) {
                var n = t[s];
                e[n] = encodeURIComponent(e[n])
            }
            var a = this.jsonData.metrics;
            this.props = {
                prop4: "Video",
                prop17: "VOD:" + a.prop33,
                prop21: a.prop21,
                prop33: a.prop33
            },
            this.related_id = this.jsonData.related_id,
            this.video = this.jsonData.video[0],
            this.pageTitle = this.video.contentType + ":VOD Detail",
            "leaderboard" === this.video.contentType ? i.extend(this.props, {
                prop35: a.prop35,
                prop22: a.prop22
            }) : "shot_highlight" === this.video.contentType && i.extend(this.props, {
                prop43: a.prop43,
                prop22: a.prop22
            })
        },
        onRender: function() {
            if (this.logger.info("onRender - hero:%o", this.hero),
            this.hero && (this.hero.titleSelector = {
                height: 50
            },
            this.hero.render(),
            this.hero.scrollFade = (new d).render()),
            this.logger.info("onRender - title:%o", this.hero.titleSelector),
            this.listenTo(c, "player:complete", this.onCompleteEvent),
            this.listenTo(c, "player:play", this.onPlayEvent),
            this.listenTo(c, "player:stop", this.onStopEvent),
            this.listenTo(c, "player:controls", this.onControlsEvent),
            this.loadRelatedContent(),
            h.internalRef()) {
                var e = this.$(".heroVideo").find("div.media_promo").attr("video-id");
                this.playHeroVideo(e)
            }
            !o.mobiledevice
        },
        onDispose: function() {
            c.dispose(),
            this.recommended && this.recommended.dispose()
        },
        mediaPromoClick: function(e) {
            var i = t(e.target).closest("div[video-id]").attr("video-id");
            this.playHeroVideo(i),
            a.measureVideoPlayer(a.page_section, a.video_action, "Push to start")
        },
        playHeroVideo: function(e) {
            c.setSinglePlayerMode();
            var t = i.find(this.jsonData.video, function(t) {
                return t.id === e
            });
            t.panelButton = "video_vod",
            this.logger.info("playHeroVideo - id:%o video:%o", e, t),
            t ? (r.trigger("throttle:resize"),
            r.trigger("video:playPanel", [t], t.id, {
                vod: !0
            })) : this.logger.info("mediaPromoClick - video not defined:%o", this.video),
            this.$(".heroVideo").has('div[id="wrapper_' + e + '"]').addClass("dim")
        },
        onPlayEvent: function(e) {
            this.logger.info("onPlayEvent - data:%o", e),
            this.next_video.trigger("hide")
        },
        onCompleteEvent: function(e) {
            this.logger.info("onCompleteEvent - data:%o", e),
            e.id && "heroVideo" === h.video_panel[e.id].state() && (l.size() !== l.sizes.global && r.trigger("video:resetHero"),
            this.next_video.trigger("show"),
            this.next_video.trigger("played"));
            var t = e.id && h.video_panel[e.id];
            t && "floatVideo" === t.state() && t.channelId() === this.video.id && (r.trigger("video:resetVod"),
            this.next_video.trigger("show"),
            this.next_video.trigger("played"))
        },
        onStopEvent: function(e) {
            this.logger.info("onStopEvent - data:%o", e),
            this.$(".heroVideo").has('div[id="wrapper_' + e.id + '"]').removeClass("dim")
        },
        onControlsEvent: function(e) {
            this.logger.info("onControlsEvent - data:%o", e)
        },
        onPanelOpen: function(e, t) {
            e.videoVod && e.videoData.id === this.video.id && (this.logger.info("onPanelOpen - adjust:%o", t),
            t && s.history.navigate("/en_US/watch/index.html", {
                trigger: !0
            }))
        },
        onPanelClose: function(e) {
            if (e.videoVod && e.videoData.id === this.video.id) {
                var t = this.hero.$(".imageWrapper");
                t.css("height", ""),
                this.hero.$el.removeClass("half-height"),
                this.hero.$welcome.removeClass("panel")
            }
        },
        onPanelExit: function(e) {
            e.videoVod && e.videoData.id === this.video.id && (this.onPanelClose(e),
            this.hero.$welcome.removeClass("dim"))
        },
        loadRelatedContent: function() {
            if (this.related_id && "" !== this.related_id) {
                var e = this.video.contentType
                  , t = "vod";
                "leaderboard" === e ? t = "highlight" : "shot_highlight" === e ? t = "shot_highlight" : "replay" === e && (t = "replay"),
                this.recommended = new u({
                    el: this.$("section.body"),
                    type: t,
                    video: this.video,
                    related_id: this.related_id
                }).render(),
                this.listenTo(this.recommended, "nextvideo", this.setNextVideo)
            } else
                this.$("#recHeader, #recContent").hide()
        },
        setNextVideo: function(e) {
            this.next_video.setVideo(e)
        }
    });
    return f
}),
define("controllers/static-page", ["require", "jquery", "underscore", "baseview", "utils/browser", "utils/video-player", "utils/metrics", "utils/common"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("baseview")
      , n = e("utils/browser")
      , a = e("utils/video-player")
      , r = e("utils/metrics")
      , o = e("utils/common")
      , l = s.extend({
        events: {
            "click .bodyVideo > a": "videoPlayClick",
            "click .shop-promo-text a": "metricsLinkClick",
            "click #milestones": "openTimeline"
        },
        onInitialization: function() {
            s.prototype.onInitialization.apply(this, arguments),
            this.listenTo(a, "player:complete", this.onCompleteEvent),
            this.listenTo(a, "player:play", this.onPlayEvent),
            this.listenTo(a, "player:stop", this.onStopEvent),
            a.setSinglePlayerMode(),
            n.app && this.$el.addClass("lbwebview")
        },
        processPageVars: function() {
            var e = this.jsonData.pageDetails;
            e && void 0 !== e.pageTitle && (this.pageTitle = e.pageTitle)
        },
        onRender: function() {
            s.prototype.onRender.apply(this, arguments),
            this.unveilImages()
        },
        onDispose: function() {
            a.dispose()
        },
        videoPlayClick: function(e) {
            var s = t(e.target).closest("div[video-id]").attr("video-id");
            if (n.app)
                n.apptype.ios ? o.sendiOSMessage("video", s) : n.apptype.android && o.sendAndroidMessage("video?id=" + s);
            else {
                var l = i.find(this.jsonData.video, function(e) {
                    return e.id === s
                });
                a.loadVideo(l, s),
                r.measureAppMediaLoad(r.page_section, r.video_action, l.title)
            }
        },
        onPlayEvent: function(e) {
            this.logger.info("onPlayEvent - data:%o", e)
        },
        onStopEvent: function(e) {
            this.logger.info("onStopEvent - data:%o", e)
        },
        onCompleteEvent: function(e) {
            this.logger.info("onCompleteEvent - data:%o", e)
        },
        unveilImages: function() {
            this.unveil(this.$(".containerPhoto, .containerVideo").find("img.srcpic"))
        },
        metricsLinkClick: function(e) {
            e.preventDefault();
            var t = e.currentTarget.href;
            return r.openExternal(t, "newWindow"),
            !1
        },
        openTimeline: function(e) {
            return o.openTimeline(e)
        }
    });
    return l
}),
define("controllers/patron", ["require", "jquery", "underscore", "utils/querystring", "backbone", "baseview", "utils/metrics", "views/secondary-dropdown", "views/print-window", "jquery.dropdown_ext"], function(e) {
    var t = (e("jquery"),
    e("underscore"),
    e("utils/querystring"),
    e("backbone"),
    e("baseview"))
      , i = (e("utils/metrics"),
    e("views/secondary-dropdown"))
      , s = e("views/print-window");
    e("jquery.dropdown_ext");
    var n = t.extend({
        onInitialization: function() {
            t.prototype.onInitialization.apply(this, arguments),
            this.$mediaSelector = new i({
                el: this.$(".tabs")
            }),
            this.$mediaSelector.setCallback(function(e) {
                var t = e.substring(5);
                this.toggleContent(t)
            }
            .bind(this)),
            this.printOptions(),
            this.parseParams()
        },
        onDispose: function() {
            this.printMap.dispose(),
            this.printDirections.dispose()
        },
        printOptions: function() {
            this.printDirections = new s({
                el: this.$(".printLink"),
                navbar: !1,
                page_title: this.pageTitle,
                print_div: "directionsprint",
                metrics_name: "Tournament:Patron Info:Directions & Parking"
            }),
            this.printMap = new s({
                el: this.$(".printMap"),
                navbar: !1,
                page_title: this.pageTitle,
                print_div: "parkingprint",
                metrics_name: "Tournament:Patron Info: Directions & Parking"
            })
        },
        toggleContent: function(e) {
            this.$tab = this.$("#tab-" + e),
            this.$tab.addClass("selected").siblings().removeClass("selected"),
            this.clearUnveil(),
            this.unveil(this.$tab.find("img.srcpic"))
        },
        parseParams: function() {
            var e = eventsCore.util.getUrlParam("page");
            if (null !== e) {
                switch (e) {
                case "atthemasters":
                    e = 1;
                    break;
                case "directions":
                    e = 2;
                    break;
                case "localinfo":
                    e = 3;
                    break;
                case "ticketing":
                    e = 4;
                    break;
                default:
                    e = 1
                }
                this.$mediaSelector.setOption(e - 1),
                this.toggleContent(e)
            }
        }
    });
    return n
}),
define("models/past-winner", ["require", "jquery", "backbone"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = t.Model.extend({
        defaults: {
            year: 2017
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Past Winners Model"),
            this.logger.info("Initialize"),
            this.options = _.extend({
                year: this.defaults.year
            }, e)
        },
        urlRoot: "/en_US/xml/man/history/",
        url: function() {
            var e = this.urlRoot + this.options.year + ".xml";
            return e
        },
        fetch: function(e) {
            return e = e || {},
            e.dataType = "xml",
            t.Model.prototype.fetch.call(this, e)
        },
        parse: function(e) {
            this.parsedata = {};
            for (var t = e.childNodes[0].childNodes.length, i = 0; i < t; i++) {
                var s = e.childNodes[0].childNodes[i];
                if (1 === s.nodeType) {
                    this.attArray = {};
                    for (var n = 0; n < s.attributes.length; n++) {
                        var a = s.attributes[n];
                        this.addtoJSON(this.attArray, a.name, a.value)
                    }
                    this.addtoJSON(this.parsedata, s.nodeName, this.attArray)
                }
            }
            return this.parsedata
        },
        addtoJSON: function(e, t, i) {
            e[t] ? (e[t].constructor != Array && (e[t] = [e[t]]),
            e[t][e[t].length] = i) : e[t] = i
        }
    });
    return i
}),
define("views/past-winners", ["require", "jquery", "underscore", "backbone", "utils/metrics", "utils/title-list", "models/past-winner", "utils/video-player"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/metrics")
      , a = e("utils/title-list")
      , r = e("models/past-winner")
      , o = e("utils/video-player")
      , l = {};
    l.results_table = i.template('<table class="tablesaw" data-tablesaw-mode="swipe" id="mytable"><thead><tr><th data-tablesaw-priority="persist" class="hposition">Pos</th><th data-tablesaw-priority="persist" class="hplayer">Player</th><th class="hround_1">R1</th><th class="hround_2">R2</th><th class="hround_3">R3</th><th class="hround_4">R4</th><th class="htotal_score">Total Score</th><th class="htotal_par">Total Par</th></tr></thead><tbody id="place1"> <%= results_rows %></tbody></table>'),
    l.results_row = i.template('<tr><td class="position"><%= position %></td><td class="player"><%= name %></td><td class="r1"><%= round1 %></td><td class="r2"><%= round2 %></td><td class="r3"><%= round3 %></td><td class="r4"><%= round4 %></td><td class="score"><%= total %></td><td class="par"><%= vsPar %></td></tr>'),
    l.media_tmpl = i.template('<div class="image"><img class="srcpic" data-high="/images/about/pw/d_<%= year %>.jpg" data-medium="/images/about/pw/d_<%= year %>.jpg" data-lower="/images/about/pw/m_<%= year %>.jpg" src="/images/now/trans_16x9.gif"></div><div class="centered_icon play"></div>'),
    l.video_tmpl = i.template('<div video-id="<%= videoID %>"><section class="ecp-player"> <div id="wrapper_<%= videoID %>" class="masters-ecp playerwrapperContainer"></div> </section></div>');
    var h = a.extend({
        el: "#winnerSelect",
        events: function() {
            var e = a.prototype.events;
            return e["click ul a"] = "switchYear",
            e
        },
        openList: function() {
            a.prototype.openList.call(this),
            this.toggleSelector.parents(".filter").addClass("open")
        },
        closeList: function() {
            a.prototype.closeList.call(this),
            this.toggleSelector.parents(".filter").removeClass("open")
        },
        setSelected: function(e, t) {
            this.$(".option_wrapper").find("li.selected").removeClass("selected"),
            e.parent().addClass("selected"),
            this.$("a.selected_option").html(t + " Masters Tournament")
        },
        switchYear: function(e) {
            var i = t(e.currentTarget);
            if (i.parent().hasClass("selected"))
                return !1;
            var s = i.text();
            this.setSelected(i, s),
            this.closeList(),
            n.measureApp(this.options.measure_prefix, s),
            this.trigger("select", s)
        }
    })
      , c = s.View.extend({
        el: "section.past-winners-content",
        events: {
            "click .btn-micro": "metrics_btnClick",
            "click #winnerMedia.hasVideo > a": "videoPlayClick"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("PastWinnersView"),
            this.options = e,
            this.media = this.$("#winnerMedia"),
            this.setupYearSelector()
        },
        render: function(e) {
            var t = void 0 === e ? {} : {
                year: e
            };
            this.model = new r(t),
            this.model.fetch({
                success: function(e, t, i) {
                    var s = e;
                    this.displayMedia(s, s.get("year")),
                    this.displayWinner(s.get("info")),
                    this.createResultsTable(s.get("data"))
                }
                .bind(this),
                error: function(e, t, i) {}
            })
        },
        onDispose: function() {
            this.yearSelector.dispose()
        },
        setupYearSelector: function() {
            this.yearSelector = new h({
                el: this.$("#winnerSelect"),
                max: 1,
                measure_key: this.options.metrics_name
            }),
            this.yearSelector.$("ul:first-child li:first-child").addClass("selected"),
            this.listenTo(this.yearSelector, "select", this.render)
        },
        createResultsTable: function(e) {
            for (var t = "", i = 0; i < e.length; i++)
                t += l.results_row({
                    position: e[i].position,
                    name: e[i].name,
                    round1: e[i].round1,
                    round2: e[i].round2,
                    round3: e[i].round3,
                    round4: e[i].round4,
                    total: e[i].total,
                    vsPar: e[i].vsPar
                });
            var s = l.results_table({
                results_rows: t
            });
            this.$("#winnersTable").html(s),
            this.$("#mytable").table().data("table").refresh()
        },
        displayMedia: function(e, t) {
            var i = l.media_tmpl({
                year: t
            });
            if (this.media.html(i),
            e.get("video")) {
                var s = "video_body_" + e.get("video").id
                  , n = l.video_tmpl({
                    videoID: s
                });
                o.dispose(),
                this.media.wrapInner('<a href="#">'),
                this.videoObj = {
                    id: s,
                    type: "vod",
                    title: e.get("video").title,
                    contentType: "Past Winner",
                    pictureL: e.get("video").picture,
                    pictureM: e.get("video").slate,
                    pictureH: e.get("video").slate,
                    wwwdash: "",
                    wwwhlshigh: e.get("video").highlink,
                    pdl: e.get("video").mobilehighlink,
                    link: e.get("video").pagelink
                },
                this.media.append(n).addClass("hasVideo")
            } else
                this.media.removeClass("hasVideo");
            this.clearUnveil(),
            this.unveil(this.$el.find("img.srcpic"))
        },
        displayWinner: function(e) {
            this.$(".champion-name").html(e.winner).append(",&nbsp;Champion"),
            this.$(".tournament-write-up").html(e.summary),
            this.$(".tournament-field").html(e.cut),
            this.$(".tournament-dates").html(e.dates).prepend("TOURNAMENT DATES:&nbsp;"),
            this.$(".tournament-dates").html(e.dates).append(",&nbsp;" + e.results)
        },
        metrics_btnClick: function(e) {
            n.measureApp(this.options.metrics_name, e.currentTarget.getAttribute("title"))
        },
        videoPlayClick: function(e) {
            t(e.target).closest("div[video-id]").attr("video-id");
            this.media.hasClass("hasVideo") && (o.loadVideo(this.videoObj, this.videoObj.id),
            n.measureAppMediaLoad(n.page_section, n.page_title, n.video_action, this.videoObj.title))
        },
        onPlayEvent: function(e) {
            this.logger.info("onPlayEvent - data:%o", e)
        },
        onStopEvent: function(e) {
            this.logger.info("onStopEvent - data:%o", e)
        },
        onCompleteEvent: function(e) {
            this.logger.info("onCompleteEvent - data:%o", e)
        }
    });
    return c
}),
define("controllers/past-winners", ["require", "baseview", "utils/metrics", "utils/title-selector", "views/past-winners"], function(e) {
    var t = e("baseview")
      , i = e("utils/metrics")
      , s = e("utils/title-selector")
      , n = e("views/past-winners")
      , a = t.extend({
        onInitialization: function() {
            t.prototype.onInitialization.apply(this, arguments),
            this.titleSelector = new s({
                el: this.$("#pageTitle"),
                max: 1,
                measure_key: [i.page_section, "Select Records & Stats"]
            }),
            this.pastWinners = new n({
                el: this.$(".past-winners-content"),
                metrics_name: [i.page_section, i.page_title]
            })
        },
        onRender: function() {
            t.prototype.onRender.apply(this, arguments),
            this.pastWinners.render()
        },
        onDispose: function() {
            this.pastWinners.dispose(),
            this.titleSelector.dispose()
        }
    });
    return a
}),
define("views/schedule-secondarydd", ["require", "underscore", "views/secondary-dropdown", "utils/metrics", "utils/browser"], function(e) {
    var t = e("underscore")
      , i = e("views/secondary-dropdown")
      , s = e("utils/metrics")
      , n = e("utils/browser")
      , a = i.extend({
        el: ".day-nav",
        events: {
            "click .day-container:not(.selected)": "selectOption",
            "click .day-container.selected": "toggleOpen",
            "click .day-container": "noOp"
        },
        getSelectedMeasureText: function() {
            return n.app ? this.$selected.find(".day").text() : "April " + this.$selected.find(".date").text()
        },
        measureApp: function() {
            if ("Tab" !== arguments[0])
                if (n.app) {
                    var e = t.flatten(["Schedule", "Select Day", arguments]).join(":");
                    s.appMeasure(e)
                } else
                    i.prototype.measureApp.apply(this, arguments)
        }
    });
    return a
}),
define("controllers/schedule", ["require", "jquery", "baseview", "utils/common", "utils/metrics", "utils/window-size", "utils/browser", "views/schedule-secondarydd"], function(e) {
    var t = e("jquery")
      , i = e("baseview")
      , s = e("utils/common")
      , n = e("utils/metrics")
      , a = e("utils/window-size")
      , r = e("utils/browser")
      , o = e("views/schedule-secondarydd")
      , l = i.extend({
        events: {
            "click .schedule .footnote a": "gotoFootnote"
        },
        onInitialization: function() {
            i.prototype.onInitialization.apply(this, arguments),
            this.defaultContainer = this.$('.day-container[data-current="true"]'),
            this.defaultContainer.addClass("selected"),
            this.ScheduleSecondaryDropdown = new o({
                el: this.$(".day-nav"),
                metrics: n.page_name
            }),
            this.ScheduleSecondaryDropdown.setCallback(function(e) {
                var t = this.$('a.day-container[href="' + e + '"]');
                t.addClass("selected").siblings(".selected").removeClass("selected"),
                this.loadDayInfo(t.attr("data-url"))
            }
            .bind(this))
        },
        onRender: function() {
            i.prototype.onRender.apply(this, arguments),
            this.loadDefaultDay()
        },
        onDispose: function() {
            this.ScheduleSecondaryDropdown.dispose()
        },
        gotoFootnote: function() {
            var e = t(this)
              , i = e.attr("href")
              , s = i.search(/\/en_US\/news\/articles\/\d{4}-\d{2}-\d{2}\//);
            if (s > -1) {
                var n = i;
                "ipad" !== i.substring(s - 4, s) && (n = i.slice(0, s) + "/ipad" + i.slice(s)),
                n += n.search(/\?/) > -1 ? "&" : "?",
                r.apptype.android ? n += "android" : r.apptype.ios && (n += "ios"),
                e.attr("href", n)
            }
        },
        loadDayInfo: function(e) {
            this.$(".schedule").load(e, function() {
                this.showFootnote()
            }
            .bind(this)),
            a.size() !== a.sizes.global && this.scrollToContent()
        },
        loadDefaultDay: function() {
            this.defaultDay = this.defaultContainer.attr("data-url"),
            this.loadDayInfo(this.defaultDay)
        },
        scrollToContent: function() {
            var e = this.$(".day-nav").position().top + this.$("section.page-wrap").position().top;
            e -= s.header_height,
            window.scrollY < e && window.scrollTo(0, e)
        },
        showFootnote: function() {
            r.android || r.apptype.android ? this.$(".androidonly").show() : this.$(".iosonly").show()
        }
    });
    return l
}),
define("views/lb/lb-body", ["require", "jquery", "utils/browser", "utils/metrics", "utils/pubsub", "views/lb/lb-base", "utils/lb/lb-left-offset", "utils/lb/lb-common", "utils/lb/lb-window-size", "views/lb/trad", "views/lb/ou", "utils/scores"], function(e) {
    var t = (e("jquery"),
    e("utils/browser"))
      , i = e("utils/metrics")
      , s = e("utils/pubsub")
      , n = e("views/lb/lb-base")
      , a = e("utils/lb/lb-left-offset")
      , r = e("utils/lb/lb-common")
      , o = e("utils/lb/lb-window-size")
      , l = e("views/lb/trad")
      , h = e("views/lb/ou")
      , c = e("utils/scores")
      , d = n.extend({
        el: "#leaderboardLow",
        events: {
            "click #playoffFade": "triggerClosePlayoff"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("LBIndexView"),
            this.logger.info("Initialize"),
            this.currentLB = e.lbtype,
            this.$playoffFade = this.$("#playoffFade"),
            this.listenTo(s, "currentLB:update", this.resetCurrentLB),
            this.listenTo(s, "change:playoffStatus", function() {
                r.isLBPlayoffDisplayed() ? (this.togglePlayoffFade("show"),
                this.toggleLBViews("hide")) : (this.togglePlayoffFade("hide"),
                this.toggleLBViews("show"))
            }),
            this.listenTo(s, "playoff:openPlayoff playoff:lbSubmenu:viewPlayoff playoff:mobileSubmenu:viewPlayoff", function() {
                this.togglePlayoffFade("show"),
                this.toggleLBViews("hide")
            }),
            this.listenTo(s, "playoff:closePlayoff playoff:lbsubmenu:playoffUnselected playoff:mobileSubmenu:viewLeaders", function() {
                this.togglePlayoffFade("hide"),
                this.toggleLBViews("show")
            }),
            this.listenTo(s, "windowsize:lbLargeSkeuomorphic:enter windowsize:lbSmallSkeuomorphic:enter", this.enterSkeuomorphic),
            this.listenTo(s, "windowsize:lbDesktop:enter", this.enterDesktop),
            this.listenTo(s, "windowsize:lbTablet:enter", this.enterTablet),
            this.listenTo(s, "windowsize:lbMobileLandscape:enter", this.enterMobileLandscape),
            this.listenTo(s, "windowsize:lbGlobal:enter", this.enterGlobal)
        },
        onRender: function() {
            return this.drawLeaderboard(),
            r.isLBPlayoffDisplayed() && c.collection.playoffExists ? (this.togglePlayoffFade("show"),
            this.toggleLBViews("hide")) : (this.togglePlayoffFade("hide"),
            this.toggleLBViews("show")),
            this
        },
        onDispose: function() {
            this.tradplayerlist.dispose(),
            this.ouplayerlist.dispose()
        },
        drawLeaderboard: function() {
            return c.isDataLoaded() ? (this.buildOULB(),
            this.buildTradLB(),
            this.showSelectedView(this.currentLB),
            c.collection.playoffExists && r.isLBPlayoffDisplayed() ? (this.$playoffFade.css("display", "block"),
            this.toggleLBViews("hide")) : this.toggleLBViews("show"),
            void 0) : void s.off("scores:refresh", this.drawLeaderboard, this).once("scores:refresh", this.drawLeaderboard, this)
        },
        buildTradLB: function() {
            this.tradplayerlist = new l({
                el: this.$("#traditional")
            }).render()
        },
        buildOULB: function() {
            this.ouplayerlist = new h({
                el: this.$("#overunder")
            }).render()
        },
        resetCurrentLB: function(e) {
            this.currentLB = e,
            this.showSelectedView(this.currentLB);
            var t = e + "AllPlayersContainer";
            this.addBottomBorders(t),
            s.trigger("lookup.unveil")
        },
        toggleLBViews: function(e) {
            if (o.size() !== o.sizes.lgskeuomorphic || o.size() !== o.sizes.smskeuomorphic)
                switch (e) {
                case "hide":
                    this.$(".content").addClass("hidden");
                    break;
                case "show":
                default:
                    this.$(".content").removeClass("hidden")
                }
        },
        togglePlayoffFade: function(e) {
            switch (e) {
            case "show":
                t.ie8 ? this.$playoffFade.show() : this.$playoffFade.fadeIn();
                break;
            case "hide":
            default:
                t.ie8 ? this.$playoffFade.hide() : this.$playoffFade.fadeOut()
            }
        },
        triggerClosePlayoff: function(e) {
            r.setMainClosePlayoffCookie(),
            i.measureApp(i.page_section, "Hide Playoff"),
            s.trigger("playoff:closePlayoff")
        },
        enterSkeuomorphic: function() {
            a.init(this),
            c.collection.playoffExists && r.isLBPlayoffDisplayed() ? this.togglePlayoffFade("show") : this.togglePlayoffFade("hide")
        },
        enterDesktop: function() {
            s.trigger("lookup.unveil"),
            a.destroyLeftOffset(this)
        },
        enterGlobal: function() {
            this.forceTradView(),
            a.destroyLeftOffset(this)
        },
        forceTradView: function() {
            r.setMainTradCookie(),
            this.currentLB = r._lbTypeLookUp.trad,
            this.showSelectedView(this.currentLB),
            s.trigger("forceTradView:enabled", this.currentLB),
            i.measureApp(i.page_section, "Traditional")
        }
    });
    return d
}),
define("views/lb/lbsubmenu", ["require", "jquery", "underscore", "backbone", "utils/metrics", "utils/lb/lb-common", "utils/pubsub", "utils/scores"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/metrics")
      , a = e("utils/lb/lb-common")
      , r = e("utils/pubsub")
      , o = e("utils/scores")
      , l = {};
    l.playoff_viewSelector = i.template('<a href="#playoff" data-view="playoff" id="viewPlayoffMedium">Playoff</a>');
    var h = s.View.extend({
        el: ".footer_cell .view_selector",
        events: {
            "click .leaderboardoption.selected": "disableLink",
            "click .leaderboardoption:not(.selected)": "setLBOption",
            "click #viewPlayoffMedium.selected": "disableLink",
            "click #viewPlayoffMedium:not(.selected)": "selectPlayoffOption"
        },
        _lbLookUp: {
            1: "ou",
            2: "trad"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("LBSubMenu"),
            this.logger.info("Initialize"),
            this.$optionLink = this.$(".leaderboardoption"),
            this.$ou_link = this.$("#viewOverunder"),
            this.$trad_link = this.$("#viewTraditional"),
            this.$playoff_link = this.$("#viewPlayoffMedium"),
            this.currentLB = e.lbtype,
            this.getSelectedLBOption(),
            this.addPlayoffLink(),
            this.listenTo(r, "forceTradView:enabled", this.resetCurrentLB),
            this.listenTo(r, "change:playoffStatus", this.addPlayoffLink),
            this.listenTo(r, "playoff:openPlayoff playoff:closePlayoff playoff:mobileSubmenu:viewLeaders", this.setPlayoffLinks)
        },
        render: function() {},
        getSelectedLBOption: function(e) {
            var t;
            switch (void 0 !== e && (this.currentLB = e),
            this.$optionLink.removeClass("selected"),
            this.currentLB) {
            case "ou":
                t = this.$ou_link;
                break;
            case "trad":
                t = this.$trad_link
            }
            return t.addClass("selected"),
            o.isDataLoaded() ? void (o.collection.playoffExists && !a.isLBPlayoffDisplayed() && this.$playoff_link.removeClass("selected")) : void r.once("scores:refresh", this.getSelectedLBOption, this)
        },
        disableLink: function(e) {
            e.preventDefault()
        },
        setLBOption: function(e) {
            e.preventDefault();
            var i = t(e.currentTarget)
              , s = i.index();
            this.$optionLink.removeClass("selected"),
            i.addClass("selected"),
            n.measureApp(n.page_section, i.text());
            var o = this._lbLookUp[s];
            t.cookie(a._lbCookieNames.mainLB, o, {
                expires: 5,
                path: a.cookiePath
            }),
            r.trigger("currentLB:update", o),
            a.isLBPlayoffDisplayed() && (a.setMainClosePlayoffCookie(),
            this.setPlayoffLinks(o),
            r.trigger("playoff:lbsubmenu:playoffUnselected", o))
        },
        resetCurrentLB: function(e) {
            this.currentLB = e,
            this.getSelectedLBOption(this.currentLB)
        },
        addPlayoffLink: function(e) {
            if (!o.isDataLoaded())
                return void r.once("scores:refresh", this.addPlayoffLink, this);
            if (o.collection.playoffExists && 0 === this.$playoff_link.length) {
                var t = l.playoff_viewSelector({});
                this.$trad_link.after(t),
                this.$playoff_link = this.$("#viewPlayoffMedium"),
                this.setPlayoffLinks()
            }
        },
        setPlayoffLinks: function(e) {
            if (a.isLBPlayoffDisplayed())
                this.$ou_link.removeClass("selected"),
                this.$trad_link.removeClass("selected"),
                this.$playoff_link.addClass("selected");
            else {
                var t;
                t = void 0 !== e ? e === a._lbTypeLookUp.trad ? this.$trad_link : this.$ou_link : this.currentLB === a._lbTypeLookUp.trad ? this.$trad_link : this.$ou_link,
                t.addClass("selected"),
                this.$playoff_link.removeClass("selected")
            }
        },
        selectPlayoffOption: function(e) {
            e.preventDefault(),
            this.$optionLink.removeClass("selected");
            var i = t(e.currentTarget);
            i.addClass("selected"),
            3 === i.index() && (a.clearMainClosePlayoffCookie(),
            n.measureApp(n.page_section, "View Playoff"),
            r.trigger("playoff:lbSubmenu:viewPlayoff"))
        },
        enterSkeuomorphic: function() {
            o.collection.playoffExists && !a.isLBPlayoffDisplayed() && this.getSelectedLBOption()
        }
    });
    return h
}),
define("views/lb/lbsubmenumobile", ["require", "jquery", "underscore", "backbone", "settings", "utils/window-size", "utils/lb/lb-common", "utils/pubsub", "utils/metrics", "utils/scores", "collections/score-players"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = (e("settings"),
    e("utils/window-size"),
    e("utils/lb/lb-common"))
      , a = e("utils/pubsub")
      , r = e("utils/metrics")
      , o = e("utils/scores")
      , l = e("collections/score-players")
      , h = {};
    h.playoff_viewSelector = i.template('<div id="playoffViewSelector"> <a href="#" data-view="leaders" id="leadersLink">LEADERS</a> <a href="#" data-view="playoff" id="playoffLink">PLAYOFF</a></div>');
    var c = s.View.extend({
        el: ".navWrapper#roundSelectorContainer",
        events: {
            "click .selected_container": "toggleOpen",
            "click .options a.selected": "disableLink",
            "click .options a:not(.selected)": "selectOption",
            "click #playoffViewSelector a.selected": "disableLink",
            "click #playoffViewSelector a:not(.selected)": "selectPlayoffOption"
        },
        defaults: {
            metrics: []
        },
        open: !1,
        selected: 0,
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("LBMobileSubMenu"),
            this.$html = t("html"),
            this.$parent = this.$el,
            this.$round_selector = this.$("#roundSelector"),
            this.$selected_option = this.$(".selected_option"),
            this.$selected = this.$(".options a.selected"),
            this.$playoff_container = this.$("#playoffViewSelector"),
            this.$playoff_link = this.$("#playoffLink"),
            this.$leaders_link = this.$("#leadersLink"),
            this.currentLB = e.lbtype,
            this.addPlayoffLink(),
            this.listenTo(a, "change:playoffStatus", this.addPlayoffLink),
            this.listenTo(a, "playoff:openPlayoff playoff:closePlayoff playoff:lbsubmenu:playoffUnselected", this.setPlayoffLinks),
            this.listenTo(l, "change:currentRound", this.loadRoundSelector)
        },
        render: function() {
            return this.loadRoundSelector(),
            this
        },
        dispose: function() {
            s.View.prototype.dispose.call(this, !0)
        },
        loadRoundSelector: function() {
            this.$round_selector.load("/en_US/includes/gen/nav_selector_currentRound_leaderboard.ssi", function() {}
            .bind(this))
        },
        toggleOpenState: function(e) {
            void 0 !== e ? this.open = e : this.open = !this.open,
            this.$round_selector.toggleClass("open", this.open)
        },
        toggleOpen: function() {
            this.toggleOpenState();
            var e = this.open ? "Open" : "Close";
            r.measureApp(r.page_section, "Round Selector", e)
        },
        selectOption: function(e) {
            var i = t(e.currentTarget)
              , s = i.data("src").toLowerCase();
            i.index() !== this.selected && ("function" == typeof callback && (callback.call(this.options.callback_context, i.data("src")),
            r.measureApp(r.page_section, "Round Selector", s)),
            this.trigger("select", i.index())),
            this.toggleOpenState(!1)
        },
        addPlayoffLink: function(e) {
            if (!o.isDataLoaded())
                return void a.once("scores:refresh", this.addPlayoffLink, this);
            if (o.collection.playoffExists && 0 === this.$playoff_container.length) {
                var t = h.playoff_viewSelector({});
                this.$round_selector.after(t),
                this.$playoff_container = this.$("#playoffViewSelector"),
                this.$playoff_link = this.$playoff_container.find("#playoffLink"),
                this.$leaders_link = this.$playoff_container.find("#leadersLink"),
                this.setPlayoffLinks()
            }
        },
        disableLink: function(e) {
            e.preventDefault()
        },
        setPlayoffLinks: function() {
            n.isLBPlayoffDisplayed() ? (this.$leaders_link.removeClass("selected"),
            this.$playoff_link.addClass("selected")) : (this.$playoff_link.removeClass("selected"),
            this.$leaders_link.addClass("selected"))
        },
        selectPlayoffOption: function(e) {
            e.preventDefault(),
            this.$playoff_container.find("a").removeClass("selected");
            var i = t(e.currentTarget);
            switch (i.addClass("selected"),
            i.index()) {
            case 1:
                n.clearMainClosePlayoffCookie(),
                r.measureApp(r.page_section, "View Playoff"),
                a.trigger("playoff:mobileSubmenu:viewPlayoff");
                break;
            case 0:
                n.setMainClosePlayoffCookie(),
                r.measureApp(r.page_section, "View Leaders", "Traditional View"),
                a.trigger("playoff:mobileSubmenu:viewLeaders", n._lbTypeLookUp.trad)
            }
        }
    });
    return c
}),
define("views/lb/lb-topmenu-roundnum", ["require", "jquery", "underscore", "backbone", "utils/pubsub", "utils/scores", "collections/score-players"], function(e) {
    var t = (e("jquery"),
    e("underscore"),
    e("backbone"))
      , i = e("utils/pubsub")
      , s = e("utils/scores")
      , n = e("collections/score-players")
      , a = t.View.extend({
        el: ".currentRound",
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("LBMenuBar"),
            this.logger.info("Initialize"),
            this.listenTo(n, "change:currentRound", this.render)
        },
        render: function() {
            return this.$el.html(this.getHtml()),
            this
        },
        getHtml: function() {
            if (s.isDataLoaded()) {
                var e = "Round " + s.Utilities.currentRound();
                return e
            }
            return void i.off("scores:refresh", this.render, this).once("scores:refresh", this.render, this)
        }
    });
    return a
}),
define("text!templates/players-filter.html!strip", [], function() {
    return '<div id="playerSelector" class="filter"> \n <div class="selectedContainer"><a href="#" class="selected_option">All Players</a></div> \n <div class="options"> \n <a class="option selected" href="#" data-src="all">All Players</a> \n <%if (options.favorites) { %> \n <a class="option" href="#" data-src="fav">Favorites</a> \n <% } %> \n <%if (options.on_course_players) { %> \n <a class="option" href="#" data-src="active">On Course Players</a> \n <% } %> \n <%if (options.professionals) { %> \n <a class="option" href="#" data-src="pros">Professionals</a> \n <% } %> \n <%if (options.amateurs) { %> \n <a class="option" href="#" data-src="amats">Amateurs</a> \n <% } %> \n <%if (options.american_players) { %> \n <a class="option" href="#" data-src="us">American Players</a> \n <% } %> \n <%if (options.international_players) { %> \n <a class="option" href="#" data-src="int">International Players</a> \n <% } %> \n <%if (options.first_time_participants) { %> \n <a class="option" href="#" data-src="first">First Time Participants</a> \n <% } %> \n <%if (options.past_champions) { %> \n <a class="option" href="#" data-src="pastChamps">Past Champions</a> \n <% } %> \n </div> \n</div>'
}),
define("views/players-filter", ["require", "jquery", "backbone", "underscore", "utils/metrics", "text!templates/players-filter.html!strip"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("underscore")
      , n = e("utils/metrics")
      , a = e("text!templates/players-filter.html!strip")
      , r = i.View.extend({
        template: s.template(a),
        events: {
            "click .selectedContainer": "toggleDropdownFilter",
            "click .options a": "selectOption"
        },
        defaults: {
            favorites: !0,
            on_course_players: !0,
            professionals: !0,
            amateurs: !0,
            american_players: !0,
            international_players: !0,
            first_time_participants: !0,
            past_champions: !0
        },
        _filteredByMetricsNameLookUp: {
            all: "All Players",
            fav: "Favorites",
            active: "On Course Players",
            pros: "Professionals",
            amats: "Amateurs",
            us: "American Players",
            int: "International Players",
            first: "First Time Participants",
            pastChamps: "Past Champions"
        },
        initialize: function(e) {
            this.options = s.extend({}, this.defaults, e),
            this.selected = null,
            this.metricsText = "",
            this.metricsArgs = this.options.metrics || [],
            this.listenTo(this.collection, "modified", function(e) {
                "filter" !== e && (this.selected = null,
                this.render())
            }),
            this.on("filter", this._filter)
        },
        render: function() {
            return this.$el.html(this.template({
                options: this.options
            })),
            this
        },
        toggleDropdownFilter: function(e, t) {
            this.$el.find("#playerSelector").toggleClass("open"),
            t !== !1 && (this.$("#playerSelector").hasClass("open") ? n.measureApp.apply(null, this.metricsArgs.concat(["Filter", "Open"])) : n.measureApp.apply(null, this.metricsArgs.concat(["Filter", "Close"])))
        },
        selectOption: function(e) {
            var i = t(e.target).data("src");
            this.$el.find(".option.selected").removeClass("selected"),
            t(e.target).addClass("selected"),
            this.$el.find(".selected_option").text(e.target.text),
            this.toggleDropdownFilter(e, !1),
            this.selected = i,
            this._filter(),
            this.metricsText = this._filteredByMetricsNameLookUp[this.selected],
            void 0 !== this.metricsText && "" !== this.metricsText && n.measureApp.apply(null, this.metricsArgs.concat(["Filter", this.metricsText]))
        },
        _filter: function(e) {
            switch (this.selected) {
            case "active":
                this.collection.filterBy("active", !0);
                break;
            case "pros":
                this.collection.filterBy("amateur", !1);
                break;
            case "amats":
                this.collection.filterBy("amateur", !0);
                break;
            case "us":
                this.collection.filterBy("country", "USA");
                break;
            case "int":
                this.collection.forEach(function(e) {
                    e.set("show", "USA" !== e.get("country"))
                });
                break;
            case "first":
                this.collection.filterBy("firsttimer", !0);
                break;
            case "pastChamps":
                this.collection.filterBy("past", !0);
                break;
            case "fav":
                this.collection.filterBy("is_fave", !0);
                break;
            default:
                e || this.collection.showAll()
            }
            this.collection.trigger("modified", "filter", {
                forcedTrigger: e,
                value: this.selected
            })
        }
    });
    return r
}),
define("views/lb/topmenubar", ["require", "jquery", "backbone", "utils/lb/lb-common", "views/lb/lbsubmenu", "views/lb/lbsubmenumobile", "views/lb/lb-topmenu-roundnum", "utils/pubsub", "utils/scores", "views/players-search", "views/players-filter", "utils/metrics"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("utils/lb/lb-common")
      , s = e("views/lb/lbsubmenu")
      , n = e("views/lb/lbsubmenumobile")
      , a = e("views/lb/lb-topmenu-roundnum")
      , r = e("utils/pubsub")
      , o = e("utils/scores")
      , l = e("views/players-search")
      , h = e("views/players-filter")
      , c = e("utils/metrics")
      , d = t.View.extend({
        el: "#leaderboardLowFooter",
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("LBMenuBar"),
            this.logger.info("Initialize"),
            this.currentLB = e.lbtype,
            this.$lbSearchBox,
            this.$playerSelector,
            this.LBSubMenu = new s({
                el: this.$(".footer_cell .view_selector"),
                lbtype: this.currentLB
            }),
            this.LBSubMenuMobile = new n({
                el: this.$(".navWrapper#roundSelectorContainer"),
                lbtype: this.currentLB
            }),
            this.LBRoundNum = new a({
                el: this.$(".currentRound")
            }),
            this.listenTo(r, "playoff:openPlayoff playoff:lbSubmenu:viewPlayoff playoff:mobileSubmenu:viewPlayoff", function() {
                this.toggleSearchBox_playerFilter("hide")
            }),
            this.listenTo(r, "playoff:closePlayoff playoff:lbsubmenu:playoffUnselected playoff:mobileSubmenu:viewLeaders", function() {
                this.toggleSearchBox_playerFilter("show")
            })
        },
        buildPlayersSearchAndFilterViews: function() {
            if (!o.isDataLoaded())
                return void r.once("scores:refresh", this.buildPlayersSearchAndFilterViews, this);
            var e = o.collection.clone();
            this.playersSearchView = new l({
                el: ".player_search_cell",
                collection: e,
                searchKey: "full_name",
                metrics: [c.page_section]
            }),
            this.playersSearchView.render(),
            this.playersFilterView = new h({
                el: ".player_filter_cell",
                collection: e,
                favorites: !1,
                metrics: [c.page_section]
            }),
            this.playersFilterView.render(),
            this.$lbSearchBox = this.$("#lbSearch"),
            this.$playerSelector = this.$("#playerSelector"),
            this.listenTo(e, "modified", function(e, t) {
                var s = "search" === e && "" !== t;
                r.trigger(i.lbFormat.MAIN + ":scores_collection:modified", s)
            }),
            this.listenTo(r, "change:playoffStatus", function() {
                this._toggleSearchBox_playerFilter()
            }),
            this.listenTo(r, "scores:refresh", function() {
                "active" === this.playersFilterView.selected && this.playersFilterView.trigger("filter", !0)
            })
        },
        render: function() {
            return this.LBSubMenu.render(),
            this.LBSubMenuMobile.render(),
            this.LBRoundNum.render(),
            this.buildPlayersSearchAndFilterViews(),
            this
        },
        onDispose: function() {
            this.LBSubMenu.dispose(),
            this.LBSubMenuMobile.dispose(),
            this.LBRoundNum.dispose(),
            this.playersSearchView.dispose(),
            this.playersFilterView.dispose()
        },
        toggleSearchBox_playerFilter: function(e) {
            switch (e) {
            case "hide":
                this.$lbSearchBox.addClass("hidden"),
                this.$playerSelector.addClass("hidden");
                break;
            case "show":
            default:
                this.$lbSearchBox.removeClass("hidden"),
                this.$playerSelector.removeClass("hidden")
            }
        },
        _toggleSearchBox_playerFilter: function() {
            i.isLBPlayoffDisplayed() ? this.toggleSearchBox_playerFilter("hide") : this.toggleSearchBox_playerFilter("show")
        }
    });
    return d
}),
define("views/lb/lb-footer", ["require", "jquery", "underscore", "backbone", "utils/metrics", "utils/lb/lb-common", "utils/scores", "utils/pubsub", "collections/score-players"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/metrics")
      , a = e("utils/lb/lb-common")
      , r = e("utils/scores")
      , o = e("utils/pubsub")
      , l = e("collections/score-players")
      , h = {};
    h.alltimes = i.template("All times in EDT"),
    h.splittee = i.template("* Denotes 10th tee start"),
    h.concurrentMsg = i.template("Multiple rounds in progress"),
    h.playoffMsg = i.template('<a href="#" id="viewPlayoff">View Playoff Scores</a>'),
    h.concurrentRoundSelectorHtml = i.template('<div class="concurrentRoundWrapper"> <a class="leftRound" data-round="<%= previousRound %>" data-bypass>Round <%= previousRound %></a> <a class="rightRound" data-round="<%= currentRound %>" data-bypass>Round <%= currentRound %></a></div>');
    var c = s.View.extend({
        el: "#leaderboardFooterBase",
        events: {
            "click #conCurrentRound a.selected": "disableLink",
            "click #conCurrentRound a:not(.selected)": "activateConcurrentRoundSelector",
            "click #viewPlayoff": "triggerOpenPlayoff"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("LBFooterView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.currentLB = this.options.lbtype,
            this.roundNum,
            this.$concurrentWrapper = this.$(".concurrentRoundWrapper"),
            this.$playoff_message = this.$("#view_playoff"),
            this.$other_message = this.$(".messageContent"),
            this.$splittee_message = this.$("#splittee"),
            this.$allTimes_message = this.$(".allTimes"),
            this.$concurrentRound_message = this.$("#conCurrentRoundText"),
            this.$concurrentRoundSelector = this.$("#conCurrentRound"),
            this.listenTo(o, "scores:refresh", this.getLeaderboardMsg),
            this.listenTo(o, "change:playoffStatus", this.getLeaderboardMsg),
            this.listenTo(o, "currentLB:update forceTradView:enabled", this.resetCurrentLB),
            this.listenTo(l, "change:currentRound", this.getRoundNum),
            this.listenTo(o, "currentLB:update", this.getLeaderboardMsg)
        },
        render: function() {
            return this.getRoundNum(),
            this.getLeaderboardMsg(),
            this
        },
        getRoundNum: function() {
            return r.isDataLoaded() ? void (this.roundNum = r.collection.currentRound) : void o.off("scores:refresh", this.getRoundNum, this).once("scores:refresh", this.getRoundNum, this)
        },
        getLeaderboardMsg: function() {
            return r.isDataLoaded() ? void (r.collection.playoffExists ? (this.getPlayoffMsg(),
            this.$other_message.addClass("hide"),
            this.getConcurrentRoundMsg(),
            this.getSplitTeeMsg(),
            this.getAllTimesMsg()) : r.collection.playoffExists || (this.$other_message.removeClass("hide"),
            this.getConcurrentRoundMsg(),
            this.getSplitTeeMsg(),
            this.getAllTimesMsg(),
            this.getPlayoffMsg())) : void o.off("scores:refresh", this.getLeaderboardMsg, this).once("scores:refresh", this.getLeaderboardMsg, this)
        },
        getConcurrentRoundMsg: function() {
            var e = "";
            r.collection.concurrentExists && !r.collection.playoffExists ? this.currentLB === a._lbTypeLookUp.ou ? (this.$concurrentRoundSelector.length > 0 || this.$concurrentRound_message.length > 0) && (this.$concurrentRound_message.html(h.concurrentMsg()).removeClass("hide"),
            e = h.concurrentRoundSelectorHtml({
                previousRound: parseInt(r.collection.currentRound - 1),
                currentRound: r.collection.currentRound
            }),
            this.$concurrentRoundSelector.html(e).removeClass("hide"),
            this.highlightConcurrentRoundSelector()) : (this.hideConcurrentMsg(),
            this.$concurrentRound_message.html(h.concurrentMsg()).removeClass("hide")) : this.hideConcurrentMsg()
        },
        hideConcurrentMsg: function() {
            this.$concurrentRoundSelector.html("").addClass("hide"),
            this.$concurrentRound_message.html("").addClass("hide")
        },
        getSplitTeeMsg: function() {
            r.collection.showAsterisk && this.currentLB === a._lbTypeLookUp.trad && !r.collection.playoffExists ? this.$splittee_message.html(h.splittee()).removeClass("hide") : this.$splittee_message.html("").addClass("hide")
        },
        getAllTimesMsg: function() {
            r.collection.allTimeExists && this.currentLB === a._lbTypeLookUp.trad && !r.collection.playoffExists ? this.$allTimes_message.html(h.alltimes()).removeClass("hide") : this.$allTimes_message.html("").addClass("hide")
        },
        getPlayoffMsg: function() {
            r.collection.playoffExists ? this.$playoff_message.html(h.playoffMsg()).removeClass("hide") : this.$playoff_message.html("").addClass("hide")
        },
        resetCurrentLB: function(e) {
            this.currentLB = e,
            this.getLeaderboardMsg()
        },
        activateConcurrentRoundSelector: function(e) {
            var i = t(e.currentTarget).data("round");
            this.roundNum = i,
            i <= 4 && (o.trigger("concurrentRound:select", i),
            t(e.currentTarget).siblings().removeClass("selected"),
            t(e.currentTarget).addClass("selected"),
            n.measureApp(n.page_section, "Select Concurrent Round", "Round " + i))
        },
        disableLink: function(e) {
            e.preventDefault()
        },
        highlightConcurrentRoundSelector: function() {
            this.$concurrentRoundSelector.find("[data-round=" + this.roundNum + "]").addClass("selected")
        },
        triggerOpenPlayoff: function() {
            a.clearMainClosePlayoffCookie(),
            n.measureApp(n.page_section, "View Playoff"),
            o.trigger("playoff:openPlayoff")
        }
    });
    return c
}),
define("text!templates/lb/lb-playoff-player-row.html!strip", [], function() {
    return '<td class="playerName"><a href="/en_US/scores/track/track.html?pid=<%= player.id %>&amp;promo=track_playoff_lb"><%= player.display_name %></a></td>\n<%= sorecards %>\n<%= empty_cells %>'
}),
define("views/lb/lb-playoff-player-row", ["require", "jquery", "underscore", "backbone", "utils/lb/lb-common", "utils/pubsub", "utils/scores", "settings", "text!templates/lb/lb-playoff-player-row.html!strip"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("backbone")
      , s = (e("utils/lb/lb-common"),
    e("utils/pubsub"),
    e("utils/scores"))
      , n = e("settings")
      , a = e("text!templates/lb/lb-playoff-player-row.html!strip")
      , r = {};
    r.playoff_video_cell = t.template('<td class="hole_no <%= videoKlass %>" data-hole="<%= playoffHoleNum %>"><a href="<%= videoLink %>"><div class="<%= klass %>"><%= score %></div></a></td>'),
    r.playoff_score_cell = t.template('<td class="hole_no"><div class="<%= klass %>"><%= score %></div></td>'),
    r.empty_playoff_cell = t.template('<td class="hole_no">&nbsp;</td>');
    var o = i.View.extend({
        tagName: "tr",
        main_template: t.template(a),
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("PlayoffPlayerRowView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.playoff_holes = this.options.playoff_holes,
            this.progress = this.options.progress,
            this.listenTo(this.model, "change:score change:video", this.render)
        },
        render: function() {
            return this.assignAttributes(),
            this.$el.html(this.buildPlayerRow()),
            this
        },
        assignAttributes: function() {
            this.$el.attr({
                class: "player " + this.options.klass,
                "data-id": this.model.get("id")
            })
        },
        buildPlayerRow: function() {
            var e, t = this.model.get("score").split(","), i = this.model.get("video").split(",");
            return e = this.prepareScorecard(t, i),
            this.main_template({
                player: this.model.attributes,
                sorecards: e,
                empty_cells: this.getEmptyTDs(t.length)
            })
        },
        prepareScorecard: function(e, t) {
            for (var i, a = e, o = t, l = 0, h = a.length; l < h; l++) {
                var c = s.Playoff.getClassForPlayoffVideo(o[l])
                  , d = l + 1
                  , u = "/en_US/watch/" + n.tournament_year + "/r5_" + this.model.id + "_" + d + ".html?promo=highlight_lb";
                i += "video" === c ? r.playoff_video_cell({
                    klass: s.Playoff.getClassForPlayoffScore(a[l]),
                    videoKlass: c,
                    videoLink: u,
                    score: a[l],
                    playoffHoleNum: d
                }) : r.playoff_score_cell({
                    player: this.model.attributes,
                    klass: s.Playoff.getClassForPlayoffScore(a[l]),
                    score: a[l]
                })
            }
            return i
        },
        getEmptyTDs: function(e) {
            for (var t = this.progress - e, i = "", s = 0; s < t; s++)
                i += r.empty_playoff_cell({});
            return i
        }
    });
    return o
}),
define("text!templates/lb/lb-playoff-container.html!strip", [], function() {
    return '<div id="leaderboardPlayOff" style="<%= display %>">\n <div class="closeButton" style="cursor: pointer;"><span class="close">Close</span></div>\n <div id="playOffContent">\n <div class="title">Playoff</div>\n <div class="sd">Sudden Death</div>\n <table id="scorecard" cellpadding="0" cellspacing="0">\n <!-- Playoff Header + Playoff Data Table -->\n <%= playoff_header %>\n </table> \n </div>\n</div>'
}),
define("text!templates/lb/lb-playoff-header.html!strip", [], function() {
    return '<tr class="header">\n <td class="description">HOLE</td>\n <%= hole_header_html %>\n <%= empty_cells %>\n</tr>\n\n<tr class="par">\n <td class="description">PAR</td>\n <%= par_header_html %>\n <%= empty_cells %>\n</tr>'
}),
define("views/lb/lb-playoff", ["require", "jquery", "underscore", "backbone", "utils/browser", "utils/lb/lb-common", "utils/metrics", "utils/pubsub", "utils/scores", "views/lb/lb-playoff-player-row", "text!templates/lb/lb-playoff-container.html!strip", "text!templates/lb/lb-playoff-header.html!strip"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("backbone")
      , s = e("utils/browser")
      , n = e("utils/lb/lb-common")
      , a = e("utils/metrics")
      , r = e("utils/pubsub")
      , o = (e("utils/scores"),
    e("views/lb/lb-playoff-player-row"))
      , l = e("text!templates/lb/lb-playoff-container.html!strip")
      , h = e("text!templates/lb/lb-playoff-header.html!strip")
      , c = {};
    c.hole_header_cell = t.template('<td class="hole_no hole<%= holeNum %>"><%= holeNum %></td>'),
    c.par_header_cell = t.template('<td class="hole_no">4</td>'),
    c.empty_playoff_cell = t.template('<td class="hole_no">&nbsp;</td>');
    var d = i.View.extend({
        el: "#playoffContainer",
        container_template: t.template(l),
        header_template: t.template(h),
        events: {
            "click #leaderboardPlayOff .closeButton": "triggerClosePlayoff"
        },
        prRows: {},
        prOrder: [],
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("LBPlayoff"),
            this.logger.info("Initialize"),
            this.playoff_collection = this.collection,
            this.playoff_startHole = e.startHole,
            this.playoff_holes = e.playoff_holes,
            this.progress = e.progress,
            this.$playoffContainer = this.$el,
            this.$playoffDataTable,
            this.listenTo(r, "change:playoffStatus", this.getPlayoffModal),
            this.listenTo(r, "playoff:openPlayoff playoff:lbSubmenu:viewPlayoff playoff:mobileSubmenu:viewPlayoff", function() {
                this.togglePlayoffModal("show")
            }),
            this.listenTo(r, "playoff:closePlayoff playoff:lbsubmenu:playoffUnselected playoff:mobileSubmenu:viewLeaders", function() {
                this.togglePlayoffModal("hide")
            }),
            this.listenTo(this.playoff_collection, "update", this.checkPlayerOrder)
        },
        render: function() {
            return this.$playoffContainer.html(""),
            this.writePlayoffHtml(),
            this.getPlayoffModal(),
            this
        },
        onDispose: function() {
            this.prOrder.forEach(function(e) {
                this.prRows[e].dispose()
            }
            .bind(this))
        },
        writePlayoffHtml: function() {
            var e = this.buildPlayoffContainerHtml();
            this.$playoffContainer.html(e);
            var t = this.buildPlayoffPlayerRows();
            this.$("#scorecard tbody").append(t),
            this.$playoffDataTable = this.$("#leaderboardPlayOff")
        },
        buildPlayoffContainerHtml: function() {
            var e, t = 0;
            return this.playoff_collection.length > 3 && (t = 20 * (this.playoff_collection.length - 3),
            t > 100 && (t = 100)),
            e = this.container_template({
                display: "margin-top: -" + t + "px;" + (n.isLBPlayoffDisplayed() ? "" : "display: none;"),
                playoff_header: this.buildPlayoffHeaderHtml()
            })
        },
        buildPlayoffHeaderHtml: function() {
            for (var e = "", t = "", i = 0, s = this.playoff_holes.length; i < s; i++)
                e += c.hole_header_cell({
                    holeNum: this.playoff_holes[i]
                }),
                t += c.par_header_cell({});
            var n = this.header_template({
                hole_header_html: e,
                par_header_html: t,
                empty_cells: this.getEmptyTDs(this.progress)
            });
            return n
        },
        getEmptyTDs: function(e) {
            for (var t = this.progress - e, i = "", s = 0; s < t; s++)
                i += c.empty_playoff_cell({});
            return i
        },
        buildPlayoffPlayerRows: function() {
            var e = [];
            return this.playoff_collection.forEach(function(t) {
                var i = ""
                  , s = this.createNewPrRow(t);
                this.prRows[t.id] = s,
                this.prOrder.push(t.id),
                i = s.$el,
                e.push(i)
            }
            .bind(this)),
            e
        },
        createNewPrRow: function(e) {
            var t = "" !== e.attributes.id ? "hoverable" : ""
              , i = new o({
                model: e,
                prefix: "playoff",
                klass: t,
                progress: this.progress,
                playoff_holes: this.playoff_holes
            }).render();
            return i
        },
        checkPlayerOrder: function(e, t) {
            for (var i = 0, s = this.prOrder.length; i < s; i++) {
                var n, a = this.prOrder[i], r = e.at(i);
                if (r && (n = r.id),
                a !== n) {
                    var o = this.prRows[n].$el.detach();
                    this.prRows[a].$el.before(o);
                    var l = this.prOrder.indexOf(n);
                    this.prOrder.splice(l, 1),
                    this.prOrder.splice(i, 0, n)
                }
            }
        },
        getPlayoffModal: function() {
            n.isLBPlayoffDisplayed() ? this.togglePlayoffModal("show") : this.togglePlayoffModal("hide")
        },
        togglePlayoffModal: function(e) {
            switch (e) {
            case "show":
                s.ie8 ? this.$playoffDataTable.show() : this.$playoffDataTable.fadeIn();
                break;
            case "hide":
            default:
                s.ie8 ? this.$playoffDataTable.hide() : this.$playoffDataTable.fadeOut()
            }
        },
        triggerClosePlayoff: function() {
            n.setMainClosePlayoffCookie(),
            a.measureApp(a.page_section, "Hide Playoff"),
            r.trigger("playoff:closePlayoff")
        }
    });
    return d
}),
define("controllers/leaderboard", ["require", "jquery", "underscore", "baseview", "utils/geoblock", "views/landing-hero", "utils/lb/lb-common", "utils/lb/lb-window-size", "views/lb/lb-body", "views/lb/topmenubar", "views/lb/lb-footer", "views/lb/lb-playoff", "utils/metrics", "utils/pubsub", "utils/scores"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("baseview")
      , n = e("utils/geoblock")
      , a = e("views/landing-hero")
      , r = e("utils/lb/lb-common")
      , o = e("utils/lb/lb-window-size")
      , l = e("views/lb/lb-body")
      , h = e("views/lb/topmenubar")
      , c = e("views/lb/lb-footer")
      , d = e("views/lb/lb-playoff")
      , u = (e("utils/metrics"),
    e("utils/pubsub"))
      , p = e("utils/scores")
      , f = s.extend({
        events: {},
        geo_checked: !1,
        processPageVars: function() {
            "live" === this.jsonData.pageState && (this.props = {
                events: "event44"
            })
        },
        initialize: function(e) {
            s.prototype.initialize.apply(this, arguments),
            this.logger = new eventsCore.util.Logger("LbView"),
            this.logger.info("initialize")
        },
        onInitialization: function() {
            this.playoff_collection,
            t(window).on("resize.lb", i.bind(this.resize, this)),
            this.listenTo(u, "change:playoffStatus", this.getPlayoffStatus),
            "live" === this.jsonData.pageState ? (n.checkAction = this.geoAction.bind(this),
            this.lbmenubar = new h({
                el: this.$("#leaderboardLowFooter"),
                lbtype: this.setCurrentLB()
            }),
            this.lbView = new l({
                el: this.$("#leaderboardLow"),
                lbtype: this.setCurrentLB()
            }),
            this.lbFooterView = new c({
                el: this.$("#leaderboardFooterBase"),
                lbtype: this.setCurrentLB()
            })) : "stub" === this.jsonData.pageState && (this.hero = new a({
                el: this.$(".hero-wrap")
            }))
        },
        geoAction: function() {
            this.geo_checked || n.isLoaded() && (n.isBlocked(),
            this.geo_checked = !0)
        },
        onRender: function() {
            this.logger.info("onRender"),
            s.prototype.onRender.apply(this, arguments),
            "live" === this.jsonData.pageState ? (this.resize(),
            this.lbmenubar.render(),
            this.lbView.render(),
            this.lbFooterView.render(),
            this.getPlayoffStatus(),
            this.unveil(this.$(".hero-wrap .hero-content").find("img"))) : "stub" === this.jsonData.pageState && this.unveil(this.hero.$(".imageWrapper img"))
        },
        onDispose: function() {
            "live" === this.jsonData.pageState && (this.lbmenubar.dispose(),
            this.lbView.dispose(),
            this.lbFooterView.dispose(),
            t(window).off("resize.lb"),
            this.lbPlayoffView && this.lbPlayoffView.dispose())
        },
        getPlayoffStatus: function() {
            if (!p.isDataLoaded())
                return void u.off("scores:refresh", this.getPlayoffStatus, this).once("scores:refresh", this.getPlayoffStatus, this);
            if (p.collection.playoffExists) {
                for (var e = p.collection.playoffStartHole, t = 8, i = [], s = 0; s < t; s++)
                    e = "18" === e ? "10" : "18",
                    i.push(e);
                this.lbPlayoffView = new d({
                    el: this.$("#playoffContainer"),
                    collection: p.playoff_collection,
                    startHole: e,
                    progress: t,
                    playoff_holes: i
                }).render()
            }
        },
        getMainLBCookie: function() {
            this.isPopOut ? t.cookie(r._lbCookieNames.mainLB) === r._lbTypeLookUp.ou && r.setMainOuCookie() : t.cookie(r._lbCookieNames.mainLB) === r._lbTypeLookUp.trad ? r.setMainTradCookie() : r.setMainOuCookie()
        },
        setLBCookie: function() {
            this.getMainLBCookie(),
            o.size() === o.sizes.global && r.setLbEverywhereTradCookie(),
            o.size() !== o.sizes.desktop && o.size() !== o.sizes.lgskeuomorphic && o.size() !== o.sizes.smskeuomorphic || t.cookie(r._lbCookieNames.mainLB) !== r._lbTypeLookUp.ou || r.setLbEverywhereOuCookie()
        },
        setCurrentLB: function() {
            return this.setLBCookie(),
            t.cookie(r._lbCookieNames.LBeverywhere) === r._lbTypeLookUp.trad || t.cookie(r._lbCookieNames.mainLB) === r._lbTypeLookUp.trad ? (r.currentFavContent = r._lbTypeLookUp.tradFavPlayersContainer,
            r.currentLeaderboard = r._lbTypeLookUp.tradAllPlayersContainer,
            r._lbTypeLookUp.trad) : r._lbTypeLookUp.ou
        },
        getInternetExplorerVersion: function() {
            var e = -1;
            if ("Microsoft Internet Explorer" === navigator.appName) {
                var t = navigator.userAgent
                  , i = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");
                null !== i.exec(t) && (e = parseFloat(RegExp.$1))
            }
            return e
        },
        getWindowHeight: function() {
            var e = this.getInternetExplorerVersion();
            return 7 === e || 8 === e ? document.documentElement.offsetHeight : window.innerHeight
        },
        resize: function() {
            var e = this.getWindowHeight()
              , t = e
              , i = t - 550;
            i > 100 ? this.$(".leaderboardPole").css("height", i + "px") : this.$(".leaderboardPole").css("height", "100px")
        }
    });
    return f
}),
define("text!templates/lb/par3-all-player-row.html!strip", [], function() {
    return '<div class="pos"><%=player.pos %></div>\n<div class="playerName">\n <% if(is_hoverable) { %>\n <a href="/en_US/players/player_<%=player.id %>.html?promo=bio_par3contest"><%=player.name %></a>\n <% } else { %>\n <%=player.name %>\n <% } %>\n</div>\n<div class="thru score"><%=player.thru %></div>\n<div class="par topar <%= par_ouclass %>"><%= player.today %></div>\n<div class="total score last <%= par_ouclass %>"><%= player.total %></div>\n\n'
}),
define("views/lb/par3-all-player-row", ["require", "jquery", "underscore", "backbone", "utils/lb/lb-common", "utils/pubsub", "text!templates/lb/par3-all-player-row.html!strip"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("backbone")
      , s = e("utils/lb/lb-common")
      , n = (e("utils/pubsub"),
    e("text!templates/lb/par3-all-player-row.html!strip"))
      , a = {};
    a.score_cell = t.template('<div class="data <%= klass %>"><%= score %></div>');
    var r = i.View.extend({
        tagName: "div",
        main_template: t.template(n),
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3PlayerRowView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.listenTo(this.model, "change:show", function(e, t) {
                s.togglePlayerRowDisplay(this.$el, t)
            })
        },
        render: function() {
            return this.assignAttributes(),
            this.$el.html(this.buildPlayerRow()),
            this
        },
        assignAttributes: function() {
            var e = "";
            "" !== this.model.get("id") && (e = this.options.prefix + this.model.get("id")),
            this.$el.attr({
                class: "playerRow " + this.options.klass,
                id: e
            })
        },
        buildPlayerRow: function() {
            var e = this.model.attributes.today
              , t = "";
            return parseInt(e) >= 0 || "E" === e ? t = "over" : parseInt(e) < 0 && (t = "under"),
            this.main_template({
                player: this.model.attributes,
                is_hoverable: "" !== this.model.attributes.id,
                par_ouclass: t
            })
        }
    });
    return r
}),
define("utils/lb/par3-window-size", ["require", "utils/pubsub"], function(e) {
    var t = e("utils/pubsub")
      , i = function() {
        var e, i, s = "", n = "45em", a = "57.5em", r = "43.250em", o = "50.813em", l = {
            global: 0,
            tablet: 1,
            desktop: 2,
            smskeuomorphic: 3,
            lgskeuomorphic: 4
        }, h = function() {
            c();
            var t = l.global;
            e.matches ? t = l.lgskeuomorphic : i.matches ? t = l.smskeuomorphic : i.matches && (t = l.tablet),
            d(t)
        }, c = function() {
            e = window.matchMedia("screen and (min-width:" + a + ") and (min-height:" + o + ")"),
            i = window.matchMedia("screen and (min-width:" + n + ") and (min-height:" + r + ")"),
            e.addListener(function(e) {
                e.matches ? (d(l.lgskeuomorphic),
                t.trigger("windowsize:lbLargeSkeuomorphic:enter")) : (d(l.smskeuomorphic),
                t.trigger("windowsize:lbSmallSkeuomorphic:enter"))
            }),
            i.addListener(function(e) {
                e.matches ? (s !== l.lgskeuomorphic && (d(l.smskeuomorphic),
                t.trigger("windowsize:lbSmallSkeuomorphic:enter")),
                t.trigger("windowsize:lbGlobal:exit")) : (d(l.desktop),
                t.trigger("windowsize:lbGlobal:enter"))
            })
        }, d = function(e) {
            s = e,
            console.log("[par3WindowSize.js] setting window size to " + Object.keys(l)[e])
        }, u = function() {
            return s
        };
        return h(),
        {
            size: u,
            sizes: l
        }
    }
      , s = new i;
    return window.windowInfo = s
}),
define("utils/lb/par3-sticky-nav", ["require", "backbone", "jquery", "utils/common", "utils/lb/par3-window-size", "utils/pubsub"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/common")
      , n = e("utils/lb/par3-window-size")
      , a = e("utils/pubsub")
      , r = t.View.extend({
        initialize: function() {
            this.active = !1,
            this._laststickybarpos,
            this.stickied = !1,
            this.$nav = this.$el.parent(),
            this.$static_body = this.$nav.parent(),
            this.nav_top,
            this.$doc = i(document),
            this.listenTo(a, "throttle:resize", this.resizeListener)
        },
        render: function() {
            return this.static_margin = this.$nav.offset().top - this.$static_body.offset().top,
            this.resetTrigger(),
            n.size() !== n.sizes.smskeuomorphic && n.size() !== n.sizes.lgskeuomorphic && (this.stickied = !0,
            this.active = !0,
            this.initSticky()),
            this
        },
        onDispose: function() {
            this.disableSticky()
        },
        resetTrigger: function() {
            this.nav_top = this.$static_body.offset().top - s.header_height + this.static_margin,
            this.nav_top < 0 && (this.nav_top = 0)
        },
        resizeListener: function() {
            this.resetTrigger(),
            this.active && n.size() === n.sizes.smskeuomorphic && n.size() === n.sizes.lgskeuomorphic ? (this.active = !1,
            this.stickied = !1,
            this.disableSticky(),
            this.$nav.removeClass("stickybar")) : this.active || n.size() === n.sizes.smskeuomorphic || n.size() === n.sizes.lgskeuomorphic || (this.active = !0,
            this.stickied = !0,
            this.initSticky()),
            this.scrollListener()
        },
        initSticky: function() {
            a.on("scroll", this.scrollListener.bind(this), this)
        },
        disableSticky: function() {
            a.off("scroll", this.scrollListener, this)
        },
        scrollListener: function() {
            var e = this.$doc.scrollTop();
            void 0 === this._laststickybarpos && (this.resetTrigger(),
            this._laststickybarpos = this.nav_top),
            e > this.nav_top ? (this.$nav.addClass("stickybar"),
            this.stickied = !0) : this.$nav.hasClass("stickybar") && e <= this.nav_top && (this.$nav.removeClass("stickybar"),
            this.stickied = !1,
            this.resetTrigger())
        }
    });
    return r
}),
define("views/lb/par3-all-players", ["require", "jquery", "underscore", "backbone", "views/lb/par3-all-player-row", "utils/lb/lb-common", "utils/lb/par3-sticky-nav", "utils/metrics", "utils/pubsub"], function(e) {
    var t = e("jquery")
      , i = (e("underscore"),
    e("backbone"))
      , s = e("views/lb/par3-all-player-row")
      , n = e("utils/lb/lb-common")
      , a = e("utils/lb/par3-sticky-nav")
      , r = e("utils/metrics")
      , o = e("utils/pubsub")
      , l = i.View.extend({
        events: {
            "click .headerRow .sort_item": "sortPlayersBy"
        },
        _sortTypeLookUp: {
            0: "current_sort_order",
            1: "name",
            2: "thru",
            3: "today",
            4: "current_sort_order",
            pos: "current_sort_order"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3AllPlayersView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.prRows = [],
            this.par3_all_collection = this.options.collection,
            this.criteria = "current_sort_order",
            this.par3stickyNav = new a({
                el: this.$(".headerRow")
            }),
            this.$allPlayerContainer,
            this.listenTo(o, "par3scores:refresh", this.disposePlayerRows_reRender)
        },
        render: function() {
            return this.$allPlayerContainer = this.$("#par3TableData"),
            this.writeHtml(),
            this.par3stickyNav.render(),
            this
        },
        onDispose: function() {
            this.prRows.forEach(function(e) {
                e.prRow.dispose()
            }),
            this.par3stickyNav.dispose()
        },
        disposePlayerRows_reRender: function() {
            this.prRows.forEach(function(e) {
                e.prRow.dispose()
            }),
            this.prRows = [],
            this.par3_all_collection.sortCollection(this.criteria),
            this.writeHtml()
        },
        writeHtml: function() {
            var e = this.buildAllPlayers();
            this.$allPlayerContainer.html(e),
            n.addBottomBorders(this.$allPlayerContainer),
            o.trigger("writeHtml:complete")
        },
        buildAllPlayers: function() {
            var e = [];
            return this.par3_all_collection.forEach(function(t) {
                var i = ""
                  , s = this.createNewPrRow(t);
                this.prRows.push({
                    pid: t.id,
                    prRow: s
                }),
                i = s.$el,
                e.push(i)
            }
            .bind(this)),
            e
        },
        createNewPrRow: function(e) {
            var t = "" !== e.attributes.id ? "hoverable" : ""
              , i = new s({
                model: e,
                prefix: "all",
                klass: t
            }).render();
            return i
        },
        createEmptyPrRow: function() {
            return this.ouPlayerRowEmptyTemplate({})
        },
        sortCollection: function() {
            this.par3_all_collection.sortCollection(this.criteria),
            this.render()
        },
        sortPlayersBy: function(e) {
            var i = parseInt(t(e.currentTarget).index())
              , s = t(e.currentTarget).text();
            this.criteria = this._sortTypeLookUp[i],
            this.par3_all_collection.sortCollection(this.criteria),
            this.setHeaderStyle(e),
            r.measureApp(r.page_section, r.page_title, "Sort", s),
            this.prRows.forEach(function(e) {
                e.prRow.dispose()
            }),
            this.prRows = [],
            this.render()
        },
        setHeaderStyle: function(e) {
            var i = t(e.currentTarget);
            this.$(".sort_item").removeClass("selected"),
            i.addClass("selected")
        },
        enterSkeuomorphic: function() {}
    });
    return l
}),
define("text!templates/lb/par3-leaders-player-row.html!strip", [], function() {
    return '<div class="playerName"><div class="data">\n <% if(is_hoverable) { %>\n <a href="/en_US/players/player_<%=player.id %>.html?promo=bio_par3contest"><%=player.name %></a>\n <% } else { %>\n <%=player.name %>\n <% } %>\n</div></div>\n<div class="toparContainer">\n <div class="par topar <%= par_ouclass %>"><div class="data"><%= firstDigit %></div></div>\n <div class="par topar <%= par_ouclass %>"><div class="data"><%= secondDigit %></div></div>\n</div>\n\n'
}),
define("views/lb/par3-leaders-player-row", ["require", "jquery", "underscore", "backbone", "text!templates/lb/par3-leaders-player-row.html!strip", "text!templates/lb/trad-edge-status-cell.html!strip"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("backbone")
      , s = e("text!templates/lb/par3-leaders-player-row.html!strip")
      , n = e("text!templates/lb/trad-edge-status-cell.html!strip")
      , a = {};
    a.score_cell = t.template('<div class="data <%= klass %>"><%= score %></div>');
    var r = i.View.extend({
        tagName: "div",
        main_template: t.template(s),
        edge_status_cell_template: t.template(n),
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3PlayerRowView"),
            this.logger.info("Initialize"),
            this.options = e
        },
        render: function() {
            return this.assignAttributes(),
            this.$el.html(this.buildPlayerRow()),
            this
        },
        assignAttributes: function() {
            var e = "";
            "" !== this.model.get("id") && (e = this.options.prefix + this.model.get("id")),
            this.$el.attr({
                class: "playerRow " + this.options.klass,
                id: e
            })
        },
        buildPlayerRow: function() {
            var e = this.model.attributes.today
              , t = "";
            parseInt(e) >= 0 || "E" === e ? t = "over" : parseInt(e) < 0 && (t = "under");
            var i = e.substring(1);
            "E" === e && (i = "E");
            var s = i.split("");
            return void 0 === s[1] && (s[1] = s[0],
            s[0] = "&nbsp;"),
            this.main_template({
                player: this.model.attributes,
                is_hoverable: "" !== this.model.attributes.id,
                par_ouclass: t,
                secondDigit: s[1],
                firstDigit: s[0]
            })
        }
    });
    return r
}),
define("text!templates/lb/par3-blank-leaders-player-row.html!strip", [], function() {
    return '<div class="playerRow searchEmptyRow">\n\t<div class="playerName"><div class="data">&nbsp;</div></div>\n\t<div class="toparContainer">\n\t <div class="par topar"><div class="data">&nbsp;</div></div>\n\t <div class="par topar"><div class="data">&nbsp;</div></div>\n\t</div>\n</div>\n\n'
}),
define("views/lb/par3-leaders-players", ["require", "jquery", "underscore", "backbone", "views/lb/par3-leaders-player-row", "utils/lb/lb-common", "utils/pubsub", "text!templates/lb/par3-blank-leaders-player-row.html!strip"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("backbone")
      , s = e("views/lb/par3-leaders-player-row")
      , n = e("utils/lb/lb-common")
      , a = e("utils/pubsub")
      , r = e("text!templates/lb/par3-blank-leaders-player-row.html!strip")
      , o = {};
    o.no_results_found = t.template('<div class="noplayers">No Results Found</div>');
    var l = i.View.extend({
        blankLeadersPlayersRowTemplate: t.template(r),
        events: {
            "click .headerRow .sort_item": "sortPlayersBy"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3LeadersPlayersView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.ldRows = [],
            this.par3_laeders_collection = this.options.collection,
            this.par3_closest_collection = this.options.closest_collection,
            console.log("Par 3 Leaders JSON - :%o", this.par3_laeders_collection),
            this.$leadersPlayerContainer,
            this.listenTo(a, "par3scores:refresh", this.disposePlayerRows_reRender),
            this.listenTo(a, "par3closestscores:refresh", this.disposePlayerRows_reRender),
            this.listenTo(a, "windowsize:lbLargeSkeuomorphic:enter windowsize:lbSmallSkeuomorphic:enter", this.enterSkeuomorphic)
        },
        render: function() {
            return this.$leadersPlayerContainer = this.$("#par3LeadersTableData"),
            this.writeHtml(),
            console.log("this.par3_laeders_collection :%o", this.par3_laeders_collection),
            this
        },
        onDispose: function() {
            this.ldRows.forEach(function(e) {
                e.ldRow.dispose()
            })
        },
        disposePlayerRows_reRender: function() {
            this.onDispose(),
            this.ldRows = [],
            this.par3_laeders_collection.comparator = "current_sort_order",
            this.par3_laeders_collection.sort(),
            this.writeHtml()
        },
        writeHtml: function() {
            var e = this.buildLeadersPlayers();
            this.$leadersPlayerContainer.html(e),
            this.fillInTalbeWithEmptyRows(),
            n.addBottomBorders(this.$leadersPlayerContainer),
            a.trigger("writeHtml:complete")
        },
        buildLeadersPlayers: function() {
            var e = [];
            return t.each(this.par3_laeders_collection.slice(0, this.par3_closest_collection.closestTotal), function(t) {
                var i = ""
                  , s = this.createNewldRow(t);
                this.ldRows.push({
                    pid: t.id,
                    ldRow: s
                }),
                i = s.$el,
                e.push(i)
            }
            .bind(this)),
            e
        },
        createNewldRow: function(e) {
            var t = "" !== e.attributes.id ? "hoverable" : ""
              , i = new s({
                model: e,
                prefix: "ld",
                klass: t
            }).render();
            return i
        },
        createEmptyLdRow: function() {
            return this.blankLeadersPlayersRowTemplate({})
        },
        fillInTalbeWithEmptyRows: function() {
            this.$(".playerRow.searchEmptyRow").remove(),
            this.$(".noplayers").remove();
            var e = this.par3_laeders_collection.length
              , t = this.par3_closest_collection.closestTotal;
            if (e < t) {
                var i = t - e
                  , s = "";
                0 === e && (i--,
                s += o.no_results_found({}));
                for (var n = 0; n < i; n++)
                    s += this.createEmptyLdRow();
                this.$leadersPlayerContainer.append(s)
            }
        },
        sortCollection: function() {
            this.par3_laeders_collection.comparator = "current_sort_order",
            this.par3_laeders_collection.sort(),
            this.render()
        },
        enterSkeuomorphic: function() {}
    });
    return l
}),
define("text!templates/lb/par3-closest-player-row.html!strip", [], function() {
    return '<div class="hole"><%=player.hole %></div>\n<div class="playerName"><div class="data">\n <% if(is_hoverable) { %>\n <a href="/en_US/players/player_<%=player.id %>.html?promo=bio_par3contest"><%=player.last_name %></a>\n <% } else { %>\n <%=player.last_name %>\n <% } %>\n</div></div>\n<div class="distanceWrapper">\n\t<div class="distanceContainer">\n\t <div class="distance"><div class="data"><%= firstDigit %></div></div>\n\t <div class="distance"><div class="data"><%= secondDigit %></div></div>\n\t</div>\n</div>'
}),
define("views/lb/par3-closest-player-row", ["require", "jquery", "underscore", "backbone", "utils/lb/lb-common", "utils/pubsub", "text!templates/lb/par3-closest-player-row.html!strip"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("backbone")
      , s = e("utils/lb/lb-common")
      , n = (e("utils/pubsub"),
    e("text!templates/lb/par3-closest-player-row.html!strip"))
      , a = {};
    a.score_cell = t.template('<div class="data <%= klass %>"><%= score %></div>');
    var r = i.View.extend({
        tagName: "div",
        main_template: t.template(n),
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3ClosestPlayerRowView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.listenTo(this.model, "change:show", function(e, t) {
                s.togglePlayerRowDisplay(this.$el, t)
            })
        },
        render: function() {
            return this.assignAttributes(),
            this.$el.html(this.buildPlayerRow()),
            this
        },
        assignAttributes: function() {
            var e = "";
            "" !== this.model.get("id") && (e = this.options.prefix + this.model.get("id")),
            this.$el.attr({
                class: "playerRow " + this.options.klass,
                id: e
            })
        },
        buildPlayerRow: function() {
            var e = parseInt(this.model.get("distance"), 10) + ""
              , t = e.split("");
            return isNaN(e) ? (t[1] = "&nbsp;",
            t[0] = "&nbsp;") : void 0 === t[1] && (t[1] = t[0],
            t[0] = "&nbsp;"),
            this.main_template({
                player: this.model.attributes,
                is_hoverable: "" !== this.model.attributes.id,
                secondDigit: t[1],
                firstDigit: t[0]
            })
        }
    });
    return r
}),
define("views/lb/par3-closest-players", ["require", "jquery", "underscore", "backbone", "views/lb/par3-closest-player-row", "utils/lb/par3-window-size", "utils/lb/lb-common", "utils/lb/lb-sticky-nav", "utils/pubsub"], function(e) {
    var t = (e("jquery"),
    e("underscore"),
    e("backbone"))
      , i = e("views/lb/par3-closest-player-row")
      , s = e("utils/lb/par3-window-size")
      , n = e("utils/lb/lb-common")
      , a = e("utils/lb/lb-sticky-nav")
      , r = e("utils/pubsub")
      , o = t.View.extend({
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3ClosestPlayersView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.prRows = [],
            this.par3_closest_collection = this.options.collection,
            this.lbstickyNav = new a({
                el: this.$(".headerRow")
            }),
            this.$closestPlayerContainer,
            this.listenTo(r, "par3closestscores:refresh", this.disposePlayerRows_reRender),
            this.listenTo(r, "windowsize:lbLargeSkeuomorphic:enter windowsize:lbSmallSkeuomorphic:enter", this.enterSkeuomorphic)
        },
        render: function() {
            return this.$closestPlayerContainer = this.$("#closestTableData"),
            this.$closestPlayerContainer.html(""),
            this.writeHtml(),
            this
        },
        onDispose: function() {
            this.prRows.forEach(function(e) {
                e.prRow.dispose()
            })
        },
        disposePlayerRows_reRender: function() {
            this.onDispose(),
            this.prRows = [],
            this.writeHtml()
        },
        writeHtml: function() {
            var e = this.buildAllPlayers();
            this.$closestPlayerContainer.html(e),
            n.addBottomBorders(this.$closestPlayerContainer),
            r.trigger("writeHtml:complete")
        },
        buildAllPlayers: function() {
            var e = [];
            return this.par3_closest_collection.forEach(function(t) {
                var i = ""
                  , s = this.createNewPrRow(t);
                this.prRows.push({
                    pid: t.id,
                    prRow: s
                }),
                i = s.$el,
                e.push(i)
            }
            .bind(this)),
            e
        },
        createNewPrRow: function(e) {
            var t = "" !== e.attributes.id ? "hoverable" : ""
              , s = new i({
                model: e,
                prefix: "closest",
                klass: t
            }).render();
            return s
        },
        enterSkeuomorphic: function() {},
        resetSticky: function() {
            s.size() !== s.sizes.smskeuomorphic && s.size() !== s.sizes.lgskeuomorphic ? this.lbstickyNav.resizeListener() : this.lbstickyNav.render()
        }
    });
    return o
}),
define("utils/lb/par3-left-offset", ["require", "utils/pubsub", "utils/browser", "utils/lb/par3-window-size"], function(e) {
    var t = e("utils/pubsub")
      , i = e("utils/browser")
      , s = e("utils/lb/par3-window-size")
      , n = {
        leftoffset: !1,
        init: function(e) {
            this.$viewWrapper = e.$el,
            this.$content = e.$el.find(".par3Content"),
            this.$lbWrapper = this.$content.parent(),
            this.getLeftOffset(),
            this.leftoffset || (t.on("resize.skeuomorphic", function() {
                this.getLeftOffset()
            }
            .bind(this), this),
            i.mobiledevice && $(".popout").addClass("hidden"),
            this.leftoffset = !0),
            console.log("[lb-left-offset.js][lbLeftOffset] initializing")
        },
        getLeftOffset: function() {
            function e() {
                var n = i.$viewWrapper.offset()
                  , a = n.left;
                0 === a ? setTimeout(e, 1e3) : (s.size() === s.sizes.lgskeuomorphic && (a = n.left + 17),
                s.size() === s.sizes.smskeuomorphic && (a = n.left + 15),
                t.on("windowsize:lbLargeSkeuomorphic:enter", function() {
                    a = n.left + 17
                }),
                t.on("windowsize:lbSmallSkeuomorphic:enter", function() {
                    a = n.left + 15
                }),
                i.$lbWrapper.css({
                    "padding-left": a + "px"
                }),
                i.$content.css("opacity", "1"))
            }
            var i = this;
            e()
        },
        destroyLeftOffset: function(e) {
            this.$content = e.$el.find(".par3Content"),
            this.$lbWrapper = this.$content.parent(),
            t.off("resize.skeuomorphic", void 0, this),
            t.off("windowsize:lbLargeSkeuomorphic:enter", void 0, this),
            t.off("windowsize:lbSmallSkeuomorphic:enter", void 0, this),
            this.leftoffset = !1;
            var i = 0;
            this.$lbWrapper.css({
                "padding-left": i + "px"
            })
        }
    };
    return n
}),
define("text!templates/lb/par3-blank-all-player-row.html!strip", [], function() {
    return '<div class="playerRow searchEmptyRow">\n\t<div class="pos">&nbsp;</div>\n\t<div class="playerName">&nbsp;</div>\n\t<div class="thru score">&nbsp;</div>\n\t<div class="par topar">&nbsp;</div>\n\t<div class="total score last">&nbsp;</div>\n</div>\n\n'
}),
define("text!templates/lb/par3-blank-closest-player-row.html!strip", [], function() {
    return '<div class="playerRow searchEmptyRow">\n <div class="hole">&nbsp;</div>\n <div class="playerName"><div class="data">&nbsp;</div></div>\n <div class="distanceWrapper">\n <div class="distanceContainer">\n <div class="distance"><div class="data">&nbsp;</div></div>\n <div class="distance"><div class="data">&nbsp;</div></div>\n </div>\n </div>\n</div>'
}),
define("views/lb/par3-body", ["require", "jquery", "backbone", "underscore", "utils/browser", "utils/pubsub", "utils/metrics", "views/lb/par3-all-players", "views/lb/par3-leaders-players", "views/lb/par3-closest-players", "utils/lb/par3-window-size", "utils/lb/par3-left-offset", "utils/lb/lb-common", "text!templates/lb/par3-blank-all-player-row.html!strip", "text!templates/lb/par3-blank-closest-player-row.html!strip"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("underscore")
      , s = e("utils/browser")
      , n = e("utils/pubsub")
      , a = e("utils/metrics")
      , r = e("views/lb/par3-all-players")
      , o = e("views/lb/par3-leaders-players")
      , l = e("views/lb/par3-closest-players")
      , h = e("utils/lb/par3-window-size")
      , c = e("utils/lb/par3-left-offset")
      , d = e("utils/lb/lb-common")
      , u = e("text!templates/lb/par3-blank-all-player-row.html!strip")
      , p = e("text!templates/lb/par3-blank-closest-player-row.html!strip")
      , f = {};
    f.no_results_found = i.template('<div class="noplayers">No Results Found</div>');
    var g = t.View.extend({
        par3PlayerRowEmptyTemplate: i.template(u),
        closestPlayerRowEmptyTemplate: i.template(p),
        el: "#par3",
        events: {
            "click #playoffFade": "triggerClosePlayoff"
        },
        initialize: function(e) {
            this.showFav = !0,
            this.searchMode = !1,
            this.minRows = 10,
            this.closestMinRows = 9,
            this.logger = new eventsCore.util.Logger("Par3IndexView"),
            this.logger.info("Initialize"),
            this.currentLB = e.lbtype,
            this.$playoffFade = this.$("#playoffFade"),
            this.par3_collection = e.par3_collection,
            this.par3_closest_collection = e.par3_closest_collection,
            this.leaders_collection = e.leaders_collection,
            this.$closest = this.$("#par3Nearest"),
            this.$closestTableData = this.$("#closestTableData"),
            this.$leaders = this.$("#par3LeadersTable"),
            this.$allPlayers = this.$("#par3AllPlayers"),
            this.$allPlayersTableData = this.$("#par3TableData"),
            this.listenTo(n, "par3-topmenubar:par3_all_collection:modified", function(e) {
                this.searchMode = e,
                this.fillInAllPlayersWithEmptyRows()
            }),
            this.listenTo(n, "par3-topmenubar:par3_closest_collection:modified", function(e) {
                this.searchMode = e,
                this.fillInClosestWithEmptyRows()
            }),
            this.listenTo(n, "par3:currentLB:update", this.resetCurrentPar3),
            this.listenTo(n, "change:par3PlayoffStatus", function() {
                d.isPar3PlayoffDisplayed() ? (this.togglePlayoffFade("show"),
                this.toggleLBViews("hide")) : (this.togglePlayoffFade("hide"),
                this.toggleLBViews("show"))
            }),
            this.listenTo(n, "par3playoff:openPlayoff par3playoff:mobileSubmenu:viewPlayoff", function() {
                this.togglePlayoffFade("show"),
                this.toggleLBViews("hide")
            }),
            this.listenTo(n, "par3playoff:closePlayoff par3playoff:mobileSubmenu:playoffUnselected", function() {
                this.togglePlayoffFade("hide"),
                this.toggleLBViews("show")
            }),
            this.listenTo(n, "windowsize:lbLargeSkeuomorphic:enter windowsize:lbSmallSkeuomorphic:enter", this.enterSkeuomorphic),
            this.listenTo(n, "windowsize:lbGlobal:enter", this.enterGlobal)
        },
        render: function() {
            return h.size() !== h.sizes.lgskeuomorphic && h.size() !== h.sizes.smskeuomorphic || c.init(this),
            this.buildPar3ClosestViews(),
            this.buildPar3LBViews(),
            this.showSelectedView(this.currentLB),
            this.par3_collection.par3PlayoffExists && d.isPar3PlayoffDisplayed() ? (this.$playoffFade.css("display", "block"),
            this.toggleLBViews("hide")) : this.toggleLBViews("show"),
            this
        },
        onDispose: function() {
            this.leaders_collection.stopListening(),
            this.par3ClosestPlayersView.dispose(),
            this.par3LeadersView.dispose(),
            this.par3AllPlayersView.dispose()
        },
        buildPar3ClosestViews: function() {
            this.par3ClosestPlayersView = new l({
                el: this.$closest,
                collection: this.par3_closest_collection
            }).render()
        },
        buildPar3LBViews: function() {
            this.par3LeadersView = new o({
                el: this.$leaders,
                collection: this.leaders_collection,
                closest_collection: this.par3_closest_collection
            }).render(),
            this.par3AllPlayersView = new r({
                el: this.$allPlayers,
                collection: this.par3_collection
            }).render()
        },
        showSelectedView: function(e) {
            this.$(".contentTable").removeClass("selected");
            var t = this.$(".contentTable." + this.currentLB);
            t.addClass("selected")
        },
        resetCurrentPar3: function(e) {
            this.currentLB = e,
            this.triggerClearSearch(),
            this.showSelectedView(this.currentLB),
            this.drawEmptyRows()
        },
        drawEmptyRows: function() {
            this.searchMode && h.size() !== h.sizes.smskeuomorphic && h.size() !== h.sizes.lgskeuomorphic && (this.currentLB === d._lbTypeLookUp.all ? this.fillInAllPlayersWithEmptyRows() : this.currentLB === d._lbTypeLookUp.closest && this.fillInClosestWithEmptyRows())
        },
        fillInAllPlayersWithEmptyRows: function() {
            this.$(".playerRow.searchEmptyRow").remove(),
            this.$(".noplayers").remove();
            var e = this.par3_collection.where({
                show: !0
            }).length;
            if (e < this.minRows) {
                var t = this.minRows - e
                  , i = "";
                0 === e && (t--,
                i += f.no_results_found({}));
                for (var s = 0; s < t; s++)
                    i += this.createEmptyAllPlayersRow();
                this.$allPlayersTableData.append(i)
            }
            this.showTopTables(),
            d.addBottomBorders(this.$allPlayersTableData)
        },
        fillInClosestWithEmptyRows: function() {
            this.$(".playerRow.searchEmptyRow").remove(),
            this.$(".noplayers").remove();
            var e = this.par3_closest_collection.where({
                show: !0
            }).length;
            if (e < this.closestMinRows) {
                var t = this.closestMinRows - e
                  , i = "";
                0 === e && (t--,
                i += f.no_results_found({}));
                for (var s = 0; s < t; s++)
                    i += this.createEmptyClosestPlayersRow();
                this.$closestTableData.append(i)
            }
            this.showTopTables(),
            d.addBottomBorders(this.$closestTableData)
        },
        showTopTables: function(e) {
            this.searchMode ? h.size() !== h.sizes.smskeuomorphic && h.size() !== h.sizes.lgskeuomorphic && d._lbTypeLookUp.closest ? this.$leaders.removeClass("tabletShow").addClass("hide") : (this.$closest.removeClass("tabletShow").addClass("hide"),
            this.$leaders.removeClass("tabletShow").addClass("hide")) : (this.$closest.removeClass("hide").addClass("tabletShow"),
            this.$leaders.removeClass("hide").addClass("tabletShow"))
        },
        createEmptyAllPlayersRow: function() {
            return this.par3PlayerRowEmptyTemplate({})
        },
        createEmptyClosestPlayersRow: function() {
            return this.closestPlayerRowEmptyTemplate({})
        },
        triggerClearSearch: function() {
            this.currentLB === d._lbTypeLookUp.closest && n.trigger("par3-body:clearSarch")
        },
        toggleLBViews: function(e) {
            if (h.size() !== h.sizes.lgskeuomorphic || h.size() !== h.sizes.smskeuomorphic)
                switch (e) {
                case "hide":
                    this.$(".contentTable").removeClass("selected");
                    break;
                case "show":
                default:
                    var t = this.$(".contentTable." + this.currentLB);
                    t.addClass("selected")
                }
        },
        togglePlayoffFade: function(e) {
            switch (e) {
            case "show":
                s.ie8 ? this.$playoffFade.show() : this.$playoffFade.fadeIn();
                break;
            case "hide":
            default:
                s.ie8 ? this.$playoffFade.hide() : this.$playoffFade.fadeOut()
            }
        },
        triggerClosePlayoff: function(e) {
            d.setPar3ClosePlayoffCookie(),
            a.measureApp(a.page_section, a.page_title, "Hide Playoff"),
            n.trigger("par3playoff:closePlayoff")
        },
        enterSkeuomorphic: function() {
            this.triggerClearSearch(),
            c.init(this),
            this.$(".headerWrapper").removeClass("stickybar"),
            this.showTopTables(),
            this.par3_collection.par3PlayoffExists && d.isPar3PlayoffDisplayed() ? this.togglePlayoffFade("show") : this.togglePlayoffFade("hide")
        },
        enterGlobal: function() {
            this.searchMode && this.currentLB === d._lbTypeLookUp.closest && this.forceScoresView(),
            n.trigger("lookup.unveil"),
            c.destroyLeftOffset(this)
        },
        forceScoresView: function() {
            d.setPar3AllCookie(),
            this.currentLB = d._lbTypeLookUp.all,
            this.showSelectedView(this.currentLB),
            this.drawEmptyRows(),
            n.trigger("forceScoresView:enabled", this.currentLB)
        }
    });
    return g
}),
define("models/par3-player", ["require", "jquery", "backbone", "models/base-player"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("models/base-player"))
      , i = t.extend({
        defaults: {
            id: "",
            name: "",
            pos: "",
            sort_order: "",
            first_name: "",
            last_name: "",
            thru: "",
            today: "",
            total: ""
        },
        idAttribute: "name",
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Par3Player Model"),
            this.logger.debug("Initialize"),
            this.on("change", function() {
                this.logger.debug(this.get("name") + " changed :%o", this.changedAttributes())
            }),
            t.prototype.initialize.apply(this, arguments),
            this.setFullName(this.get("first_name"), this.get("last_name"))
        },
        parse: function(e) {
            return e.current_sort_order = parseInt(e.sort_order),
            e
        }
    });
    return i
}),
define("collections/par3-players", ["require", "utils/lb/lb-common", "models/par3-player", "collections/base-players", "utils/pubsub"], function(e) {
    var t = e("utils/lb/lb-common")
      , i = e("models/par3-player")
      , s = e("collections/base-players")
      , n = e("utils/pubsub")
      , a = s.extend({
        model: i,
        url: "/en_US/xml/gen/scores/par3.ios.json",
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Par3AllPlayersList"),
            this.logger.info("Initialize"),
            this.sort_criteria = "current_sort_order",
            this.par3ContestData,
            this.oldPar3PlayoffStatus = !1
        },
        parse: function(e) {
            return this.par3PlayoffExists = !1,
            this.par3PlayoffStatus = !1,
            this.data = e.data,
            this.par3ContestData = this.data.player.length,
            void 0 !== this.data.playoff && "" !== this.data.playoff && (this.par3PlayoffExists = !0,
            this.par3PlayoffStatus = !0,
            this.par3PlayoffStartHole = e.data.playoff.starthole,
            this.par3PlayoffPlayers = e.data.playoff.player,
            this.trigger("refresh:par3PlayoffData", this.par3PlayoffPlayers)),
            this.oldPar3PlayoffStatus !== this.par3PlayoffStatus && (this.logger.info("playoff status has been changed"),
            n.trigger("change:par3PlayoffStatus", this.par3PlayoffStatus)),
            this.oldPar3PlayoffStatus = this.par3PlayoffStatus,
            e.data.player
        },
        sortCollection: function(e) {
            this.comparator = this.criteriaComparator(e),
            this.sort()
        },
        criteriaComparator: function(e, i) {
            return this.sort_criteria = e,
            "today" === e ? function(e, i) {
                return t.compareToday(e, i)
            }
            : "thru" === e ? function(e, i) {
                return t.compareThru(e, i)
            }
            : function(i, s) {
                var n = i.get(e)
                  , a = s.get(e);
                return "name" === e && ("" === n && (n = "zzzzzzzzzzzzzzz"),
                "" === a && (a = "zzzzzzzzzzzzzzz")),
                n < a ? -1 : n > a ? 1 : t.comparePos(i, s)
            }
        }
    });
    return new a
}),
define("models/par3-closest-player", ["require", "jquery", "backbone", "models/base-player"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("models/base-player"))
      , i = t.extend({
        defaults: {
            hole: "",
            distance: "",
            id: "",
            sort_order: "",
            full_name: "",
            last_name: ""
        },
        idAttribute: "sort_order",
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Par3ClosestPlayer Model"),
            this.logger.debug("Initialize"),
            this.on("change", function() {
                this.logger.debug(this.get("full_name") + " changed :%o", this.changedAttributes())
            })
        }
    });
    return i
}),
define("collections/par3-closest-players", ["require", "models/par3-closest-player", "collections/base-players"], function(e) {
    var t = e("models/par3-closest-player")
      , i = e("collections/base-players")
      , s = i.extend({
        model: t,
        url: "/en_US/xml/gen/scores/par3.ios.json",
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Par3ClosestPlayersList"),
            this.logger.info("Initialize"),
            this.closestTotal = 9
        },
        parse: function(e) {
            return this.closestTotal = e.closest.length,
            void 0 !== this.oldClosestTotal && this.closestTotal !== this.oldClosestTotal && (this.logger.info("closest players total number has been changed"),
            this.trigger("closest:change:closestTotal")),
            this.oldClosestTotal = e.closest.length,
            e.closest
        }
    });
    return new s
}),
define("collections/par3-leaders", ["require", "backbone", "utils/lb/lb-common", "models/par3-player", "collections/par3-players"], function(e) {
    var t = e("backbone")
      , i = e("utils/lb/lb-common")
      , s = e("models/par3-player")
      , n = e("collections/par3-players")
      , a = t.Collection.extend({
        model: s,
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Par3LeadersPlayersList"),
            this.logger.info("Initialize"),
            this.sort_criteria = "current_sort_order",
            this.createCollection(),
            this.listenTo(n, "add", this.addLeader),
            this.listenTo(n, "remove", this.removeLeader)
        },
        createCollection: function(e) {
            this.reset(n.models)
        },
        addLeader: function(e) {
            this.add(e),
            this.sortCollection(this.sort_criteria),
            this.logger.info(e.get("name") + " is added to par3 leaders collection: %o", e)
        },
        removeLeader: function(e) {
            this.sortCollection(this.sort_criteria),
            this.remove(e),
            this.logger.info(e.get("name") + " is removed from par3 leaders collection: %o", e)
        },
        sortCollection: function(e) {
            this.comparator = this.criteriaComparator(e),
            this.sort()
        },
        criteriaComparator: function(e, t) {
            return this.sort_criteria = e,
            "today" === e ? function(e, t) {
                return i.compareToday(e, t)
            }
            : "thru" === e ? function(e, t) {
                return i.compareThru(e, t)
            }
            : function(t, s) {
                var n = t.get(e)
                  , a = s.get(e);
                return "name" === e && ("" === n && (n = "zzzzzzzzzzzzzzz"),
                "" === a && (a = "zzzzzzzzzzzzzzz")),
                "total" === e && ("" === n && (n = "9999999999"),
                "" === a && (a = "9999999999")),
                n < a ? -1 : n > a ? 1 : i.comparePos(t, s)
            }
        }
    });
    return a
}),
define("models/par3-playoff-player", ["require", "jquery", "backbone"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = t.Model.extend({
        defaults: {
            id: "",
            name: "",
            score: "",
            status: "",
            total: ""
        },
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Par3PlayoffPlayer Model"),
            this.logger.debug("Initialize"),
            this.on("change", function() {
                this.logger.debug(this.get("name") + " changed :%o", this.changedAttributes())
            })
        },
        parse: function(e) {
            return e
        }
    });
    return i
}),
define("collections/par3-playoff-players", ["require", "jquery", "backbone", "models/par3-playoff-player", "collections/par3-players"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("models/par3-playoff-player")
      , s = e("collections/par3-players")
      , n = t.Collection.extend({
        model: i,
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Par3PlayoffPlayersList"),
            this.logger.info("Initialize"),
            this.createCollection(),
            this.listenTo(s, "refresh:par3PlayoffData", this.updateCollection)
        },
        createCollection: function(e) {
            this.reset(s.par3PlayoffPlayers),
            this.logger.info("Par3 Playoff Collection :%o", this)
        },
        updateCollection: function(e) {
            this.set(e),
            this.logger.info("par3 playoff collection updated: %o", e)
        }
    });
    return new n
}),
define("text!templates/lb/par3-playoff-player-row.html!strip", [], function() {
    return '<td class="playerName"><%= player.name %></td>\n<%= sorecards %>\n<%= empty_cells %>'
}),
define("views/lb/par3-playoff-player-row", ["require", "jquery", "underscore", "backbone", "text!templates/lb/par3-playoff-player-row.html!strip"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("backbone")
      , s = e("text!templates/lb/par3-playoff-player-row.html!strip")
      , n = {};
    n.playoff_score_cell = t.template('<td class="hole_no"><div class="<%= klass %>"><%= score %></div></td>'),
    n.empty_playoff_cell = t.template('<td class="hole_no">&nbsp;</td>');
    var a = i.View.extend({
        tagName: "tr",
        main_template: t.template(s),
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3PlayoffPlayerRowView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.playoff_holes = this.options.playoff_holes,
            this.progress = this.options.progress,
            this.listenTo(this.model, "change:score", this.render)
        },
        render: function() {
            return this.assignAttributes(),
            this.$el.html(this.buildPlayerRow()),
            this
        },
        assignAttributes: function() {
            this.$el.attr({
                class: "player",
                "data-id": this.model.get("id")
            })
        },
        buildPlayerRow: function() {
            var e, t = this.model.get("score").split(",");
            return e = this.prepareScorecard(t),
            this.main_template({
                player: this.model.attributes,
                sorecards: e,
                empty_cells: this.getEmptyTDs(t.length)
            })
        },
        prepareScorecard: function(e) {
            for (var t, i = e, s = 0, a = i.length; s < a; s++)
                t += n.playoff_score_cell({
                    player: this.model.attributes,
                    klass: this.getClassForPlayoffScore(i[s]),
                    score: i[s]
                });
            return t
        },
        getClassForPlayoffScore: function(e) {
            var t = "";
            return e = parseInt(e, 10),
            e <= 1 ? t = "eagle" : 2 === e ? t = "birdie" : 3 === e ? t = "par" : 4 === e ? t = "bogey" : e >= 5 && (t = "dbl_bogey"),
            t
        },
        getEmptyTDs: function(e) {
            for (var t = this.progress - e, i = "", s = 0; s < t; s++)
                i += n.empty_playoff_cell({});
            return i
        }
    });
    return a
}),
define("text!templates/lb/par3-playoff-container.html!strip", [], function() {
    return '<div id="par3PlayOff" style="<%= display %>">\n <div class="closeButton" style="cursor: pointer;"><span class="close">Close</span></div>\n <div id="playOffContent">\n <div class="title">Playoff</div>\n <div class="sd">Sudden Death</div>\n <table id="scorecard" cellpadding="0" cellspacing="0">\n <!-- Playoff Header + Playoff Data Table -->\n <%= playoff_header %>\n </table> \n </div>\n</div>'
}),
define("text!templates/lb/par3-playoff-header.html!strip", [], function() {
    return '<tr class="header">\n <td class="description">HOLE</td>\n <%= hole_header_html %>\n <%= empty_cells %>\n</tr>\n\n<tr class="par">\n <td class="description">PAR</td>\n <%= par_header_html %>\n <%= empty_cells %>\n</tr>'
}),
define("views/lb/par3-playoff", ["require", "jquery", "underscore", "backbone", "utils/browser", "utils/lb/lb-common", "utils/metrics", "utils/pubsub", "views/lb/par3-playoff-player-row", "text!templates/lb/par3-playoff-container.html!strip", "text!templates/lb/par3-playoff-header.html!strip"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("backbone")
      , s = e("utils/browser")
      , n = e("utils/lb/lb-common")
      , a = e("utils/metrics")
      , r = e("utils/pubsub")
      , o = e("views/lb/par3-playoff-player-row")
      , l = e("text!templates/lb/par3-playoff-container.html!strip")
      , h = e("text!templates/lb/par3-playoff-header.html!strip")
      , c = {};
    c.hole_header_cell = t.template('<td class="hole_no hole<%= holeNum %>"><%= holeNum %></td>'),
    c.par_header_cell = t.template('<td class="hole_no">3</td>'),
    c.empty_playoff_cell = t.template('<td class="hole_no">&nbsp;</td>');
    var d = i.View.extend({
        el: "#playoffContainer",
        container_template: t.template(l),
        header_template: t.template(h),
        events: {
            "click #par3PlayOff .closeButton": "triggerClosePlayoff"
        },
        prRows: {},
        prOrder: [],
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3Playoff"),
            this.logger.info("Initialize"),
            this.playoff_collection = this.collection,
            this.playoff_startHole = e.startHole,
            this.playoff_holes = e.playoff_holes,
            this.progress = e.progress,
            this.$playoffContainer = this.$el,
            this.$playoffDataTable,
            this.listenTo(r, "change:par3PlayoffStatus", function() {
                n.isPar3PlayoffDisplayed ? this.togglePlayoffModal("show") : this.togglePlayoffModal("hide")
            }),
            this.listenTo(r, "par3playoff:openPlayoff par3playoff:mobileSubmenu:viewPlayoff", function() {
                this.togglePlayoffModal("show")
            }),
            this.listenTo(r, "par3playoff:closePlayoff par3playoff:mobileSubmenu:playoffUnselected", function() {
                this.togglePlayoffModal("hide")
            }),
            this.listenTo(this.playoff_collection, "update", this.checkPlayerOrder)
        },
        render: function() {
            return this.$playoffContainer.html(""),
            this.writePlayoffHtml(),
            this
        },
        onDispose: function() {
            this.prOrder.forEach(function(e) {
                this.prRows[e].dispose()
            }
            .bind(this))
        },
        writePlayoffHtml: function() {
            var e = this.buildPlayoffContainerHtml();
            this.$playoffContainer.html(e);
            var t = this.buildPlayoffPlayerRows();
            this.$("#scorecard tbody").append(t),
            this.$playoffDataTable = this.$("#par3PlayOff")
        },
        buildPlayoffContainerHtml: function() {
            var e, t = 0;
            return this.playoff_collection.length > 3 && (t = 20 * (this.playoff_collection.length - 3),
            t > 100 && (t = 100)),
            e = this.container_template({
                display: n.isPar3PlayoffDisplayed() ? "" : "display: none;",
                playoff_header: this.buildPlayoffHeaderHtml()
            })
        },
        buildPlayoffHeaderHtml: function() {
            for (var e = "", t = "", i = 0, s = this.playoff_holes.length; i < s; i++)
                e += c.hole_header_cell({
                    holeNum: this.playoff_holes[i]
                }),
                t += c.par_header_cell({});
            var n = this.header_template({
                hole_header_html: e,
                par_header_html: t,
                empty_cells: this.getEmptyTDs(this.progress)
            });
            return n
        },
        getEmptyTDs: function(e) {
            for (var t = this.progress - e, i = "", s = 0; s < t; s++)
                i += c.empty_playoff_cell({});
            return i
        },
        buildPlayoffPlayerRows: function() {
            var e = [];
            return this.playoff_collection.forEach(function(t) {
                var i = ""
                  , s = this.createNewPrRow(t);
                this.prRows[t.id] = s,
                this.prOrder.push(t.id),
                i = s.$el,
                e.push(i)
            }
            .bind(this)),
            e
        },
        createNewPrRow: function(e) {
            var t = new o({
                model: e,
                prefix: "playoff",
                progress: this.progress,
                playoff_holes: this.playoff_holes
            }).render();
            return t
        },
        checkPlayerOrder: function(e, t) {
            for (var i = 0, s = this.prOrder.length; i < s; i++) {
                var n, a = this.prOrder[i], r = e.at(i);
                if (r && (n = r.id),
                a !== n) {
                    var o = this.prRows[n].$el.detach();
                    this.prRows[a].$el.before(o);
                    var l = this.prOrder.indexOf(n);
                    this.prOrder.splice(l, 1),
                    this.prOrder.splice(i, 0, n)
                }
            }
        },
        togglePlayoffModal: function(e) {
            switch (e) {
            case "show":
                s.ie8 ? this.$playoffDataTable.show() : this.$playoffDataTable.fadeIn();
                break;
            case "hide":
            default:
                s.ie8 ? this.$playoffDataTable.hide() : this.$playoffDataTable.fadeOut()
            }
        },
        triggerClosePlayoff: function() {
            n.setPar3ClosePlayoffCookie(),
            a.measureApp(a.page_section, "Hide Playoff"),
            r.trigger("par3playoff:closePlayoff")
        }
    });
    return d
}),
define("views/lb/par3-footer", ["require", "jquery", "underscore", "backbone", "utils/metrics", "utils/lb/lb-common", "utils/pubsub"], function(e) {
    var t = (e("jquery"),
    e("underscore"))
      , i = e("backbone")
      , s = e("utils/metrics")
      , n = e("utils/lb/lb-common")
      , a = e("utils/pubsub")
      , r = {};
    r.playoffMsg = t.template('<a href="#" id="viewPlayoff">View Playoff Scores</a>');
    var o = i.View.extend({
        el: "#par3FooterBase",
        events: {
            "click #conCurrentRound a": "activateConcurrentRoundSelector",
            "click #viewPlayoff": "triggerOpenPlayoff"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3FooterView"),
            this.logger.info("Initialize"),
            this.options = e,
            this.par3_collection = this.options.par3_collection,
            this.$playoff_message = this.$("#view_playoff"),
            this.listenTo(a, "change:par3PlayoffStatus", this.getPlayoffMsg)
        },
        render: function() {
            return this.getPlayoffMsg(),
            this
        },
        getPlayoffMsg: function() {
            if (this.$playoff_message = this.$("#view_playoff"),
            this.par3_collection.par3PlayoffExists && 0 === this.$("#viewPlayoff").length) {
                var e = r.playoffMsg();
                this.$playoff_message.append(e).removeClass("hide")
            } else
                this.$playoff_message.html("").addClass("hide")
        },
        triggerOpenPlayoff: function() {
            n.clearPar3ClosePlayoffCookie(),
            s.measureApp(s.page_section, "View Playoff"),
            a.trigger("par3playoff:openPlayoff")
        }
    });
    return o
}),
define("views/lb/par3-submenu", ["require", "jquery", "backbone", "utils/lb/lb-common"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("utils/lb/lb-common")
      , n = i.View.extend({
        el: ".footer_cell .view_selector",
        events: {
            "click .leaderboardoption.selected": "disableLink",
            "click .leaderboardoption:not(.selected)": "setLBOption"
        },
        _lbLookUp: {
            1: "ou",
            2: "trad"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3SubMenu"),
            this.logger.info("Initialize")
        },
        render: function() {},
        disableLink: function(e) {
            e.preventDefault()
        },
        setLBOption: function(e) {
            var i, n = t(e.currentTarget), a = n.index();
            0 !== a ? (i = this._lbLookUp[a],
            t.cookie(s._lbCookieNames.mainLB, i, {
                expires: 5,
                path: s.cookiePath
            })) : e.preventDefault()
        }
    });
    return n
}),
define("views/lb/par3-submenumobile", ["require", "jquery", "underscore", "backbone", "utils/lb/lb-common", "utils/pubsub", "utils/metrics", "collections/score-players"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/lb/lb-common")
      , a = e("utils/pubsub")
      , r = e("utils/metrics")
      , o = e("collections/score-players")
      , l = {};
    l.playoff_viewSelector = i.template('<a href="#" data-view="playoff" id="viewPlayoffMedium" class="par3option">Playoff</a>');
    var h = s.View.extend({
        el: ".left_cell",
        events: {
            "click .selected_container": "toggleOpen",
            "click .options a.selected": "disableLink",
            "click .par3option.selected": "disableLink",
            "click #viewPlayoffMedium.selected": "disableLink",
            "click .options a:not(.selected)": "selectOption",
            "click .par3option:not(.selected)": "setPar3Option",
            "click #viewPlayoffMedium:not(.selected)": "selectPlayoffOption"
        },
        defaults: {
            callback: function() {},
            callback_context: this,
            metrics: []
        },
        _lbLookUp: {
            0: "all",
            1: "closest"
        },
        open: !1,
        selected: 0,
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3SubMenuMobile"),
            this.options = i.extend({}, this.defaults, e),
            this.currentLB = e.lbtype,
            this.par3_collection = e.collection,
            this.$html = t("html"),
            this.$parent,
            this.$selected_option,
            this.$selected,
            this.selected,
            this.$round_selector = this.$("#roundSelector"),
            this.$optionLink = this.$(".par3option"),
            this.$all_link = this.$("[data-view='all']"),
            this.$closest_link = this.$("[data-view='closest']"),
            this.$playoff_link = this.$("#viewPlayoffMedium"),
            this.getSelectedPar3Option(),
            this.addPlayoffLink(),
            this.listenTo(a, "change:par3PlayoffStatus", this.addPlayoffLink),
            this.listenTo(this, "select", this.setOption),
            this.listenTo(a, "forceScoresView:enabled", this.getSelectedPar3Option),
            this.listenTo(a, "par3playoff:openPlayoff par3playoff:closePlayoff", this.setPlayoffLinks),
            this.listenTo(o, "change:currentRound", this.loadRoundSelector)
        },
        render: function() {
            return this.loadRoundSelector(),
            this
        },
        dispose: function() {
            s.View.prototype.dispose.call(this, !0)
        },
        loadRoundSelector: function() {
            this.$(".navWrapper #roundSelector").load("/en_US/includes/gen/nav_selector_currentRound_par3.ssi", function() {}
            .bind(this))
        },
        disableLink: function(e) {
            e.preventDefault()
        },
        getSelectedPar3Option: function(e) {
            var t;
            switch (this.$optionLink.removeClass("selected"),
            void 0 !== e && (this.currentLB = e),
            this.$optionLink.removeClass("selected"),
            this.currentLB) {
            case "all":
                t = this.$all_link;
                break;
            case "closest":
                t = this.$closest_link
            }
            t.addClass("selected"),
            this.par3_collection.par3PlayoffExists && !n.isPar3PlayoffDisplayed() && this.$playoff_link.removeClass("selected")
        },
        setPar3Option: function(e) {
            var i = t(e.currentTarget)
              , s = i.index();
            this.$optionLink.removeClass("selected"),
            i.addClass("selected"),
            r.measureApp(r.page_section, r.page_title, i.text());
            var o = this._lbLookUp[s];
            t.cookie(n._lbCookieNames.par3, o, {
                expires: 5,
                path: n.par3CookiePath
            }),
            a.trigger("par3:currentLB:update", o),
            n.isPar3PlayoffDisplayed() && (n.setPar3ClosePlayoffCookie(),
            this.setPlayoffLinks(o),
            a.trigger("par3playoff:mobileSubmenu:playoffUnselected", o))
        },
        toggleOpenState: function(e) {
            void 0 !== e ? this.open = e : this.open = !this.open,
            this.$round_selector.toggleClass("open", this.open)
        },
        toggleOpen: function() {
            this.toggleOpenState();
            var e = this.open ? "Open" : "Close";
            r.measureApp(r.page_section, r.page_title, "Round Selector", e)
        },
        selectOption: function(e) {
            var i = t(e.currentTarget);
            i.index() === this.selected && e.preventDefault(),
            this.toggleOpenState(!1)
        },
        addPlayoffLink: function(e) {
            if (this.par3_collection.par3PlayoffExists && 0 === this.$playoff_link.length) {
                var t = l.playoff_viewSelector({});
                this.$closest_link.after(t),
                this.$playoff_link = this.$("#viewPlayoffMedium"),
                this.setPlayoffLinks()
            }
        },
        setPlayoffLinks: function(e) {
            if (n.isPar3PlayoffDisplayed())
                this.$optionLink.removeClass("selected"),
                this.$playoff_link.addClass("selected");
            else {
                var t;
                t = void 0 !== e ? e === n._lbTypeLookUp.all ? this.$all_link : this.$closest_link : this.currentLB === n._lbTypeLookUp.all ? this.$all_link : this.$closest_link,
                t.addClass("selected"),
                this.$playoff_link.removeClass("selected")
            }
        },
        selectPlayoffOption: function(e) {
            e.preventDefault(),
            this.$optionLink.removeClass("selected");
            var i = t(e.currentTarget);
            i.addClass("selected"),
            2 === i.index() && (n.clearPar3ClosePlayoffCookie(),
            r.measureApp(r.page_section, r.page_title, "View Playoff"),
            a.trigger("par3playoff:mobileSubmenu:viewPlayoff"))
        }
    });
    return h
}),
define("views/lb/par3-topmenubar", ["require", "jquery", "backbone", "utils/lb/lb-common", "utils/metrics", "views/lb/par3-submenu", "views/lb/par3-submenumobile", "utils/pubsub", "views/players-search", "views/players-search", "utils/metrics"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("utils/lb/lb-common")
      , s = e("utils/metrics")
      , n = e("views/lb/par3-submenu")
      , a = e("views/lb/par3-submenumobile")
      , r = e("utils/pubsub")
      , o = e("views/players-search")
      , l = e("views/players-search")
      , s = e("utils/metrics")
      , h = t.View.extend({
        el: "#par3Footer",
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Par3MenuBar"),
            this.logger.info("Initialize"),
            this.currentLB = e.lbtype,
            this.par3_original_collection = e.par3_original_collection,
            this.par3_collection = e.par3_collection,
            this.par3_closest_collection = e.par3_closest_collection,
            this.$searchBoxes = this.$(".player_search_cell"),
            this.$all_search = this.$(".player_search_cell.all"),
            this.$closest_search = this.$(".player_search_cell.closest"),
            this.Par3SubMenu = new n({
                el: this.$(".footer_cell .view_selector")
            }),
            this.Par3SubMenuMobile = new a({
                el: this.$(".left_cell"),
                lbtype: this.currentLB,
                collection: this.par3_original_collection
            }),
            this.listenTo(r, "par3:currentLB:update", this.resetCurrentPar3),
            this.listenTo(r, "forceScoresView:enabled", this.showSelectedPar3Search),
            this.listenTo(r, "par3playoff:openPlayoff par3playoff:mobileSubmenu:viewPlayoff", function() {
                this.toggleSearchBoxes("hide")
            }),
            this.listenTo(r, "par3playoff:closePlayoff par3playoff:mobileSubmenu:playoffUnselected", function() {
                this.toggleSearchBoxes("show")
            })
        },
        buildPlayersSearchView: function() {
            this.playersSearchView = new o({
                el: this.$all_search,
                collection: this.par3_collection,
                searchKey: "full_name",
                metrics: [s.page_section, s.page_title]
            }),
            this.playersSearchView.render(),
            this.listenTo(this.par3_collection, "modified", function(e, t) {
                var i = "search" === e && "" !== t;
                r.trigger("par3-topmenubar:par3_all_collection:modified", i)
            }),
            this.listenTo(r, "change:par3PlayoffStatus", function() {
                this._toggleSearchBoxes()
            })
        },
        buildClosestPlayersSearchView: function() {
            this.closestPlayersSearchView = new l({
                el: this.$closest_search,
                collection: this.par3_closest_collection,
                searchKey: "full_name",
                metrics: [s.page_section, s.page_title]
            }),
            this.closestPlayersSearchView.render(),
            this.listenTo(this.par3_closest_collection, "modified", function(e, t) {
                var i = "search" === e && "" !== t;
                r.trigger("par3-topmenubar:par3_closest_collection:modified", i)
            }),
            this.listenTo(r, "change:par3PlayoffStatus", function() {
                this._toggleSearchBoxes()
            }),
            this.showSelectedPar3Search()
        },
        showSelectedPar3Search: function(e) {
            var t;
            switch (void 0 !== e && (this.currentLB = e),
            this.$searchBoxes.removeClass("selected"),
            this.currentLB) {
            case "all":
                t = this.$all_search;
                break;
            case "closest":
                t = this.$closest_search
            }
            void 0 !== t && t.addClass("selected")
        },
        resetCurrentPar3: function(e) {
            this.currentLB = e,
            this.showSelectedPar3Search(this.currentLB)
        },
        render: function() {
            return this.Par3SubMenu.render(),
            this.Par3SubMenuMobile.render(),
            this.buildPlayersSearchView(),
            this.buildClosestPlayersSearchView(),
            this.$all_search_field = this.$all_search.find("#lbSearch"),
            this.$closest_search_field = this.$closest_search.find("#lbSearch"),
            this.par3_original_collection.par3PlayoffExists && i.isPar3PlayoffDisplayed() && this.toggleSearchBoxes("hide"),
            this
        },
        onDispose: function() {
            this.Par3SubMenu.dispose(),
            this.Par3SubMenuMobile.dispose(),
            this.playersSearchView.dispose(),
            this.buildClosestPlayersSearchView()
        },
        toggleSearchBoxes: function(e) {
            switch (e) {
            case "hide":
                this.$all_search_field.addClass("hidden"),
                this.$closest_search_field.addClass("hidden");
                break;
            case "show":
            default:
                this.$all_search_field.removeClass("hidden"),
                this.$closest_search_field.removeClass("hidden")
            }
        },
        _toggleSearchBoxes: function() {
            i.isPar3PlayoffDisplayed() ? this.toggleSearchBoxes("hide") : this.toggleSearchBoxes("show")
        }
    });
    return h
}),
define("controllers/par3contest", ["require", "jquery", "underscore", "baseview", "utils/geoblock", "views/landing-hero", "utils/lb/lb-common", "views/lb/par3-body", "collections/par3-players", "collections/par3-closest-players", "collections/par3-leaders", "collections/par3-playoff-players", "views/lb/par3-playoff", "utils/metrics", "views/lb/par3-footer", "views/lb/par3-topmenubar", "utils/lb/par3-window-size", "utils/pubsub"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("baseview")
      , n = e("utils/geoblock")
      , a = e("views/landing-hero")
      , r = e("utils/lb/lb-common")
      , o = e("views/lb/par3-body")
      , l = e("collections/par3-players")
      , h = e("collections/par3-closest-players")
      , c = e("collections/par3-leaders")
      , d = e("collections/par3-playoff-players")
      , u = e("views/lb/par3-playoff")
      , p = (e("utils/metrics"),
    e("views/lb/par3-footer"))
      , f = e("views/lb/par3-topmenubar")
      , g = (e("utils/lb/par3-window-size"),
    e("utils/pubsub"))
      , m = s.extend({
        events: {},
        geo_checked: !1,
        processPageVars: function() {
            "live" === this.jsonData.pageState && (this.props = {
                events: "event44"
            }),
            this.pageTitle = "Par 3 Contest"
        },
        initialize: function(e) {
            s.prototype.initialize.apply(this, arguments),
            this.logger = new eventsCore.util.Logger("Par3View"),
            this.logger.info("initialize"),
            t(window).on("resize.par3", i.bind(this.resize, this)),
            this.par3_collection,
            this.par3_playoff_collection,
            this.par3_closest_collection,
            this.leaders_collection,
            this._isPar3DataLoaded = !1,
            this._isPar3ClosestDataLoaded = !1,
            this.callback = function() {}
            ,
            this.interval = 30,
            this.timeoutId,
            "live" === this.jsonData.pageState ? (n.checkAction = this.geoAction.bind(this),
            this.loadCollections()) : "stub" === this.jsonData.pageState && (this.hero = new a({
                el: this.$(".hero-wrap")
            })),
            this.listenTo(g, "change:par3PlayoffStatus", this.getPar3PlayoffStatus)
        },
        onInitialization: function() {},
        geoAction: function() {
            this.geo_checked || n.isLoaded() && (n.isBlocked(),
            this.geo_checked = !0)
        },
        onRender: function() {
            this.logger.info("onRender"),
            s.prototype.onRender.apply(this, arguments),
            "live" === this.jsonData.pageState && (this.resize(),
            this.unveil(this.$(".hero-content img")),
            this.buildTopMenusAndCallPar3Body(),
            this.getPar3PlayoffStatus(),
            this.timeoutId = setInterval(this.loadCollections.bind(this), 1e3 * this.interval))
        },
        onDispose: function() {
            "live" === this.jsonData.pageState && (this.leaders_collection.stopListening(),
            this.par3menubar.dispose(),
            this.par3BodyView.dispose(),
            this.par3FooterView.dispose(),
            t(window).off("resize.par3"),
            clearInterval(this.timeoutId),
            this.par3PlayoffView && this.par3PlayoffView.dispose())
        },
        loadCollections: function() {
            this.loadPar3ClosestCollection(),
            this.loadPar3Collection()
        },
        loadPar3ClosestCollection: function() {
            this.par3_closest_collection = h,
            this.par3_closest_collection.fetch({
                success: function() {
                    this.callback(this.par3_closest_collection),
                    this._isPar3ClosestDataLoaded = !0,
                    this.noClosestPlayers = !1,
                    console.log("checkPar3ClosestJson - this.par3_closest_collection:%o", this.par3_closest_collection),
                    g.trigger("par3closestscores:refresh")
                }
                .bind(this)
            })
        },
        loadPar3Collection: function() {
            this.par3_collection = l,
            this.par3_playoff_collection = d,
            this.par3_collection.fetch({
                success: function() {
                    this._isPar3DataLoaded = !0,
                    console.log("checkPar3Json - this.collection:%o", this.par3_collection),
                    console.log("checkPar3Json - this.par3_playoff_collection:%o", this.par3_playoff_collection),
                    g.trigger("par3scores:refresh")
                }
                .bind(this)
            })
        },
        buildTopMenusAndCallPar3Body: function() {
            return this._isPar3DataLoaded ? void this.buildPar3Body() : void g.once("par3scores:refresh", this.buildTopMenusAndCallPar3Body, this)
        },
        buildPar3Body: function() {
            return this._isPar3ClosestDataLoaded ? (this.leaders_collection = new c,
            this.par3menubar = new f({
                el: this.$("#par3Footer"),
                lbtype: this.setCurrentPar3(),
                par3_original_collection: this.par3_collection,
                par3_collection: this.par3_collection.clone(),
                par3_closest_collection: this.par3_closest_collection.clone()
            }).render(),
            this.par3BodyView = new o({
                el: this.$("#par3"),
                lbtype: this.setCurrentPar3(),
                par3_collection: this.par3_collection,
                par3_closest_collection: this.par3_closest_collection,
                leaders_collection: this.leaders_collection
            }).render(),
            this.buildPar3Footer(),
            void 0) : void g.once("par3closestscores:refresh", this.buildPar3Body, this)
        },
        buildPar3Footer: function() {
            this.par3FooterView = new p({
                el: this.$("#par3FooterBase"),
                lbtype: this.setCurrentPar3(),
                par3_collection: this.par3_collection
            }).render()
        },
        getPar3PlayoffStatus: function() {
            if (!this._isPar3DataLoaded)
                return void g.once("par3scores:refresh", this.getPar3PlayoffStatus, this);
            if (this.par3_collection.par3PlayoffExists) {
                for (var e = this.par3_collection.par3PlayoffStartHole, t = 8, i = [], s = 0; s < t; s++)
                    e = "8" === e ? "9" : "8",
                    i.push(e);
                this.par3PlayoffView = new u({
                    el: this.$("#playoffContainer"),
                    collection: this.par3_playoff_collection,
                    startHole: e,
                    progress: t,
                    playoff_holes: i
                }).render()
            }
        },
        getMainPar3Cookie: function() {
            t.cookie(r._lbCookieNames.par3) === r._lbTypeLookUp.closest ? r.setPar3ClosestCookie() : r.setPar3AllCookie()
        },
        setCurrentPar3: function() {
            return this.getMainPar3Cookie(),
            t.cookie(r._lbCookieNames.par3) === r._lbTypeLookUp.closest ? r._lbTypeLookUp.closest : r._lbTypeLookUp.all
        },
        getInternetExplorerVersion: function() {
            var e = -1;
            if ("Microsoft Internet Explorer" === navigator.appName) {
                var t = navigator.userAgent
                  , i = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");
                null !== i.exec(t) && (e = parseFloat(RegExp.$1))
            }
            return e
        },
        getWindowHeight: function() {
            var e = this.getInternetExplorerVersion();
            return 7 === e || 8 === e ? document.documentElement.offsetHeight : window.innerHeight
        },
        resize: function() {
            var e = this.getWindowHeight()
              , t = e
              , i = t - 550;
            i > 100 ? this.$(".leaderboardPole").css("height", i + "px") : this.$(".leaderboardPole").css("height", "100px")
        }
    });
    return m
}),
define("models/track/state", ["require", "backbone"], function(e) {
    var t = e("backbone")
      , i = t.Model.extend({
        defaults: {
            loaded: !1,
            notified: !1,
            view_fairway: !0,
            forced_green: !1,
            selected_shot: void 0,
            open_shot_detail: void 0,
            open_shot_stack: void 0,
            stored_round: void 0,
            selected_round: -1,
            stored_hole: void 0,
            selected_hole: -1,
            hole_info: void 0,
            showing_playoff: !1,
            live_mode: !0,
            compare_mode: !1,
            error_shown: !1
        },
        initialize: function() {
            this.teepin = {},
            this.player_position = {
                primary: void 0,
                ghost: [],
                compare: []
            },
            this.total_players = 0,
            this.loaded_players = [],
            this.set("hole_info", {}),
            this.set("open_shot_stack", []),
            this.on("change:view_fairway", this.triggerFairway)
        },
        reset: function() {
            this.player_position = {
                primary: void 0,
                ghost: [],
                compare: []
            },
            this.total_players = 0,
            this.loaded_players = [],
            this.set("hole_info", {});
            var e = this.get("open_shot_stack");
            e.forEach(function(e) {
                e.destroy()
            }),
            this.set("open_shot_stack", [])
        },
        triggerFairway: function(e, t, i) {
            t ? this.trigger("view_fairway:enter") : this.trigger("view_fairway:exit")
        },
        addToTotal: function(e) {
            this.get("notified") || this.total_players++
        }
    });
    return new i
}),
define("utils/track/constants", ["require"], function(e) {
    var t = {
        OFFSET: [114, -5, -12, -20, -30, -60, -30, -40, -40, -2, -4, -80, 0, -14, -10, -130, -20, -60, 136, -68, 12, 0, 43, 0, 0, 70, -32, 110, 0, -4, 0, 0, -81, -101, 41, -56],
        MOBILE_ARC_CONSTANT: .1,
        ARC_CONSTANT: [.5, .5, .5, .5, .5, 2, .5, .5, .5, .5, .5, 2, .5, .5, .5, 2, .5, .5, .5, .5, .5, .5, .5, 2, .5, .5, .5, .5, .5, 2, .5, .5, .5, 2, .5, .5],
        OVERLAY_ALIGN: [!1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !0, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !0, !1, !1],
        STATE: {
            TEE: -1,
            INACTIVE: 0,
            PRIMARY: 1,
            COMPARE: 2,
            GHOST: 3
        },
        VIEW: {
            fairway: 0,
            green: 1
        },
        COLORS: {
            1: ["#EDD206"],
            2: ["#89C7FD", "#80D856"]
        },
        HOLES_TO_DARKEN: [6, 12, 13, 18],
        PIN_WIDE: {
            ID: "flagstickwide",
            W_OFFSET: 7,
            H_OFFSET: 44,
            WIDTH: 22,
            HEIGHT: 48,
            SCALE: .75
        },
        PIN_CLOSE: {
            ID: "flagstickclose",
            W_OFFSET: 7,
            H_OFFSET: 77,
            WIDTH: 24,
            HEIGHT: 80,
            SCALE: .5
        },
        BALL: {
            ID: "ball",
            W_OFFSET: 6,
            H_OFFSET: 6,
            WIDTH: 14,
            HEIGHT: 14
        },
        MARKER: {
            W_OFFSET: 10,
            H_OFFSET: 10
        },
        GHOST_MARKER: {
            W_OFFSET: 4,
            H_OFFSET: 4
        },
        SCORE_MARKER: {
            W_OFFSET: -3
        },
        WIDTH: 1440,
        OLD_HEIGHT: 1080,
        NEW_HEIGHT: 1080,
        CROP_OFFSET: 0,
        ERRORS: {
            wd: {
                header: "Withdrawn",
                msg: "#{name} has withdrawn from the Tournament, and this round is no longer available. Click below to see the current leader."
            },
            dq: {
                header: "Disqualified",
                msg: "#{name} has been disqualified from the Tournament, and this round is no longer available. Click below to see the current leader."
            },
            data: {
                header: "Please wait",
                msg: "Currently validating shot data."
            },
            ns: {
                header: "Player Not Active",
                msg: "#{name} has not yet teed off. Click below to see the current leader."
            },
            id: {
                header: "Player Does Not Exist",
                msg: "This player does not exist. Click below to see the current leader on course."
            }
        }
    };
    return t
}),
define("collections/track/players", ["require", "backbone", "models/track/state", "utils/window-size", "utils/track/constants"], function(e) {
    var t = e("backbone")
      , i = e("models/track/state")
      , s = (e("utils/window-size"),
    e("utils/track/constants"))
      , n = t.Collection.extend({
        initialize: function() {
            this.on("refresh", this.refresh)
        },
        refresh: function() {
            if (this.length > 0) {
                var e = this.get(i.player_position.primary).refresh();
                e.done(function() {
                    for (var e = ["compare"], t = 0, s = e.length; t < s; t++)
                        for (var n = e[t], a = 0, r = i.player_position[n].length; a < r; a++) {
                            var o = i.player_position[n][a];
                            this.get(o).refresh()
                        }
                }
                .bind(this))
            }
        },
        getPlayer: function(e, t) {
            var n = !1;
            switch (e) {
            case s.STATE.COMPARE:
                n = this.get(i.player_position.compare[t - 1]);
                break;
            case s.STATE.GHOST:
                n = this.get(i.player_position.ghost[t - 1]);
                break;
            case s.STATE.PRIMARY:
            default:
                n = this.get(i.player_position.primary)
            }
            return n
        }
    });
    return new n
}),
define("utils/track/track", ["require", "utils/scores", "utils/metrics", "utils/browser", "models/track/state", "utils/track/constants", "collections/track/players"], function(e) {
    var t = e("utils/scores")
      , i = e("utils/metrics")
      , s = e("utils/browser")
      , n = e("models/track/state")
      , a = e("utils/track/constants")
      , r = e("collections/track/players")
      , o = {
        measure: function() {
            var e = Array.prototype.slice.call(arguments, 0);
            "Track" !== i.page_title && e.unshift("Detail"),
            e.unshift("Track"),
            s.app ? i.appMeasure(e.join(":")) : i.measureApp.apply(window, e)
        },
        measureState: function(e) {
            var t = Array.prototype.slice.call(arguments, 1);
            "Track" !== i.page_title && t.unshift("Detail"),
            t.unshift("Track"),
            s.app && i.appState(t.join(":"), e)
        },
        measurePlayer: function(e) {
            var t = Array.prototype.slice.call(arguments, 1);
            t.unshift("Track", "Detail"),
            s.app ? s.apptype.android && i.appMeasure(t.join(":") + "&playerId=" + e) : (i.trackS({
                prop34: e
            }),
            i.measureApp.apply(window, t))
        },
        getURL: function(e) {
            var t = "/en_US/scores/track/track.html";
            return s.app && s.apptype.android && (t = "/android" + t),
            e && (t += "?" + e),
            t
        },
        updateURL: function() {
            var e, t = n.player_position.primary, i = n.get("selected_round"), s = n.get("selected_hole"), a = n.get("selected_shot");
            a && (e = a.get("number"));
            var r = n.player_position.compare
              , o = 'pid=<%= id %>&r=<%= round %>&h=<%= hole %>&s=<%= shot %><%= compare ? "&c=" + compare : "" %>'
              , l = _.template(o)({
                id: t,
                round: i,
                hole: s,
                shot: e,
                compare: r
            });
            if (Backbone.history._usePushState) {
                for (var h = this.getURL(l), c = document.location.search, d = ["ios", "ipad", "iphone", "android", "loglevel"], u = 0, p = d.length; u < p; u++) {
                    var f = c.indexOf(d[u]);
                    if (f > -1) {
                        var g = c.indexOf("&", f + 1);
                        if (g === -1 && f > -1 && (g = c.length),
                        g > -1) {
                            f < 1 && (f = 1);
                            var m = c.substring(f, g);
                            h += (h.indexOf("?") > -1 ? "&" : "?") + m
                        }
                    }
                }
                Backbone.history.navigate(h, {
                    replace: !0
                }),
                n.trigger("route:change")
            }
        },
        selectPlayer: function(e) {
            this.logger.info("load player " + e + " in tracker"),
            e !== n.player_position.primary && n.trigger("track:player", e),
            n.trigger("playerlist:close"),
            o.measurePlayer(e, "Player Picker", e + ""),
            this.updateURL()
        },
        selectComparePlayer: function(e) {
            this.logger.info("load compare player " + e + " in tracker"),
            n.player_position.compare.indexOf(e) === -1 && n.trigger("track:compare:add", e),
            n.trigger("playerlist:close");
            var t = "1";
            n.player_position.compare.length > 1 && (t = "2"),
            o.measurePlayer(e, "Add Compare Player", t, e + "")
        },
        removeComparePlayer: function(e) {
            var t = parseInt(e, 10);
            if (this.logger.info("Removing " + t + " as a compare player"),
            n.player_position.ghost.indexOf(t) === -1 ? r.get(t).destroy() : r.get(t).reset_ghost(),
            n.get("compare_mode")) {
                var i = r.get(n.player_position.compare[0]);
                i.draw()
            }
            n.trigger("playerbar:compare:remove", t)
        },
        convertTo: function(e, t) {
            var i = t / 12;
            if ("yds" === e) {
                var s = i / 3;
                return Math.round(s)
            }
            return "ft" === e ? Math.round(i) : Math.round(t)
        },
        setShotDistance: function(e, t) {
            if (t.get("penalty"))
                return e.html("Penalty"),
                void e.addClass("penalty").parent().addClass("penalty");
            var i = t.get("distance")
              , s = this.convertTo("yds", i);
            t.get("origin").get("ongreen") && (i >= 11.5 ? (s = this.convertTo("ft", i),
            e.addClass("feet")) : (s = Math.round(i),
            e.addClass("inch"))),
            e.html(s)
        },
        setShotToPin: function(e, i) {
            var s = i.get("remaining")
              , a = this.convertTo("yds", s);
            i.get("ongreen") && (s >= 11.5 ? (a = this.convertTo("ft", s),
            e.addClass("feet")) : s > 0 ? (a = Math.round(s),
            e.addClass("inch")) : i.get("penalty") ? (a = "",
            e.addClass("score"),
            e.parent().addClass("score")) : (a = t.Utilities.scoreName(i.get("number"), n.get("hole_info").par),
            e.addClass("score"),
            e.parent().addClass("score"))),
            e.html(a)
        },
        checkPlayerStatus: function() {
            var e = r.getPlayer()
              , i = t.Utilities.inGoodStanding(e.get("score_data"));
            if (i !== !0) {
                var s, o = e.get("name").first + " " + e.get("name").last;
                if ("D" === i)
                    return s = a.ERRORS.dq,
                    n.trigger("track:error:show", o, s),
                    !1;
                if ("X" === i)
                    return s = a.ERRORS.ns,
                    n.trigger("track:error:show", o, s),
                    !1;
                i = !0
            }
            return n.get("error_shown") && n.trigger("track:error:hide"),
            i
        }
    };
    return o.logger = new eventsCore.util.Logger("Track/Utils"),
    o
}),
define("views/track/map", ["require", "jquery", "backbone", "utils/pubsub", "utils/favorites", "utils/scores"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("utils/pubsub")
      , n = e("utils/favorites")
      , a = e("utils/scores")
      , r = i.View.extend({
        el: "#holeContainer.tracker",
        events: {
            "click .holeMarker:not(.disabled) a": "selectHole",
            "click .holeMarker.disabled": "noOp"
        },
        fave_players: [],
        initialize: function() {
            this.markers = this.$(".holeMarker"),
            this.listenTo(s, "scores:refresh", this.updatePositions),
            this.listenTo(s, "favorite:add", this.updateFavoritesPositions),
            this.listenTo(s, "favorite:remove", this.updateFavoritesPositions)
        },
        render: function() {
            return a.isDataLoaded() ? this.updatePositions() : this.stopListening(s, "scores:refresh", this.render).listenToOnce(s, "scores:refresh", this.render),
            this
        },
        onDispose: function() {},
        updatePositions: function() {
            this.updateFavoritesPositions(),
            this.updateLeaderPosition()
        },
        updateFavoritesPositions: function() {
            this.fave_players = n.getPlayerIDs(),
            this.markers.removeClass("has_favorite");
            for (var e = 0, t = this.fave_players.length; e < t; e++) {
                var i = this.fave_players[e]
                  , s = a.Utilities.findByID(i);
                if (s) {
                    var r = s.getCurrentHole();
                    null === r || isNaN(r) || this.$("#hole" + r).addClass("has_favorite")
                }
            }
        },
        updateLeaderPosition: function() {
            this.markers.removeClass("has_leader");
            var e = a.collection.at(0)
              , t = e.getCurrentHole();
            null === t || isNaN(t) || this.$("#hole" + t).addClass("has_leader")
        },
        selectHole: function(e) {
            var i = t(e.currentTarget)
              , s = i.parent().attr("id").substring(4);
            return s = parseInt(s, 10),
            this.trigger("hole:select", i, s),
            !1
        },
        noOp: function() {
            return !1
        }
    });
    return r
}),
define("utils/track/gfx", ["require", "backbone", "settings", "utils/pubsub", "utils/window-size", "models/track/state", "utils/track/constants"], function(e) {
    var t = (e("backbone"),
    e("settings"))
      , i = e("utils/pubsub")
      , s = e("utils/window-size")
      , n = e("models/track/state")
      , a = e("utils/track/constants")
      , r = {
        canvas_list: [],
        container_width: 0,
        container_height: 0,
        clear_shots: function() {
            for (var e in n.get("open_shot_stack"))
                n.get("open_shot_stack")[e].destroy();
            n.set("open_shot_stack", [])
        },
        redraw: function() {
            console.log("Gfx redraw"),
            this.clear_shots();
            for (var e in this.canvas_list)
                this.canvas_list[e].redraw()
        },
        clear: function() {
            console.log("Gfx clear"),
            this.clear_shots();
            for (var e in this.canvas_list)
                this.canvas_list[e].clear()
        },
        pctx: function(e) {
            return e
        },
        pcty: function(e) {
            return e
        },
        relative: function(e, t) {
            var i = this.container_width;
            return "y" === e && (i = this.container_height),
            Math.floor(i * this["pct" + e].call(this, t))
        },
        repositionWhatsNewForShotList: function() {
            var e = (document.body.clientWidth - this.container_width) / 2 + 50;
            i.trigger("whats-new:shotList:reposition", {
                right: e
            })
        },
        resize: function() {
            console.log("Gfx resizing"),
            this.container_width = this.container.outerWidth(),
            this.container_height = this.container.outerHeight(),
            this.repositionWhatsNewForShotList(),
            console.log("Gfx preliminary dimensions w:%o h:%o", this.container_width, this.container_height),
            (this.container_width === this.container_height || this.container_height <= this.container_width / 2) && (console.log("Gfx auto-recalculate size, %o <= %o", this.container_height, this.container_width / 2),
            s.size() === s.sizes.global ? this.container_height = Math.ceil(.6 * this.container_width) : this.container_height = Math.ceil(.75 * this.container_width)),
            console.log("Gfx finished dimensions w:%o h:%o", this.container_width, this.container_height);
            var e = !0;
            for (var i in this.canvas_list) {
                var a = this.canvas_list[i].resize(this.container_width, this.container_height);
                e = e && a
            }
            !t.Scores.pre && t.Scores.stub_track !== !0 && e && this.redraw(),
            s.size() === s.sizes.global && (s.orientation() === s.orientations.landscape && n.trigger("shotlist:resize"),
            n.trigger("playerlist:resize"))
        },
        switchToView: function(e) {
            n.get("forced_green") || (e !== a.VIEW.fairway || n.get("view_fairway") ? e === a.VIEW.green && n.get("view_fairway") && (this.container.addClass("green"),
            n.set("view_fairway", !1)) : (this.container.removeClass("green"),
            n.set("view_fairway", !0)),
            i.trigger("lookup.unveil"))
        },
        forceGreenView: function(e) {
            console.log("Gfx forced green view activated"),
            e ? 1 === e.get("number") && e.get("ongreen") ? (this.switchToView(a.VIEW.green),
            this.redraw(),
            n.trigger("controls:arrows:reset")) : n.trigger("controls:shot:select", e.get("number")) : (this.switchToView(a.VIEW.green),
            this.redraw(),
            n.trigger("controls:arrows:reset"),
            n.set("forced_green", !0))
        },
        exitForcedGreenView: function() {
            console.log("Gfx forced green view exit"),
            n.set("forced_green", !1)
        }
    };
    return r
}),
define("views/track/size", ["require", "backbone", "utils/ratio-resize", "utils/window-size", "utils/browser", "utils/common", "utils/pubsub", "utils/track/gfx", "models/track/state", "collections/track/players", "utils/track/constants"], function(e) {
    var t = e("backbone")
      , i = e("utils/ratio-resize")
      , s = e("utils/window-size")
      , n = e("utils/browser")
      , a = e("utils/common")
      , r = e("utils/pubsub")
      , o = e("utils/track/gfx")
      , l = e("models/track/state")
      , h = e("collections/track/players")
      , c = e("utils/track/constants")
      , d = t.View.extend({
        el: ".trackerWrapper",
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Track/Size"),
            this.offset = 0,
            this.primary = this.$(".player-box .primary"),
            this.player_list = this.$(".player-list"),
            this.player_list_list = this.player_list.find(".list"),
            this.list_pane = this.player_list_list.find(".scroll-pane"),
            this.controlbar = this.$(".control-bar"),
            this.mobileShotWrapper = this.$(".mobile-shot-list-wrapper"),
            this.contain,
            this.listenTo(r, "windowsize:global:enter", this.enterMobile),
            this.listenTo(r, "windowsize:global:exit", this.exitMobile),
            this.listenTo(l, "view_fairway:enter", this.checkForMobile),
            this.listenTo(l, "view_fairway:exit", this.checkForMobile),
            this.listenTo(r, "windowsize:orientation:portrait", this.enterPortrait),
            this.listenTo(r, "windowsize:orientation:landscape", this.enterLandscape),
            this.listenTo(l, "size:contain", this.calculateContain),
            l.get("loaded") ? this.render() : this.listenToOnce(l, "change:loaded", this.render)
        },
        render: function() {
            return s.size() === s.sizes.global ? this.containMobile() : this.containDesktop(),
            this
        },
        onDispose: function() {
            this.disposeRatioResize()
        },
        disposeRatioResize: function() {
            this.contain && this.contain.dispose()
        },
        calculateContain: function() {
            this.contain && this.contain.calculateRatio()
        },
        enterMobile: function() {
            this.undoContainDesktop(),
            this.containMobile(),
            l.trigger("playerlist:close")
        },
        exitMobile: function() {
            this.undoContainMoblile(),
            l.player_position.compare.length > 0 && h.refresh(),
            this.containDesktop(),
            l.trigger("playerlist:resize")
        },
        checkForMobile: function() {
            this.logger.info("view_fairway:enter/exit triggered"),
            s.size() === s.sizes.global && this.containMobile()
        },
        enterPortrait: function() {
            s.size() === s.sizes.global && (r.trigger("forcereset.unveil"),
            this.$el.css("margin-left", ""),
            this.containMobile())
        },
        enterLandscape: function() {
            s.size() === s.sizes.global && (r.trigger("forcereset.unveil"),
            this.containMobile())
        },
        containMobile: function() {
            var e = 0;
            n.apptype.android && (e = -1 * a.small_header_height),
            this.$el.css("width", ""),
            this.primary.css("width", ""),
            this.controlbar.css("width", ""),
            this.list_pane.css("height", ""),
            this.disposeRatioResize(),
            s.orientation() === s.orientations.portrait && l.get("view_fairway") ? this.contain = new i({
                ratio: .6,
                view: this,
                hcallback: function(e, t) {
                    var i = Math.ceil(t * (720 / 1290))
                      , s = this.$el.width();
                    this.$el.css("width", i),
                    s !== i && o.resize(),
                    this.undoGradient(),
                    e > i && this.$el.addClass("gradient")
                },
                wcallback: function(e, t) {
                    var i = this.$el.prop("style").width;
                    this.$el.css("width", ""),
                    this.mobileShotWrapper.css("width", ""),
                    this.primary.css("width", ""),
                    this.controlbar.css("width", ""),
                    this.undoGradient(),
                    this.$el.find(".renders").addClass("gradient");
                    var s = Math.ceil(e * (1290 / 720));
                    "" === i && this.$("canvas.type" + c.STATE.PRIMARY).height() === s || o.resize()
                },
                height: e
            }) : this.contain = new i({
                ratio: 4 / 3,
                view: this,
                hcallback: function(t, i) {
                    var n = Math.ceil(i * (4 / 3))
                      , r = 0
                      , l = 0;
                    if (this.undoGradient(),
                    s.orientation() === s.orientations.landscape) {
                        t - n < 194 && (n = t - 194,
                        this.$el.find(".renders").addClass("gradient")),
                        r = (t - n - 194) / 2,
                        l = t - 194,
                        this.primary.css("width", "").filter(".togglePrimary").css("width", l - 2),
                        this.controlbar.css("width", l - 2);
                        var h = 210;
                        this.player_list.add(this.player_list_list).css("visibility", "hidden").show();
                        var c = this.list_pane.offset().top - (a.small_header_height + e);
                        this.player_list.add(this.player_list_list).css("visibility", "").css("display", "");
                        var d = i - c;
                        d < h ? this.list_pane.css("height", d) : this.list_pane.css("height", "")
                    }
                    r > 0 ? (this.$el.css("margin-left", r),
                    this.$el.addClass("gradient")) : (this.$el.css("margin-left", ""),
                    this.$el.removeClass("gradient"));
                    var u = this.$el.width();
                    this.$el.css("width", n),
                    u !== n && o.resize()
                },
                wcallback: function(e, t) {
                    var i = (this.$el.prop("style").width,
                    Math.ceil(t * (4 / 3)))
                      , n = e - 194;
                    e - i < 194 && s.orientation() == s.orientations.landscape ? (this.$el.css("width", n),
                    this.undoGradient(),
                    this.$el.find(".renders").addClass("gradient"),
                    this.controlbar.css("width", n - 2),
                    this.primary.css("width", "").filter(".togglePrimary").css("width", n - 2)) : (this.undoGradient(),
                    this.$el.css("width", ""),
                    this.mobileShotWrapper.css("width", ""),
                    this.primary.css("width", ""),
                    this.controlbar.css("width", ""),
                    this.list_pane.css("height", "")),
                    o.resize()
                },
                height: e
            })
        },
        undoContainMoblile: function() {
            this.disposeRatioResize(),
            this.$el.css("margin-left", ""),
            this.primary.css("width", ""),
            this.$el.css("width", ""),
            this.controlbar.css("width", ""),
            this.list_pane.css("height", ""),
            this.undoGradient()
        },
        undoGradient: function() {
            this.$el.removeClass("gradient"),
            this.$(".renders").removeClass("gradient")
        },
        containDesktop: function() {
            var e = 0;
            n.apptype.android && (e = -1 * a.header_height),
            this.disposeRatioResize(),
            this.contain = new i({
                ratio: 4 / 3,
                view: this,
                hcallback: function(e, t) {
                    var i = Math.ceil(t * (4 / 3));
                    i < 681 && (i = 681);
                    var s = this.$el.width();
                    this.$el.css("width", i),
                    this.undoGradient(),
                    s !== i && o.resize()
                },
                wcallback: function(e, t) {
                    var i = this.$el.prop("style").width;
                    this.undoGradient(),
                    this.$el.css("width", ""),
                    this.$(".renders").addClass("gradient"),
                    "" !== i && o.resize()
                },
                height: e
            })
        },
        undoContainDesktop: function() {
            this.disposeRatioResize(),
            this.$el.css("width", "")
        }
    });
    return d
}),
define("views/track/map-size", ["require", "backbone", "utils/ratio-resize", "utils/window-size", "utils/browser", "utils/common", "utils/pubsub", "models/track/state"], function(e) {
    var t = e("backbone")
      , i = e("utils/ratio-resize")
      , s = e("utils/window-size")
      , n = e("utils/browser")
      , a = e("utils/common")
      , r = e("utils/pubsub")
      , o = e("models/track/state")
      , l = t.View.extend({
        el: ".trackerWrapper",
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Track/MapSize"),
            this.primary = this.$(".player-box .primary"),
            this.contain,
            this.listenTo(r, "windowsize:global:enter", this.enterMobile),
            this.listenTo(r, "windowsize:global:exit", this.exitMobile),
            this.listenTo(r, "windowsize:orientation:portrait", this.enterPortrait),
            this.listenTo(r, "windowsize:orientation:landscape", this.enterLandscape)
        },
        render: function() {
            return s.size() === s.sizes.global ? this.containMobile() : this.containDesktop(),
            this
        },
        onDispose: function() {
            this.disposeRatioResize()
        },
        disposeRatioResize: function() {
            this.contain && this.contain.dispose()
        },
        enterMobile: function() {
            this.undoContainDesktop(),
            this.containMobile(),
            o.trigger("playerlist:close")
        },
        exitMobile: function() {
            this.undoContainMobile(),
            this.containDesktop(),
            o.trigger("playerlist:resize")
        },
        enterPortrait: function() {
            s.size() === s.sizes.global && (r.trigger("forcereset.unveil"),
            this.$el.css("margin-left", ""),
            this.containMobile())
        },
        enterLandscape: function() {
            s.size() === s.sizes.global && (r.trigger("forcereset.unveil"),
            this.containMobile())
        },
        containMobile: function() {
            var e = 0;
            n.apptype.android && (e = -1 * a.small_header_height),
            this.$el.css("width", ""),
            this.disposeRatioResize(),
            s.orientation() === s.orientations.portrait && (this.contain = new i({
                ratio: 320 / 420,
                view: this,
                hcallback: function(e, t) {
                    var i = Math.ceil(t * (320 / 420));
                    this.$el.css("width", i),
                    this.undoGradient(),
                    e > i && this.$el.addClass("gradient")
                },
                wcallback: function(e, t) {
                    this.$el.prop("style").width;
                    this.$el.css("width", ""),
                    this.primary.css("width", ""),
                    this.undoGradient(),
                    this.$el.find(".renders").addClass("gradient")
                },
                height: e
            }))
        },
        undoContainMobile: function() {
            this.disposeRatioResize(),
            this.$el.css("margin-left", ""),
            this.primary.css("width", ""),
            this.$el.css("width", ""),
            this.undoGradient()
        },
        undoGradient: function() {
            this.$el.removeClass("gradient"),
            this.$(".renders").removeClass("gradient")
        },
        containDesktop: function() {
            var e = 0;
            n.apptype.android && (e = -1 * a.header_height),
            this.disposeRatioResize(),
            this.contain = new i({
                ratio: 4 / 3,
                view: this,
                hcallback: function(e, t) {
                    var i = Math.ceil(t * (4 / 3));
                    i < 681 && (i = 681);
                    this.$el.width();
                    this.$el.css("width", i),
                    this.undoGradient()
                },
                wcallback: function(e, t) {
                    this.$el.prop("style").width;
                    this.undoGradient(),
                    this.$el.css("width", ""),
                    this.$(".renders").addClass("gradient")
                },
                height: e
            })
        },
        undoContainDesktop: function() {
            this.disposeRatioResize(),
            this.$el.css("width", "")
        }
    });
    return l
}),
define("views/track/player-list", ["require", "backbone", "underscore", "jquery", "utils/favorites", "utils/scores", "utils/pubsub", "utils/track/constants", "models/track/state", "utils/track/track", "jquery.mousewheel", "jquery.jscrollpane"], function(e) {
    var t = e("backbone")
      , i = e("underscore")
      , s = e("jquery")
      , n = e("utils/favorites")
      , a = e("utils/scores")
      , r = e("utils/pubsub")
      , o = e("utils/track/constants")
      , l = e("models/track/state")
      , h = e("utils/track/track");
    e("jquery.mousewheel"),
    e("jquery.jscrollpane");
    var c = t.View.extend({
        rendered: !1,
        overlay: "",
        group_list: "",
        list_type: o.STATE.PRIMARY,
        el: "#playerList",
        primary_open: !1,
        compare_open: !1,
        group_template: i.template('<img src="/images/players/2016/80x80/<%= id %>.jpg" alt="<%= name.first + " " + name.last %>"/><div class="name" data-first="<%= name.first %>" data-last="<%= name.last %>"></div>'),
        list_template: i.template('<li><a href="/en_US/players/player_<%= id %>.html" data-id="<%= id %>"> <img src="/images/players/2016/201x150/<%= id %>.jpg" alt="<%= name %>"/> <div class="name"><%= name %></div> <div class="favorite <%= is_fave ? "selected" : "" %>"></div></a></li>'),
        events: {
            "click li > a": "doListAction",
            "click li .favorite": "toggleFavorite"
        },
        initialize: function(e) {
            this.primary_open = e.list_open,
            this.result_list = this.$("#resultList"),
            this.favorite_list = this.$("#favoriteList"),
            this.group_list = this.$(".group ul.players"),
            this.primary_open || (this.listenTo(l, "playerlist:primary:toggle", this.toggleList),
            this.listenTo(l, "playerlist:compare:toggle", this.toggleCompare),
            this.listenTo(l, "playerlist:close", this.closeList),
            this.listenTo(l, "playerlist:update", this.updateList)),
            this.listenTo(l, "playerlist:resize", this.resize),
            this.listenTo(l, "grouplist:clear", this.clearGroupList),
            this.listenTo(l, "grouplist:add", this.addGroupPlayer),
            this.listenTo(l, "search", this.search),
            this.listenTo(r, "favorite:add", this.updateFavorites),
            this.listenTo(r, "favorite:remove", this.updateFavorites)
        },
        render: function() {
            return this.$(".scroll-pane").jScrollPane({
                showArrows: !0,
                verticalGutter: -10
            }),
            this.primary_open && (this.openList(),
            this.setListAction(o.STATE.TEE)),
            this.rendered = !0,
            this
        },
        toggleList: function() {
            this.primary_open ? (this.closeList(),
            h.measure("Player Picker", "Close")) : (this.closeList(),
            this.list_type = o.STATE.PRIMARY,
            this.openList(),
            h.measure("Player Picker", "Open")),
            l.trigger("playerlist:primary:onToggle", this.primary_open)
        },
        toggleCompare: function() {
            this.compare_open ? (this.closeList(),
            h.measure("Compare Player", "Close")) : (this.closeList(),
            this.list_type = o.STATE.COMPARE,
            this.openList(),
            h.measure("Compare Player", "Open"))
        },
        openList: function() {
            switch (this.$el.addClass("open"),
            this.list_type) {
            case o.STATE.TEE:
                this.setListAction(o.STATE.TEE),
                this.primary_open = !0;
                break;
            case o.STATE.COMPARE:
                this.$el.addClass("compare-list"),
                this.setListAction(o.STATE.COMPARE),
                this.compare_open = !0;
                break;
            case o.STATE.PRIMARY:
            default:
                this.$el.removeClass("compare-list"),
                this.setListAction(o.STATE.PRIMARY),
                this.primary_open = !0
            }
            this.showFavorites(),
            this.updateGroup(),
            l.trigger("controls:options:hide"),
            l.trigger("shotlist:close")
        },
        closeList: function() {
            this.$el.removeClass("open compare-list"),
            l.trigger("search:clear"),
            this.setListAction(),
            this.primary_open = !1,
            this.compare_open = !1,
            l.trigger("playerbar:closelist")
        },
        setListAction: function(e) {
            this.list_state = e
        },
        updateList: function() {
            this.showFavorites(),
            this.updateGroup()
        },
        doListAction: function(e) {
            var i = s(e.currentTarget);
            switch (this.list_state) {
            case o.STATE.COMPARE:
                i.parent().hasClass("disabled") || h.selectComparePlayer(i.attr("data-id"));
                break;
            case o.STATE.PRIMARY:
                i.parent().hasClass("disabled") || h.selectPlayer(i.attr("data-id"));
                break;
            case o.STATE.TEE:
                i.parent().hasClass("disabled") || t.history.navigate(h.getURL("pid=" + i.attr("data-id")), !0)
            }
            return !1
        },
        toggleFavorite: function(e) {
            var t = s(e.currentTarget)
              , i = t.parent().data("id");
            return n.toggle(i),
            t.toggleClass("selected"),
            !1
        },
        clearGroupList: function(e) {
            e && e > 0 ? this.group_list.find("li").slice(e).remove() : this.group_list.empty()
        },
        addGroupPlayer: function(e) {
            var t = this.createGroupListItem(e);
            this.group_list.append(t)
        },
        createListItem: function(e) {
            var t = e.get("first_name") + " " + e.get("last_name")
              , i = n.check(e.id)
              , a = this.list_template({
                id: e.id,
                name: t,
                is_fave: i
            });
            return s(a)
        },
        createGroupListItem: function(e) {
            var t, i = s("<li>");
            t = i,
            e.get("state") !== o.STATE.PRIMARY && (t = s('<a href="/en_US/players/player_' + e.id + '.html" data-id="' + e.id + '"></a>'),
            i.append(t));
            var n = this.group_template(e.attributes);
            return t.append(n),
            i
        },
        search: function(e) {
            if ("" === e)
                this.showFavorites();
            else {
                var t = this.result_list.removeClass("hidden");
                t.siblings(".list").addClass("hidden");
                for (var i = e.toLowerCase(), s = t.find("ul").empty(), n = a.Utilities.currentRoundWithPlayoff(), r = a.Utilities.search(i), o = 0, l = r.length; o < l; o++) {
                    var h = r[o]
                      , c = this.createListItem(h)
                      , d = this.getDisabledPlayerClass(h, n);
                    c.addClass(d),
                    s.append(c)
                }
                this.resize()
            }
        },
        resize: function() {
            var e;
            this.result_list && (e = this.result_list.find(".scroll-pane").data("jsp"),
            e && e.reinitialise()),
            this.favorite_list && (e = this.favorite_list.find(".scroll-pane").data("jsp"),
            e && e.reinitialise())
        },
        showFavorites: function() {
            this.result_list.addClass("hidden"),
            n.favplayers.length > 0 && this.favorite_list.removeClass("hidden"),
            this.updateFavorites()
        },
        updateFavorites: function() {
            for (var e = this.favorite_list.find("ul").empty(), t = a.Utilities.currentRoundWithPlayoff(), i = n.favplayers, s = 0, r = i.length; s < r; s++) {
                var o = parseInt(i[s], 10)
                  , l = a.Utilities.findByID(o);
                if (void 0 !== l) {
                    var h = this.createListItem(l)
                      , c = this.getDisabledPlayerClass(l, t);
                    h.addClass(c),
                    h.find(".favorite").addClass("selected"),
                    e.append(h)
                }
            }
            var d = this.favorite_list.find(".scroll-pane").data("jsp");
            d && d.reinitialise()
        },
        updateGroup: function() {
            switch (this.list_type) {
            case o.STATE.COMPARE:
                this.group_list.find("li").each(function(e) {
                    var t = s(this)
                      , i = t.find("a");
                    if (0 !== i.length) {
                        var n = parseInt(i.attr("data-id"), 10);
                        l.player_position.compare.indexOf(n) > -1 ? t.addClass("disabled") : t.removeClass("disabled")
                    }
                });
                break;
            case o.STATE.PRIMARY:
            default:
                this.group_list.find("li.disabled").removeClass("disabled")
            }
        },
        getDisabledPlayerClass: function(e, t) {
            var i = ""
              , s = parseInt(e.id, 10);
            switch (this.list_type) {
            case o.STATE.COMPARE:
                (s === l.player_position.primary || l.player_position.compare.indexOf(s) > -1) && (i += " disabled");
                var n = a.Utilities.isSplit(e, t)
                  , r = a.Utilities.hasPlayedHole(e, l.get("selected_round"), l.get("selected_hole"), n);
                r || (i += " unavailable disabled");
                break;
            case o.STATE.PRIMARY:
                s === l.player_position.primary && (i += " disabled")
            }
            var h = a.Utilities.inGoodStanding(e);
            return "X" === h && (i += " not_started unavailable disabled"),
            i
        }
    });
    return c
});
define("text!templates/track/player-bar-player.html!strip", [], function() {
    return '<div class="title"><%= title %></div>\n<div class="player">\n <% if(!is_primary) { %>\n <a href="/en_US/players/player_<%= player.id %>.html" data-id="<%= player.id %>">\n <% } %>\n <img src="/images/players/2016/<%= img_size %>/<%= player.id %>.jpg" alt="<%= player.name.first %> <%= player.name.last %>" class="playerImg">\n <% if(!is_primary) { %>\n </a>\n <% } %>\n <% if(is_primary) { %>\n <div class="details">\n <div class="name"><%= player.name.first %> <%= player.name.last %></div>\n <div class="favorite"></div>\n </div>\n <% } else { %>\n <div class="name"><%= player.score_data.attributes.display_name2 %></div>\n <% } %>\n <div class="score">\n <div class="pos"></div>\n <div class="total"></div>\n </div>\n <% if(is_primary) { %>\n <a class="toggle" id="togglePrimaryList" href="#">\n <span><img src="/images/misc/trans.gif" /></span>\n </a>\n <% } %>\n</div>\n<% if(!is_primary) { %>\n<a href="#" class="close">\n <span><img src="/images/misc/trans.gif" alt=""></span>\n</a>\n<% } %>'
});
define("views/track/player-bar", ["require", "underscore", "backbone", "utils/window-size", "utils/scores", "utils/pubsub", "utils/track/constants", "models/track/state", "utils/track/track", "text!templates/track/player-bar-player.html!strip"], function(e) {
    var t = e("underscore")
      , i = e("backbone")
      , s = e("utils/window-size")
      , n = e("utils/scores")
      , a = e("utils/pubsub")
      , r = (e("utils/track/constants"),
    e("models/track/state"))
      , o = e("utils/track/track")
      , l = e("text!templates/track/player-bar-player.html!strip")
      , h = i.View.extend({
        el: ".primary",
        events: {
            "click img.playerImg": "togglePrimary",
            "click .name": "selectPlayer",
            "click .favorite": "toggleFavorite"
        },
        template: t.template(l),
        is_open: !1,
        is_selectable: !1,
        initialize: function(e) {
            this.model && this.attachListeners(),
            e && e.is_selectable && (this.is_selectable = !0),
            this.listenTo(a, "windowsize:global:exit", this.increaseImgSize),
            this.listenTo(a, "windowsize:global:enter", this.reduceImgSize)
        },
        attachListeners: function() {
            this.listenTo(this.model.get("score_data"), "change:is_fave", this.updateFavorite),
            this.listenTo(this.model.get("score_data"), "change:thru", this.updateScore)
        },
        setPlayer: function(e) {
            this.model && this.stopListening(this.model.get("score_data")),
            this.model = e,
            this.attachListeners(),
            this.build()
        },
        build: function() {
            var e = "134x70";
            s.size() === s.sizes.global && (e = "80x80");
            var t = this.template({
                title: this.is_selectable ? "Current Leader" : "Tracking",
                is_primary: !0,
                img_size: e,
                player: this.model.attributes
            });
            this.$el.html(t),
            this.updateScore(),
            this.updateFavorite()
        },
        updateScore: function() {
            var e = this.model.get("score_data")
              , t = e.get("pos");
            if ("" === $.trim(t)) {
                t = "--";
                var i = n.Utilities.getStatusCode(e.get("status"));
                void 0 !== i && (t = i)
            }
            this.$(".pos").html(t);
            var s = e.get("topar");
            s = "" === s ? "--" : s,
            this.$(".total").removeClass("over under").html(s);
            var a = n.Utilities.className(e.get("topar"), !0);
            this.$(".total").addClass(a)
        },
        updateFavorite: function() {
            var e = this.model.get("score_data").get("is_fave");
            this.$(".favorite").toggleClass("selected", e)
        },
        togglePrimary: function() {
            return this.is_selectable ? this.selectPlayer() : s.size() === s.sizes.global && (this.is_open = !this.is_open,
            this.is_open ? o.measure("Player", "Details", "Open") : (o.measure("Player", "Details", "Close"),
            r.trigger("playerlist:close")),
            this.$el.toggleClass("togglePrimary", this.is_open),
            r.trigger("playerbar:toggle", this.is_open),
            r.trigger("size:contain")),
            !1
        },
        toggleFavorite: function() {
            var e = this.model.get("score_data");
            return e.trigger("toggleFavorite"),
            !1
        },
        selectPlayer: function() {
            this.is_selectable && i.history.navigate(o.getURL("pid=" + this.model.id), !0)
        },
        reduceImgSize: function() {
            var e = this.$(".player > img")
              , t = e.attr("src");
            t = t.replace("134x70", "80x80"),
            e.attr("src", t)
        },
        increaseImgSize: function() {
            var e = this.$(".player > img")
              , t = e.attr("src");
            t = t.replace("80x80", "134x70"),
            e.attr("src", t)
        }
    })
      , c = i.View.extend({
        className: "comparison",
        events: {
            "click .close": "removePlayer",
            "click .player a": "selectPlayer"
        },
        template: t.template(l),
        initialize: function(e) {
            this.listenTo(this.model, "change", this.updateScore)
        },
        render: function() {
            var e = this.template({
                title: "Comparing",
                is_primary: !1,
                img_size: "80x80",
                player: this.model.attributes
            });
            return this.$el.html(e),
            this.updateScore(),
            this
        },
        onDispose: function() {},
        removePlayer: function() {
            return o.removeComparePlayer(this.model.id),
            o.measure("Remove Compare Player", this.model.id + ""),
            o.updateURL(),
            !1
        },
        selectPlayer: function() {
            return o.selectPlayer(this.model.id),
            !1
        },
        updateScore: function() {
            var e = this.model.get("score_data")
              , t = e.get("pos");
            if ("" === $.trim(t)) {
                t = "--";
                var i = n.Utilities.getStatusCode(e.get("status"));
                void 0 !== i && (t = i)
            }
            this.$(".pos").html(t);
            var s = e.get("topar");
            s = "" === s ? "--" : s,
            this.$(".total").removeClass("over under").html(s);
            var a = n.Utilities.className(e.get("topar"), !0);
            this.$(".total").addClass(a)
        }
    })
      , d = i.View.extend({
        el: "#playerBar",
        events: {
            "click #togglePrimaryList": "togglePrimaryList",
            "click #toggleCompareList": "toggleCompareList"
        },
        persistent_list: !1,
        initialize: function(e) {
            this.list = e.list,
            this.list.primary_open ? this.persistent_list = !0 : (this.placeholder = this.$(".placeholder"),
            this.primary = new h({
                el: this.$(".primary"),
                is_selectable: this.persistent_list
            }),
            this.secondary = this.$(".secondary"),
            this.compare = {},
            this.listenTo(r, "playerbar:primary:set", this.updatePrimary),
            this.listenTo(r, "playerbar:compare:add", this.addComparePlayer),
            this.listenTo(r, "playerbar:compare:remove", this.removeComparePlayer)),
            this.listenTo(r, "playerbar:closelist", this.closeList)
        },
        onDispose: function() {
            this.persistent_list || (this.primary.dispose(),
            t.each(this.compare, function(e) {
                e.dispose()
            }))
        },
        updatePrimary: function(e) {
            this.primary.setPlayer(e),
            this.updatePrimaryIcon()
        },
        togglePrimaryList: function() {
            return r.trigger("playerlist:primary:toggle"),
            this.updatePrimaryIcon(),
            !1
        },
        closeList: function() {
            this.updatePrimaryIcon(!1),
            this.toggleCompareIcon(!1)
        },
        updatePrimaryIcon: function(e) {
            e === !0 || e === !1 || (e = this.list.primary_open),
            this.$("#togglePrimaryList").toggleClass("active", e)
        },
        toggleCompareList: function() {
            return r.trigger("playerlist:compare:toggle"),
            this.toggleCompareIcon(),
            !1
        },
        toggleCompareIcon: function(e) {
            e === !0 || e === !1 || (e = this.list.compare_open),
            this.secondary.toggleClass("active", e)
        },
        addComparePlayer: function(e) {
            var t = new c({
                model: e
            });
            this.compare[e.id] = t.render(),
            this.secondary.find(".compare-flex").before(t.$el),
            r.trigger("statbar:add", e.id)
        },
        removeComparePlayer: function(e) {
            var t = this.compare[e];
            t && (t.dispose(),
            delete this.compare[e],
            r.trigger("statbar:remove", e),
            this.list.compare_open && r.trigger("playerlist:update"))
        }
    });
    return d
}),
define("views/track/stat-bar", ["require", "backbone", "utils/scores", "models/track/state", "utils/track/constants", "utils/track/track", "collections/track/players"], function(e) {
    var t = e("backbone")
      , i = (e("utils/scores"),
    e("models/track/state"))
      , s = e("utils/track/constants")
      , n = e("utils/track/track")
      , a = e("collections/track/players")
      , r = '<div class="player"><div class="number"></div><div class="shot-info distance"></div><div class="shot-info topin"></div></div>'
      , o = t.View.extend({
        className: "player",
        template: r,
        unavailable: !1,
        initialize: function() {
            this.$el.attr("data-id", this.model.id)
        },
        render: function() {
            return this.$el.empty(),
            "primary" === this.className && this.$el.append('<div class="title">Comparing Shot</div>'),
            this.$el.append(this.template),
            this.updateShotStat(),
            this
        },
        updateShotStat: function() {
            var e, t = !1;
            switch (this.model.get("state")) {
            case s.STATE.COMPARE:
                if (this.model.get("current_hole") && parseInt(this.model.get("current_hole").id, 10) === i.get("selected_hole") && i.get("selected_shot")) {
                    var a = this.model.get("current_hole").shots
                      , r = i.get("selected_shot").get("number")
                      , o = r;
                    0 === o && a.length > 0 ? (o = 1,
                    t = 0 !== a[0].get("number")) : a.length < o && (o = a.length,
                    t = !0),
                    e = a[o - 1]
                }
                break;
            case s.STATE.PRIMARY:
                e = i.get("selected_shot")
            }
            if (t ? this.$el.addClass("fadeback") : this.$el.removeClass("fadeback"),
            void 0 === e)
                return this.$el.addClass("unavailable").find(".distance").html("Player has not<br/>played this hole"),
                void (this.unavailable = !0);
            if (0 === e.get("number"))
                return this.$el.addClass("unavailable").find(".distance").html("Group is on tee"),
                void (this.unavailable = !0);
            this.$el.removeClass("unavailable"),
            this.unavailable = !1,
            this.$(".number").html(e.get("number"));
            var l = this.$(".distance").removeClass("penalty")
              , h = $("<span>");
            l.html(h),
            n.setShotDistance(h, e);
            var c = this.$(".topin").removeClass("score");
            h = $("<span>"),
            c.html(h),
            n.setShotToPin(h, e)
        }
    })
      , l = t.View.extend({
        el: "#statBar",
        visible: !1,
        initialize: function() {
            this.primary = this.$(".primary"),
            this.secondary = this.$(".secondary"),
            this.views = {},
            this.listenTo(i, "statbar:set", this.render),
            this.listenTo(i, "statbar:add", this.add),
            this.listenTo(i, "statbar:remove", this.remove),
            this.listenTo(i, "statbar:update", this.update)
        },
        render: function() {
            var e = a.getPlayer();
            return this.prim = new o({
                model: e,
                className: "primary"
            }).render(),
            this.$(".primary").replaceWith(this.prim.$el),
            e.statbar = this.prim,
            this
        },
        onDispose: function() {
            this.prim && this.prim.dispose(!0),
            _.each(this.views, function(e) {
                delete e.model.statbar,
                e.dispose()
            }),
            this.views = {}
        },
        add: function(e) {
            this.prim || this.render(),
            this.remove(e);
            var t = a.get(e)
              , i = new o({
                model: t,
                className: "comparison"
            }).render();
            this.secondary.append(i.$el),
            t.statbar = i,
            this.views[e] = i
        },
        remove: function(e) {
            this.views[e] && (this.views[e].dispose(),
            delete this.views[e].model.statbar,
            delete this.views[e])
        },
        update: function(e) {
            var t = a.get(e);
            if (e && t.statbar && (t.statbar.updateShotStat(),
            e === i.player_position.primary))
                for (var s = i.player_position.compare, n = 0, r = s.length; n < r; n++) {
                    var o = this.views[s[n]]
                      , l = a.get(s[n])
                      , h = l.get("current_hole");
                    o && (h && t.get("current_hole").id !== h.id || void 0 === h && !o.unavailable) && o.updateShotStat()
                }
        }
    });
    return l
}),
define("views/track/nav-bar", ["require", "underscore", "backbone", "utils/browser", "utils/window-size", "views/track/player-list", "views/track/player-bar", "views/track/stat-bar", "models/track/state", "utils/track/constants"], function(e) {
    var t = e("underscore")
      , i = e("backbone")
      , s = e("utils/browser")
      , n = e("utils/window-size")
      , a = e("views/track/player-list")
      , r = e("views/track/player-bar")
      , o = e("views/track/stat-bar")
      , l = e("models/track/state")
      , h = e("utils/track/constants")
      , c = i.View.extend({
        el: ".nav-control-wrap",
        events: {
            "keyup #findPlayer": "find",
            "submit #findPlayer": "find"
        },
        _defaults: {
            statbar: !0,
            primary: !0,
            compare: !0,
            primary_list_open: !1
        },
        initialize: function(e) {
            this.options = t.extend({}, this._defaults, e),
            this.playerlist = new a({
                el: this.$("#playerList"),
                list_open: this.options.primary_list_open
            }),
            this.playerbar = new r({
                el: this.$("#playerBar"),
                list: this.playerlist
            }),
            this.options.statbar && (this.statbar = new o({
                el: this.$("#statBar")
            })),
            this.options.compare && (this.listenTo(l, "change:compare_mode", this.toggleCompareState),
            this.listenTo(l, "change:view_fairway", this.checkDarkenState)),
            this.listenTo(l, "search:clear", this.clearSearch),
            this.listenTo(l, "playerlist:primary:onToggle", this.checkLayers),
            this.listenTo(l, "playerbar:toggle", this.setFullWidth)
        },
        render: function() {
            return this.playerlist.render(),
            this
        },
        onDispose: function() {
            this.playerlist.dispose(),
            this.playerbar.dispose(),
            this.statbar && this.statbar.dispose()
        },
        toggleCompareState: function(e, t, i) {
            t ? this.$el.addClass("has-compare") : this.$el.removeClass("has-compare")
        },
        checkDarkenState: function() {
            this.$el.removeClass("darken"),
            !l.get("view_fairway") && t.indexOf(h.HOLES_TO_DARKEN, l.get("selected_hole")) > -1 && this.$el.addClass("darken")
        },
        checkLayers: function(e) {
            n.size() === n.sizes.global && this.$el.toggleClass("open", e)
        },
        setFullWidth: function(e) {
            n.size() === n.sizes.global && this.$el.toggleClass("full", e)
        },
        find: function(e) {
            e.preventDefault();
            var t = e.currentTarget;
            l.trigger("search", t.value)
        },
        clearSearch: function() {
            this.$("#findPlayer").val(""),
            s.oldIE && this.$("#findPlayer").val("Find a player")
        }
    });
    return c
}),
define("views/track/map-overlay", ["require", "underscore", "utils/browser", "backbone", "utils/scores", "utils/metrics", "utils/pubsub", "utils/track/track", "jquery.mousewheel", "jquery.jscrollpane"], function(e) {
    var t = e("underscore")
      , i = e("utils/browser")
      , s = e("backbone")
      , n = e("utils/scores")
      , a = (e("utils/metrics"),
    e("utils/pubsub"))
      , r = e("utils/track/track");
    e("jquery.mousewheel"),
    e("jquery.jscrollpane");
    var o = '<div class="hole-name"><div class="hole-number">Hole No. <%= number %>,</div><div class="hole-flora"><%= plant %></div></div>'
      , l = '<div class="hole-stats"><div class="parTxt"><label>Par</label><span id="holePar" class="data holePar"><%= par %></span></div><div class="yardTxt"><label>Yards</label><span id="holeYds" class="data holeYds"><%= yds %></span></div></div>'
      , h = {
        tee: 1,
        fairway: 2,
        green: 3,
        finished: 4,
        other: 5
    }
      , c = s.View.extend({
        name_template: t.template(o),
        stats_template: t.template(l),
        initialize: function() {
            this.$el.attr("data-hole", this.model.id),
            this.$el.html(this.name_template(this.model.attributes)).append(this.stats_template(this.model.attributes))
        }
    })
      , d = t.template('<a href="<%= url %>"><img src="/images/players/2016/80x80/<%= player.id %>.jpg" alt="<%= player.full_name %>" /><div class="name"><%= player.display_name2 %></div></a>')
      , u = s.View.extend({
        className: "player",
        template: d,
        initialize: function() {
            this.listenTo(this.model, "change:is_fave", this.checkFavorite),
            this.listenTo(this.model, "change:current_sort_order", this.checkLeader)
        },
        render: function() {
            return this.checkFavorite(),
            this.checkLeader(),
            this.$el.html(this.template({
                player: this.model.attributes,
                url: this.getURL(this.model.id)
            })),
            this
        },
        onDispose: function() {},
        checkFavorite: function() {
            this.$el.toggleClass("has_favorite", this.model.get("is_fave"))
        },
        checkLeader: function() {
            this.$el.toggleClass("has_leader", 1 === this.model.get("current_sort_order"))
        },
        getURL: function(e) {
            var t = "/en_US/scores/track/track.html?pid=" + e;
            return i.app && i.apptype.android && (t = "/android" + t),
            t
        }
    })
      , p = s.View.extend({
        player_views: {},
        initialize: function() {
            this.listenTo(a, "throttle:resize", this.reinitScroll)
        },
        render: function() {
            var e = [];
            return console.log("[PlayerRow] for hole " + this.model.id + ":"),
            this.collection.sort(function(e, t) {
                return parseInt(e.get("tee_order"), 10) > parseInt(t.get("tee_order"), 10)
            }),
            t.each(this.collection, function(t) {
                console.log("[Player] " + t.get("full_name") + " %o, thru: " + t.get("thru") + ", lastHoleWithShot: " + t.get("lastHoleWithShot") + ", holeProgress: " + t.get("holeProgress"), t),
                this.player_views[t.id] = new u({
                    model: t
                }).render(),
                e.push(this.player_views[t.id].$el)
            }
            .bind(this)),
            0 === e.length && (e = ['<div class="noplayers">No Players</div>']),
            this.$("section.scroll-list").empty(),
            this.reinitScroll(),
            this.$("section.scroll-list").html(e),
            this.reinitScroll(),
            this
        },
        onDispose: function() {
            t.each(this.player_views, function(e) {
                e.dispose()
            }),
            this.player_views = {}
        },
        reinitScroll: function() {
            var e = this.$(".scroll-pane").data("jsp");
            e ? e.reinitialise() : this.$(".scroll-pane").jScrollPane()
        }
    })
      , f = s.View.extend({
        el: ".hole-info-wrap",
        events: {
            "click .close": "triggerClose"
        },
        initialize: function(e) {
            this.hole_details = new c({
                el: this.$(".hole-info-row"),
                model: this.model
            }),
            this.locatePlayersOnHole(),
            this.listenTo(a, "scores:refresh", this.locatePlayersOnHole)
        },
        render: function() {
            this.$el.show(),
            this.tee.reinitScroll(),
            this.fairway.reinitScroll(),
            this.green.reinitScroll()
        },
        onDispose: function() {
            this.tee && (this.tee.dispose(!0),
            this.fairway.dispose(!0),
            this.green.dispose(!0))
        },
        triggerClose: function() {
            return this.close(),
            r.measure("Close Hole Detail"),
            !1
        },
        close: function() {
            this.$el.hide(),
            this.stopListening(),
            this.trigger("hole:close")
        },
        locatePlayersOnHole: function() {
            var e = this.model.id
              , i = n.collection.filter(function(t) {
                return t.getCurrentHole() === e
            });
            t.each(["tee", "fairway", "green"], function(e) {
                var s = t.filter(i, function(t) {
                    return t.get("holeProgress") === h[e]
                });
                this[e] ? (this[e].collection = s,
                this[e].render()) : this[e] = new p({
                    el: this.$("#" + e),
                    collection: s,
                    model: this.model
                }).render()
            }
            .bind(this))
        }
    });
    return f
}),
define("controllers/track-index", ["require", "jquery", "baseview", "utils/scores", "utils/pubsub", "utils/metrics", "collections/holes", "settings", "utils/browser", "models/track/state", "utils/track/track", "views/track/map", "views/track/size", "views/track/map-size", "views/track/nav-bar", "views/track/map-overlay"], function(e) {
    var t = e("jquery")
      , i = e("baseview")
      , s = e("utils/scores")
      , n = e("utils/pubsub")
      , a = (e("utils/metrics"),
    e("collections/holes"))
      , r = e("settings")
      , o = e("utils/browser")
      , l = e("models/track/state")
      , h = e("utils/track/track")
      , c = e("views/track/map")
      , d = (e("views/track/size"),
    e("views/track/map-size"))
      , u = e("views/track/nav-bar")
      , p = e("views/track/map-overlay")
      , f = i.extend({
        show_player_search: !1,
        show_hole_detail: !1,
        events: {
            click: "closeOverlays",
            "click .hole-list li:not(.disabled)": "selectHole",
            "click #playerSearchLink": "togglePlayerSearch"
        },
        onInitialization: function() {
            this.size = new d({
                el: this.$(".trackerWrapper")
            }),
            this.mapimg = this.$(".renders > img"),
            "live" === this.jsonData.pageState ? (this.map = new c({
                el: this.$("#holeContainer")
            }),
            this.hole_list = this.$(".hole-list li"),
            this.hole_overlay = this.$(".hole-info-wrap"),
            a.fetch({
                success: function() {
                    this.loadHoleList()
                }
                .bind(this)
            }),
            this.navbar = new u({
                el: this.$(".nav-control-wrap"),
                statbar: !1,
                primary: !1,
                compare: !1,
                primary_list_open: !0
            }),
            this.listenTo(l, "playerlist:primary:toggle", this.togglePlayerSearch),
            this.listenTo(this.map, "hole:select", this.loadHole),
            this.listenTo(n, "scores:refresh", this.setCurrentRound),
            this.listenTo(n, "scores:refresh", this.checkForDisabled),
            this.listenTo(n, "windowsize:orientation:portrait", this.checkMap)) : r.Scores.stub_track = !0
        },
        onRender: function() {
            this.unveil(this.mapimg),
            this.size.render(),
            "live" === this.jsonData.pageState && (this.map.render(),
            s.isDataLoaded() && (this.setCurrentRound(),
            this.checkForDisabled())),
            o.app && null === eventsCore.util.getUrlParam("first") && h.measureState()
        },
        onDispose: function() {
            this.size.dispose(),
            "live" === this.jsonData.pageState && (this.navbar.dispose(),
            this.map.dispose(),
            this.overlay && this.overlay.dispose())
        },
        checkMap: function() {
            this.mapimg.hasClass("unveiled") || n.trigger("scroll.unveil.delegate" + this.cid)
        },
        setCurrentRound: function() {
            var e = "Round";
            if (s.collection.concurrentExists) {
                for (var t = "", i = 1; i <= 5; i++)
                    s.Utilities.isActiveRound(i) && (t += (i > 1 ? " & " : "") + i);
                e += "s " + t
            } else {
                var n = s.Utilities.currentRoundWithPlayoff();
                e += " " + n,
                5 === n && (e = "Playoff")
            }
            this.$(".course-info").find(".round").html(e)
        },
        checkForDisabled: function() {
            var e = {}
              , t = !1;
            s.collection.filter(function(i) {
                if (s.Utilities.isActivePlayer(i.id)) {
                    var n = i.getCurrentHole();
                    n && e[n] !== !0 && (e[n] = !0,
                    t = !0)
                }
            });
            for (var i = 1; i <= 18; i++)
                e[i] === !0 ? (this.map.$("#hole" + i).removeClass("disabled"),
                this.hole_list.filter('[data-hole="' + i + '"]').removeClass("disabled")) : (this.map.$("#hole" + i).addClass("disabled"),
                this.hole_list.filter('[data-hole="' + i + '"]').addClass("disabled"));
            t ? this.$(".overlay.dialog-message").removeClass("visible") : this.$(".overlay.dialog-message").addClass("visible")
        },
        setupWeather: function() {
            this.setCurrentWeather(),
            this.rotateWeather()
        },
        rotateWeather: function() {
            var e = 0;
            this.$(".view").eq(e).addClass("visible"),
            setInterval(function() {
                e++,
                e > 1 && (e = 0);
                var t = e % 2;
                this.$(".view").removeClass("visible").eq(t).addClass("visible")
            }
            .bind(this), 3e4)
        },
        setCurrentWeather: function() {
            this.$(".conditions").find(".temp span").html("70"),
            this.$(".conditions").find(".state").attr("data-type", "rain"),
            this.$(".wind").find(".state").find(".direction").html("NE"),
            this.$(".wind").find(".state").find(".speed").html("12")
        },
        closeOverlays: function(e) {
            var i = t(e.target);
            return this.show_player_search ? this.closePlayerSearch(i, !0) : !this.show_hole_detail || this.closeHoleOverlay(i, !0)
        },
        togglePlayerSearch: function(e) {
            return this.show_hole_detail && this.closeHoleOverlay(t(e.target)),
            this.show_player_search ? (this.$(".trackerWrapper").removeClass("player_search"),
            this.show_player_search = !1,
            h.measure("Map", "Close Search")) : (this.$(".trackerWrapper").addClass("player_search"),
            this.show_player_search = !0,
            this.navbar.rendered || this.navbar.render(),
            this.navbar.$("#findPlayer").focus(),
            h.measure("Map", "Open Search")),
            !1
        },
        closePlayerSearch: function(e, t) {
            return 0 !== e.closest(".nav-control-wrap").length || (this.$(".trackerWrapper").removeClass("player_search"),
            this.show_player_search = !1,
            t && h.measure("Map", "Close Search"),
            !1)
        },
        loadHoleList: function() {
            this.list = this.$(".hole-list"),
            a.each(function(e) {
                this.list.find('li[data-hole="' + e.id + '"]').find(".hole_flora").html(e.get("plant"))
            }
            .bind(this))
        },
        selectHole: function(e) {
            var i = t(e.currentTarget)
              , s = i.attr("data-hole");
            return this.loadHole(i, s),
            !1
        },
        loadHole: function(e, t) {
            this.show_player_search && this.closePlayerSearch(e, !1);
            var i = a.get(t);
            void 0 === this.overlay ? (this.overlay = new p({
                el: this.$(".hole-info-wrap"),
                model: i
            }),
            this.listenTo(this.overlay, "hole:close", function() {
                this.show_hole_detail = !1
            })) : (this.overlay.model = i,
            this.overlay.initialize()),
            this.overlay.render(),
            this.show_hole_detail = !0,
            h.measure("Open Hole Detail", "" + i.id)
        },
        closeHoleOverlay: function(e, t) {
            return 0 !== e.closest(".hole-info-wrap").length || (this.overlay.close(),
            t && h.measure("Close Hole Detail"),
            !1)
        }
    });
    return f
}),
define("utils/background", ["require", "jquery", "utils/browser", "utils/pubsub"], function(e) {
    var t = (e("jquery"),
    e("utils/browser"))
      , i = e("utils/pubsub")
      , s = function() {
        return this.init = function(e, t) {
            void 0 === t && (t = "resize");
            var s = this;
            e.find("img").one("load", function() {
                i.trigger(t)
            }).each(function() {
                this.complete && s.backgroundResizeHandler()
            }),
            this.elem = e,
            i.on(t, this.backgroundResizeHandler.bind(this), {
                cid: "background"
            }),
            this.backgroundResizeHandler()
        }
        ,
        this.dispose = function() {
            i.off(evt, this.backgroundResizeHandler, {
                cid: "background"
            })
        }
        ,
        this.backgroundResizeHandler = function() {
            var e = this.elem
              , i = e.find("img")
              , s = i.width()
              , n = i.height();
            if (!(0 == n || 0 == s || s <= n + 1 && s >= n - 1)) {
                var a = !1;
                if (t.ios)
                    a = !!(window.orientation % 180),
                    e.addClass("vertical") || e.addClass("vertical").removeClass("horizontal"),
                    e.removeClass("horizontal"),
                    s = i.width(),
                    i.css("marginLeft", -1 * parseInt(s / 2));
                else {
                    var r = e.width()
                      , o = e.height();
                    e.hasClass("horizontal") ? n < o && (e.addClass("vertical").removeClass("horizontal"),
                    s = i.width(),
                    i.css("marginLeft", -1 * parseInt(s / 2))) : s < r && (e.addClass("horizontal").removeClass("vertical"),
                    i.css("marginLeft", 0)),
                    n = i.height(),
                    i.css({
                        marginTop: -1 * parseInt(n / 2),
                        top: "50%"
                    })
                }
            }
        }
        ,
        this.init.apply(this, arguments),
        this
    };
    return s
}),
define("views/track/track", ["require", "backbone", "utils/pubsub", "utils/metrics", "models/track/state", "utils/track/constants", "utils/track/gfx", "utils/track/track", "collections/track/players"], function(e) {
    var t = e("backbone")
      , i = e("utils/pubsub")
      , s = (e("utils/metrics"),
    e("models/track/state"))
      , n = (e("utils/track/constants"),
    e("utils/track/gfx"))
      , a = e("utils/track/track")
      , r = e("collections/track/players")
      , o = t.View.extend({
        el: "#holeContainer.tracker",
        events: {
            "click a.marker": "selectShot",
            "click div.detail-overlay a.close": "closeOverlay",
            "click div.ghost-overlay a.ghost_link": "selectPlayer",
            click: "closeAll",
            "click canvas": "checkGreenNavigation"
        },
        fairway_tmpl: _.template('<img src="/images/now/trans_4x3.gif" data-high="/images/scores/track/H<%= hole %>W@2x.jpg" data-medium="/images/scores/track/H<%= hole %>W.jpg" data-lower="/images/scores/track/H<%= hole %>W.jpg" data-lower-portrait="/images/scores/track/H<%= hole %>P.jpg" data-view="fairway" id="mapFairway" />'),
        green_tmpl: _.template('<img src="/images/now/trans_4x3.gif" data-high="/images/scores/track/H<%= hole %>C@2x.jpg" data-medium="/images/scores/track/H<%= hole %>C.jpg" data-lower="/images/scores/track/H<%= hole %>C.jpg" data-view="green" id="mapGreen" />'),
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Track/HoleContainer"),
            n.container = this.$el,
            i.on("resize", n.resize.bind(n), this),
            this.listenTo(s, "holeimage:change", this.changeHoleImage),
            this.listenTo(s, "markerwrapper:add", this.addView)
        },
        render: function() {
            this.$("#mapFairway").ready(function() {
                this.logger.info("fairway ready, resizing"),
                n.resize()
            }
            .bind(this))
        },
        onDispose: function() {
            i.off("resize", n.resize, this),
            n.container = void 0
        },
        addView: function(e) {
            this.$("#markerWrapper").prepend(e.$el)
        },
        selectShot: function(e) {
            e.preventDefault();
            var t = $(e.currentTarget)
              , i = t.data("shot");
            i === s.get("selected_shot").get("number") ? a.measure("Shot " + i, "Reselect") : a.measure("Shot " + i, "Select"),
            s.trigger("controls:shot:select", i)
        },
        closeOverlay: function(e) {
            e.preventDefault();
            var t = $(e.currentTarget)
              , i = t.closest(".marker-wrapper")
              , s = i.attr("data-id").match(/\d+/)[0];
            s = s ? parseInt(s, 10) : s;
            var n = t.closest(".detail-overlay")
              , o = n.attr("data-shot");
            o = o ? parseInt(o, 10) : o;
            var l = o - 1;
            if (l < 0 && (l = 0),
            r.get(s).get("current_hole").shots[l].hide_details(),
            n.hasClass("shot-overlay")) {
                var h = "Shot " + o;
                0 === o && (h = "On Tee"),
                a.measure(h, "Hide Overlay")
            } else
                n.hasClass("ghost-overlay") && a.measure("Ghost Shot", "Hide Overlay")
        },
        selectPlayer: function(e) {
            e.preventDefault();
            var t = $(e.currentTarget).attr("data-id");
            a.selectPlayer(t)
        },
        closeAll: function(e) {
            e.preventDefault(),
            ("canvas" === e.target.nodeName.toLowerCase() || $(e.target).closest("#maps").length > 0) && (s.trigger("playerlist:close"),
            s.trigger("controls:options:hide"),
            s.trigger("shotlist:close"))
        },
        changeHoleImage: function() {
            var e = s.get("selected_hole");
            s.get("showing_playoff") ? e = e % 2 === 0 ? "10" : "18" : e < 10 && (e = "0" + e),
            this.$("#mapFairway").replaceWith(this.fairway_tmpl({
                hole: e
            })),
            this.$("#mapGreen").replaceWith(this.green_tmpl({
                hole: e
            })),
            this.clearUnveil(),
            this.unveil(this.$("#mapFairway, #mapGreen"))
        },
        checkGreenNavigation: function(e) {
            if (s.get("view_fairway")) {
                var t = e.pageX
                  , i = e.pageY
                  , o = this.$el.offset();
                t -= o.left,
                i -= o.top;
                var l = s.get("hole_info").pin
                  , h = l.getRel("x")
                  , c = l.getRel("y")
                  , d = Math.sqrt(Math.pow(t - h, 2) + Math.pow(i - c, 2));
                if (d < 50) {
                    for (var u, p = r.getPlayer().get("current_hole").shots, f = p.length, g = 1; g < f; g++)
                        if (p[g].get("ongreen")) {
                            u = p[g];
                            break
                        }
                    return 1 === f && void 0 === u && p[0].get("ongreen") && (u = p[0]),
                    n.forceGreenView(u),
                    a.measure("Green"),
                    !1
                }
            }
            return !0
        }
    });
    return o
}),
define("views/track/live-video", ["require", "backbone", "utils/metrics", "utils/pubsub", "utils/channel-controller", "utils/common", "utils/geoblock", "settings", "collections/track/players", "utils/track/track"], function(e) {
    var t = e("backbone")
      , i = e("utils/metrics")
      , s = e("utils/pubsub")
      , n = e("utils/channel-controller")
      , a = e("utils/common")
      , r = e("utils/geoblock")
      , o = e("settings")
      , l = e("collections/track/players")
      , h = e("utils/track/track")
      , c = t.View.extend({
        el: ".video",
        events: {
            click: "toggle"
        },
        video_open: !1,
        initialize: function() {
            this.listenTo(s, "livevideo:reset", this.update),
            this.listenTo(s, "panel:open", this.setPanelOpen),
            this.listenTo(s, "panel:exit", this.setPanelClosed),
            this.on("panel:open", this.showOption),
            this.on("panel:closed", this.hideOption),
            this.checkPanelIsLiveVideo() && (this.video_open = !0,
            this.showOption()),
            n.collection && this.update()
        },
        render: function() {},
        onDispose: function() {},
        checkPanelIsLiveVideo: function() {
            var e = a.video_panel;
            return a.video_panel_float && ("floatVideo" === e.panel1.state() && !e.panel1.videoVod || "floatVideo" === e.panel2.state() && !e.panel2.videoVod)
        },
        setPanelOpen: function(e) {
            e.videoVod || (this.video_open = !0,
            this.trigger("panel:open"))
        },
        setPanelClosed: function(e) {
            e.videoVod || (this.video_open = !1,
            this.trigger("panel:closed"))
        },
        toggle: function() {
            this.video_open ? (this.hide(),
            i.trackS({
                prop57: "Live Panel Off",
                eVar57: "Live Panel Off"
            }),
            h.measure("Live", "Live Panel Off")) : (this.show(),
            i.trackS({
                prop57: "Live Panel On",
                eVar57: "Live Panel On"
            }),
            h.measure("Live", "Live Panel On"))
        },
        show: function() {
            this.video = n.getVideoObject(this.channel.id),
            this.video && (s.trigger("video:playPanel", [this.video], this.channel.id, {
                floated: !0
            }),
            this.showOption(),
            this.video_open = !0)
        },
        hide: function() {
            s.trigger("video:exitPanel"),
            this.hideOption(),
            this.video_open = !1
        },
        showOption: function() {
            this.$el.addClass("selected")
        },
        hideOption: function() {
            this.$el.removeClass("selected")
        },
        update: function() {
            this.channel = this.getDefaultChannel(),
            this.updateChannel()
        },
        getDefaultChannel: function() {
            var e = l.getPlayer();
            if (e) {
                var t = void 0 !== e.get("score_data") ? e.get("score_data").get("live") : "0"
                  , s = "";
                return r.isBlocked() || ("0" !== t && n.checkChannelStatus(t) ? s = n.getChannel(t) : n.checkChannelStatus(o.default_broadcast_channel) && (s = n.getChannel(o.default_broadcast_channel))),
                "" !== s && i.trackS({
                    prop30: s.get("name")
                }),
                s
            }
            return ""
        },
        updateChannel: function() {
            var e = "" !== this.channel;
            e ? (this.$el.addClass("active"),
            this.$el.find(".title").html(this.channel.get("name"))) : (this.$el.removeClass("active"),
            this.$el.find(".title").html("Live Video"))
        }
    });
    return c
}),
define("views/track/controls", ["require", "backbone", "utils/browser", "utils/scores", "utils/pubsub", "utils/autocolumn", "collections/holes", "utils/window-size", "models/track/state", "utils/track/constants", "collections/track/players", "utils/track/gfx", "utils/track/track", "views/track/live-video"], function(e) {
    var t = e("backbone")
      , i = e("utils/browser")
      , s = e("utils/scores")
      , n = (e("utils/pubsub"),
    e("utils/autocolumn"))
      , a = e("collections/holes")
      , r = (e("utils/window-size"),
    e("models/track/state"))
      , o = e("utils/track/constants")
      , l = e("collections/track/players")
      , h = e("utils/track/gfx")
      , c = e("utils/track/track")
      , d = e("views/track/live-video")
      , u = t.View.extend({
        el: "#controls",
        events: {
            "click div.hole-info": "toggleHole",
            "click div.round-info": "toggleRound",
            "click div.options-nav li.video": "toggleLiveVideo",
            "click div.options-nav li.highlight": "goToHighlight",
            "click li.enabled.hole": "clickHole",
            "click li.enabled.round": "clickRound",
            "click .prev.enabled a.nav-control-link": "selectPrevShot",
            "click .next.enabled a.nav-control-link": "selectNextShot",
            "click .nav-control a.nav-control-link": "noOp",
            "click .fairway": "returnToFairway"
        },
        hole_open: !1,
        round_open: !1,
        viewing_round: -1,
        enable_holes: {
            1: 0,
            2: 0,
            3: 0,
            4: 0,
            5: 0,
            6: 0,
            7: 0,
            8: 0,
            9: 0,
            10: 0,
            11: 0,
            12: 0,
            13: 0,
            14: 0,
            15: 0,
            16: 0,
            17: 0,
            18: 0
        },
        enable_rounds: {
            1: 0,
            2: 0,
            3: 0,
            4: 0,
            5: 0
        },
        last_enable_hole: -1,
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Track/Controls"),
            this.options = this.$("div.options"),
            this.listenTo(r, "controls:options:hide", this.hideOptions),
            this.listenTo(r, "controls:holelist:reset", this.determineEnabledHoles),
            this.listenTo(r, "controls:hole:change", this.changeHole),
            this.listenTo(r, "controls:shot:set", this.setSelectedShot),
            this.listenTo(r, "controls:shot:select", this.selectShot),
            this.listenTo(r, "controls:shot:autoselect", this.autoSelectShot),
            this.listenTo(r, "controls:arrows:reset", this.updateVisibleArrows),
            this.listenTo(r, "controls:hole:previous", this.prevHole),
            this.listenTo(r, "controls:hole:next", this.nextHole),
            this.listenTo(r, "change:view_fairway", this.toggleFairwayButton),
            this.livevideo = new d({
                el: this.options.filter(".options-nav").find(".video")
            }),
            $(document).on("keydown.track", function(e) {
                "input" !== e.target.nodeName.toLowerCase() && (keycode = e.keyCode || e.which,
                37 === keycode && this.$(".prev.enabled").length > 0 ? (this.prevShot(),
                c.measure("Shot", "Previous", "Key Left")) : 39 === keycode && this.$(".next.enabled").length > 0 && (this.nextShot(),
                c.measure("Shot", "Next", "Key Right")))
            }
            .bind(this))
        },
        render: function() {
            if (Modernizr.csscolumns || (this.hole_nav = new n(this.$el,{
                max: 2,
                min: 2
            }),
            this.hole_nav.run(this.$(".hole-nav"))),
            i.app) {
                var e = this.$(".hole-nav > a").attr("href");
                this.$(".hole-nav > a").attr("href", "/android" + e)
            }
            return this
        },
        onDispose: function() {
            $(document).off("keydown.track"),
            this.livevideo.dispose()
        },
        toggleHole: function() {
            this.hole_open ? (this.hideOptions(),
            c.measure("Menu", "Hole", "Close")) : (this.showOptionHole(),
            c.measure("Menu", "Hole", "Open"))
        },
        toggleRound: function() {
            this.round_open ? (this.hideOptions(),
            c.measure("Menu", "Round", "Close")) : (this.showOptionRound(),
            c.measure("Menu", "Round", "Open"))
        },
        hideOptions: function() {
            this.hole_open = !1,
            this.round_open = !1,
            this.options.removeClass("open"),
            this.viewing_round = -1
        },
        showOption: function(e) {
            this.hideOptions(),
            r.trigger("playerlist:close"),
            r.trigger("shotlist:close"),
            e.addClass("open")
        },
        showOptionHole: function() {
            this.showOption(this.$("div.hole-info")),
            this.hole_open = !0,
            r.trigger("controls:holelist:open")
        },
        showOptionRound: function() {
            this.showOption(this.$("div.round-info")),
            this.round_open = !0,
            r.trigger("controls:roundlist:open")
        },
        goToHighlight: function() {
            i.app && i.apptype.android
        },
        clickHole: function(e) {
            var t = e.currentTarget
              , i = parseInt(t.getAttribute("data-hole"), 10);
            if (!isNaN(i)) {
                var s = r.get("selected_round");
                this.setRound(s),
                this.selectHole(i),
                this.hideOptions(),
                this.removeGreenOverlay(),
                c.measure("Menu", "Hole " + i)
            }
        },
        clickRound: function(e) {
            var t = e.currentTarget
              , i = parseInt(t.getAttribute("data-round"), 10);
            if (!isNaN(i)) {
                this.selectRound(i),
                this.setRound(i);
                var s = r.get("selected_hole");
                this.selectHole(s),
                this.hideOptions(),
                this.removeGreenOverlay(),
                c.measure("Menu", t.innerHTML)
            }
        },
        selectPrevShot: function() {
            this.prevShot(),
            r.get("view_fairway") && this.removeGreenOverlay(),
            c.measure("Shot", "Previous", "Arrow Left")
        },
        selectNextShot: function() {
            this.nextShot(),
            r.get("view_fairway") && this.removeGreenOverlay(),
            c.measure("Shot", "Next", "Arrow Right")
        },
        noOp: function(e) {
            e.preventDefault()
        },
        determineEnabledHoles: function() {
            this.logger.info("determineEnabledHoles called");
            var e = l.getPlayer();
            $.each(this.enable_holes, function(e) {
                this.enable_holes[e] = 0
            }
            .bind(this)),
            $.each(this.enable_rounds, function(e) {
                this.enable_rounds[e] = 0
            }
            .bind(this));
            var t = this.viewing_round;
            this.viewing_round < 1 && (t = r.get("selected_round"));
            var i = !1;
            s.Playoff.active && (i = e.get("latest_round") > 4,
            i ? (this.enablePlayoff(),
            $.each(this.enable_rounds, function(e) {
                this.enable_rounds[e] = 1
            }
            .bind(this))) : this.disablePlayoff());
            var n = !1;
            if (5 === t && i) {
                r.set("showing_playoff", !0),
                this.setPlayoffHoles();
                for (var a = 1; a <= e.get("latest_hole"); a++)
                    this.enable_holes[a] = 1,
                    this.last_enable_hole = a;
                n = !0
            }
            if (!n) {
                this.setNormalHoles(),
                r.set("showing_playoff", !1);
                for (var a = 1; a <= e.get("latest_round"); a++)
                    this.enable_rounds[a] = 1;
                if (t < e.get("latest_round"))
                    $.each(this.enable_holes, function(e) {
                        this.enable_holes[e] = 1
                    }
                    .bind(this));
                else if (t === e.get("latest_round"))
                    if (e.get("splittee"))
                        if (e.get("latest_hole") > 9) {
                            for (var o = e.get("latest_hole") - 9, h = 10; h <= 18; h++)
                                this.enable_holes[h] = 1,
                                this.last_enable_hole = h;
                            for (var h = 1; h <= o; h++)
                                this.enable_holes[h] = 1,
                                this.last_enable_hole = h
                        } else
                            for (var h = 10; h <= 9 + e.get("latest_hole"); h++)
                                this.enable_holes[h] = 1,
                                this.last_enable_hole = h;
                    else
                        for (var h = 1; h <= e.get("latest_hole"); h++)
                            this.enable_holes[h] = 1,
                            this.last_enable_hole = h;
                n = !0
            }
            this.updateEnabledHoles()
        },
        updateEnabledHoles: function() {
            var e = l.getPlayer();
            this.$(".cell.enabled").removeClass("enabled").removeClass("current");
            for (var t = this.$(".round"), i = 1; i <= 5; i++)
                1 === this.enable_rounds[i] && t.eq(i - 1).addClass("enabled");
            t.eq(e.get("latest_round") - 1).addClass("current");
            for (var n = this.$(".hole"), i = 1; i <= 18; i++)
                1 === this.enable_holes[i] && n.eq(i - 1).addClass("enabled");
            if (s.Utilities.isActiveRound(r.get("selected_round")) && r.get("selected_round") === e.get("latest_round")) {
                var a = e.getLastHole() - 1;
                n.eq(a).addClass("current")
            }
        },
        enablePlayoff: function() {
            this.$(".round-nav").addClass("playoff")
        },
        disablePlayoff: function() {
            this.$(".round-nav").removeClass("playoff")
        },
        setPlayoffHoles: function() {
            this.$(".hole").html("").each(function(e) {
                e % 2 === 0 ? this.innerHTML = "18" : this.innerHTML = "10"
            })
        },
        setNormalHoles: function() {
            this.$(".hole").each(function(e) {
                this.innerHTML = this.getAttribute("data-hole")
            })
        },
        selectHole: function(e, t) {
            this.goToHole(e, function(e) {
                if (void 0 !== e.get("current_hole")) {
                    var i = 1
                      , n = t;
                    if (n > 0 && n < e.get("current_hole").shots.length)
                        i = n;
                    else if (e.get("newly_selected")) {
                        var a = e.getLastHole();
                        s.Utilities.isActivePlayer(e.id) && r.get("selected_round") === e.get("latest_round") && r.get("selected_hole") === a && (i = e.get("latest_shot")),
                        e.set("newly_selected", !1)
                    }
                    this.selectShot(i)
                }
            }
            .bind(this)),
            r.trigger("shotlist:update")
        },
        goToHole: function(e, t) {
            var i = l.getPlayer();
            i.check_mode(e),
            this.changeHole(e),
            i.loadGroup(),
            i.process(t);
            var s = ["compare", "ghost"];
            r.get("compare_mode") && (s = ["compare"]);
            for (var n = 0, a = s.length; n < a; n++)
                for (var o = s[n], c = 0, d = r.player_position[o].length; c < d; c++) {
                    var u = r.player_position[o][c];
                    l.get(u).process()
                }
            h.redraw(),
            r.trigger("shotlist:set", i.get("current_hole").shots)
        },
        changeHole: function(e, t) {
            void 0 !== t && t !== r.get("selected_round") && (this.selectRound(t),
            r.set("selected_round", t)),
            1 !== this.enable_holes[e + ""] && (e = this.last_enable_hole),
            r.set("selected_hole", e),
            this.updateHoleInfo(),
            this.changeHighlightedControls("hole", e),
            this.changeHighlightedControls("round", r.get("selected_round")),
            h.exitForcedGreenView(),
            void 0 !== r.get("open_shot_detail") && r.unset("open_shot_detail"),
            h.switchToView(o.VIEW.fairway),
            r.trigger("holeimage:change"),
            this.updateVisibleArrows()
        },
        setRound: function(e) {
            r.set("selected_round", e)
        },
        selectRound: function(e) {
            this.viewing_round = e,
            this.changeHighlightedControls("round", e),
            this.determineEnabledHoles()
        },
        updateHoleInfo: function() {
            if (a.length > 0) {
                var e = a.get(r.get("selected_hole"));
                r.get("showing_playoff") && (e = r.get("selected_hole") % 2 === 0 ? a.get(10) : a.get(18)),
                r.trigger("hole:change", e),
                this.$(".hole-info").attr("data-hole", e.get("number")).toggleClass("android4"),
                this.$("#holeName").html(e.get("plant")),
                this.$("#holeYds").html(e.get("yds")),
                this.$("#holePar").html(e.get("par")),
                this.$("#holeNameMobile").html("Hole<span>" + e.get("number") + "</span>");
                var t = r.get("selected_round");
                t = this.$(".round-nav .round").filter("[data-round=" + t + "]").text(),
                this.$(".round-info").attr("data-round", t).find(".roundNumber").html(t)
            } else
                this.stopListening(r, "holeinfo:ready", this.updateHoleInfo).listenToOnce(r, "holeinfo:ready", this.updateHoleInfo)
        },
        selectShot: function(e) {
            if (e > -1) {
                var t = l.getPlayer().get("current_hole").shots
                  , i = t[e - 1];
                0 === e && void 0 === i && (i = t[0]);
                var s = !1;
                r.get("view_fairway") && i.get("number") > 1 && (0 === parseInt(i.get("remaining"), 10) || i.get("ongreen")) && (h.switchToView(o.VIEW.green),
                s = !0),
                r.get("view_fairway") || i.get("ongreen") && !(i.get("number") <= 1) || (h.switchToView(o.VIEW.fairway),
                s = !0),
                i !== r.get("selected_shot") ? (void 0 !== r.get("selected_shot") && r.get("selected_shot").deselect().hide_details(),
                r.get("open_shot_detail") && r.get("open_shot_detail") !== e && t[r.get("open_shot_detail") - 1].hide_details(),
                this.setSelectedShot(i),
                h.redraw()) : (r.get("open_shot_detail") && r.get("open_shot_detail") !== e && t[r.get("open_shot_detail") - 1].hide_details(),
                i.show_details(),
                (s || r.player_position.compare.length > 1 && i.get("number") <= 1) && h.redraw())
            }
        },
        setSelectedShot: function(e, t) {
            r.set("selected_shot", e.select()),
            void 0 !== t && t !== !0 || e.show_details(),
            0 === e.get("number") ? this.$(".shot-info").addClass("tee").html("") : this.$(".shot-info").removeClass("tee").html(e.get("number")),
            this.updateVisibleArrows(),
            c.updateURL()
        },
        autoSelectShot: function(e) {
            if (e > 0) {
                var t = l.getPlayer().get("current_hole").shots
                  , i = t[e - 1]
                  , s = i.get("ongreen");
                s && r.get("forced_green") && h.exitForcedGreenView(),
                this.selectShot(e)
            }
        },
        deselectShot: function() {
            r.get("selected_shot").deselect().hide_details(),
            r.unset("selected_shot"),
            h.switchToView(o.VIEW.fairway),
            this.$(".shot-info").html("")
        },
        updateVisibleArrows: function() {
            this.logger.info("calling updateVisibleArrows"),
            this.$(".nav-control").addClass("enabled");
            var e = -1
              , t = !1;
            void 0 !== r.get("selected_shot") && (e = r.get("selected_shot").get("number"),
            t = r.get("selected_shot").get("ongreen")),
            l.getPlayer().hasNextShot(r.get("selected_round"), r.get("selected_hole"), e) === !1 && (r.get("view_fairway") && 1 === e && t || this.$(".next").removeClass("enabled")),
            1 === r.get("selected_round") && 1 === e && l.getPlayer().hasPrevShot(r.get("selected_round"), r.get("selected_hole")) === !1 && this.$(".prev").removeClass("enabled")
        },
        nextShot: function() {
            var e = l.getPlayer();
            if (void 0 === r.get("selected_shot"))
                e.get("current_hole").shots.length >= 1 && this.selectShot(1);
            else {
                var t = r.get("selected_shot")
                  , i = t.get("number")
                  , s = e.get("current_hole").shots.length;
                if (1 === i && i === s && r.get("view_fairway") && t.get("ongreen"))
                    return h.switchToView(o.VIEW.green),
                    h.redraw(),
                    void this.updateVisibleArrows();
                i === s || 0 === i && 1 === s ? this.goToNextHole(e, r.get("selected_round"), r.get("selected_hole"), t.get("number")) : this.selectShot(i + 1)
            }
        },
        prevShot: function() {
            var e = l.getPlayer();
            if (void 0 !== r.get("selected_shot")) {
                var t = r.get("selected_shot")
                  , i = t.get("number")
                  , s = e.get("current_hole").shots.length;
                if (1 === i && i === s && !r.get("view_fairway") && t.get("ongreen"))
                    return h.switchToView(o.VIEW.fairway),
                    h.redraw(),
                    void this.updateVisibleArrows();
                0 === i || 1 === i ? this.goToPrevHole(e, r.get("selected_round"), r.get("selected_hole")) : this.selectShot(i - 1)
            } else
                this.selectShot(1)
        },
        goToNextHole: function(e, t, i, s) {
            var n = e.hasNextShot(t, i, s);
            return n !== !1 && (n.round === r.get("selected_round") ? this.goToHole(n.hole, function() {
                this.selectShot(1)
            }
            .bind(this)) : (r.set("selected_round", n.round),
            this.determineEnabledHoles(),
            this.goToHole(n.hole, function() {
                this.selectShot(1)
            }
            .bind(this))),
            !0)
        },
        goToPrevHole: function(e, t, i, s) {
            var n = e.hasPrevShot(t, i);
            return n !== !1 && (void 0 === s && (s = n.number),
            n.round === r.get("selected_round") ? this.goToHole(n.hole, function() {
                this.selectShot(s)
            }
            .bind(this)) : (r.set("selected_round", n.round),
            this.determineEnabledHoles(),
            this.goToHole(n.hole, function() {
                this.selectShot(s)
            }
            .bind(this))),
            !0)
        },
        nextHole: function() {
            var e = l.getPlayer()
              , t = r.get("selected_round")
              , i = r.get("selected_hole")
              , s = e.get("current_hole").shots.length
              , n = this.goToNextHole(e, t, i, s);
            n && c.measure("Hole", "Next")
        },
        prevHole: function() {
            var e = l.getPlayer()
              , t = r.get("selected_round")
              , i = r.get("selected_hole")
              , s = this.goToPrevHole(e, t, i, 1);
            s && c.measure("Hole", "Previous")
        },
        changeHighlightedControls: function(e, t, i) {
            var n;
            void 0 === i && ("hole" !== e && "round" !== e || (i = this.$("." + e).eq(t - 1)),
            "round" === e && (n = this.$(".hole.selected"))),
            i.addClass("selected").siblings(".selected").removeClass("selected"),
            s.Utilities.currentRoundWithPlayoff() !== r.get("selected_round") && this.$(".hole").removeClass("current")
        },
        resetHighlightedControls: function() {
            this.$(".hole, .round").filter(".selected").removeClass("selected");
            var e = this.$(".hole.selected").index();
            r.get("selected_hole") !== e + 1 && this.$(".hole").eq(r.get("selected_hole") - 1).addClass("selected");
            var t = this.$(".round.selected").index();
            r.get("selected_round") !== t + 1 && this.$(".round").eq(r.get("selected_round") - 1).addClass("selected")
        },
        removeGreenOverlay: function() {
            this.$("#maps").find("video").hide().remove(),
            this.$("#maps").find("#greenContourOverlay").remove()
        },
        returnToFairway: function() {
            return h.exitForcedGreenView(),
            r.get("selected_shot").get("number") > 0 ? this.selectShot(1) : this.selectShot(0),
            c.measure("Fairway"),
            !1
        },
        toggleFairwayButton: function(e, t, i) {
            t ? this.$("#forceFairway").hide() : this.$("#forceFairway").show()
        }
    });
    return u
}),
define("collections/track/green-videos", ["require", "backbone", "collections/static-collection"], function(e) {
    var t = e("backbone")
      , i = e("collections/static-collection")
      , s = t.Model.extend({
        defaults: {
            id: 0,
            zone: []
        },
        initialize: function() {},
        parse: function(e) {
            return e.id = parseInt(e.id, 10),
            e.zone.forEach(function(e) {
                e.num = parseInt(e.num, 10)
            }),
            e
        }
    })
      , n = i.extend({
        model: s,
        url: "/en_US/xml/man/video/green_video.json",
        parse: function(e) {
            return e.hole
        }
    });
    return new n
}),
define("views/track/green-video", ["require", "backbone", "jquery", "utils/window-size", "utils/pubsub", "utils/browser", "utils/metrics", "collections/track/green-videos", "models/track/state", "utils/track/track", "jquery.cookie"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/window-size")
      , n = e("utils/pubsub")
      , a = e("utils/browser")
      , r = (e("utils/metrics"),
    e("collections/track/green-videos"))
      , o = e("models/track/state")
      , l = e("utils/track/track");
    e("jquery.cookie");
    var h = t.View.extend({
        el: ".trackerWrapper",
        events: {
            "click #holeContainer canvas": "showGreenVideo",
            "click #greenContourOverlay": "showGreenVideo"
        },
        enabled: !1,
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Track/GreenVideos"),
            this.listenTo(n, "windowsize:global:enter", this.disable),
            this.listenTo(o, "view_fairway:enter", this.disable),
            this.listenTo(n, "windowsize:global:exit", this.enable),
            this.listenTo(o, "view_fairway:exit", this.enable),
            r.fetch()
        },
        render: function() {
            return this.$greenInfoTip = this.$(".green-info-tips .green-info-tip"),
            this
        },
        onDispose: function() {},
        disable: function() {
            this.enabled = !1,
            this.hide(),
            this.hideInstructions()
        },
        enable: function() {
            o.get("view_fairway") || s.size() === s.sizes.global || (this.enabled = !0,
            this.show())
        },
        show: function() {
            this.$("#maps").append('<div id="greenContourOverlay">'),
            this.showInstructions()
        },
        hide: function() {
            this.removeVideos(),
            this.$("#greenContourOverlay").remove(),
            this.hideInstructions()
        },
        removeVideos: function() {
            this.$("#maps").find("video").hide().remove()
        },
        showGreenVideo: function(e) {
            if (this.enabled) {
                var t = e.pageX
                  , s = e.pageY
                  , n = o.get("selected_hole");
                o.get("showing_playoff") && (n = n % 2 === 0 ? 10 : 18),
                n < 10 && (n = "0" + n);
                var h = this.getClosestGreenVideo(t, s)
                  , c = "http://mastersprogressivedl.edgesuite.net/2016/GreenSimulation/H" + n + "/"
                  , d = this.$("#mapGreen").attr("src")
                  , u = '<video poster="' + d + '" autoplay="autoplay" width="100%" height="100%" loop="loop">';
                a.android || a.apptype.android || (u += ' <source src="' + c + "MAIN/" + h + '" type="video/mp4">'),
                u += ' <source src="' + c + "BASELINE/" + h + '" type="video/mp4"></video>';
                var p = i(u);
                clearTimeout(this.timeoutId),
                this.removeVideos(),
                this.$("#maps").append(p),
                p.on("loadeddata", function() {
                    r.timeoutId = setTimeout(this.removeVideos.bind(this), 18e3)
                }
                .bind(this)).show()[0].play(),
                l.measure("Options", "Green Info Video", h)
            }
        },
        showInstructions: function() {
            i.cookie("greenInfoTip") || (this.greenInfoTimeoutId = setTimeout(function() {
                this.$greenInfoTip.addClass("show")
            }
            .bind(this), 3e3),
            this.$greenInfoTip.off("click").on("click", "div.close", function(e) {
                this.setInstructionsCookie(),
                l.measure("Green Video Info", "Prompt2", "Close")
            }
            .bind(this)))
        },
        hideInstructions: function() {
            this.$greenInfoTip.removeClass("show"),
            clearTimeout(this.greenInfoTimeoutId)
        },
        setInstructionsCookie: function() {
            i.cookie("greenInfoTip", "true", {
                expires: 30,
                path: "/en_US/"
            }),
            this.$greenInfoTip.removeClass("show"),
            clearTimeout(this.greenInfoTimeoutId)
        },
        getClosestGreenVideo: function(e, t) {
            var s = o.get("selected_hole");
            o.get("showing_playoff") && (s = o.get("selected_hole") % 2 === 0 ? 10 : 18);
            for (var n, a = this.$("#holeContainer"), l = a.offset(), h = e - l.left, c = t - l.top, d = i(document).height() - 50, u = a.width(), p = h / u * 100, f = c / d * 100, g = 100, m = r.get(s).get("zone"), v = 0; v < m.length; v++) {
                var b = 100 * m[v].x
                  , y = 100 * m[v].y
                  , w = m[v].num
                  , _ = Math.sqrt(Math.pow(p - b, 2) + Math.pow(f - y, 2));
                _ < g && (g = _,
                n = w - 1)
            }
            return this.logger.info("VIDEO ====== " + m[n].video),
            this.setInstructionsCookie(),
            m[n].video
        }
    });
    return h
}),
define("models/rc_video", ["require", "underscore", "backbone", "settings"], function(e) {
    var t = e("underscore")
      , i = e("backbone")
      , s = e("settings")
      , n = "masters_" + s.tournament_year
      , a = i.Model.extend({
        urlRoot: "/relatedcontent/rest/" + n + "/en/content/byId/",
        url: function() {
            var e = n + "_" + this.id + "_en";
            return this.urlRoot + e
        },
        defaults: {
            title: "",
            date: "",
            type: "",
            thumb: "",
            cmsId: "",
            url: ""
        },
        idAttribute: "cmsId",
        initialize: function() {},
        parse: function(e) {
            return t.each(e.extradata, function(t, i, s) {
                e[i] = t
            }),
            e
        },
        getVideoObject: function() {
            return {
                id: this.id,
                type: "vod",
                title: this.get("title"),
                contentType: this.get("type"),
                pictureM: this.get("thumb"),
                wwwdash: "",
                wwwhlshigh: this.get("m3u8"),
                pdl: this.get("mp4"),
                link: this.get("url")
            }
        }
    });
    return a
}),
define("text!templates/track/mobile-shot-row.html!strip", [], function() {
    return '<li class="shot-row hide shot<%= number %>" data-shot="<%= number %>">\n <div class="shot-video"></div>\n <div class="num"><%= number %></div>\n <div class="distanceTxt">\n <div class="distance"><span></span></div>\n </div>\n <div class="topinTxt">\n <div class="topin"><span></span></div>\n </div>\n</li>'
}),
define("views/track/shot-list", ["require", "jquery", "backbone", "utils/browser", "utils/window-size", "utils/common", "utils/pubsub", "utils/metrics", "models/rc_video", "models/track/state", "collections/track/players", "utils/track/track", "text!templates/track/mobile-shot-row.html!strip"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("utils/browser")
      , n = e("utils/window-size")
      , a = e("utils/common")
      , r = e("utils/pubsub")
      , o = e("utils/metrics")
      , l = e("models/rc_video")
      , h = e("models/track/state")
      , c = (e("collections/track/players"),
    e("utils/track/track"))
      , d = e("text!templates/track/mobile-shot-row.html!strip")
      , u = _.template(d)
      , p = i.View.extend({
        tagName: "li",
        className: "shot-row",
        template: u,
        initialize: function() {
            this.on("select", this.select)
        },
        render: function() {
            return 0 === this.model.get("number") ? (this.html = t("<div>Group is on tee</div>"),
            this.$el.addClass("tee")) : (this.checkVideo(),
            this.html = t(this.template(this.model.attributes)),
            this.$el.removeClass("tee"),
            this.populateDistance(),
            this.populateToPin()),
            "li" === this.tagName && this.$el.addClass("shot" + this.model.get("number")),
            this.$el.attr("data-shot", this.model.get("number")).data("shot", this.model.get("number")).html(this.html.html()),
            this
        },
        select: function(e) {
            var d = t(e.target);
            if (d.hasClass("shot-video") && this.$el.hasClass("highlight"))
                if (console.log("[Shot Row " + this.model.get("number") + "] attempting to launch shot video"),
                s.app && s.apptype.android) {
                    var u = this.model.get("highlightId");
                    a.sendAndroidMessage("video?id=" + u)
                } else if (n.size() === n.sizes.global) {
                    var p = this.model.get("highlightURL");
                    i.history.navigate(p, !0)
                } else
                    this.video = new l({
                        cmsId: this.model.get("highlightId")
                    }),
                    this.video.fetch({
                        success: function(e, t, i) {
                            var s = e.getVideoObject();
                            s.panelButton = "video_vod",
                            r.trigger("video:playPanel", [s], s.id, {
                                floated: !0,
                                vod: !0
                            }),
                            o.trackS({
                                prop33: e.get("title"),
                                prop43: e.get("title"),
                                prop22: e.get("date").substring(0, 4),
                                prop57: "VOD Panel On",
                                eVar57: "VOD Panel On"
                            }),
                            o.measureAppMediaLoad(o.page_section, o.page_title, "Single Shot VOD", "Play")
                        }
                    });
            else
                "li" === this.tagName && (h.trigger("controls:shot:select", this.model.get("number")),
                c.measure("Shot List", "Shot", this.model.get("number").toString()))
        },
        populateDistance: function() {
            var e = this.html.find(".distance span").removeClass("feet inch");
            c.setShotDistance(e, this.model)
        },
        populateToPin: function() {
            var e = this.html.find(".topin").removeClass("score").find("span").removeClass("feet inch score");
            c.setShotToPin(e, this.model)
        },
        checkVideo: function() {
            var e = "li" === this.tagName ? "highlight" : "selected";
            this.model.get("has_video") ? this.$el.addClass(e) : this.$el.removeClass(e)
        }
    })
      , f = i.View.extend({
        el: ".shot-list-info",
        events: {
            "click div.shot-row": "toggleShotList",
            "click .toggle": "toggleShotList",
            "click li.shot-row": "selectShotRow"
        },
        shots: [],
        is_open: !1,
        initialize: function() {
            this.shot_info = new p({
                tagName: "div"
            }),
            this.shot_list = this.$(".shot-list-nav"),
            this.list_ul = this.shot_list.find("ul").empty(),
            this.listenTo(h, "shotlist:set", this.processShots),
            this.listenTo(h, "shotlist:close", this.closeShotList),
            this.listenTo(h, "shotrow:set", this.setSelectedShot)
        },
        render: function() {
            var e = this.$("> .shot-row");
            e.replaceWith(this.shot_info.$el)
        },
        onDispose: function() {},
        selectShotRow: function(e) {
            var i = t(e.currentTarget)
              , s = i.data("shot");
            return this.shots[s - 1].trigger("select", e),
            !1
        },
        toggleShotList: function(e) {
            var i = t(e.target);
            if (i.hasClass("shot-video")) {
                var s = t(e.currentTarget).data("shot");
                this.shots[s - 1].trigger("select", e)
            } else
                this.is_open = !this.is_open,
                this.shot_list.toggleClass("visible", this.is_open),
                this.$el.toggleClass("open", this.is_open),
                this.is_open,
                c.measure("Shot List", this.is_open ? "Open" : "Close"),
                this.is_open && (h.trigger("playerlist:close"),
                h.trigger("controls:options:hide"))
        },
        closeShotList: function() {
            this.is_open && (this.shot_list.removeClass("visible"),
            this.$el.removeClass("open"),
            this.is_open = !1)
        },
        processShots: function(e) {
            void 0 === e && (this.shot_info.$el.removeClass("highlight"),
            this.shot_list.removeClass("highlight"),
            this.list_ul.empty());
            for (var t = !1, i = e.length - 1; i >= 0; --i) {
                var s = e[i];
                this.shots[i] ? this.shots[i].model = s : this.shots[i] = new p({
                    model: s
                }),
                this.list_ul.append(this.shots[i].render().$el),
                s.get("has_video") && (t = !0)
            }
            if (1 === e.length && 0 === e[0].get("number") ? (this.$(".toggle").hide(),
            this.closeShotList()) : this.$(".toggle").show(),
            e.length < this.shots.length) {
                for (var n = e.length, a = this.shots.length; n < a; n++)
                    this.shots[n].dispose();
                this.shots.length = e.length
            }
            this.setSelectedShot(),
            t ? (this.shot_info.$el.addClass("highlight"),
            this.shot_list.addClass("highlight")) : (this.shot_info.$el.removeClass("highlight"),
            this.shot_list.removeClass("highlight"))
        },
        setSelectedShot: function(e) {
            var t = e;
            void 0 === t && (e = h.get("selected_shot")),
            e && (t = e.get("number")),
            void 0 !== t && (this.list_ul.find(".shot-row.selected").removeClass("selected"),
            0 === t && (t = 1),
            this.list_ul.find(".shot-row.shot" + t).addClass("selected"),
            this.shot_info.model = e,
            this.shot_info.render())
        }
    });
    return f
}),
function(e) {
    "function" == typeof define && define.amd && define.amd.jQuery ? define("jquery.touchswipe", ["jquery"], e) : e("undefined" != typeof module && module.exports ? require("jquery") : jQuery)
}(function(e) {
    function t(t) {
        return !t || void 0 !== t.allowPageScroll || void 0 === t.swipe && void 0 === t.swipeStatus || (t.allowPageScroll = c),
        void 0 !== t.click && void 0 === t.tap && (t.tap = t.click),
        t || (t = {}),
        t = e.extend({}, e.fn.swipe.defaults, t),
        this.each(function() {
            var s = e(this)
              , n = s.data(M);
            n || (n = new i(this,t),
            s.data(M, n))
        })
    }
    function i(t, i) {
        function s(t) {
            if (!(he() || e(t.target).closest(i.excludedElements, Be).length > 0)) {
                var s, n = t.originalEvent ? t.originalEvent : t, a = n.touches, r = a ? a[0] : n;
                return We = _,
                a ? Ue = a.length : i.preventDefaultEvents !== !1 && t.preventDefault(),
                je = 0,
                Oe = null,
                ze = null,
                Ne = null,
                Ie = 0,
                qe = 0,
                $e = 0,
                Fe = 1,
                Ve = 0,
                He = me(),
                oe(),
                de(0, r),
                !a || Ue === i.fingers || i.fingers === y || H() ? (Ye = Te(),
                2 == Ue && (de(1, a[1]),
                qe = $e = ye(Ge[0].start, Ge[1].start)),
                (i.swipeStatus || i.pinchStatus) && (s = O(n, We))) : s = !1,
                s === !1 ? (We = C,
                O(n, We),
                s) : (i.hold && (et = setTimeout(e.proxy(function() {
                    Be.trigger("hold", [n.target]),
                    i.hold && (s = i.hold.call(Be, n, n.target))
                }, this), i.longTapThreshold)),
                ce(!0),
                null)
            }
        }
        function E(e) {
            var t = e.originalEvent ? e.originalEvent : e;
            if (We !== x && We !== C && !le()) {
                var s, n = t.touches, a = n ? n[0] : t, r = ue(a);
                if (Xe = Te(),
                n && (Ue = n.length),
                i.hold && clearTimeout(et),
                We = k,
                2 == Ue && (0 == qe ? (de(1, n[1]),
                qe = $e = ye(Ge[0].start, Ge[1].start)) : (ue(n[1]),
                $e = ye(Ge[0].end, Ge[1].end),
                Ne = _e(Ge[0].end, Ge[1].end)),
                Fe = we(qe, $e),
                Ve = Math.abs(qe - $e)),
                Ue === i.fingers || i.fingers === y || !n || H()) {
                    if (Oe = Ce(r.start, r.end),
                    ze = Ce(r.last, r.end),
                    V(e, ze),
                    je = ke(r.start, r.end),
                    Ie = be(),
                    fe(Oe, je),
                    s = O(t, We),
                    !i.triggerOnTouchEnd || i.triggerOnTouchLeave) {
                        var o = !0;
                        if (i.triggerOnTouchLeave) {
                            var l = Se(this);
                            o = Pe(r.end, l)
                        }
                        !i.triggerOnTouchEnd && o ? We = j(k) : i.triggerOnTouchLeave && !o && (We = j(x)),
                        We != C && We != x || O(t, We)
                    }
                } else
                    We = C,
                    O(t, We);
                s === !1 && (We = C,
                O(t, We))
            }
        }
        function A(e) {
            var t = e.originalEvent ? e.originalEvent : e
              , s = t.touches;
            if (s) {
                if (s.length && !le())
                    return re(t),
                    !0;
                if (s.length && le())
                    return !0
            }
            return le() && (Ue = Je),
            Xe = Te(),
            Ie = be(),
            q() || !I() ? (We = C,
            O(t, We)) : i.triggerOnTouchEnd || 0 == i.triggerOnTouchEnd && We === k ? (i.preventDefaultEvents !== !1 && e.preventDefault(),
            We = x,
            O(t, We)) : !i.triggerOnTouchEnd && Q() ? (We = x,
            z(t, We, f)) : We === k && (We = C,
            O(t, We)),
            ce(!1),
            null
        }
        function D() {
            Ue = 0,
            Xe = 0,
            Ye = 0,
            qe = 0,
            $e = 0,
            Fe = 1,
            oe(),
            ce(!1)
        }
        function L(e) {
            var t = e.originalEvent ? e.originalEvent : e;
            i.triggerOnTouchLeave && (We = j(x),
            O(t, We))
        }
        function R() {
            Be.unbind(Ee, s),
            Be.unbind(Re, D),
            Be.unbind(Ae, E),
            Be.unbind(De, A),
            Le && Be.unbind(Le, L),
            ce(!1)
        }
        function j(e) {
            var t = e
              , s = F()
              , n = I()
              , a = q();
            return !s || a ? t = C : !n || e != k || i.triggerOnTouchEnd && !i.triggerOnTouchLeave ? !n && e == x && i.triggerOnTouchLeave && (t = C) : t = x,
            t
        }
        function O(e, t) {
            var i, s = e.touches;
            return (G() || U()) && (i = z(e, t, u)),
            (B() || H()) && i !== !1 && (i = z(e, t, p)),
            ne() && i !== !1 ? i = z(e, t, g) : ae() && i !== !1 ? i = z(e, t, m) : se() && i !== !1 && (i = z(e, t, f)),
            t === C && (U() && (i = z(e, t, u)),
            H() && (i = z(e, t, p)),
            D(e)),
            t === x && (s ? s.length || D(e) : D(e)),
            i
        }
        function z(t, s, c) {
            var d;
            if (c == u) {
                if (Be.trigger("swipeStatus", [s, Oe || null, je || 0, Ie || 0, Ue, Ge, ze]),
                i.swipeStatus && (d = i.swipeStatus.call(Be, t, s, Oe || null, je || 0, Ie || 0, Ue, Ge, ze),
                d === !1))
                    return !1;
                if (s == x && W()) {
                    if (clearTimeout(Ke),
                    clearTimeout(et),
                    Be.trigger("swipe", [Oe, je, Ie, Ue, Ge, ze]),
                    i.swipe && (d = i.swipe.call(Be, t, Oe, je, Ie, Ue, Ge, ze),
                    d === !1))
                        return !1;
                    switch (Oe) {
                    case n:
                        Be.trigger("swipeLeft", [Oe, je, Ie, Ue, Ge, ze]),
                        i.swipeLeft && (d = i.swipeLeft.call(Be, t, Oe, je, Ie, Ue, Ge, ze));
                        break;
                    case a:
                        Be.trigger("swipeRight", [Oe, je, Ie, Ue, Ge, ze]),
                        i.swipeRight && (d = i.swipeRight.call(Be, t, Oe, je, Ie, Ue, Ge, ze));
                        break;
                    case r:
                        Be.trigger("swipeUp", [Oe, je, Ie, Ue, Ge, ze]),
                        i.swipeUp && (d = i.swipeUp.call(Be, t, Oe, je, Ie, Ue, Ge, ze));
                        break;
                    case o:
                        Be.trigger("swipeDown", [Oe, je, Ie, Ue, Ge, ze]),
                        i.swipeDown && (d = i.swipeDown.call(Be, t, Oe, je, Ie, Ue, Ge, ze))
                    }
                }
            }
            if (c == p) {
                if (Be.trigger("pinchStatus", [s, Ne || null, Ve || 0, Ie || 0, Ue, Fe, Ge]),
                i.pinchStatus && (d = i.pinchStatus.call(Be, t, s, Ne || null, Ve || 0, Ie || 0, Ue, Fe, Ge),
                d === !1))
                    return !1;
                if (s == x && N())
                    switch (Ne) {
                    case l:
                        Be.trigger("pinchIn", [Ne || null, Ve || 0, Ie || 0, Ue, Fe, Ge]),
                        i.pinchIn && (d = i.pinchIn.call(Be, t, Ne || null, Ve || 0, Ie || 0, Ue, Fe, Ge));
                        break;
                    case h:
                        Be.trigger("pinchOut", [Ne || null, Ve || 0, Ie || 0, Ue, Fe, Ge]),
                        i.pinchOut && (d = i.pinchOut.call(Be, t, Ne || null, Ve || 0, Ie || 0, Ue, Fe, Ge))
                    }
            }
            return c == f ? s !== C && s !== x || (clearTimeout(Ke),
            clearTimeout(et),
            J() && !ee() ? (Ze = Te(),
            Ke = setTimeout(e.proxy(function() {
                Ze = null,
                Be.trigger("tap", [t.target]),
                i.tap && (d = i.tap.call(Be, t, t.target))
            }, this), i.doubleTapThreshold)) : (Ze = null,
            Be.trigger("tap", [t.target]),
            i.tap && (d = i.tap.call(Be, t, t.target)))) : c == g ? s !== C && s !== x || (clearTimeout(Ke),
            clearTimeout(et),
            Ze = null,
            Be.trigger("doubletap", [t.target]),
            i.doubleTap && (d = i.doubleTap.call(Be, t, t.target))) : c == m && (s !== C && s !== x || (clearTimeout(Ke),
            Ze = null,
            Be.trigger("longtap", [t.target]),
            i.longTap && (d = i.longTap.call(Be, t, t.target)))),
            d
        }
        function I() {
            var e = !0;
            return null !== i.threshold && (e = je >= i.threshold),
            e
        }
        function q() {
            var e = !1;
            return null !== i.cancelThreshold && null !== Oe && (e = ge(Oe) - je >= i.cancelThreshold),
            e
        }
        function $() {
            return null === i.pinchThreshold || Ve >= i.pinchThreshold
        }
        function F() {
            var e;
            return e = !i.maxTimeThreshold || !(Ie >= i.maxTimeThreshold)
        }
        function V(e, t) {
            if (i.preventDefaultEvents !== !1)
                if (i.allowPageScroll === c)
                    e.preventDefault();
                else {
                    var s = i.allowPageScroll === d;
                    switch (t) {
                    case n:
                        (i.swipeLeft && s || !s && i.allowPageScroll != v) && e.preventDefault();
                        break;
                    case a:
                        (i.swipeRight && s || !s && i.allowPageScroll != v) && e.preventDefault();
                        break;
                    case r:
                        (i.swipeUp && s || !s && i.allowPageScroll != b) && e.preventDefault();
                        break;
                    case o:
                        (i.swipeDown && s || !s && i.allowPageScroll != b) && e.preventDefault()
                    }
                }
        }
        function N() {
            var e = Y()
              , t = X()
              , i = $();
            return e && t && i
        }
        function H() {
            return !!(i.pinchStatus || i.pinchIn || i.pinchOut)
        }
        function B() {
            return !(!N() || !H())
        }
        function W() {
            var e = F()
              , t = I()
              , i = Y()
              , s = X()
              , n = q()
              , a = !n && s && i && t && e;
            return a
        }
        function U() {
            return !!(i.swipe || i.swipeStatus || i.swipeLeft || i.swipeRight || i.swipeUp || i.swipeDown)
        }
        function G() {
            return !(!W() || !U())
        }
        function Y() {
            return Ue === i.fingers || i.fingers === y || !T
        }
        function X() {
            return 0 !== Ge[0].end.x
        }
        function Q() {
            return !!i.tap
        }
        function J() {
            return !!i.doubleTap
        }
        function Z() {
            return !!i.longTap
        }
        function K() {
            if (null == Ze)
                return !1;
            var e = Te();
            return J() && e - Ze <= i.doubleTapThreshold
        }
        function ee() {
            return K()
        }
        function te() {
            return (1 === Ue || !T) && (isNaN(je) || je < i.threshold)
        }
        function ie() {
            return Ie > i.longTapThreshold && je < w
        }
        function se() {
            return !(!te() || !Q())
        }
        function ne() {
            return !(!K() || !J())
        }
        function ae() {
            return !(!ie() || !Z())
        }
        function re(e) {
            Qe = Te(),
            Je = e.touches.length + 1
        }
        function oe() {
            Qe = 0,
            Je = 0
        }
        function le() {
            var e = !1;
            if (Qe) {
                var t = Te() - Qe;
                t <= i.fingerReleaseThreshold && (e = !0)
            }
            return e
        }
        function he() {
            return !(Be.data(M + "_intouch") !== !0)
        }
        function ce(e) {
            Be && (e === !0 ? (Be.bind(Ae, E),
            Be.bind(De, A),
            Le && Be.bind(Le, L)) : (Be.unbind(Ae, E, !1),
            Be.unbind(De, A, !1),
            Le && Be.unbind(Le, L, !1)),
            Be.data(M + "_intouch", e === !0))
        }
        function de(e, t) {
            var i = {
                start: {
                    x: 0,
                    y: 0
                },
                last: {
                    x: 0,
                    y: 0
                },
                end: {
                    x: 0,
                    y: 0
                }
            };
            return i.start.x = i.last.x = i.end.x = t.pageX || t.clientX,
            i.start.y = i.last.y = i.end.y = t.pageY || t.clientY,
            Ge[e] = i,
            i
        }
        function ue(e) {
            var t = void 0 !== e.identifier ? e.identifier : 0
              , i = pe(t);
            return null === i && (i = de(t, e)),
            i.last.x = i.end.x,
            i.last.y = i.end.y,
            i.end.x = e.pageX || e.clientX,
            i.end.y = e.pageY || e.clientY,
            i
        }
        function pe(e) {
            return Ge[e] || null
        }
        function fe(e, t) {
            t = Math.max(t, ge(e)),
            He[e].distance = t
        }
        function ge(e) {
            if (He[e])
                return He[e].distance
        }
        function me() {
            var e = {};
            return e[n] = ve(n),
            e[a] = ve(a),
            e[r] = ve(r),
            e[o] = ve(o),
            e
        }
        function ve(e) {
            return {
                direction: e,
                distance: 0
            }
        }
        function be() {
            return Xe - Ye
        }
        function ye(e, t) {
            var i = Math.abs(e.x - t.x)
              , s = Math.abs(e.y - t.y);
            return Math.round(Math.sqrt(i * i + s * s))
        }
        function we(e, t) {
            var i = t / e * 1;
            return i.toFixed(2)
        }
        function _e() {
            return Fe < 1 ? h : l
        }
        function ke(e, t) {
            return Math.round(Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2)))
        }
        function xe(e, t) {
            var i = e.x - t.x
              , s = t.y - e.y
              , n = Math.atan2(s, i)
              , a = Math.round(180 * n / Math.PI);
            return a < 0 && (a = 360 - Math.abs(a)),
            a
        }
        function Ce(e, t) {
            var i = xe(e, t);
            return i <= 45 && i >= 0 ? n : i <= 360 && i >= 315 ? n : i >= 135 && i <= 225 ? a : i > 45 && i < 135 ? o : r
        }
        function Te() {
            var e = new Date;
            return e.getTime()
        }
        function Se(t) {
            t = e(t);
            var i = t.offset()
              , s = {
                left: i.left,
                right: i.left + t.outerWidth(),
                top: i.top,
                bottom: i.top + t.outerHeight()
            };
            return s
        }
        function Pe(e, t) {
            return e.x > t.left && e.x < t.right && e.y > t.top && e.y < t.bottom
        }
        var i = e.extend({}, i)
          , Me = T || P || !i.fallbackToMouseEvents
          , Ee = Me ? P ? S ? "MSPointerDown" : "pointerdown" : "touchstart" : "mousedown"
          , Ae = Me ? P ? S ? "MSPointerMove" : "pointermove" : "touchmove" : "mousemove"
          , De = Me ? P ? S ? "MSPointerUp" : "pointerup" : "touchend" : "mouseup"
          , Le = Me ? P ? "mouseleave" : null : "mouseleave"
          , Re = P ? S ? "MSPointerCancel" : "pointercancel" : "touchcancel"
          , je = 0
          , Oe = null
          , ze = null
          , Ie = 0
          , qe = 0
          , $e = 0
          , Fe = 1
          , Ve = 0
          , Ne = 0
          , He = null
          , Be = e(t)
          , We = "start"
          , Ue = 0
          , Ge = {}
          , Ye = 0
          , Xe = 0
          , Qe = 0
          , Je = 0
          , Ze = 0
          , Ke = null
          , et = null;
        try {
            Be.bind(Ee, s),
            Be.bind(Re, D)
        } catch (t) {
            e.error("events not supported " + Ee + "," + Re + " on jQuery.swipe")
        }
        this.enable = function() {
            return Be.bind(Ee, s),
            Be.bind(Re, D),
            Be
        }
        ,
        this.disable = function() {
            return R(),
            Be
        }
        ,
        this.destroy = function() {
            R(),
            Be.data(M, null),
            Be = null
        }
        ,
        this.option = function(t, s) {
            if ("object" == typeof t)
                i = e.extend(i, t);
            else if (void 0 !== i[t]) {
                if (void 0 === s)
                    return i[t];
                i[t] = s
            } else {
                if (!t)
                    return i;
                e.error("Option " + t + " does not exist on jQuery.swipe.options")
            }
            return null
        }
    }
    var s = "1.6.15"
      , n = "left"
      , a = "right"
      , r = "up"
      , o = "down"
      , l = "in"
      , h = "out"
      , c = "none"
      , d = "auto"
      , u = "swipe"
      , p = "pinch"
      , f = "tap"
      , g = "doubletap"
      , m = "longtap"
      , v = "horizontal"
      , b = "vertical"
      , y = "all"
      , w = 10
      , _ = "start"
      , k = "move"
      , x = "end"
      , C = "cancel"
      , T = "ontouchstart"in window
      , S = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled && !T
      , P = (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && !T
      , M = "TouchSwipe"
      , E = {
        fingers: 1,
        threshold: 75,
        cancelThreshold: null,
        pinchThreshold: 20,
        maxTimeThreshold: null,
        fingerReleaseThreshold: 250,
        longTapThreshold: 500,
        doubleTapThreshold: 200,
        swipe: null,
        swipeLeft: null,
        swipeRight: null,
        swipeUp: null,
        swipeDown: null,
        swipeStatus: null,
        pinchIn: null,
        pinchOut: null,
        pinchStatus: null,
        click: null,
        tap: null,
        doubleTap: null,
        longTap: null,
        hold: null,
        triggerOnTouchEnd: !0,
        triggerOnTouchLeave: !1,
        allowPageScroll: "auto",
        fallbackToMouseEvents: !0,
        excludedElements: "label, button, input, select, textarea, a, .noSwipe",
        preventDefaultEvents: !0
    };
    e.fn.swipe = function(i) {
        var s = e(this)
          , n = s.data(M);
        if (n && "string" == typeof i) {
            if (n[i])
                return n[i].apply(this, Array.prototype.slice.call(arguments, 1));
            e.error("Method " + i + " does not exist on jQuery.swipe")
        } else if (n && "object" == typeof i)
            n.option.apply(this, arguments);
        else if (!(n || "object" != typeof i && i))
            return t.apply(this, arguments);
        return s
    }
    ,
    e.fn.swipe.version = s,
    e.fn.swipe.defaults = E,
    e.fn.swipe.phases = {
        PHASE_START: _,
        PHASE_MOVE: k,
        PHASE_END: x,
        PHASE_CANCEL: C
    },
    e.fn.swipe.directions = {
        LEFT: n,
        RIGHT: a,
        UP: r,
        DOWN: o,
        IN: l,
        OUT: h
    },
    e.fn.swipe.pageScroll = {
        NONE: c,
        HORIZONTAL: v,
        VERTICAL: b,
        AUTO: d
    },
    e.fn.swipe.fingers = {
        ONE: 1,
        TWO: 2,
        THREE: 3,
        FOUR: 4,
        FIVE: 5,
        ALL: y
    }
}),
define("views/track/mobile-shot-list", ["require", "underscore", "jquery", "backbone", "utils/pubsub", "utils/window-size", "settings", "utils/browser", "utils/common", "models/track/state", "utils/track/track", "text!templates/track/mobile-shot-row.html!strip", "jquery.touchswipe", "jquery.jscrollpane"], function(e) {
    var t = e("underscore")
      , i = e("jquery")
      , s = e("backbone")
      , n = e("utils/pubsub")
      , a = e("utils/window-size")
      , r = e("settings")
      , o = e("utils/browser")
      , l = e("utils/common")
      , h = e("models/track/state")
      , c = e("utils/track/track")
      , d = e("text!templates/track/mobile-shot-row.html!strip");
    e("jquery.touchswipe"),
    e("jquery.jscrollpane");
    var u = s.View.extend({
        el: ".mobile-shot-list-wrapper",
        template: t.template(d),
        events: {
            "click .toggleMobileShotByShot": "toggleMobileShotByShot",
            "click .shot-row": "selectShot"
        },
        list_enabled: !0,
        list_is_open: !1,
        initialize: function() {
            this.shot_list = this.$(".shot-list"),
            this.pane = this.shot_list.find(".scroll-pane"),
            this.shot_row = this.shot_list.find(".shot-row"),
            this.icon = this.$(".toggleMobileShotByShot"),
            this.icon.toggleClass("enabled", this.list_enabled),
            this.listenTo(n, "windowsize:global:enter", this.checkShotList),
            this.listenTo(n, "windowsize:global:exit", this.disableShotList),
            this.listenTo(n, "windowsize:orientation:portrait", this.destroyScrollPane),
            this.listenTo(n, "windowsize:orientation:landscape", this.initialiseScrollPane),
            this.listenTo(h, "shotlist:update", this.updateShotList),
            this.listenTo(h, "shotlist:resize", this.reinitialiseScrollPane),
            this.listenTo(h, "shotlist:set", this.setMobileShotList),
            this.listenTo(h, "shotlist:toggle", this.toggleMobileShotByShot),
            this.listenTo(h, "shotrow:set", this.setMobileShotRow),
            this.listenTo(h, "hole:change", this.updateHoleInfo)
        },
        render: function() {
            return this.addSwipeTo(".body"),
            this
        },
        onDispose: function() {
            this.removeSwipeTo(),
            this.destroyScrollPane()
        },
        updateHoleInfo: function(e) {
            this.$("#holeNum").html(e.get("number")),
            this.$("#parNum").html(e.get("par"));
            var t = h.get("selected_round");
            5 === t && (t = "P"),
            this.$(".roundNum").html(t)
        },
        checkShotList: function() {
            return this.selectMobileShotRow(),
            this.updateShotList(),
            !1
        },
        enableShotList: function() {
            this.initialiseScrollPane()
        },
        disableShotList: function() {
            this.reinitialiseScrollPane()
        },
        updateShotList: function() {
            a.size() === a.sizes.global && (a.orientation() === a.orientations.landscape ? this.enableShotList() : this.disableShotList())
        },
        setMobileShotList: function(e) {
            this.pane.find("ul").empty(),
            this.shot_list.removeClass("highlight");
            for (var t, s = 0, n = e.length; s < n; s++) {
                var a = e[s].get("number")
                  , r = e[s];
                if (t = this.template({
                    number: a
                }),
                t = i(t),
                0 === a && t.html("Group is on tee"),
                r.get("has_video") && (t.addClass("highlight").attr({
                    "data-id": r.get("highlightId"),
                    "data-url": r.get("highlightURL")
                }),
                this.shot_list.addClass("highlight")),
                a > 0) {
                    t.removeClass("tee");
                    var o = t.find(".distance span").removeClass("feet inch");
                    c.setShotDistance(o, r),
                    o = t.find(".topin").removeClass("score").find("span").removeClass("feet inch score"),
                    c.setShotToPin(o, r)
                } else
                    t.addClass("tee");
                this.shot_list.find("ul").prepend(t),
                this.updateShotList()
            }
            this.setMobileShotRow(h.get("selected_shot")),
            this.list_enabled = e.length > 1,
            this.icon.toggleClass("enabled", this.list_enabled)
        },
        clearExtraShotRows: function(e) {
            var t = e
              , i = this.shot_row.length
              , s = t.current_hole.shots.length;
            if (0 !== i && i > s)
                for (var n = i - s, a = 0; a < n; a++) {
                    var r = 0;
                    this.shot_list.find(".shot-row:eq(" + r + ")").remove()
                }
        },
        setMobileShotRow: function(e) {
            var t = this.$(".shot-row")
              , i = this.shot_list.find(".shot-row.shot" + e.get("number"));
            t.removeClass("selected").addClass("hide"),
            i.addClass("selected").removeClass("hide")
        },
        selectMobileShotRow: function() {
            var e = h.get("selected_shot");
            this.setMobileShotRow(e)
        },
        toggleMobileShotByShot: function(e) {
            if (a.size() === a.sizes.global) {
                if (e === !0)
                    return void this.openMobileShotList();
                if (e === !1)
                    return void this.closeMobileShotList();
                this.list_is_open ? this.closeMobileShotList() : this.openMobileShotList()
            }
        },
        closeMobileShotList: function() {
            this.list_is_open && (this.shot_list.removeClass("open"),
            this.icon.removeClass("open"),
            this.shot_list.find(".shot-row").removeClass("show"),
            this.list_is_open = !1,
            c.measure("Shot List", "Close"),
            a.orientation() === a.orientations.landscape ? this.initialiseScrollPane() : this.destroyScrollPane())
        },
        openMobileShotList: function() {
            this.list_is_open || (this.shot_list.addClass("open"),
            this.icon.addClass("open"),
            this.shot_list.find(".shot-row").addClass("show"),
            this.list_is_open = !0,
            c.measure("Shot List", "Open"),
            a.orientation() === a.orientations.landscape ? this.initialiseScrollPane() : this.destroyScrollPane())
        },
        selectShot: function(e) {
            var t = i(e.currentTarget)
              , n = i(e.target)
              , a = t.data("shot").toString();
            if (n.hasClass("shot-video") && t.hasClass("highlight"))
                if (console.log("[Shot Row " + a + "] attempting to launch shot video"),
                o.app && o.apptype.android) {
                    var r = t.data("id");
                    l.sendAndroidMessage("video?id=" + r)
                } else {
                    var d = t.data("url");
                    s.history.navigate(d, !0)
                }
            else
                h.trigger("controls:shot:select", a),
                c.measure("Shot List", "Shot", a)
        },
        initialiseScrollPane: function() {
            this.pane = this.shot_list.find(".scroll-pane");
            var e = this.pane.data("jsp");
            void 0 !== e ? this.reinitialiseScrollPane(!0) : r.Scores.stub_track || this.pane.jScrollPane({
                showArrows: !0,
                verticalGutter: -10
            })
        },
        destroyScrollPane: function() {
            var e = this.pane.data("jsp");
            void 0 !== e && (e.destroy(),
            this.pane = this.shot_list.find(".scroll-pane"))
        },
        reinitialiseScrollPane: function(e) {
            var t = this.pane.data("jsp");
            (e || void 0 !== t) && t.reinitialise()
        },
        addSwipeTo: function(e) {
            this.removeSwipeTo(),
            this.swipe_obj = i(e).swipe({
                swipe: function(e, t, i, s, n) {
                    if (a.size() === a.sizes.global && a.orientation() === a.orientations.portrait)
                        switch (t) {
                        case "up":
                            h.trigger("shotlist:toggle", !0);
                            break;
                        case "down":
                            h.trigger("shotlist:toggle", !1);
                            break;
                        case "left":
                            h.trigger("controls:hole:next");
                            break;
                        case "right":
                            h.trigger("controls:hole:previous")
                        }
                },
                threshold: 50
            })
        },
        removeSwipeTo: function() {
            this.swipe_obj && this.swipe_obj.swipe("destroy"),
            this.swipe_obj = void 0
        }
    });
    return u
}),
define("text!templates/track/shot-overlay.html!strip", [], function() {
    return '<div class="detail-overlay shot-overlay shot<%= number %> <%= number === 0 ? \'tee\' : \'\' %>" data-shot="<%= number %>">\n <% if(number > 0) { %>\n <div class="distance">\n <span></span>\n </div>\n <div class="topin">\n <span></span>\n </div>\n <% } else { %>\n <div class="message">Group is on tee</div>\n <% } %>\n <a href="#" class="close">\n <span><img src="/images/misc/trans.gif" alt=""></span>\n </a>\n</div>'
}),
define("models/track/canvas", ["require", "backbone", "utils/pubsub", "utils/browser", "utils/window-size", "utils/track/gfx", "utils/track/track", "utils/track/constants", "models/track/state", "text!templates/track/shot-overlay.html!strip"], function(e) {
    var t = e("backbone")
      , i = e("utils/pubsub")
      , s = e("utils/browser")
      , n = e("utils/window-size")
      , a = e("utils/track/gfx")
      , r = e("utils/track/track")
      , o = e("utils/track/constants")
      , l = e("models/track/state")
      , h = e("text!templates/track/shot-overlay.html!strip")
      , c = t.View.extend({
        className: "marker-wrapper",
        shot_overlay_template: _.template(h),
        initialize: function() {
            this.$el.attr({
                id: "markers" + this.model.id,
                "data-id": this.model.id
            })
        },
        render: function() {
            return l.trigger("markerwrapper:add", this),
            this
        },
        clear: function() {
            var e = this.$(".marker, .detail-overlay");
            e.remove()
        },
        drawMarker: function(e, t) {
            var t, i = e.get("number"), s = this.$(".marker.shot" + i);
            if (t.indexOf("plus") > -1 && this.$(".plus").removeClass("plus"),
            s.length > 0)
                s.attr({
                    class: "marker" + t + " shot" + i,
                    "data-shot": i
                }).html(i).css({
                    left: e.getRel("x") - o.MARKER.W_OFFSET,
                    top: e.getRel("y") - o.MARKER.H_OFFSET
                });
            else {
                var s = $('<a href="#" class="marker' + t + " shot" + i + '" data-shot="' + i + '">' + i + "</a>");
                s.css({
                    left: e.getRel("x") - o.MARKER.W_OFFSET,
                    top: e.getRel("y") - o.MARKER.H_OFFSET
                }),
                this.$el.append(s)
            }
        },
        drawDetailOverlay: function(e, t) {
            var i = e.get("number")
              , s = this.$(".shot-overlay.shot" + i)
              , n = !1;
            if (0 === s.length && (s = $(this.shot_overlay_template(e.attributes)),
            n = !0),
            i > 0) {
                var a = s.removeClass("selected").find(".distance span").removeClass("feet inch");
                r.setShotDistance(a, e),
                a = s.find(".topin").removeClass("score").find("span").removeClass("feet inch score"),
                r.setShotToPin(a, e)
            }
            if (e.get("selected") && s.addClass("selected"),
            e.get("viewing")) {
                var h;
                void 0 !== l.get("open_shot_detail") && l.get("open_shot_detail") !== i && (h = this.model.get("player").get("current_hole").shots[l.get("open_shot_detail") - 1],
                h.dim_details()),
                e.show_details(s)
            }
            var c = !1;
            i > 0 ? (c = o.OVERLAY_ALIGN[l.get("selected_hole") - 1 + (l.get("view_fairway") ? 0 : 18)],
            c ? s.addClass("left") : n || s.removeClass("left")) : (c = !0,
            s.addClass("left"),
            t = -1 * (43 + t));
            var d = c ? 15 : 135;
            s.css({
                left: e.getRel("x") - d,
                top: e.getRel("y") + t
            }),
            n && this.$el.append(s)
        }
    })
      , d = t.View.extend({
        tagName: "canvas",
        initialize: function() {
            this.logger = new eventsCore.util.Logger("Track/CanvasView"),
            this.$el.attr({
                id: this.model.id,
                width: a.container_width,
                height: a.container_height
            })
        },
        render: function() {
            return l.trigger("markerwrapper:add", this),
            this._canvas = this.el,
            s.ie8 && window.G_vmlCanvasManager && (this._canvas = G_vmlCanvasManager.initElement(this._canvas)),
            this.context = this._canvas.getContext("2d"),
            a.canvas_list[this.model.id] = this,
            this
        },
        onDispose: function() {
            this.context = void 0,
            this._canvas = void 0,
            delete a.canvas_list[this.model.id]
        },
        setType: function() {
            this.$el.removeClass().addClass("type" + this.model.get("player").get("state"))
        },
        redraw: function() {
            this.model.get("player").draw(),
            i.trigger("lookup.unveil")
        },
        resize: function(e, t) {
            if (this.context)
                return (this._canvas.width !== e || this._canvas.height !== t) && (this._canvas.width = e,
                this._canvas.height = t,
                !0)
        },
        clear: function() {
            this.context && (this.logger.info("calling clear canvas for " + this.model.id),
            this.context.clearRect(0, 0, a.container_width, a.container_height),
            s.apptype.android && s.apptype.version < 4.4 && (this.$el.remove(),
            this.render()))
        },
        drawPath: function(e) {
            var t = this.context;
            t.save(),
            t.beginPath();
            var i = e.get("origin")
              , a = i.getRel("x")
              , r = i.getRel("y");
            t.moveTo(a, r),
            t.lineWidth = 2,
            e.get("selected") || e.get("type") === o.STATE.COMPARE ? (t.strokeStyle = o.COLORS[e.get("type")][0],
            this.model.get("player").get("compareIndex") > -1 && (t.strokeStyle = o.COLORS[e.get("type")][this.model.get("player").get("compareIndex")])) : (t.strokeStyle = "#FFFFFF",
            s.apptype.android || (t.lineWidth = 1,
            t.globalAlpha = .6));
            var h = e.getRel("x")
              , c = e.getRel("y");
            if (i.get("ongreen"))
                t.lineTo(h, c);
            else {
                var d = o.MOBILE_ARC_CONSTANT;
                l.get("view_fairway") && n.size() === n.sizes.global || (d = o.ARC_CONSTANT[e.get("hole") - 1 + (l.get("view_fairway") ? 0 : 18)]);
                var u = e.findControlPoint(i, e, e.get("distance") / 36 * d);
                t.quadraticCurveTo(u.getRel("x"), u.getRel("y"), h, c)
            }
            !e.get("penalty") && i.inView() && e.inView() && t.stroke(),
            t.restore()
        },
        drawBall: function(e) {
            var t = this.context;
            t.save(),
            t.fillStyle = "#FFFFFF",
            e.get("type") === o.STATE.COMPARE && (t.fillStyle = o.COLORS[e.get("type")][this.model.get("player").get("compareIndex")]),
            t.beginPath();
            var i = 1
              , s = 3;
            t.globalAlpha = i,
            t.arc(e.getRel("x"), e.getRel("y"), s, 0, 2 * Math.PI),
            t.fill(),
            t.restore()
        }
    })
      , u = t.Model.extend({
        defaults: {
            id: "",
            player: void 0
        },
        view: void 0,
        marker_container: void 0,
        initialize: function(e, t) {
            if (this.logger = new eventsCore.util.Logger("Track/Canvas"),
            this.set("id", "shotCanvas" + e.id),
            this.set("player", e.player),
            void 0 === this.get("player"))
                return this.logger.error("attempting to initialize canvas for undefined player"),
                !1
        },
        render: function() {
            return void 0 === this.marker_container && (this.marker_container = new c({
                model: this
            }).render()),
            void 0 === this.view && (this.view = new d({
                model: this
            }).render()),
            this
        },
        destroy: function() {
            this.view && this.view.dispose(),
            this.marker_container && this.marker_container.dispose(),
            this.view = this.marker_container = void 0
        },
        set_canvas_type: function() {
            this.view && this.view.setType()
        },
        draw: function() {
            this.logger.info("draw for " + this.id),
            this.get("player").draw(),
            i.trigger("lookup.unveil")
        },
        redraw: function() {
            this.draw()
        },
        clear: function() {
            this.marker_container && this.marker_container.$(".marker, .detail-overlay").length > 0 && this.marker_container.clear(),
            this.view && this.view.clear()
        }
    });
    return u
}),
define("models/track/point", ["require", "backbone", "utils/browser", "utils/track/constants", "utils/track/gfx", "utils/track/track", "models/track/state", "utils/window-size"], function(e) {
    var t = e("backbone")
      , i = (e("utils/browser"),
    e("utils/track/constants"))
      , s = e("utils/track/gfx")
      , n = (e("utils/track/track"),
    e("models/track/state"))
      , a = e("utils/window-size")
      , r = t.Model.extend({
        defaults: {
            x: 0,
            y: 0,
            z: 0,
            xz: 0,
            yz: 0,
            zz: 0,
            xm: 0,
            ym: 0,
            zm: 0,
            type: i.STATE.INACTIVE,
            hole: void 0,
            selected: !1,
            canvas: void 0,
            player: void 0
        },
        initialize: function(e, t) {
            this.logger = new eventsCore.util.Logger("Track/Point"),
            this.set("x", parseFloat(e.x)),
            this.set("y", parseFloat(e.y)),
            this.set("z", parseFloat(e.z)),
            void 0 !== e.xz ? (this.set("xz", parseFloat(e.xz)),
            this.set("yz", parseFloat(e.yz)),
            this.set("zz", parseFloat(e.zz))) : void 0 !== e.xZ ? (this.set("xz", parseFloat(e.xZ)),
            this.set("yz", parseFloat(e.yZ)),
            this.set("zz", parseFloat(e.zZ))) : (this.set("xz", this.attributes.x),
            this.set("yz", this.attributes.y),
            this.set("zz", this.attributes.z)),
            void 0 !== e.xm ? (this.set("xm", parseFloat(e.xm)),
            this.set("ym", parseFloat(e.ym)),
            this.set("zm", parseFloat(e.zm))) : void 0 !== e.xM ? (this.set("xm", parseFloat(e.xM)),
            this.set("ym", parseFloat(e.yM)),
            this.set("zm", parseFloat(e.zM))) : (this.set("xm", this.attributes.x),
            this.set("ym", this.attributes.y),
            this.set("zm", this.attributes.z)),
            this.get("hole") || this.set("hole", n.get("selected_hole"))
        },
        getValue: function(e) {
            return n.get("view_fairway") ? a.size() === a.sizes.global && a.orientation() === a.orientations.portrait ? this.attributes[e + "m"] : this.attributes[e] : this.attributes[e + "z"]
        },
        get: function(e) {
            if (e.length <= 2 && ["x", "y", "z"].indexOf(e[0]) > -1) {
                var i = this.getValue(e);
                return i
            }
            return t.Model.prototype.get.call(this, e)
        },
        getRel: function(e) {
            return s.relative(e, this.get(e))
        },
        inView: function() {
            var e = s.pctx(this.get("x"))
              , t = s.pcty(this.get("y"));
            return z = this.getValue("z"),
            e >= 0 && e <= 1 && t >= 0 && t <= 1 && z >= 0 && z <= 1
        },
        setType: function(e) {
            this.set("type", e),
            this.set("timeout", 1e4),
            this.get("type") === i.STATE.GHOST && this.set("timeout", 5e3)
        },
        isType: function(e) {
            return e.indexOf(this.get("type")) > -1
        },
        findMidpoint: function(e, t) {
            var i = new o({
                x: (e.getValue("x") + t.getValue("x")) / 2,
                y: (e.getValue("y") + t.getValue("y")) / 2
            });
            return i
        },
        findSlope: function(e, t) {
            return (e.getRel("y") - t.getRel("y")) / (e.getRel("x") - t.getRel("x"))
        },
        findControlPoint: function(e, t, i) {
            i /= s.container_width;
            var n, a = this.findMidpoint(e, t), r = this.findSlope(e, t), l = -1 / r;
            if (0 === r)
                n = new o({
                    x: a.getValue("x"),
                    y: a.getValue("y") - i
                });
            else if (e.get("x") === t.get("x"))
                n = new o({
                    x: a.getValue("x") - i,
                    y: a.getValue("y")
                });
            else {
                var h = a.getValue("x") + i / Math.sqrt(1 + l * l)
                  , c = a.getValue("x") - i / Math.sqrt(1 + l * l)
                  , d = l * (h - a.getValue("x")) + a.getValue("y")
                  , u = l * (c - a.getValue("x")) + a.getValue("y");
                n = new o(d <= a.getValue("y") ? {
                    x: h,
                    y: d
                } : {
                    x: c,
                    y: u
                })
            }
            return n
        },
        draw: function() {
            this.logger.info("drawing shot " + this.get("number") + " for " + this.get("player").id),
            this.get("type") !== i.STATE.PRIMARY && this.get("type") !== i.STATE.COMPARE || this.drawPath(),
            this.drawBall()
        },
        drawPath: function() {
            this.get("canvas").view.drawPath(this);
            var e = this.get("origin");
            void 0 !== e.get("origin") ? e.draw() : this.endDraw()
        },
        endDraw: function() {
            this.get("canvas").id === this.get("origin").get("canvas").id && this.get("origin").drawBall()
        },
        drawBall: function() {
            this.inView() && (this.get("type") !== i.STATE.TEE && this.get("type") !== i.STATE.PRIMARY && this.get("type") !== i.STATE.COMPARE || this.get("canvas").view.drawBall(this),
            this.get("type") !== i.STATE.TEE && this.get("type") !== i.STATE.INACTIVE && void 0 !== this.get("remaining") && this.drawShotMarker())
        },
        drawShotMarker: function() {
            var e = "";
            if (this.get("type") === i.STATE.PRIMARY || this.get("type") === i.STATE.COMPARE) {
                var t = this.get("number")
                  , s = 20;
                if (t > 0) {
                    if (!n.get("view_fairway") || this.get("origin").get("ongreen") && this.get("ongreen"))
                        n.get("view_fairway") ? (e = " hidden",
                        s = 6) : e = "";
                    else {
                        var r = this.get("player").get("current_hole").shots
                          , o = t;
                        t === r.length && (o = this.get("number") - 1);
                        var l = r[o];
                        this.get("ongreen") && t !== l.get("number") && l.get("remaining") > 0 && (e = " plus")
                    }
                    this.get("penalty") && (e += " penalty"),
                    this.get("selected") && (e += " selected"),
                    this.get("type") === i.STATE.COMPARE && (e += " compare compare" + this.get("player").get("compareIndex")),
                    this.get("canvas").marker_container.drawMarker(this, e)
                }
                a.size() === a.sizes.global || n.get("compare_mode") || this.get("type") === i.STATE.PRIMARY && this.get("canvas").marker_container.drawDetailOverlay(this, s)
            }
        }
    })
      , o = r.extend({});
    return r
}),
define("models/track/shot", ["require", "backbone", "utils/window-size", "models/track/state", "models/track/point", "utils/track/constants"], function(e) {
    var t = (e("backbone"),
    e("utils/window-size"))
      , i = e("models/track/state")
      , s = e("models/track/point")
      , n = e("utils/track/constants")
      , a = s.extend({
        defaults: function() {
            var e = _.extend({}, s.prototype.defaults, {
                penalty: !1,
                number: 0,
                viewing: !1,
                dimmed: !1,
                distance: 0,
                ongreen: !1,
                origin: void 0,
                remaining: 0,
                has_video: !1
            });
            return e
        },
        initialize: function(e, t) {
            s.prototype.initialize.apply(this, arguments),
            this.set("distance", parseFloat(e.length)),
            this.set("ongreen", "true" === e.ongreen),
            this.set("origin", parseInt(e.from, 10)),
            this.set("remaining", parseFloat(e.remaining, 10)),
            this.set("isGrid", "true" === e.isGrid),
            this.set("has_video", "" !== this.get("highlightURL")),
            "1" !== e.inWater && 12 !== this.get("origin") || this.set("penalty", !0)
        },
        destroy: function() {
            this.clearDetailTimeout()
        },
        select: function() {
            return this.set("selected", !0),
            this
        },
        deselect: function() {
            return this.set("selected", !1),
            this
        },
        toggleSelect: function() {
            return this.set("selected", !this.get("selected")),
            this
        },
        show_details: function(e, s) {
            if (t.size() !== t.sizes.global)
                if (this.set("viewing", !0),
                this.undim_details(),
                void 0 === e && (this.get("type") === n.STATE.PRIMARY ? e = this.get("canvas").marker_container.$(".shot-overlay.shot" + this.get("number")) : this.get("type") === n.STATE.GHOST && (e = this.get("canvas").marker_container.$(".ghost-overlay"))),
                e.hasClass("visible"))
                    this.logger.info("already showing shot details for shot " + this.get("number"));
                else {
                    this.logger.info("showing " + (this.type === n.STATE.GHOST ? "ghost " : "") + "shot details for " + this.get("player").get("id") + " shot " + this.get("number")),
                    e.addClass("visible"),
                    clearTimeout(this.get("timeoutId")),
                    this.set("timeoutId", setTimeout(function() {
                        this.hide_details()
                    }
                    .bind(this), this.get("timeout"))),
                    this.get("type") === n.STATE.PRIMARY && i.set("open_shot_detail", this.get("number"));
                    var a = i.get("open_shot_stack").length;
                    if (a > 0)
                        for (var r, o = 0; o < a; o++)
                            r = i.get("open_shot_stack")[o],
                            r.get("type") === n.STATE.PRIMARY && r.dim_details();
                    i.get("open_shot_stack").push(this)
                }
            return this.get("type") === n.STATE.PRIMARY && i.trigger("shotrow:set", this),
            this
        },
        hide_details: function() {
            if (t.size() !== t.sizes.global) {
                this.logger.info("hiding " + (this.get("type") === n.STATE.GHOST ? "ghost " : "") + "shot details for " + this.get("player").get("id") + " shot " + this.get("number")),
                this.set("viewing", !1);
                var e = "";
                this.get("type") === n.STATE.PRIMARY && (i.unset("open_shot_detail"),
                e = ".shot" + this.get("number"));
                var s = i.get("open_shot_stack").indexOf(this)
                  , a = i.get("open_shot_stack").length - 1;
                s > -1 && (i.get("open_shot_stack").splice(s, 1),
                s === a && a > 0 && i.get("open_shot_stack")[a - 1].undim_details()),
                this.clearDetailTimeout();
                var r = this.get("canvas").marker_container;
                return r && r.$(".detail-overlay" + e + ".visible").removeClass("visible"),
                this
            }
        },
        dim_details: function() {
            if (t.size() !== t.sizes.global) {
                this.set("dimmed", !0);
                var e = this.get("canvas").marker_container;
                e && e.$(".shot-overlay.shot" + this.get("number") + ".visible").addClass("dim")
            }
        },
        undim_details: function() {
            if (t.size() !== t.sizes.global) {
                this.set("dimmed", !1);
                var e = this.get("canvas").marker_container;
                e && e.$(".shot-overlay.shot" + this.get("number") + ".dim").removeClass("dim")
            }
        },
        clearDetailTimeout: function() {
            clearTimeout(this.get("timeoutId"))
        }
    });
    return a
}),
define("models/track/tee", ["require", "backbone", "models/track/point"], function(e) {
    var t = (e("backbone"),
    e("models/track/point"))
      , i = t.extend({});
    return i
}),
define("models/track/pin", ["require", "jquery", "backbone", "models/track/point", "models/track/state", "utils/track/constants", "utils/track/gfx", "utils/window-size"], function(e) {
    var t = e("jquery")
      , i = (e("backbone"),
    e("models/track/point"))
      , s = e("models/track/state")
      , n = e("utils/track/constants")
      , a = (e("utils/track/gfx"),
    e("utils/window-size"))
      , r = i.extend({
        draw: function() {
            var e = n.PIN_WIDE;
            s.get("view_fairway") || (e = n.PIN_CLOSE);
            var i = document.getElementById(e.ID)
              , r = e.W_OFFSET
              , o = e.H_OFFSET
              , l = e.WIDTH
              , h = e.HEIGHT;
            a.size() === a.sizes.global && (l = e.SCALE * l,
            h = e.SCALE * h,
            r = e.SCALE * r,
            o = e.SCALE * o),
            t(i).ready(function() {
                this.get("canvas").view.context.drawImage(i, this.getRel("x") - r, this.getRel("y") - o, l, h),
                this.trigger("pin:ready")
            }
            .bind(this))
        }
    });
    return r
}),
define("models/track/player", ["require", "backbone", "jquery", "underscore", "utils/scores", "collections/holes", "models/track/state", "utils/track/constants", "utils/track/track", "utils/track/gfx", "collections/track/players", "models/track/canvas", "models/track/shot", "models/track/tee", "models/track/pin"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("underscore")
      , n = e("utils/scores")
      , a = e("collections/holes")
      , r = e("models/track/state")
      , o = e("utils/track/constants")
      , l = e("utils/track/track")
      , h = e("utils/track/gfx")
      , c = e("collections/track/players")
      , d = e("models/track/canvas")
      , u = e("models/track/shot")
      , p = e("models/track/tee")
      , f = e("models/track/pin")
      , g = t.Model.extend({
        defaults: {
            state: o.STATE.INACTIVE,
            newly_selected: !1,
            canvas: void 0,
            id: "",
            name: {
                first: "",
                last: ""
            },
            data: {},
            score_data: {},
            round_data: [],
            latest_round: -1,
            latest_hole: -1,
            current_hole: void 0,
            latest_shot: -1,
            stored_shot: -1,
            splittee: !1,
            compareIndex: -1,
            load_group: !1
        },
        initialize: function(e, t) {
            this.logger = new eventsCore.util.Logger("Track/Player/" + e.id),
            this.set("groupPlayers", []),
            this.set("action_queue", []),
            this.set("id", parseInt(e.id, 10)),
            this.set("score_data", n.Utilities.findByID(this.id)),
            this.set("name", {
                first: this.get("score_data").get("first_name"),
                last: this.get("score_data").get("last_name")
            }),
            this.set("canvas", new d({
                id: this.id,
                player: this
            })),
            c.add(this)
        },
        urlRoot: "/en_US/xml/gen/companion/",
        url: function() {
            return this.urlRoot + this.id + ".json"
        },
        destroy: function() {
            this.set_inactive();
            var e = this.get("canvas");
            e && e.destroy(),
            c.remove(this)
        },
        set_inactive: function() {
            var e = this.get("state");
            this.set("state", o.STATE.INACTIVE),
            this.get("canvas").clear();
            var t;
            switch (e) {
            case o.STATE.PRIMARY:
                this.id === r.player_position.primary && (r.player_position.primary = void 0);
                break;
            case o.STATE.COMPARE:
                t = r.player_position.compare.indexOf(this.id),
                t > -1 && (r.player_position.compare.splice(t, 1),
                r.player_position.compare.length > 0 ? t < 1 && c.get(r.player_position.compare[0]).set("compareIndex", 0) : r.set("compare_mode", !1));
                break;
            case o.STATE.GHOST:
                t = r.player_position.ghost.indexOf(this.id),
                t > -1 && r.player_position.ghost.splice(t, 1)
            }
        },
        set_primary: function() {
            this.get("canvas").render(),
            this.set_inactive(),
            r.player_position.ghost = [],
            this.set("state", o.STATE.PRIMARY),
            r.player_position.primary = this.id,
            this.get("canvas").set_canvas_type(),
            r.trigger("grouplist:clear"),
            r.trigger("grouplist:add", this),
            this.set("load_group", !0)
        },
        set_compare: function() {
            this.get("canvas").render(),
            this.set("state", o.STATE.COMPARE),
            r.player_position.compare.indexOf(this.id) === -1 && (r.player_position.compare.push(this.id),
            this.set("compareIndex", r.player_position.compare.length - 1)),
            this.get("canvas").set_canvas_type(),
            r.set("compare_mode", !0);
            var e;
            void 0 === this.get("current_hole") ? e = this.fetch() : (e = new i.Deferred,
            e.resolve()),
            e.done(function() {
                this.logger.info(this.get("action_queue")),
                r.trigger("playerbar:compare:add", this),
                this.process();
                for (var e = 0, t = this.get("action_queue").length; e < t; e++) {
                    var i = this.get("action_queue").shift()
                      , s = i;
                    this.logger.info(this.id + " calls: " + s),
                    this[s]()
                }
            }
            .bind(this))
        },
        reset_ghost: function() {
            this.set_inactive(),
            this.get("canvas").destroy(),
            this.set("state", o.STATE.GHOST)
        },
        set_ghost: function() {
            r.player_position.compare.indexOf(this.id) === -1 && (this.set_inactive(),
            this.set("state", o.STATE.GHOST)),
            r.player_position.ghost.indexOf(this.id) === -1 && r.player_position.ghost.push(this.id),
            r.trigger("grouplist:add", this)
        },
        draw: function() {
            if (this.latest_round <= r.get("selected_round") && this.latest_hole < r.get("selected_hole"))
                return void this.done_with_initial_draw();
            if (void 0 === this.get("current_hole")) {
                var e = this.get("action_queue").indexOf("draw");
                return e > -1 && this.get("action_queue").splice(e, 1),
                void this.get("action_queue").push("draw")
            }
            this.get("state") === o.STATE.PRIMARY ? (this.get("canvas").clear(),
            r.get("hole_info").pin.off("pin:ready").once("pin:ready", function() {
                this.draw_shot(),
                this.done_with_initial_draw()
            }
            .bind(this)),
            r.get("hole_info").pin.draw()) : this.get("state") === o.STATE.COMPARE && (this.get("canvas").clear(),
            this.draw_shot(),
            this.done_with_initial_draw())
        },
        draw_shot: function() {
            if (this.get("state") !== o.STATE.GHOST) {
                var e = this.get("current_hole").shots.length
                  , t = this.get("current_hole").shots[e - 1];
                t.draw(),
                r.get("compare_mode") && r.trigger("statbar:update", this.id)
            }
        },
        done_with_initial_draw: function() {
            s.indexOf(r.loaded_players, this.id) === -1 && r.loaded_players.push(this.id),
            !r.get("loaded") && r.get("compare_mode") || r.get("notified") || r.loaded_players.length !== r.total_players || r.trigger("track:playerload:complete")
        },
        hide_ghost_overlay: function() {
            if (void 0 === this.get("current_hole"))
                return void this.get("action_queue").push("hide_ghost_overlay");
            var e = this.get("current_hole").shots.length - 1
              , t = this.get("current_hole").shots[e];
            t.get("viewing") && t.hide_details()
        },
        parse: function(e, t) {
            e.latest_round = 1,
            e.latest_hole = 1,
            e.data = e.round;
            var i = e.data
              , s = i.length;
            e.round_data = [];
            for (var n = 0; n < s; n++) {
                var a = i[n].hole;
                if (void 0 !== a) {
                    e.round_data[n] = [];
                    for (var r, o = !1, l = 0, h = a.length; l < h; l++)
                        r = a[l],
                        e.round_data[n][r.id] = r;
                    h = o ? h - 1 : h,
                    e.latest_hole = h,
                    e.latest_round = n + 1,
                    e.latest_shot = r.shot.length
                }
            }
            return e
        },
        select: function() {
            var e = this.fetch();
            return this.set_primary(),
            this.set("newly_selected", !0),
            e.done(function() {
                r.set("selected_round", this.get("latest_round")),
                r.set("selected_hole", this.get("latest_hole")),
                this.set("stored_shot", this.get("latest_shot") - 1),
                r.trigger("playerbar:primary:set", this)
            }
            .bind(this)),
            e
        },
        refresh: function(e) {
            if (this.get("state") !== o.STATE.INACTIVE) {
                var t = this.fetch();
                return t.done(function() {
                    this.set("score_data", n.Utilities.findByID(this.id)),
                    this.process(e)
                }
                .bind(this)),
                t
            }
        },
        process: function(e) {
            if (this.get("state") === o.STATE.PRIMARY) {
                r.trigger("controls:holelist:reset");
                var t = !1;
                if (r.get("live_mode") && (r.set("selected_round", this.get("latest_round")),
                r.set("selected_hole", this.getLastHole()),
                5 === r.get("selected_round") && r.set("showing_playoff", !0),
                r.get("selected_hole") !== r.get("stored_hole"))) {
                    h.clear(),
                    r.trigger("controls:hole:change", r.get("selected_hole"), r.get("selected_round")),
                    this.loadGroup(),
                    this.set("stored_shot", -1),
                    t = !0;
                    var i = e;
                    e = function() {
                        "function" == typeof i && i.call(this, this)
                    }
                }
                if (this.loadHole(),
                l.checkPlayerStatus() !== !0)
                    return;
                var s = this.loadCurrentHole();
                if (s) {
                    if (t || void 0 === r.get("selected_shot") ? r.trigger("controls:shot:set", this.get("current_hole").shots[0]) : 0 === r.get("selected_shot").get("number") && r.trigger("controls:shot:set", this.get("current_hole").shots[0], !1),
                    r.trigger("shotlist:set", this.get("current_hole").shots),
                    r.get("selected_hole") === r.get("stored_hole") && r.get("selected_round") === r.get("stored_round")) {
                        if (r.get("live_mode") && r.get("selected_shot") && this.get("stored_shot") === r.get("selected_shot").get("number") && this.get("current_hole").shots.length > this.get("stored_shot"))
                            this.logger.info("auto-select shot " + this.get("current_hole").shots.length),
                            r.trigger("controls:shot:autoselect", this.get("current_hole").shots.length);
                        else {
                            var n, a = r.get("selected_shot").get("viewing"), c = r.get("selected_shot"), d = this.get("current_hole").shots;
                            n = 0 === c.get("number") ? d[d.length - 1] : d[c.get("number") - 1],
                            n.select(),
                            n.set("viewing", a),
                            r.set("selected_shot", n)
                        }
                        r.trigger("controls:arrows:reset")
                    }
                } else
                    h.clear();
                this.set("stored_shot", this.get("latest_shot")),
                r.set("stored_hole", r.get("selected_hole")),
                r.set("stored_round", r.get("selected_round"))
            } else if (this.get("state") === o.STATE.COMPARE) {
                var u = this.loadCurrentHole();
                this.updateStoredShot(),
                this.logger.info("current_hole: %o, player %o", u, this),
                u || this.get("canvas").clear()
            }
            "function" == typeof e && e.call(this, this),
            this.draw()
        },
        loadGroup: function(e) {
            if (void 0 === e && (e = r.get("selected_round")),
            r.get("stored_round") !== e || this.get("load_group")) {
                if (r.trigger("grouplist:clear", 1),
                5 === e) {
                    var t, i = (n.Playoff.players.length,
                    this.id);
                    t = s.map(n.Playoff.players, function(e) {
                        var t = parseInt(e.id, 10);
                        if (t !== i)
                            return t
                    }),
                    this.set("group_ids", s.compact(t)),
                    this.get("group_ids").length > 2 && (this.get("group_ids").length = 2)
                } else {
                    var a = r.teepin.round[e - 1]
                      , o = this.get("score_data").get("groupHistory").split("|")
                      , l = o[e - 1];
                    if ("" === l)
                        return void this.set("group_ids", []);
                    this.set("group_ids", a.groups[l].slice(0));
                    var h = this.get("group_ids").indexOf(this.id);
                    this.get("group_ids").splice(h, 1)
                }
                for (var d = 0, u = this.get("group_ids").length; d < u; d++) {
                    var p = this.get("group_ids")[d]
                      , f = c.get(p);
                    void 0 === f && (f = new g({
                        id: p
                    })),
                    f.set_ghost()
                }
                this.set("load_group", !1)
            }
        },
        loadHole: function() {
            var e = r.get("selected_round")
              , t = r.get("selected_hole");
            r.get("showing_playoff") && (e = 4,
            t = t % 2 === 0 ? 10 : 18);
            var i = r.teepin.round[e - 1]
              , s = {};
            s.tee = new p(i.tees[t - 1]),
            s.tee.set("type", o.STATE.TEE),
            s.tee.set("canvas", this.get("canvas")),
            s.pin = new f(i.pins[t - 1]),
            s.pin.set("canvas", this.get("canvas")),
            a.length > 0 ? s.par = parseInt(a.get(t).get("par"), 10) : this.stopListening(r, "holeinfo:ready").listenToOnce(r, "holeinfo:ready", function() {
                var e = r.get("selected_hole");
                r.get("showing_playoff") && (e = e % 2 === 0 ? 10 : 18),
                r.get("hole_info").par = parseInt(a.get(e).par, 10)
            }),
            r.set("hole_info", s)
        },
        loadCurrentHole: function() {
            var e = [];
            if (void 0 === this.get("round_data"))
                return this.get("action_queue").push("loadCurrentHole"),
                this.get("action_queue").push("updateStoredShot"),
                !1;
            if (void 0 !== this.get("round_data")[r.get("selected_round") - 1] ? this.set("current_hole", this.get("round_data")[r.get("selected_round") - 1][r.get("selected_hole")]) : this.unset("current_hole"),
            !(void 0 !== this.get("current_hole") && this.get("current_hole").shot.length > 0))
                return !1;
            var t = this.get("current_hole").shot
              , i = t.length;
            this.logger.info("> viewing " + this.id + ": stored_shot " + this.get("stored_shot") + ", latest_shot " + this.get("latest_shot"));
            var s, n = 0;
            for (n; n < i; n++)
                if (s = t[n],
                "NEXT" !== s.type) {
                    s.number = n + 1,
                    s.player = this,
                    s.canvas = this.get("canvas");
                    var a = new u(s);
                    e[n] = a,
                    0 === n && 1 === a.get("origin") ? a.set("origin", r.get("hole_info").tee) : a.set("origin", e[n - 1]),
                    a.setType(this.get("state")),
                    this.logger.info("> viewing " + this.id + " shot " + a.get("number") + ": new shot check - " + (this.get("stored_shot") === -1 && a.get("number") === this.get("latest_shot")) + ", shots check - " + (this.get("stored_shot") > -1 && a.get("number") > this.get("stored_shot"))),
                    r.get("live_mode") && (this.get("stored_shot") === -1 && a.get("number") === this.get("latest_shot") || this.get("stored_shot") > -1 && a.get("number") > this.get("stored_shot") && (this.get("state") === o.STATE.GHOST && this.get("latest_hole") === r.get("selected_hole") || this.get("state") === o.STATE.PRIMARY)) && (this.logger.info(this.get("stored_shot")),
                    a.set("viewing", !0))
                } else if (0 === n) {
                    var a = new u(r.get("hole_info").tee.attributes);
                    a.set({
                        number: 0,
                        player: this,
                        canvas: this.get("canvas"),
                        origin: r.get("hole_info").tee
                    }),
                    a.setType(this.get("state")),
                    e[n] = a
                } else
                    i === n + 1 ? e.splice(n) : (e[n] = new u(s),
                    e[n].set("origin", e[n - 1]));
            return this.get("current_hole").shots = e,
            !0
        },
        check_mode: function(e) {
            var t = this.getLastHole();
            e < t || r.get("selected_round") !== this.get("latest_round") || n.Utilities.inGoodStanding(this.get("score_data")) !== !0 || n.Utilities.missedCut(this.get("score_data")) ? r.set("live_mode", !1) : r.set("live_mode", !0)
        },
        updateStoredShot: function() {
            this.get("latest_hole") === r.get("selected_hole") && this.set("stored_shot", this.get("latest_shot"))
        },
        isSplitForRound: function(e) {
            var t = this.get("round_data")[e - 1];
            if (void 0 === t)
                return t;
            if (void 0 !== t[10]) {
                if (void 0 === t[9])
                    return !0;
                if (void 0 !== t[18]) {
                    var i = t[9].shot.length
                      , s = t[9].shot[i - 1]
                      , n = parseFloat(s.remaining) > 0;
                    return i = t[18].shot.length,
                    s = t[18].shot[i - 1],
                    n = n && 0 === parseFloat(s.remaining)
                }
            }
            return !1
        },
        getLastHole: function() {
            var e = this.get("latest_hole");
            return this.get("splittee") && (e <= 9 ? e += 9 : e -= 9),
            e
        },
        hasPlayedHole: function(e, t) {
            var i = this.get("round_data")[e - 1];
            if (void 0 === i)
                return !1;
            if (void 0 === t)
                return !1;
            var s = i[t];
            return void 0 !== s && void 0 !== s.shot && s.shot.length > 0
        },
        hasNextShot: function(e, t, i) {
            var s = this.get("round_data")[e - 1];
            if (void 0 === s)
                return !1;
            void 0 === t && (t = 1,
            this.isSplitForRound(e) && (t = 10),
            i = -1);
            var n = s[t];
            if (void 0 === n || void 0 === n.shot)
                return !1;
            void 0 === i && (i = -1);
            var a = n.shot.length;
            if (a > 0) {
                if (i >= a || 0 === i) {
                    var r = s[t + 1];
                    if (this.isSplitForRound(e)) {
                        if (18 === t)
                            t = 0,
                            r = s[1];
                        else if (9 === t)
                            return !1
                    } else if (18 === t)
                        return e++,
                        this.hasNextShot(e);
                    return void 0 !== r && this.hasNextShot(e, t + 1)
                }
                var o = n.shot[i];
                return i === -1 && (o = n.shot[0],
                "NEXT" !== o.type && (i = 0)),
                {
                    round: e,
                    hole: t,
                    shot: o,
                    number: i + 1
                }
            }
            return !1
        },
        hasPrevShot: function(e, t, i) {
            var s = this.get("round_data")[e - 1];
            if (void 0 === s)
                return !1;
            void 0 === t && (t = 18,
            i = -1);
            var n = s[t];
            if (void 0 === n || void 0 === n.shot)
                return !1;
            void 0 === i ? i = 0 : i < 0 && (i = n.shot.length + 1);
            var a = n.shot.length;
            if (a > 0) {
                if (i <= 1) {
                    var r = s[t - 1];
                    if (this.isSplitForRound(e)) {
                        if (1 === t)
                            t = 19,
                            r = s[18];
                        else if (10 === t)
                            return e--,
                            this.hasPrevShot(e)
                    } else if (1 === t)
                        return e--,
                        this.hasPrevShot(e);
                    return void 0 !== r && this.hasPrevShot(e, t - 1, r.shot.length + 1)
                }
                return i <= a + 1 && {
                    round: e,
                    hole: t,
                    shot: n.shot[i - 2],
                    number: i - 1
                }
            }
            return !1
        }
    });
    return g
}),
define("controllers/track", ["require", "jquery", "backbone", "baseview", "utils/browser", "utils/pubsub", "utils/background", "collections/holes", "utils/scores", "utils/metrics", "utils/social", "utils/favorites", "models/track/state", "utils/track/constants", "views/track/track", "views/track/size", "views/track/nav-bar", "views/track/controls", "views/track/green-video", "views/track/shot-list", "views/track/mobile-shot-list", "utils/track/track", "collections/track/players", "models/track/player", "jquery.touchswipe"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("baseview")
      , n = e("utils/browser")
      , a = e("utils/pubsub")
      , r = e("utils/background")
      , o = e("collections/holes")
      , l = e("utils/scores")
      , h = e("utils/metrics")
      , c = e("utils/social")
      , d = e("utils/favorites")
      , u = e("models/track/state")
      , p = e("utils/track/constants")
      , f = e("views/track/track")
      , g = e("views/track/size")
      , m = e("views/track/nav-bar")
      , v = e("views/track/controls")
      , b = e("views/track/green-video")
      , y = e("views/track/shot-list")
      , w = e("views/track/mobile-shot-list")
      , k = e("utils/track/track")
      , x = e("collections/track/players")
      , C = e("models/track/player");
    e("jquery.touchswipe");
    var T = s.extend({
        events: {
            "click #playerMessage a.linktag": "viewActiveLeader"
        },
        onInitialization: function() {
            if (this.logger = new eventsCore.util.Logger("Track"),
            d.prefix = "Track:Detail",
            o.fetch({
                success: function() {
                    u.trigger("holeinfo:ready")
                }
            }),
            this.load_teepin(),
            this.mobileShotWrapper = this.$(".mobile-shot-list-wrapper"),
            this.primary = this.$(".player-box .primary"),
            this.controlbar = this.$(".control-bar"),
            n.ie8) {
                var e = this.$("div.iefixedbg");
                e.length > 0 && (this.iebg = new r(e))
            }
            n.ios ? this.$el.addClass("ios") : this.$el.addClass("standard"),
            this.view = new f({
                el: this.$("#holeContainer")
            }),
            this.controls = new v({
                el: this.$("#controls")
            }).render(),
            this.navbar = new m({
                el: this.$(".nav-control-wrap")
            }),
            this.greenvideos = new b({
                el: this.$(".trackerWrapper")
            }),
            this.shotlist = new y({
                el: this.$(".shot-list-info")
            }),
            this.mobileshotlist = new w({
                el: this.$(".mobile-shot-list-wrapper")
            }),
            this.loadScreenShare(),
            this.listenTo(u, "track:load:default", this.loadDefaultPlayer),
            this.listenTo(u, "track:player", this.switchToSelectedPlayer),
            this.listenTo(u, "track:compare:add", this.addComparePlayer),
            this.listenTo(u, "change:view_fairway", this.toggleWhatsNewForGreenDetailView),
            this.listenTo(u, "track:error:hide", this.hideOverlay),
            this.listenTo(u, "track:error:show", this.showErrorMessage),
            this.listenTo(u, "track:playerload:complete", this.onLoadComplete),
            this.listenTo(a, "scores:refresh", this.refreshPlayers)
        },
        processPageVars: function() {
            this.pageTitle = "Detail";
            var e = eventsCore.util.getUrlParam("pid");
            null !== e && "" !== e && (this.props = {
                prop34: e
            })
        },
        onRender: function() {
            this.logger.info("rendering"),
            this.navbar.render(),
            this.view.render(),
            this.greenvideos.render(),
            this.shotlist.render(),
            this.mobileshotlist.render(),
            u.get("view_fairway") && a.trigger("whats-new:show", "greenDetailView"),
            this.size = new g({
                el: this.$(".trackerWrapper")
            }).render(),
            n.app && null === eventsCore.util.getUrlParam("first") && k.measureState({
                playerId: eventsCore.util.getUrlParam("pid")
            })
        },
        onDispose: function() {
            for (this.iebg && this.iebg.dispose(),
            this.$el.removeClass("ios standard"),
            this.view.dispose(),
            this.size.dispose(),
            this.controls.dispose(),
            this.navbar.dispose(),
            this.greenvideos.dispose(),
            this.shotlist.dispose(),
            this.mobileshotlist.dispose(); x.at(0); )
                x.at(0).destroy();
            a.trigger("whats-new:hide", "greenDetailView"),
            u.reset()
        },
        onLoadComplete: function() {
            this.logger.info("onLoadComplete: done drawing all players, execute completion code"),
            "function" == typeof window.callPhantom && window.callPhantom("takeShot"),
            u.set("notified", !0)
        },
        load_teepin: function() {
            var e = t.getJSON("/en_US/xml/gen/companion/teepin.json", function(e) {
                u.teepin = e,
                setInterval(function() {
                    t.getJSON("/en_US/xml/gen/companion/teepin.json", function(e) {
                        u.teepin = e
                    })
                }, 12e4)
            });
            e.done(function() {
                var e = this.parseRequested();
                null !== e.player ? this.loadStoredPlayer() : this.loadDefaultPlayer(function() {
                    u.set("loaded", !0)
                })
            }
            .bind(this)).error(function() {})
        },
        parseRequested: function() {
            var e = {
                player: null,
                round: null,
                hole: null,
                shot: null,
                compare: null
            }
              , t = {
                player: eventsCore.util.getUrlParam("pid") || null,
                round: eventsCore.util.getUrlParam("r") || null,
                hole: eventsCore.util.getUrlParam("h") || null,
                shot: eventsCore.util.getUrlParam("s") || null,
                compare: eventsCore.util.getUrlParam("c") || null
            };
            return _.extend(e, t),
            e
        },
        refreshPlayers: function() {
            x.refresh()
        },
        loadStoredPlayer: function() {
            if (!l.isDataLoaded())
                return void this.stopListening(a, "scores:refresh", this.loadStoredPlayer).listenToOnce(a, "scores:refresh", this.loadStoredPlayer);
            var e = this.parseRequested()
              , t = e.compare
              , i = [];
            if (t) {
                i = t.split(",");
                for (var s = i.length - 1; s >= 0; )
                    l.Utilities.findByID(i[s]) ? u.set("compare_mode", !0) : i.splice(s, 1),
                    --s
            }
            this.switchToSelectedPlayer(e.player, e).done(function() {
                i.length > 0 && i.forEach(function(e) {
                    this.addComparePlayer(e)
                }
                .bind(this)),
                u.set("loaded", !0)
            }
            .bind(this))
        },
        loadDefaultPlayer: function(e) {
            if (void 0 !== e && (this._callback = e),
            !l.isDataLoaded())
                return void this.stopListening(a, "scores:refresh", this.loadDefaultPlayer).listenToOnce(a, "scores:refresh", this.loadDefaultPlayer);
            e = this._callback,
            this._callback = void 0;
            var t = this.parseRequested()
              , i = null;
            null !== t.player && (i = l.Utilities.findByID(t.player)),
            null === i && (i = l.Utilities.findActiveLeader());
            var s = this.switchToSelectedPlayer(i.id, t);
            s.done(function() {
                "function" == typeof e && e.call(this)
            })
        },
        switchToSelectedPlayer: function(e, i) {
            e = parseInt(e, 10);
            var s = !1;
            if (void 0 === l.collection.get(e))
                return u.trigger("track:error:show", e, p.ERRORS.id),
                t.Deferred().resolve();
            void 0 !== u.player_position.primary && e !== u.player_position.primary && (u.player_position.compare.indexOf(e) > -1 ? (k.removeComparePlayer(e),
            s = u.player_position.primary) : x.getPlayer().destroy());
            for (var n = u.player_position.ghost.length - 1; n >= 0; --n) {
                var r = x.get(u.player_position.ghost[n]);
                e !== u.player_position.ghost[n] ? r.get("state") === p.STATE.GHOST && r.destroy() : u.player_position.compare.indexOf(e) === -1 && r.set_inactive()
            }
            var o = x.get(e);
            void 0 === o && (o = new C({
                id: e
            }));
            var h = o.select();
            return s !== !1 && h.done(function() {
                this.addComparePlayer(s)
            }
            .bind(this)),
            h.done(function() {
                var e = k.checkPlayerStatus();
                if (e) {
                    var t = !0;
                    if (void 0 !== i && null !== i.round) {
                        var s = parseInt(i.round, 10);
                        isNaN(s) && (s = 1,
                        t = !1),
                        s < 1 && (s = 1,
                        t = !1),
                        s > o.latest_round && (s = o.latest_round,
                        t = !1),
                        u.set("selected_round", s)
                    }
                    this.controls.viewing_round = -1,
                    o.splittee = o.isSplitForRound(u.get("selected_round"));
                    var n = o.getLastHole()
                      , r = n;
                    if (void 0 !== i && null !== i.round && t && null !== i.hole && (r = parseInt(i.hole, 10),
                    isNaN(r || r < 1) && (r = 1),
                    r > 18 && (r = 18),
                    u.get("selected_round") === o.latest_round)) {
                        var l = r;
                        r > n && (l = n),
                        o.splittee && (r >= 10 && n <= 9 && (l = r),
                        r <= 9 && n >= 10 && (l = n)),
                        r = l
                    }
                    u.set("selected_hole", r);
                    var h = u.get("selected_shot");
                    void 0 !== h && (h.deselect(),
                    u.unset("selected_shot")),
                    this.controls.determineEnabledHoles();
                    var c;
                    void 0 !== i && null !== i.shot && (c = i.shot),
                    u.addToTotal(o.id),
                    this.controls.selectHole(u.get("selected_hole"), c),
                    u.get("compare_mode") && u.trigger("statbar:set"),
                    a.trigger("livevideo:reset")
                }
            }
            .bind(this)),
            h
        },
        addComparePlayer: function(e) {
            this.logger.info("Adding " + e + " as a compare player");
            var t = x.get(e);
            void 0 === t && (t = new C({
                id: e
            })),
            e = parseInt(e, 10),
            t.set_compare();
            for (var i = u.get("open_shot_stack").length - 1; i >= 0; --i)
                u.get("open_shot_stack")[i].hide_details();
            k.updateURL(),
            u.addToTotal(t.id)
        },
        hideOverlay: function() {
            this.$("#playerMessage").hide()
        },
        showErrorMessage: function(e, t) {
            var i = this.$("#playerMessage");
            i.find(".header").html(t.header),
            i.find(".text").html(t.msg.replace(/#{[^}]*}/, e)),
            i.show(),
            u.set("error_shown", !0)
        },
        viewActiveLeader: function(e) {
            e.preventDefault(),
            i.history.navigate(k.getURL(), !1),
            eventsCore.util.updateParams(),
            this.loadDefaultPlayer(),
            this.hideOverlay(),
            k.measure("Error Message", "View Leader")
        },
        loadScreenShare: function() {
            var e = _.template("http://track.masters.com/masters/track/<%= round %>/<%= player %>/<%= hole %>/<%= shot %>");
            this.listenTo(u, "route:change", function() {
                if (u.get("selected_shot")) {
                    var t = {
                        round: u.get("selected_round"),
                        player: u.player_position.primary,
                        hole: u.get("selected_hole"),
                        shot: u.get("selected_shot").get("number")
                    }
                      , i = e(t)
                      , s = u.player_position.compare.length;
                    if (s > 0) {
                        for (var a = "", r = 0; r < s; r++)
                            r > 0 && (a += ","),
                            a += u.player_position.compare[r];
                        i += "?comparePlayers=" + a
                    }
                    n.app ? n.app && n.apptype.android && this.$(".share").off("click").on("click", function(e) {
                        h.appShare(e, i)
                    }) : c.loadSocialOverlay(this.$(".share"), i, "Track", "Detail")
                }
            }
            .bind(this))
        },
        toggleWhatsNewForGreenDetailView: function(e, t) {
            var i = t ? "show" : "hide";
            a.trigger("whats-new:" + i, "greenDetailView")
        }
    });
    return T
}),
define("models/player", ["require", "jquery", "backbone", "models/base-player"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("models/base-player"))
      , i = t.extend({
        defaults: {
            full_name: "",
            last_name: "",
            first_name: "",
            id: "",
            country: "",
            contry_long: "",
            Amateur: "",
            First: "",
            Past: "",
            amateur: !1,
            past: !1,
            firsttimer: !1
        },
        initialize: function() {
            t.prototype.initialize.apply(this, arguments)
        },
        parse: function(e) {
            return e.amateur = "1" === e.Amateur,
            e.past = "1" === e.Past,
            e.firsttimer = "1" === e.First,
            delete e.Amateur,
            delete e.Past,
            delete e.First,
            e
        }
    });
    return i
}),
define("collections/players", ["require", "jquery", "backbone", "models/player", "collections/base-players"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("models/player"))
      , i = e("collections/base-players")
      , s = i.extend({
        model: t,
        url: "/en_US/xml/gen/players/select.json",
        parse: function(e) {
            return e.players
        }
    });
    return new s
}),
define("views/player-list", ["require", "backbone", "utils/pubsub", "views/player-card"], function(e) {
    var t = e("backbone")
      , i = e("utils/pubsub")
      , s = e("views/player-card")
      , n = t.View.extend({
        el: ".playerList",
        defaults: {},
        initialize: function(e) {
            this.playerCardsMap = {},
            this.listenTo(this.collection, "modified", function() {
                i.trigger("lookup.unveil")
            })
        },
        render: function() {
            return this.buildPlayerList(),
            this
        },
        buildPlayerList: function() {
            var e = this
              , t = document.createDocumentFragment();
            0 === Object.keys(this.playerCardsMap).length && this.collection.forEach(function(i) {
                var n = new s({
                    model: i,
                    id: "p_" + i.get("id"),
                    scores: !1,
                    favorite: !0,
                    country: !0,
                    bio_link: !0,
                    show_amateur_status: !0,
                    show_favorite_tip: !0,
                    metrics_suffix: "bio_players",
                    item: !0
                })
                  , a = n.render();
                t.appendChild(a.el),
                e.playerCardsMap[i.id] = a,
                e.listenTo(i, "change:show", e._updatePlayerView)
            }),
            this.$el.append(t),
            i.trigger("lookup.unveil")
        },
        _updatePlayerView: function(e) {
            var t = this.playerCardsMap[e.id].$el;
            t.toggle(e.get("show"))
        },
        onDispose: function() {
            for (var e in this.playerCardsMap)
                this.playerCardsMap.hasOwnProperty(e) && this.playerCardsMap[e].dispose()
        }
    });
    return n
}),
define("controllers/players", ["require", "jquery", "backbone", "baseview", "settings", "collections/players", "views/player-list", "views/players-search", "views/players-filter", "utils/metrics"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("baseview"))
      , i = e("settings")
      , s = e("collections/players")
      , n = e("views/player-list")
      , a = e("views/players-search")
      , r = e("views/players-filter")
      , o = e("utils/metrics")
      , l = t.extend({
        onRender: function() {
            t.prototype.onRender.apply(this, arguments);
            var e = this;
            s.fetch({
                success: function(t) {
                    e.collection = t.clone(),
                    e.playerListView = new n({
                        collection: e.collection
                    }),
                    e.playerListView.render(),
                    e.playersSearchView = new a({
                        el: ".player_search_cell",
                        collection: e.collection,
                        searchKey: "full_name",
                        metrics: [o.page_section]
                    }),
                    e.playersSearchView.render(),
                    e.playersFilterView = new r({
                        el: ".player_filter_cell",
                        collection: e.collection,
                        favorites: i.showFavorites,
                        on_course_players: !1,
                        metrics: [o.page_section]
                    }),
                    e.playersFilterView.render()
                },
                error: function(e, t, i) {
                    console.error("Error fetching players in controller/players: " + t.toString())
                }
            })
        },
        onDispose: function() {
            this.playerListView && this.playerListView.dispose(),
            this.playersSearchView && this.playersSearchView.dispose(),
            this.playersFilterView && this.playersFilterView.dispose()
        }
    });
    return l
}),
define("models/player-bio", ["require", "underscore", "backbone"], function(e) {
    var t = e("underscore")
      , i = e("backbone")
      , s = {
        countryCode: "nationcode",
        countryName: "nation",
        bestFinish: "best",
        firstLast: "firstlast",
        tournamentsEntered: "tournaments",
        cutsMade: "cuts",
        roundsPlayed: "rounds",
        moneyWon: "money",
        scoringAvg: "avg",
        lowRound: "low",
        highRound: "high",
        roundsUnderPar: "underpar",
        bioText: "overview"
    }
      , n = i.Model.extend({
        defaults: {},
        initialize: function() {
            void 0 === this.get("amateur") && this.set("amateur", "" === this.get("turnedPro") ? "1" : "")
        },
        url: function() {
            return "/en_US/xml/gen/players/" + this.get("filename")
        },
        parse: function(e) {
            for (var i = e.bio.player, n = t.keys(i), a = 0, r = n.length; a < r; a++)
                s[n[a]] && (i[s[n[a]]] = i[n[a]]);
            return i
        }
    });
    return n
}),
define("models/player-scores", ["require", "jquery", "backbone", "models/base-player"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = (e("models/base-player"),
    t.Model.extend({
        defaults: {},
        url: function() {
            return "/en_US/xml/gen/players/" + this.get("filename")
        },
        parse: function(e) {
            return e.scores = e.scores.score,
            (e.scores.position.trim() && "DQ" !== e.scores.position || e.scores.total.trim()) && (e.hasScores = !0),
            delete e.scores.score,
            e
        }
    }));
    return i
}),
define("models/player-history", ["require", "jquery", "backbone", "models/base-player"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = (e("models/base-player"),
    t.Model.extend({
        defaults: {},
        url: function() {
            return "/en_US/xml/gen/players/" + this.get("filename")
        },
        parse: function(e) {
            return e.history && (e.history = e.history.results,
            delete e.history.results),
            e
        }
    }));
    return i
}),
define("views/player-bio/current-stats", ["require", "backbone", "underscore", "utils/scores"], function(e) {
    var t = e("backbone")
      , i = e("underscore")
      , s = e("utils/scores")
      , n = {};
    n.current_stats = i.template('<div id="currentInfo" class="current_stats visible"><div class="section"><div class="header">Position</div><div class="value"><%= position %></div></div><div class="section"><div class="header">Today</div><div class="value <%= klass.today %>"><%= today %></div></div><div class="section"><div class="header">Thru</div><div class="value"><%= thru %></div></div><div class="section"><div class="header">Total</div><div class="value <%= klass.total %>"><%= total %></div></div></div>');
    var a = t.View.extend({
        el: ".currentStatsSection",
        defaults: {
            autosync: !0
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Current Stats View"),
            this.logger.info("initialize"),
            this.options = i.extend({}, this.defaults, e),
            this.options.autosync && this.listenTo(this.model, "sync", this.render)
        },
        render: function() {
            this.scores = this.model.get("scores");
            var e, t, i = "&nbsp;", a = "" === this.scores.position ? "&nbsp;" : this.scores.position, e = "" === this.scores.today ? "&nbsp;" : this.scores.today, r = "" === this.scores.total ? "&nbsp;" : this.scores.total, o = this.scores.playing;
            "F" === o ? i = "F" : o.indexOf(":") !== -1 ? e = this.scores.playing : (i = this.scores.playing,
            o.indexOf("*") !== -1 && (t = !0));
            var l = s.Utilities.className(e)
              , h = s.Utilities.className(r);
            return this.$el.html(n.current_stats({
                position: a,
                today: e,
                thru: i,
                total: this.scores.total,
                klass: {
                    today: l,
                    total: h
                }
            })),
            this
        }
    });
    return a
}),
define("text!templates/player-bio/tab-bio.html!strip", [], function() {
    return '<div class="content-padding">\n\t<div class="text player_bio"></div>\n\n\t<div class="past_results score_content">\n\t <h3>Past Masters</h3>\n\t <!--include virtual="/en_US/includes/man/players/bio_results.ssi"-->\n\t <div id="playerResults" class="player_results">\n\t <div class="header">\n\t <div class="year">Year</div>\n\t <div class="position">Position</div>\n\t <div class="round r1">R1</div>\n\t <div class="round r2">R2</div>\n\t <div class="round r3">R3</div>\n\t <div class="round r4">R4</div>\n\t <div class="total">Total</div>\n\t <!-- <div class="money">Money</div> -->\n\t </div>\n\t <div class="content">\n\n\t </div>\n\t </div>\n\n\t <div id="playerPastStats" class="player_past_stats">\n\t <dl class="left">\n\t </dl>\n\t <dl class="right"></dl>\n\t </div>\n\t</div>\n</div>'
}),
define("views/player-bio/tab-bio", ["require", "underscore", "backbone", "text!templates/player-bio/tab-bio.html!strip"], function(e) {
    var t = e("underscore")
      , i = e("backbone")
      , s = e("text!templates/player-bio/tab-bio.html!strip")
      , n = {};
    n.no_data = t.template('<div style="text-align:center;">There <%= type_string[type_string.length-1] !== "s" ? "is" : "are" %> no <%= type_string %> for this player.</div>'),
    n.stats_row = t.template('<dt><%= label %></dt><dd><%= data === "" ? "&nbsp;" : data %></dd>'),
    n.stats_left = t.template('<%= getStatsRowFor({label: "Best Masters Finish", data: item.best}) %><%= getStatsRowFor({label: "First/Last Year", data: item.firstlast}) %><%= getStatsRowFor({label: "Tournaments Entered", data: item.tournaments}) %><%= getStatsRowFor({label: "Cuts Made", data: item.cuts}) %><%= getStatsRowFor({label: "Rounds Played", data: item.rounds}) %>'),
    n.stats_right = t.template('<%= getStatsRowFor({label: "Money Won", data: item.money}) %><%= getStatsRowFor({label: "Scoring Average", data: item.avg}) %><%= getStatsRowFor({label: "Low Round", data: item.low}) %><%= getStatsRowFor({label: "High Round", data: item.high}) %><%= getStatsRowFor({label: "Rounds Under Par", data: item.underpar}) %>'),
    n.results_row = t.template('<div class="row"> <div class="year"><%= item.year %></div> <div class="position"><%= item.position %></div> <div class="round r1"><%= item.r1 %></div> <div class="round r2"><%= item.r2 %></div> <div class="round r3"><%= item.r3 %></div> <div class="round r4"><%= item.r4 %></div> <div class="total"><%= item.total %></div></div>');
    var a = i.View.extend({
        el: "#tab_bio",
        template: t.template(s),
        defaults: {
            playerBio: null,
            playerHistory: null
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Tab Bio View"),
            this.logger.info("initialize"),
            this.options = t.extend({}, this.defaults, e)
        },
        render: function() {
            return this.$el.html(this.template({})),
            this._buildOverview(),
            this.options.playerHistory.history && (this._buildPastStats(),
            this._buildPastMasters()),
            this
        },
        _buildOverview: function() {
            if (this.options.playerBio) {
                var e = this.options.playerBio.overview;
                this.$(".text.player_bio").html(e ? e : n.no_data({
                    type_string: "bio data"
                }))
            }
        },
        _buildPastMasters: function() {
            var e = this.options.playerHistory.history;
            if (e && "none" === e)
                this.$("#playerResults").html(n.no_data({
                    type_string: "results"
                }));
            else {
                var i = n.results_row
                  , s = "";
                t.each(e, function(e, t) {
                    "" === e.position && (e.position = "-"),
                    "0" === e.r1 && (e.r1 = "-"),
                    "0" === e.r2 && (e.r2 = "-"),
                    "0" === e.r3 && (e.r3 = "-"),
                    "0" === e.r4 && (e.r4 = "-"),
                    s += i({
                        item: e
                    })
                }),
                this.$("#playerResults").find(".content").html(s)
            }
            this.$(".past_results").addClass("visible")
        },
        _buildPastStats: function() {
            if (this.options.playerBio) {
                var e = this.options.playerBio.best;
                if (e.indexOf("First") === -1 && e.indexOf("N/A") === -1) {
                    var t = n.stats_left({
                        item: this.options.playerBio,
                        getStatsRowFor: n.stats_row
                    });
                    this.$(".left").append(t),
                    t = n.stats_right({
                        item: this.options.playerBio,
                        getStatsRowFor: n.stats_row
                    }),
                    this.$(".right").append(t)
                }
                this.$(".past_results").addClass("visible")
            }
        }
    });
    return a
}),
define("text!templates/player-bio/tab-news.html!strip", [], function() {
    return '<div class="tabWrapper dark">\n <div class="tabs" id="mediaSelector">\n <a href="#tab_all" class="selected">All <span>Content</span></a>\n <a href="#tab_news">News</a>\n <a href="#tab_photos">Photos</a>\n <a href="#tab_videos">Video</a>\n </div>\n</div>\n\n<section class="content content-padding rec-content" id="recContent">\n <a href="#" class="loading"><img src="/images/now/loading.gif" width="89" height="50"></a>\n</section>\n'
}),
define("views/related-player-content", ["require", "jquery", "backbone", "settings", "relatedcontent", "models/news-item", "collections/news-items", "views/content-list", "views/secondary-dropdown"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , s = e("settings")
      , n = e("relatedcontent")
      , a = (e("models/news-item"),
    e("collections/news-items"))
      , r = e("views/content-list")
      , o = e("views/secondary-dropdown")
      , l = t.View.extend({
        el: "",
        defaults: {
            current_year: s.tournament_year,
            last_year: s.tournament_year - 1,
            min_year: s.tournament_year - 2
        },
        events: {},
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Related Player Content"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.$mediaSelector = new o({
                el: this.$("#mediaSelector"),
                metrics: "Player Detail"
            }),
            this.$mediaSelector.setCallback(function(e) {
                var t = e.substring(5);
                this.content_list.selectType(t)
            }, this),
            this.create()
        },
        render: function() {
            return this.related_list.load(),
            this
        },
        create: function() {
            this.setupRelatedContentList(),
            this.setupContentList(),
            this.defineContentListOverrides(),
            this.defineRelatedListOverrides()
        },
        setupRelatedContentList: function() {
            var e = this;
            this.related_list = new n.List({
                id: this.options.playerId,
                limit: 300,
                startdate: this.options.min_year + "-01-01",
                link_suffix: {
                    video: "vod_players",
                    article: "article_players",
                    photo: "photo_players",
                    galleries: "gallery_players"
                },
                layout: "player",
                callback: function(t) {
                    "success" === t.status && this.content.length > 0 && this.content.models[0].get("year") >= this.min_year ? e.trigger("hasContent", !0) : e.trigger("hasContent", !1)
                }
            }),
            this.related_list.current_year = this.options.current_year,
            this.related_list.last_year = this.options.last_year,
            this.related_list.min_year = this.options.min_year
        },
        setupContentList: function() {
            this.content_list = new r({
                json_array: ["", this.options.last_year, this.options.min_year],
                populate: this.buildContent.bind(this)
            }),
            this.content_list.settings.oldestLoad = -1,
            this.content_list.settings.newestLoad = 0,
            this.content_list.settings.oldestRound = "",
            this.content_list.settings.selectedRound = "latest"
        },
        defineRelatedListOverrides: function() {
            var e = this;
            this.related_list.buildHTML = function() {
                e.content_list.all_content = this.content.models;
                for (var t, i = this.current_year; i >= this.min_year; i--)
                    t = new a(this.content.where({
                        year: i
                    })),
                    t.length > 0 && (i < this.current_year && (e.content_list.settings.oldestRound = i),
                    e.content_list.loadJSONData(t, !0, i === this.current_year ? "" : i),
                    i = this.min_year);
                e.content_list.news_items_list.push(t)
            }
            ,
            this.related_list.postProcess = function() {
                this.content = this.content.filter(function(e) {
                    return e.get("year") >= this.min_year && "galleries" !== e.get("type")
                }
                .bind(this)),
                this.content = new a(this.content)
            }
        },
        defineContentListOverrides: function() {
            var e = this.$mediaSelector;
            this.content_list.updateFilters = function() {
                this._updateFilters(e, {
                    news: !1,
                    photos: !1,
                    videos: !1
                }, function(e) {
                    var t = this.daycontent;
                    for ("latest" === this.settings.selectedRound && (t = this.all_content),
                    i = 0; i < t.length; i++) {
                        var s = t[i];
                        switch (s.get("type")) {
                        case "photo":
                        case "gallery":
                            e.photos = !0;
                            break;
                        case "video":
                            e.videos = !0;
                            break;
                        case "article":
                        case "text":
                            e.news = !0
                        }
                        if (e.photos && e.videos && e.news)
                            break
                    }
                })
            }
            ,
            this.content_list.selectType = function(e) {
                this._selectType(e, function() {
                    var t = "";
                    switch (e) {
                    case "news":
                        t = "article|text";
                        break;
                    case "photos":
                        t = "photo|gallery";
                        break;
                    case "videos":
                        t = "video"
                    }
                    return t
                })
            }
            ,
            this.content_list.loadMoreContent = function(e) {
                var t = this.all_content.filter(function(t) {
                    return t.get("year") === e
                })
                  , i = new a(t);
                this.news_items_list.push(i),
                this.loadJSONData(i, !0, e)
            }
        },
        buildContent: function(e, t) {
            this.content_list._buildContent(e, t),
            this.content_list.selectType(this.content_list.settings.selectedType)
        },
        dispose: function() {
            this.content_list && this.content_list.dispose(),
            this.$mediaSelector && this.$mediaSelector.dispose()
        }
    });
    return l
}),
define("views/player-bio/tab-news", ["require", "backbone", "text!templates/player-bio/tab-news.html!strip", "views/related-player-content"], function(e) {
    var t = e("backbone")
      , i = e("text!templates/player-bio/tab-news.html!strip")
      , s = e("views/related-player-content")
      , n = t.View.extend({
        el: "#tab_news",
        template: _.template(i),
        defaults: {
            playerId: null
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Tab News View"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e)
        },
        render: function() {
            return this.$el.html(this.template({})),
            this.relatedPlayerContentView = new s({
                el: this.el,
                playerId: this.options.playerId
            }),
            this.relatedPlayerContentView.render(),
            this.listenTo(this.relatedPlayerContentView, "hasContent", function(e) {
                this.trigger("hasContent", e)
            }),
            this
        },
        onDispose: function() {
            this.relatedPlayerContentView.dispose()
        }
    });
    return n
}),
define("text!templates/player-bio/tab-stats.html!strip", [], function() {
    return '<div class="content-padding">\n\t<div class="stats score_content visible">\n\t\t<div id="playerStats" class="player_stats">\n\t\t <div class="tabWrapper header dark">\n\t\t <div class="tabs" id="statSelector">\n\t\t <a href="#tab_summary" class="selected"><span>Scoring Summary</span></a>\n\t\t <a href="#tab_greens"><span>Greens Hit</span></a>\n\t\t <a href="#tab_fairways"><span>Fairways Hit</span></a>\n\t\t <a href="#tab_distance"><span>Driving Distance</span></a>\n\t\t <a href="#tab_sand"><span>Sand Saves</span></a>\n\t\t <a href="#tab_putting"><span>Putting</span></a>\n\t\t <a href="#tab_drive"><span>Longest Drive</span></a>\n\t\t </div>\n\t\t <span class="infoIcon">?</span>\n\t\t <div id="statInfo"></div>\n\t\t </div>\n\n\t\t <div class="stat_content_wrapper">\n\t\t <div class="stat_content stat_summary" id="tab_summary" data-stat-drawn=""></div>\n\t\t <div class="stat_content stat_pie" id="tab_greens" data-stat-drawn=""></div>\n\t\t <div class="stat_content stat_pie" id="tab_sand" data-stat-drawn=""></div>\n\t\t <div class="stat_content stat_pie" id="tab_fairways" data-stat-drawn=""></div>\n\t\t <div class="stat_content stat_bar stat_distance" id="tab_distance" data-stat-drawn=""></div>\n\t\t <div class="stat_content stat_bar stat_putting" id="tab_putting" data-stat-drawn=""></div>\n\t\t <div class="stat_content stat_bar stat_drive" id="tab_drive" data-stat-drawn=""></div>\n\t\t </div>\n\n\t\t <div class="stat_tab_wrapper">\n\t\t <a href="#tab_summary" class="stat_tab selected">Scoring Summary</a>\n\t\t <a href="#tab_greens" class="stat_tab">Greens Hit</a>\n\t\t <a href="#tab_fairways" class="stat_tab">Fairways Hit</a>\n\t\t <a href="#tab_distance" class="stat_tab">Driving Distance</a>\n\t\t <a href="#tab_sand" class="stat_tab">Sand Saves</a>\n\t\t <a href="#tab_putting" class="stat_tab">Putting</a>\n\t\t <a href="#tab_drive" class="stat_tab">Longest Drive</a>\n\t\t </div>\n\t\t <div class="fade" id="overlayFade"></div>\n\t\t</div>\n\n\n\t</div>\n</div>\n'
}),
define("text!templates/player-bio/stats-summary.html!strip", [], function() {
    return '<span class="description">Cumulative breakdown of scores per hole</span>\n<div class="chart" id="sumChart"></div>\n<div class="stat-wrapper">\n <ul>\n <li>\n <div class="stat eagle"><span class="box"></span>Eagles - (<span class="value"><%= eagle %></span>)</div>\n <div class="pct"><%= eaglePct %></div>\n </li>\n <li>\n <div class="stat birdie"><span class="box"></span>Birdies (<span class="value"><%= birdie %></span>)</div>\n <div class="pct"><%= birdiePct %></div>\n </li>\n <li class="stat_par">\n <div class="stat par"><span class="box"></span>Par (<span class="value"><%= par %></span>)</div>\n <div class="pct"><%= parPct %></div>\n </li>\n <li>\n <div class="stat bogey"><span class="box"></span>Bogey (<span class="value"><%= bogey %></span>)</div>\n <div class="pct"><%= bogeyPct %></div>\n </li>\n <li class="stat_double">\n <div class="stat double"><span class="box"></span>Double Bogeys + (<span class="value"><%= double %></span>)</div>\n <div class="pct"><%= doublePct %></div>\n </li>\n </ul>\n</div>\n'
}),
function(e) {
    function t(t) {
        e.jqplot.ElemContainer.call(this),
        this.name = t,
        this._series = [],
        this.show = !1,
        this.tickRenderer = e.jqplot.AxisTickRenderer,
        this.tickOptions = {},
        this.labelRenderer = e.jqplot.AxisLabelRenderer,
        this.labelOptions = {},
        this.label = null,
        this.showLabel = !0,
        this.min = null,
        this.max = null,
        this.autoscale = !1,
        this.pad = 1.2,
        this.padMax = null,
        this.padMin = null,
        this.ticks = [],
        this.numberTicks,
        this.tickInterval,
        this.renderer = e.jqplot.LinearAxisRenderer,
        this.rendererOptions = {},
        this.showTicks = !0,
        this.showTickMarks = !0,
        this.showMinorTicks = !0,
        this.drawMajorGridlines = !0,
        this.drawMinorGridlines = !1,
        this.drawMajorTickMarks = !0,
        this.drawMinorTickMarks = !0,
        this.useSeriesColor = !1,
        this.borderWidth = null,
        this.borderColor = null,
        this.scaleToHiddenSeries = !1,
        this._dataBounds = {
            min: null,
            max: null
        },
        this._intervalStats = [],
        this._offsets = {
            min: null,
            max: null
        },
        this._ticks = [],
        this._label = null,
        this.syncTicks = null,
        this.tickSpacing = 75,
        this._min = null,
        this._max = null,
        this._tickInterval = null,
        this._numberTicks = null,
        this.__ticks = null,
        this._options = {}
    }
    function i(t) {
        e.jqplot.ElemContainer.call(this),
        this.show = !1,
        this.location = "ne",
        this.labels = [],
        this.showLabels = !0,
        this.showSwatches = !0,
        this.placement = "insideGrid",
        this.xoffset = 0,
        this.yoffset = 0,
        this.border,
        this.background,
        this.textColor,
        this.fontFamily,
        this.fontSize,
        this.rowSpacing = "0.5em",
        this.renderer = e.jqplot.TableLegendRenderer,
        this.rendererOptions = {},
        this.preDraw = !1,
        this.marginTop = null,
        this.marginRight = null,
        this.marginBottom = null,
        this.marginLeft = null,
        this.escapeHtml = !1,
        this._series = [],
        e.extend(!0, this, t)
    }
    function s(t) {
        e.jqplot.ElemContainer.call(this),
        this.text = t,
        this.show = !0,
        this.fontFamily,
        this.fontSize,
        this.textAlign,
        this.textColor,
        this.renderer = e.jqplot.DivTitleRenderer,
        this.rendererOptions = {},
        this.escapeHtml = !1
    }
    function n(t) {
        t = t || {},
        e.jqplot.ElemContainer.call(this),
        this.show = !0,
        this.xaxis = "xaxis",
        this._xaxis,
        this.yaxis = "yaxis",
        this._yaxis,
        this.gridBorderWidth = 2,
        this.renderer = e.jqplot.LineRenderer,
        this.rendererOptions = {},
        this.data = [],
        this.gridData = [],
        this.label = "",
        this.showLabel = !0,
        this.color,
        this.negativeColor,
        this.lineWidth = 2.5,
        this.lineJoin = "round",
        this.lineCap = "round",
        this.linePattern = "solid",
        this.shadow = !0,
        this.shadowAngle = 45,
        this.shadowOffset = 1.25,
        this.shadowDepth = 3,
        this.shadowAlpha = "0.1",
        this.breakOnNull = !1,
        this.markerRenderer = e.jqplot.MarkerRenderer,
        this.markerOptions = {},
        this.showLine = !0,
        this.showMarker = !0,
        this.index,
        this.fill = !1,
        this.fillColor,
        this.fillAlpha,
        this.fillAndStroke = !1,
        this.disableStack = !1,
        this._stack = !1,
        this.neighborThreshold = 4,
        this.fillToZero = !1,
        this.fillToValue = 0,
        this.fillAxis = "y",
        this.useNegativeColors = !0,
        this._stackData = [],
        this._plotData = [],
        this._plotValues = {
            x: [],
            y: []
        },
        this._intervals = {
            x: {},
            y: {}
        },
        this._prevPlotData = [],
        this._prevGridData = [],
        this._stackAxis = "y",
        this._primaryAxis = "_xaxis",
        this.canvas = new e.jqplot.GenericCanvas,
        this.shadowCanvas = new e.jqplot.GenericCanvas,
        this.plugins = {},
        this._sumy = 0,
        this._sumx = 0,
        this._type = ""
    }
    function a() {
        e.jqplot.ElemContainer.call(this),
        this.drawGridlines = !0,
        this.gridLineColor = "#cccccc",
        this.gridLineWidth = 1,
        this.background = "#fffdf6",
        this.borderColor = "#999999",
        this.borderWidth = 2,
        this.drawBorder = !0,
        this.shadow = !0,
        this.shadowAngle = 45,
        this.shadowOffset = 1.5,
        this.shadowWidth = 3,
        this.shadowDepth = 3,
        this.shadowColor = null,
        this.shadowAlpha = "0.07",
        this._left,
        this._top,
        this._right,
        this._bottom,
        this._width,
        this._height,
        this._axes = [],
        this.renderer = e.jqplot.CanvasGridRenderer,
        this.rendererOptions = {},
        this._offsets = {
            top: null,
            bottom: null,
            left: null,
            right: null
        }
    }
    function r() {
        function o(e) {
            for (var t, i = 0; i < e.length; i++)
                for (var s, n = [e[i].data, e[i]._stackData, e[i]._plotData, e[i]._prevPlotData], a = 0; a < 4; a++)
                    if (s = !0,
                    t = n[a],
                    "x" == e[i]._stackAxis) {
                        for (var r = 0; r < t.length; r++)
                            if ("number" != typeof t[r][1]) {
                                s = !1;
                                break
                            }
                        s && t.sort(function(e, t) {
                            return e[1] - t[1]
                        })
                    } else {
                        for (var r = 0; r < t.length; r++)
                            if ("number" != typeof t[r][0]) {
                                s = !1;
                                break
                            }
                        s && t.sort(function(e, t) {
                            return e[0] - t[0]
                        })
                    }
        }
        function l(e) {
            var t, i, s = e.data.plot, n = s.eventCanvas._elem.offset(), a = {
                x: e.pageX - n.left,
                y: e.pageY - n.top
            }, r = {
                xaxis: null,
                yaxis: null,
                x2axis: null,
                y2axis: null,
                y3axis: null,
                y4axis: null,
                y5axis: null,
                y6axis: null,
                y7axis: null,
                y8axis: null,
                y9axis: null,
                yMidAxis: null
            }, o = ["xaxis", "yaxis", "x2axis", "y2axis", "y3axis", "y4axis", "y5axis", "y6axis", "y7axis", "y8axis", "y9axis", "yMidAxis"], l = s.axes;
            for (t = 11; t > 0; t--)
                i = o[t - 1],
                l[i].show && (r[i] = l[i].series_p2u(a[i.charAt(0)]));
            return {
                offsets: n,
                gridPos: a,
                dataPos: r
            }
        }
        function h(t, i) {
            function s(e, t, i) {
                var s = (t[1] - i[1]) / (t[0] - i[0])
                  , n = t[1] - s * t[0]
                  , a = e + t[1];
                return [(a - n) / s, a]
            }
            var n, a, r, o, l, h, c, d, u, p, f, g, m, v, b, y, w, _, k, x = i.series;
            for (r = i.seriesStack.length - 1; r >= 0; r--)
                switch (n = i.seriesStack[r],
                o = x[n],
                w = o._highlightThreshold,
                o.renderer.constructor) {
                case e.jqplot.BarRenderer:
                    for (h = t.x,
                    c = t.y,
                    a = 0; a < o._barPoints.length; a++)
                        if (y = o._barPoints[a],
                        b = o.gridData[a],
                        h > y[0][0] && h < y[2][0] && c > y[2][1] && c < y[0][1])
                            return {
                                seriesIndex: o.index,
                                pointIndex: a,
                                gridData: b,
                                data: o.data[a],
                                points: o._barPoints[a]
                            };
                    break;
                case e.jqplot.PyramidRenderer:
                    for (h = t.x,
                    c = t.y,
                    a = 0; a < o._barPoints.length; a++)
                        if (y = o._barPoints[a],
                        b = o.gridData[a],
                        h > y[0][0] + w[0][0] && h < y[2][0] + w[2][0] && c > y[2][1] && c < y[0][1])
                            return {
                                seriesIndex: o.index,
                                pointIndex: a,
                                gridData: b,
                                data: o.data[a],
                                points: o._barPoints[a]
                            };
                    break;
                case e.jqplot.DonutRenderer:
                    if (p = o.startAngle / 180 * Math.PI,
                    h = t.x - o._center[0],
                    c = t.y - o._center[1],
                    l = Math.sqrt(Math.pow(h, 2) + Math.pow(c, 2)),
                    h > 0 && -c >= 0 ? d = 2 * Math.PI - Math.atan(-c / h) : h > 0 && -c < 0 ? d = -Math.atan(-c / h) : h < 0 ? d = Math.PI - Math.atan(-c / h) : 0 == h && -c > 0 ? d = 3 * Math.PI / 2 : 0 == h && -c < 0 ? d = Math.PI / 2 : 0 == h && 0 == c && (d = 0),
                    p && (d -= p,
                    d < 0 ? d += 2 * Math.PI : d > 2 * Math.PI && (d -= 2 * Math.PI)),
                    u = o.sliceMargin / 180 * Math.PI,
                    l < o._radius && l > o._innerRadius)
                        for (a = 0; a < o.gridData.length; a++)
                            if (f = a > 0 ? o.gridData[a - 1][1] + u : u,
                            g = o.gridData[a][1],
                            d > f && d < g)
                                return {
                                    seriesIndex: o.index,
                                    pointIndex: a,
                                    gridData: [t.x, t.y],
                                    data: o.data[a]
                                };
                    break;
                case e.jqplot.PieRenderer:
                    if (p = o.startAngle / 180 * Math.PI,
                    h = t.x - o._center[0],
                    c = t.y - o._center[1],
                    l = Math.sqrt(Math.pow(h, 2) + Math.pow(c, 2)),
                    h > 0 && -c >= 0 ? d = 2 * Math.PI - Math.atan(-c / h) : h > 0 && -c < 0 ? d = -Math.atan(-c / h) : h < 0 ? d = Math.PI - Math.atan(-c / h) : 0 == h && -c > 0 ? d = 3 * Math.PI / 2 : 0 == h && -c < 0 ? d = Math.PI / 2 : 0 == h && 0 == c && (d = 0),
                    p && (d -= p,
                    d < 0 ? d += 2 * Math.PI : d > 2 * Math.PI && (d -= 2 * Math.PI)),
                    u = o.sliceMargin / 180 * Math.PI,
                    l < o._radius)
                        for (a = 0; a < o.gridData.length; a++)
                            if (f = a > 0 ? o.gridData[a - 1][1] + u : u,
                            g = o.gridData[a][1],
                            d > f && d < g)
                                return {
                                    seriesIndex: o.index,
                                    pointIndex: a,
                                    gridData: [t.x, t.y],
                                    data: o.data[a]
                                };
                    break;
                case e.jqplot.BubbleRenderer:
                    h = t.x,
                    c = t.y;
                    var C = null;
                    if (o.show) {
                        for (var a = 0; a < o.gridData.length; a++)
                            b = o.gridData[a],
                            v = Math.sqrt((h - b[0]) * (h - b[0]) + (c - b[1]) * (c - b[1])),
                            v <= b[2] && (v <= m || null == m) && (m = v,
                            C = {
                                seriesIndex: n,
                                pointIndex: a,
                                gridData: b,
                                data: o.data[a]
                            });
                        if (null != C)
                            return C
                    }
                    break;
                case e.jqplot.FunnelRenderer:
                    h = t.x,
                    c = t.y;
                    var T, S, P, M = o._vertices, E = M[0], A = M[M.length - 1];
                    for (T = s(c, E[0], A[3]),
                    S = s(c, E[1], A[2]),
                    a = 0; a < M.length; a++)
                        if (P = M[a],
                        c >= P[0][1] && c <= P[3][1] && h >= T[0] && h <= S[0])
                            return {
                                seriesIndex: o.index,
                                pointIndex: a,
                                gridData: null,
                                data: o.data[a]
                            };
                    break;
                case e.jqplot.LineRenderer:
                    if (h = t.x,
                    c = t.y,
                    l = o.renderer,
                    o.show) {
                        if (!(!(o.fill || o.renderer.bands.show && o.renderer.bands.fill) || i.plugins.highlighter && i.plugins.highlighter.show)) {
                            var D = !1;
                            if (h > o._boundingBox[0][0] && h < o._boundingBox[1][0] && c > o._boundingBox[1][1] && c < o._boundingBox[0][1])
                                for (var L, R = o._areaPoints.length, a = R - 1, L = 0; L < R; L++) {
                                    var j = [o._areaPoints[L][0], o._areaPoints[L][1]]
                                      , O = [o._areaPoints[a][0], o._areaPoints[a][1]];
                                    (j[1] < c && O[1] >= c || O[1] < c && j[1] >= c) && j[0] + (c - j[1]) / (O[1] - j[1]) * (O[0] - j[0]) < h && (D = !D),
                                    a = L
                                }
                            if (D)
                                return {
                                    seriesIndex: n,
                                    pointIndex: null,
                                    gridData: o.gridData,
                                    data: o.data,
                                    points: o._areaPoints
                                };
                            break
                        }
                        k = o.markerRenderer.size / 2 + o.neighborThreshold,
                        _ = k > 0 ? k : 0;
                        for (var a = 0; a < o.gridData.length; a++)
                            if (b = o.gridData[a],
                            l.constructor == e.jqplot.OHLCRenderer)
                                if (l.candleStick) {
                                    var z = o._yaxis.series_u2p;
                                    if (h >= b[0] - l._bodyWidth / 2 && h <= b[0] + l._bodyWidth / 2 && c >= z(o.data[a][2]) && c <= z(o.data[a][3]))
                                        return {
                                            seriesIndex: n,
                                            pointIndex: a,
                                            gridData: b,
                                            data: o.data[a]
                                        }
                                } else if (l.hlc) {
                                    var z = o._yaxis.series_u2p;
                                    if (h >= b[0] - l._tickLength && h <= b[0] + l._tickLength && c >= z(o.data[a][1]) && c <= z(o.data[a][2]))
                                        return {
                                            seriesIndex: n,
                                            pointIndex: a,
                                            gridData: b,
                                            data: o.data[a]
                                        }
                                } else {
                                    var z = o._yaxis.series_u2p;
                                    if (h >= b[0] - l._tickLength && h <= b[0] + l._tickLength && c >= z(o.data[a][2]) && c <= z(o.data[a][3]))
                                        return {
                                            seriesIndex: n,
                                            pointIndex: a,
                                            gridData: b,
                                            data: o.data[a]
                                        }
                                }
                            else if (null != b[0] && null != b[1] && (v = Math.sqrt((h - b[0]) * (h - b[0]) + (c - b[1]) * (c - b[1])),
                            v <= _ && (v <= m || null == m)))
                                return m = v,
                                {
                                    seriesIndex: n,
                                    pointIndex: a,
                                    gridData: b,
                                    data: o.data[a]
                                }
                    }
                    break;
                default:
                    if (h = t.x,
                    c = t.y,
                    l = o.renderer,
                    o.show) {
                        k = o.markerRenderer.size / 2 + o.neighborThreshold,
                        _ = k > 0 ? k : 0;
                        for (var a = 0; a < o.gridData.length; a++)
                            if (b = o.gridData[a],
                            l.constructor == e.jqplot.OHLCRenderer)
                                if (l.candleStick) {
                                    var z = o._yaxis.series_u2p;
                                    if (h >= b[0] - l._bodyWidth / 2 && h <= b[0] + l._bodyWidth / 2 && c >= z(o.data[a][2]) && c <= z(o.data[a][3]))
                                        return {
                                            seriesIndex: n,
                                            pointIndex: a,
                                            gridData: b,
                                            data: o.data[a]
                                        }
                                } else if (l.hlc) {
                                    var z = o._yaxis.series_u2p;
                                    if (h >= b[0] - l._tickLength && h <= b[0] + l._tickLength && c >= z(o.data[a][1]) && c <= z(o.data[a][2]))
                                        return {
                                            seriesIndex: n,
                                            pointIndex: a,
                                            gridData: b,
                                            data: o.data[a]
                                        }
                                } else {
                                    var z = o._yaxis.series_u2p;
                                    if (h >= b[0] - l._tickLength && h <= b[0] + l._tickLength && c >= z(o.data[a][2]) && c <= z(o.data[a][3]))
                                        return {
                                            seriesIndex: n,
                                            pointIndex: a,
                                            gridData: b,
                                            data: o.data[a]
                                        }
                                }
                            else if (v = Math.sqrt((h - b[0]) * (h - b[0]) + (c - b[1]) * (c - b[1])),
                            v <= _ && (v <= m || null == m))
                                return m = v,
                                {
                                    seriesIndex: n,
                                    pointIndex: a,
                                    gridData: b,
                                    data: o.data[a]
                                }
                    }
                }
            return null
        }
        this.animate = !1,
        this.animateReplot = !1,
        this.axes = {
            xaxis: new t("xaxis"),
            yaxis: new t("yaxis"),
            x2axis: new t("x2axis"),
            y2axis: new t("y2axis"),
            y3axis: new t("y3axis"),
            y4axis: new t("y4axis"),
            y5axis: new t("y5axis"),
            y6axis: new t("y6axis"),
            y7axis: new t("y7axis"),
            y8axis: new t("y8axis"),
            y9axis: new t("y9axis"),
            yMidAxis: new t("yMidAxis")
        },
        this.baseCanvas = new e.jqplot.GenericCanvas,
        this.captureRightClick = !1,
        this.data = [],
        this.dataRenderer,
        this.dataRendererOptions,
        this.defaults = {
            axesDefaults: {},
            axes: {
                xaxis: {},
                yaxis: {},
                x2axis: {},
                y2axis: {},
                y3axis: {},
                y4axis: {},
                y5axis: {},
                y6axis: {},
                y7axis: {},
                y8axis: {},
                y9axis: {},
                yMidAxis: {}
            },
            seriesDefaults: {},
            series: []
        },
        this.defaultAxisStart = 1,
        this.drawIfHidden = !1,
        this.eventCanvas = new e.jqplot.GenericCanvas,
        this.fillBetween = {
            series1: null,
            series2: null,
            color: null,
            baseSeries: 0,
            fill: !0
        },
        this.fontFamily,
        this.fontSize,
        this.grid = new a,
        this.legend = new i,
        this.noDataIndicator = {
            show: !1,
            indicator: "Loading Data...",
            axes: {
                xaxis: {
                    min: 0,
                    max: 10,
                    tickInterval: 2,
                    show: !0
                },
                yaxis: {
                    min: 0,
                    max: 12,
                    tickInterval: 3,
                    show: !0
                }
            }
        },
        this.negativeSeriesColors = e.jqplot.config.defaultNegativeColors,
        this.options = {},
        this.previousSeriesStack = [],
        this.plugins = {},
        this.series = [],
        this.seriesStack = [],
        this.seriesColors = e.jqplot.config.defaultColors,
        this.sortData = !0,
        this.stackSeries = !1,
        this.syncXTicks = !0,
        this.syncYTicks = !0,
        this.target = null,
        this.targetId = null,
        this.textColor,
        this.title = new s,
        this._drawCount = 0,
        this._sumy = 0,
        this._sumx = 0,
        this._stackData = [],
        this._plotData = [],
        this._width = null,
        this._height = null,
        this._plotDimensions = {
            height: null,
            width: null
        },
        this._gridPadding = {
            top: null,
            right: null,
            bottom: null,
            left: null
        },
        this._defaultGridPadding = {
            top: 10,
            right: 10,
            bottom: 23,
            left: 10
        },
        this._addDomReference = e.jqplot.config.addDomReference,
        this.preInitHooks = new e.jqplot.HooksManager,
        this.postInitHooks = new e.jqplot.HooksManager,
        this.preParseOptionsHooks = new e.jqplot.HooksManager,
        this.postParseOptionsHooks = new e.jqplot.HooksManager,
        this.preDrawHooks = new e.jqplot.HooksManager,
        this.postDrawHooks = new e.jqplot.HooksManager,
        this.preDrawSeriesHooks = new e.jqplot.HooksManager,
        this.postDrawSeriesHooks = new e.jqplot.HooksManager,
        this.preDrawLegendHooks = new e.jqplot.HooksManager,
        this.addLegendRowHooks = new e.jqplot.HooksManager,
        this.preSeriesInitHooks = new e.jqplot.HooksManager,
        this.postSeriesInitHooks = new e.jqplot.HooksManager,
        this.preParseSeriesOptionsHooks = new e.jqplot.HooksManager,
        this.postParseSeriesOptionsHooks = new e.jqplot.HooksManager,
        this.eventListenerHooks = new e.jqplot.EventListenerManager,
        this.preDrawSeriesShadowHooks = new e.jqplot.HooksManager,
        this.postDrawSeriesShadowHooks = new e.jqplot.HooksManager,
        this.colorGenerator = new e.jqplot.ColorGenerator,
        this.negativeColorGenerator = new e.jqplot.ColorGenerator,
        this.canvasManager = new e.jqplot.CanvasManager,
        this.themeEngine = new e.jqplot.ThemeEngine;
        this.init = function(i, s, n) {
            n = n || {};
            for (var a = 0; a < e.jqplot.preInitHooks.length; a++)
                e.jqplot.preInitHooks[a].call(this, i, s, n);
            for (var a = 0; a < this.preInitHooks.hooks.length; a++)
                this.preInitHooks.hooks[a].call(this, i, s, n);
            if (this.targetId = "#" + i,
            this.target = e("#" + i),
            this._addDomReference && this.target.data("jqplot", this),
            this.target.removeClass("jqplot-error"),
            !this.target.get(0))
                throw new Error("No plot target specified");
            if ("static" == this.target.css("position") && this.target.css("position", "relative"),
            this.target.hasClass("jqplot-target") || this.target.addClass("jqplot-target"),
            this.target.height())
                this._height = r = this.target.height();
            else {
                var r;
                r = n && n.height ? parseInt(n.height, 10) : this.target.attr("data-height") ? parseInt(this.target.attr("data-height"), 10) : parseInt(e.jqplot.config.defaultHeight, 10),
                this._height = r,
                this.target.css("height", r + "px")
            }
            if (this.target.width())
                this._width = l = this.target.width();
            else {
                var l;
                l = n && n.width ? parseInt(n.width, 10) : this.target.attr("data-width") ? parseInt(this.target.attr("data-width"), 10) : parseInt(e.jqplot.config.defaultWidth, 10),
                this._width = l,
                this.target.css("width", l + "px")
            }
            for (var a = 0, h = L.length; a < h; a++)
                this.axes[L[a]] = new t(L[a]);
            if (this._plotDimensions.height = this._height,
            this._plotDimensions.width = this._width,
            this.grid._plotDimensions = this._plotDimensions,
            this.title._plotDimensions = this._plotDimensions,
            this.baseCanvas._plotDimensions = this._plotDimensions,
            this.eventCanvas._plotDimensions = this._plotDimensions,
            this.legend._plotDimensions = this._plotDimensions,
            this._height <= 0 || this._width <= 0 || !this._height || !this._width)
                throw new Error("Canvas dimension not set");
            if (n.dataRenderer && e.isFunction(n.dataRenderer) && (n.dataRendererOptions && (this.dataRendererOptions = n.dataRendererOptions),
            this.dataRenderer = n.dataRenderer,
            s = this.dataRenderer(s, this, this.dataRendererOptions)),
            n.noDataIndicator && e.isPlainObject(n.noDataIndicator) && e.extend(!0, this.noDataIndicator, n.noDataIndicator),
            null == s || 0 == e.isArray(s) || 0 == s.length || 0 == e.isArray(s[0]) || 0 == s[0].length) {
                if (0 == this.noDataIndicator.show)
                    throw new Error("No data specified");
                for (var c in this.noDataIndicator.axes)
                    for (var d in this.noDataIndicator.axes[c])
                        this.axes[c][d] = this.noDataIndicator.axes[c][d];
                this.postDrawHooks.add(function() {
                    var t = this.eventCanvas.getHeight()
                      , i = this.eventCanvas.getWidth()
                      , s = e('<div class="jqplot-noData-container" style="position:absolute;"></div>');
                    this.target.append(s),
                    s.height(t),
                    s.width(i),
                    s.css("top", this.eventCanvas._offsets.top),
                    s.css("left", this.eventCanvas._offsets.left);
                    var n = e('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');
                    s.append(n),
                    n.html(this.noDataIndicator.indicator);
                    var a = n.height()
                      , r = n.width();
                    n.height(a),
                    n.width(r),
                    n.css("top", (t - a) / 2 + "px")
                })
            }
            this.data = e.extend(!0, [], s),
            this.parseOptions(n),
            this.textColor && this.target.css("color", this.textColor),
            this.fontFamily && this.target.css("font-family", this.fontFamily),
            this.fontSize && this.target.css("font-size", this.fontSize),
            this.title.init(),
            this.legend.init(),
            this._sumy = 0,
            this._sumx = 0,
            this.computePlotData();
            for (var a = 0; a < this.series.length; a++) {
                this.seriesStack.push(a),
                this.previousSeriesStack.push(a),
                this.series[a].shadowCanvas._plotDimensions = this._plotDimensions,
                this.series[a].canvas._plotDimensions = this._plotDimensions;
                for (var u = 0; u < e.jqplot.preSeriesInitHooks.length; u++)
                    e.jqplot.preSeriesInitHooks[u].call(this.series[a], i, this.data, this.options.seriesDefaults, this.options.series[a], this);
                for (var u = 0; u < this.preSeriesInitHooks.hooks.length; u++)
                    this.preSeriesInitHooks.hooks[u].call(this.series[a], i, this.data, this.options.seriesDefaults, this.options.series[a], this);
                this.series[a]._plotDimensions = this._plotDimensions,
                this.series[a].init(a, this.grid.borderWidth, this);
                for (var u = 0; u < e.jqplot.postSeriesInitHooks.length; u++)
                    e.jqplot.postSeriesInitHooks[u].call(this.series[a], i, this.data, this.options.seriesDefaults, this.options.series[a], this);
                for (var u = 0; u < this.postSeriesInitHooks.hooks.length; u++)
                    this.postSeriesInitHooks.hooks[u].call(this.series[a], i, this.data, this.options.seriesDefaults, this.options.series[a], this);
                this._sumy += this.series[a]._sumy,
                this._sumx += this.series[a]._sumx
            }
            for (var p, f, a = 0, h = L.length; a < h; a++)
                p = L[a],
                f = this.axes[p],
                f._plotDimensions = this._plotDimensions,
                f.init(),
                null == this.axes[p].borderColor && ("x" !== p.charAt(0) && f.useSeriesColor === !0 && f.show ? f.borderColor = f._series[0].color : f.borderColor = this.grid.borderColor);
            this.sortData && o(this.series),
            this.grid.init(),
            this.grid._axes = this.axes,
            this.legend._series = this.series;
            for (var a = 0; a < e.jqplot.postInitHooks.length; a++)
                e.jqplot.postInitHooks[a].call(this, i, this.data, n);
            for (var a = 0; a < this.postInitHooks.hooks.length; a++)
                this.postInitHooks.hooks[a].call(this, i, this.data, n)
        }
        ,
        this.resetAxesScale = function(t, i) {
            var s = i || {}
              , n = t || this.axes;
            if (n === !0 && (n = this.axes),
            e.isArray(n))
                for (var a = 0; a < n.length; a++)
                    this.axes[n[a]].resetScale(s[n[a]]);
            else if ("object" == typeof n)
                for (var r in n)
                    this.axes[r].resetScale(s[r])
        }
        ,
        this.reInitialize = function(i, s) {
            for (var n = e.extend(!0, {}, this.options, s), a = this.targetId.substr(1), r = null == i ? this.data : i, l = 0; l < e.jqplot.preInitHooks.length; l++)
                e.jqplot.preInitHooks[l].call(this, a, r, n);
            for (var l = 0; l < this.preInitHooks.hooks.length; l++)
                this.preInitHooks.hooks[l].call(this, a, r, n);
            if (this._height = this.target.height(),
            this._width = this.target.width(),
            this._height <= 0 || this._width <= 0 || !this._height || !this._width)
                throw new Error("Target dimension not set");
            this._plotDimensions.height = this._height,
            this._plotDimensions.width = this._width,
            this.grid._plotDimensions = this._plotDimensions,
            this.title._plotDimensions = this._plotDimensions,
            this.baseCanvas._plotDimensions = this._plotDimensions,
            this.eventCanvas._plotDimensions = this._plotDimensions,
            this.legend._plotDimensions = this._plotDimensions;
            for (var h, c, d, u, l = 0, p = L.length; l < p; l++) {
                h = L[l],
                u = this.axes[h],
                c = u._ticks;
                for (var d = 0, f = c.length; d < f; d++) {
                    var g = c[d]._elem;
                    g && (e.jqplot.use_excanvas && window.G_vmlCanvasManager.uninitElement !== D && window.G_vmlCanvasManager.uninitElement(g.get(0)),
                    g.emptyForce(),
                    g = null,
                    c._elem = null)
                }
                c = null,
                delete u.ticks,
                delete u._ticks,
                this.axes[h] = new t(h),
                this.axes[h]._plotWidth = this._width,
                this.axes[h]._plotHeight = this._height
            }
            i && (n.dataRenderer && e.isFunction(n.dataRenderer) && (n.dataRendererOptions && (this.dataRendererOptions = n.dataRendererOptions),
            this.dataRenderer = n.dataRenderer,
            i = this.dataRenderer(i, this, this.dataRendererOptions)),
            this.data = e.extend(!0, [], i)),
            s && this.parseOptions(n),
            this.title._plotWidth = this._width,
            this.textColor && this.target.css("color", this.textColor),
            this.fontFamily && this.target.css("font-family", this.fontFamily),
            this.fontSize && this.target.css("font-size", this.fontSize),
            this.title.init(),
            this.legend.init(),
            this._sumy = 0,
            this._sumx = 0,
            this.seriesStack = [],
            this.previousSeriesStack = [],
            this.computePlotData();
            for (var l = 0, p = this.series.length; l < p; l++) {
                this.seriesStack.push(l),
                this.previousSeriesStack.push(l),
                this.series[l].shadowCanvas._plotDimensions = this._plotDimensions,
                this.series[l].canvas._plotDimensions = this._plotDimensions;
                for (var d = 0; d < e.jqplot.preSeriesInitHooks.length; d++)
                    e.jqplot.preSeriesInitHooks[d].call(this.series[l], a, this.data, this.options.seriesDefaults, this.options.series[l], this);
                for (var d = 0; d < this.preSeriesInitHooks.hooks.length; d++)
                    this.preSeriesInitHooks.hooks[d].call(this.series[l], a, this.data, this.options.seriesDefaults, this.options.series[l], this);
                this.series[l]._plotDimensions = this._plotDimensions,
                this.series[l].init(l, this.grid.borderWidth, this);
                for (var d = 0; d < e.jqplot.postSeriesInitHooks.length; d++)
                    e.jqplot.postSeriesInitHooks[d].call(this.series[l], a, this.data, this.options.seriesDefaults, this.options.series[l], this);
                for (var d = 0; d < this.postSeriesInitHooks.hooks.length; d++)
                    this.postSeriesInitHooks.hooks[d].call(this.series[l], a, this.data, this.options.seriesDefaults, this.options.series[l], this);
                this._sumy += this.series[l]._sumy,
                this._sumx += this.series[l]._sumx
            }
            for (var l = 0, p = L.length; l < p; l++)
                h = L[l],
                u = this.axes[h],
                u._plotDimensions = this._plotDimensions,
                u.init(),
                null == u.borderColor && ("x" !== h.charAt(0) && u.useSeriesColor === !0 && u.show ? u.borderColor = u._series[0].color : u.borderColor = this.grid.borderColor);
            this.sortData && o(this.series),
            this.grid.init(),
            this.grid._axes = this.axes,
            this.legend._series = this.series;
            for (var l = 0, p = e.jqplot.postInitHooks.length; l < p; l++)
                e.jqplot.postInitHooks[l].call(this, a, this.data, n);
            for (var l = 0, p = this.postInitHooks.hooks.length; l < p; l++)
                this.postInitHooks.hooks[l].call(this, a, this.data, n)
        }
        ,
        this.quickInit = function() {
            if (this._height = this.target.height(),
            this._width = this.target.width(),
            this._height <= 0 || this._width <= 0 || !this._height || !this._width)
                throw new Error("Target dimension not set");
            this._plotDimensions.height = this._height,
            this._plotDimensions.width = this._width,
            this.grid._plotDimensions = this._plotDimensions,
            this.title._plotDimensions = this._plotDimensions,
            this.baseCanvas._plotDimensions = this._plotDimensions,
            this.eventCanvas._plotDimensions = this._plotDimensions,
            this.legend._plotDimensions = this._plotDimensions;
            for (var t in this.axes)
                this.axes[t]._plotWidth = this._width,
                this.axes[t]._plotHeight = this._height;
            this.title._plotWidth = this._width,
            this.textColor && this.target.css("color", this.textColor),
            this.fontFamily && this.target.css("font-family", this.fontFamily),
            this.fontSize && this.target.css("font-size", this.fontSize),
            this._sumy = 0,
            this._sumx = 0,
            this.computePlotData();
            for (var i = 0; i < this.series.length; i++)
                "line" === this.series[i]._type && this.series[i].renderer.bands.show && this.series[i].renderer.initBands.call(this.series[i], this.series[i].renderer.options, this),
                this.series[i]._plotDimensions = this._plotDimensions,
                this.series[i].canvas._plotDimensions = this._plotDimensions,
                this._sumy += this.series[i]._sumy,
                this._sumx += this.series[i]._sumx;
            for (var s, n = 0; n < 12; n++) {
                s = L[n];
                for (var a = this.axes[s]._ticks, i = 0; i < a.length; i++) {
                    var r = a[i]._elem;
                    r && (e.jqplot.use_excanvas && window.G_vmlCanvasManager.uninitElement !== D && window.G_vmlCanvasManager.uninitElement(r.get(0)),
                    r.emptyForce(),
                    r = null,
                    a._elem = null)
                }
                a = null,
                this.axes[s]._plotDimensions = this._plotDimensions,
                this.axes[s]._ticks = []
            }
            this.sortData && o(this.series),
            this.grid._axes = this.axes,
            this.legend._series = this.series
        }
        ,
        this.computePlotData = function() {
            this._plotData = [],
            this._stackData = [];
            var t, i, s;
            for (i = 0,
            s = this.series.length; i < s; i++) {
                t = this.series[i],
                this._plotData.push([]),
                this._stackData.push([]);
                var n = t.data;
                this._plotData[i] = e.extend(!0, [], n),
                this._stackData[i] = e.extend(!0, [], n),
                t._plotData = this._plotData[i],
                t._stackData = this._stackData[i];
                var a = {
                    x: [],
                    y: []
                };
                if (this.stackSeries && !t.disableStack) {
                    t._stack = !0;
                    for (var r = "x" === t._stackAxis ? 0 : 1, o = 0, l = n.length; o < l; o++) {
                        var h = n[o][r];
                        if (null == h && (h = 0),
                        this._plotData[i][o][r] = h,
                        this._stackData[i][o][r] = h,
                        i > 0)
                            for (var c = i; c--; ) {
                                var d = this._plotData[c][o][r];
                                if (h * d >= 0) {
                                    this._plotData[i][o][r] += d,
                                    this._stackData[i][o][r] += d;
                                    break
                                }
                            }
                    }
                } else {
                    for (var u = 0; u < t.data.length; u++)
                        a.x.push(t.data[u][0]),
                        a.y.push(t.data[u][1]);
                    this._stackData.push(t.data),
                    this.series[i]._stackData = t.data,
                    this._plotData.push(t.data),
                    t._plotData = t.data,
                    t._plotValues = a
                }
                for (i > 0 && (t._prevPlotData = this.series[i - 1]._plotData),
                t._sumy = 0,
                t._sumx = 0,
                u = t.data.length - 1; u > -1; u--)
                    t._sumy += t.data[u][1],
                    t._sumx += t.data[u][0]
            }
        }
        ,
        this.populatePlotData = function(t, i) {
            this._plotData = [],
            this._stackData = [],
            t._stackData = [],
            t._plotData = [];
            var s = {
                x: [],
                y: []
            };
            if (this.stackSeries && !t.disableStack) {
                t._stack = !0;
                for (var n, a, r, o, l = "x" === t._stackAxis ? 0 : 1, h = e.extend(!0, [], t.data), c = e.extend(!0, [], t.data), d = 0; d < i; d++)
                    for (var u = this.series[d].data, p = 0; p < u.length; p++)
                        r = u[p],
                        n = null != r[0] ? r[0] : 0,
                        a = null != r[1] ? r[1] : 0,
                        h[p][0] += n,
                        h[p][1] += a,
                        o = l ? a : n,
                        t.data[p][l] * o >= 0 && (c[p][l] += o);
                for (var f = 0; f < c.length; f++)
                    s.x.push(c[f][0]),
                    s.y.push(c[f][1]);
                this._plotData.push(c),
                this._stackData.push(h),
                t._stackData = h,
                t._plotData = c,
                t._plotValues = s
            } else {
                for (var f = 0; f < t.data.length; f++)
                    s.x.push(t.data[f][0]),
                    s.y.push(t.data[f][1]);
                this._stackData.push(t.data),
                this.series[i]._stackData = t.data,
                this._plotData.push(t.data),
                t._plotData = t.data,
                t._plotValues = s
            }
            for (i > 0 && (t._prevPlotData = this.series[i - 1]._plotData),
            t._sumy = 0,
            t._sumx = 0,
            f = t.data.length - 1; f > -1; f--)
                t._sumy += t.data[f][1],
                t._sumx += t.data[f][0]
        }
        ,
        this.getNextSeriesColor = function(e) {
            var t = 0
              , i = e.seriesColors;
            return function() {
                return t < i.length ? i[t++] : (t = 0,
                i[t++])
            }
        }(this),
        this.parseOptions = function(t) {
            for (var i = 0; i < this.preParseOptionsHooks.hooks.length; i++)
                this.preParseOptionsHooks.hooks[i].call(this, t);
            for (var i = 0; i < e.jqplot.preParseOptionsHooks.length; i++)
                e.jqplot.preParseOptionsHooks[i].call(this, t);
            this.options = e.extend(!0, {}, this.defaults, t);
            var s = this.options;
            if (this.animate = s.animate,
            this.animateReplot = s.animateReplot,
            this.stackSeries = s.stackSeries,
            e.isPlainObject(s.fillBetween))
                for (var a, r = ["series1", "series2", "color", "baseSeries", "fill"], i = 0, o = r.length; i < o; i++)
                    a = r[i],
                    null != s.fillBetween[a] && (this.fillBetween[a] = s.fillBetween[a]);
            s.seriesColors && (this.seriesColors = s.seriesColors),
            s.negativeSeriesColors && (this.negativeSeriesColors = s.negativeSeriesColors),
            s.captureRightClick && (this.captureRightClick = s.captureRightClick),
            this.defaultAxisStart = t && null != t.defaultAxisStart ? t.defaultAxisStart : this.defaultAxisStart,
            this.colorGenerator.setColors(this.seriesColors),
            this.negativeColorGenerator.setColors(this.negativeSeriesColors),
            e.extend(!0, this._gridPadding, s.gridPadding),
            this.sortData = null != s.sortData ? s.sortData : this.sortData;
            for (var i = 0; i < 12; i++) {
                var l = L[i]
                  , h = this.axes[l];
                h._options = e.extend(!0, {}, s.axesDefaults, s.axes[l]),
                e.extend(!0, h, s.axesDefaults, s.axes[l]),
                h._plotWidth = this._width,
                h._plotHeight = this._height
            }
            var c = function(t, i, s) {
                var n, a, r = [];
                if (i = i || "vertical",
                e.isArray(t[0]))
                    e.extend(!0, r, t);
                else
                    for (n = 0,
                    a = t.length; n < a; n++)
                        "vertical" == i ? r.push([s + n, t[n]]) : r.push([t[n], s + n]);
                return r
            };
            this.series = [];
            for (var i = 0; i < this.data.length; i++) {
                for (var d = e.extend(!0, {
                    index: i
                }, {
                    seriesColors: this.seriesColors,
                    negativeSeriesColors: this.negativeSeriesColors
                }, this.options.seriesDefaults, this.options.series[i], {
                    rendererOptions: {
                        animation: {
                            show: this.animate
                        }
                    }
                }), r = new n(d), u = 0; u < e.jqplot.preParseSeriesOptionsHooks.length; u++)
                    e.jqplot.preParseSeriesOptionsHooks[u].call(r, this.options.seriesDefaults, this.options.series[i]);
                for (var u = 0; u < this.preParseSeriesOptionsHooks.hooks.length; u++)
                    this.preParseSeriesOptionsHooks.hooks[u].call(r, this.options.seriesDefaults, this.options.series[i]);
                e.extend(!0, r, d);
                var p = "vertical";
                switch (r.renderer === e.jqplot.BarRenderer && r.rendererOptions && "horizontal" == r.rendererOptions.barDirection && (p = "horizontal",
                r._stackAxis = "x",
                r._primaryAxis = "_yaxis"),
                r.data = c(this.data[i], p, this.defaultAxisStart),
                r.xaxis) {
                case "xaxis":
                    r._xaxis = this.axes.xaxis;
                    break;
                case "x2axis":
                    r._xaxis = this.axes.x2axis
                }
                r._yaxis = this.axes[r.yaxis],
                r._xaxis._series.push(r),
                r._yaxis._series.push(r),
                r.show ? (r._xaxis.show = !0,
                r._yaxis.show = !0) : (r._xaxis.scaleToHiddenSeries && (r._xaxis.show = !0),
                r._yaxis.scaleToHiddenSeries && (r._yaxis.show = !0)),
                r.label || (r.label = "Series " + (i + 1).toString()),
                this.series.push(r);
                for (var u = 0; u < e.jqplot.postParseSeriesOptionsHooks.length; u++)
                    e.jqplot.postParseSeriesOptionsHooks[u].call(this.series[i], this.options.seriesDefaults, this.options.series[i]);
                for (var u = 0; u < this.postParseSeriesOptionsHooks.hooks.length; u++)
                    this.postParseSeriesOptionsHooks.hooks[u].call(this.series[i], this.options.seriesDefaults, this.options.series[i])
            }
            e.extend(!0, this.grid, this.options.grid);
            for (var i = 0, o = L.length; i < o; i++) {
                var l = L[i]
                  , h = this.axes[l];
                null == h.borderWidth && (h.borderWidth = this.grid.borderWidth)
            }
            "string" == typeof this.options.title ? this.title.text = this.options.title : "object" == typeof this.options.title && e.extend(!0, this.title, this.options.title),
            this.title._plotWidth = this._width,
            this.legend.setOptions(this.options.legend);
            for (var i = 0; i < e.jqplot.postParseOptionsHooks.length; i++)
                e.jqplot.postParseOptionsHooks[i].call(this, t);
            for (var i = 0; i < this.postParseOptionsHooks.hooks.length; i++)
                this.postParseOptionsHooks.hooks[i].call(this, t)
        }
        ,
        this.destroy = function() {
            this.canvasManager.freeAllCanvases(),
            this.eventCanvas && this.eventCanvas._elem && this.eventCanvas._elem.unbind(),
            this.target.empty(),
            this.target[0].innerHTML = ""
        }
        ,
        this.replot = function(t) {
            var i = t || {}
              , s = i.data || null
              , n = i.clear !== !1
              , a = i.resetAxes || !1;
            delete i.data,
            delete i.clear,
            delete i.resetAxes,
            this.target.trigger("jqplotPreReplot"),
            n && this.destroy(),
            s || !e.isEmptyObject(i) ? this.reInitialize(s, i) : this.quickInit(),
            a && this.resetAxesScale(a, i.axes),
            this.draw(),
            this.target.trigger("jqplotPostReplot")
        }
        ,
        this.redraw = function(e) {
            e = null == e || e,
            this.target.trigger("jqplotPreRedraw"),
            e && (this.canvasManager.freeAllCanvases(),
            this.eventCanvas._elem.unbind(),
            this.target.empty());
            for (var t in this.axes)
                this.axes[t]._ticks = [];
            this.computePlotData(),
            this._sumy = 0,
            this._sumx = 0;
            for (var i = 0, s = this.series.length; i < s; i++)
                this._sumy += this.series[i]._sumy,
                this._sumx += this.series[i]._sumx;
            this.draw(),
            this.target.trigger("jqplotPostRedraw")
        }
        ,
        this.draw = function() {
            if (this.drawIfHidden || this.target.is(":visible")) {
                this.target.trigger("jqplotPreDraw");
                var t, i, s;
                for (t = 0,
                s = e.jqplot.preDrawHooks.length; t < s; t++)
                    e.jqplot.preDrawHooks[t].call(this);
                for (t = 0,
                s = this.preDrawHooks.hooks.length; t < s; t++)
                    this.preDrawHooks.hooks[t].apply(this, this.preDrawSeriesHooks.args[t]);
                this.target.append(this.baseCanvas.createElement({
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0
                }, "jqplot-base-canvas", null, this)),
                this.baseCanvas.setContext(),
                this.target.append(this.title.draw()),
                this.title.pack({
                    top: 0,
                    left: 0
                });
                var n = this.legend.draw({}, this)
                  , a = {
                    top: 0,
                    left: 0,
                    bottom: 0,
                    right: 0
                };
                if ("outsideGrid" == this.legend.placement) {
                    switch (this.target.append(n),
                    this.legend.location) {
                    case "n":
                        a.top += this.legend.getHeight();
                        break;
                    case "s":
                        a.bottom += this.legend.getHeight();
                        break;
                    case "ne":
                    case "e":
                    case "se":
                        a.right += this.legend.getWidth();
                        break;
                    case "nw":
                    case "w":
                    case "sw":
                        a.left += this.legend.getWidth();
                        break;
                    default:
                        a.right += this.legend.getWidth()
                    }
                    n = n.detach()
                }
                var r, o = this.axes;
                for (t = 0; t < 12; t++)
                    r = L[t],
                    this.target.append(o[r].draw(this.baseCanvas._ctx, this)),
                    o[r].set();
                o.yaxis.show && (a.left += o.yaxis.getWidth());
                var l, h = ["y2axis", "y3axis", "y4axis", "y5axis", "y6axis", "y7axis", "y8axis", "y9axis"], c = [0, 0, 0, 0, 0, 0, 0, 0], d = 0;
                for (l = 0; l < 8; l++)
                    o[h[l]].show && (d += o[h[l]].getWidth(),
                    c[l] = d);
                if (a.right += d,
                o.x2axis.show && (a.top += o.x2axis.getHeight()),
                this.title.show && (a.top += this.title.getHeight()),
                o.xaxis.show && (a.bottom += o.xaxis.getHeight()),
                this.options.gridDimensions && e.isPlainObject(this.options.gridDimensions)) {
                    var u = parseInt(this.options.gridDimensions.width, 10) || 0
                      , p = parseInt(this.options.gridDimensions.height, 10) || 0
                      , f = (this._width - a.left - a.right - u) / 2
                      , g = (this._height - a.top - a.bottom - p) / 2;
                    g >= 0 && f >= 0 && (a.top += g,
                    a.bottom += g,
                    a.left += f,
                    a.right += f)
                }
                var m = ["top", "bottom", "left", "right"];
                for (var l in m)
                    null == this._gridPadding[m[l]] && a[m[l]] > 0 ? this._gridPadding[m[l]] = a[m[l]] : null == this._gridPadding[m[l]] && (this._gridPadding[m[l]] = this._defaultGridPadding[m[l]]);
                var v = this._gridPadding;
                for ("outsideGrid" === this.legend.placement && (v = {
                    top: this.title.getHeight(),
                    left: 0,
                    right: 0,
                    bottom: 0
                },
                "s" === this.legend.location && (v.left = this._gridPadding.left,
                v.right = this._gridPadding.right)),
                o.xaxis.pack({
                    position: "absolute",
                    bottom: this._gridPadding.bottom - o.xaxis.getHeight(),
                    left: 0,
                    width: this._width
                }, {
                    min: this._gridPadding.left,
                    max: this._width - this._gridPadding.right
                }),
                o.yaxis.pack({
                    position: "absolute",
                    top: 0,
                    left: this._gridPadding.left - o.yaxis.getWidth(),
                    height: this._height
                }, {
                    min: this._height - this._gridPadding.bottom,
                    max: this._gridPadding.top
                }),
                o.x2axis.pack({
                    position: "absolute",
                    top: this._gridPadding.top - o.x2axis.getHeight(),
                    left: 0,
                    width: this._width
                }, {
                    min: this._gridPadding.left,
                    max: this._width - this._gridPadding.right
                }),
                t = 8; t > 0; t--)
                    o[h[t - 1]].pack({
                        position: "absolute",
                        top: 0,
                        right: this._gridPadding.right - c[t - 1]
                    }, {
                        min: this._height - this._gridPadding.bottom,
                        max: this._gridPadding.top
                    });
                var b = (this._width - this._gridPadding.left - this._gridPadding.right) / 2 + this._gridPadding.left - o.yMidAxis.getWidth() / 2;
                o.yMidAxis.pack({
                    position: "absolute",
                    top: 0,
                    left: b,
                    zIndex: 9,
                    textAlign: "center"
                }, {
                    min: this._height - this._gridPadding.bottom,
                    max: this._gridPadding.top
                }),
                this.target.append(this.grid.createElement(this._gridPadding, this)),
                this.grid.draw();
                var y = this.series
                  , w = y.length;
                for (t = 0,
                s = w; t < s; t++)
                    i = this.seriesStack[t],
                    this.target.append(y[i].shadowCanvas.createElement(this._gridPadding, "jqplot-series-shadowCanvas", null, this)),
                    y[i].shadowCanvas.setContext(),
                    y[i].shadowCanvas._elem.data("seriesIndex", i);
                for (t = 0,
                s = w; t < s; t++)
                    i = this.seriesStack[t],
                    this.target.append(y[i].canvas.createElement(this._gridPadding, "jqplot-series-canvas", null, this)),
                    y[i].canvas.setContext(),
                    y[i].canvas._elem.data("seriesIndex", i);
                this.target.append(this.eventCanvas.createElement(this._gridPadding, "jqplot-event-canvas", null, this)),
                this.eventCanvas.setContext(),
                this.eventCanvas._ctx.fillStyle = "rgba(0,0,0,0)",
                this.eventCanvas._ctx.fillRect(0, 0, this.eventCanvas._ctx.canvas.width, this.eventCanvas._ctx.canvas.height),
                this.bindCustomEvents(),
                this.legend.preDraw ? (this.eventCanvas._elem.before(n),
                this.legend.pack(v),
                this.legend._elem ? this.drawSeries({
                    legendInfo: {
                        location: this.legend.location,
                        placement: this.legend.placement,
                        width: this.legend.getWidth(),
                        height: this.legend.getHeight(),
                        xoffset: this.legend.xoffset,
                        yoffset: this.legend.yoffset
                    }
                }) : this.drawSeries()) : (this.drawSeries(),
                w && e(y[w - 1].canvas._elem).after(n),
                this.legend.pack(v));
                for (var t = 0, s = e.jqplot.eventListenerHooks.length; t < s; t++)
                    this.eventCanvas._elem.bind(e.jqplot.eventListenerHooks[t][0], {
                        plot: this
                    }, e.jqplot.eventListenerHooks[t][1]);
                for (var t = 0, s = this.eventListenerHooks.hooks.length; t < s; t++)
                    this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[t][0], {
                        plot: this
                    }, this.eventListenerHooks.hooks[t][1]);
                var _ = this.fillBetween;
                _.fill && _.series1 !== _.series2 && _.series1 < w && _.series2 < w && "line" === y[_.series1]._type && "line" === y[_.series2]._type && this.doFillBetweenLines();
                for (var t = 0, s = e.jqplot.postDrawHooks.length; t < s; t++)
                    e.jqplot.postDrawHooks[t].call(this);
                for (var t = 0, s = this.postDrawHooks.hooks.length; t < s; t++)
                    this.postDrawHooks.hooks[t].apply(this, this.postDrawHooks.args[t]);
                this.target.is(":visible") && (this._drawCount += 1);
                var k, x, C, T;
                for (t = 0,
                s = w; t < s; t++)
                    k = y[t],
                    x = k.renderer,
                    C = ".jqplot-point-label.jqplot-series-" + t,
                    x.animation && x.animation._supported && x.animation.show && (this._drawCount < 2 || this.animateReplot) && (T = this.target.find(C),
                    T.stop(!0, !0).hide(),
                    k.canvas._elem.stop(!0, !0).hide(),
                    k.shadowCanvas._elem.stop(!0, !0).hide(),
                    k.canvas._elem.jqplotEffect("blind", {
                        mode: "show",
                        direction: x.animation.direction
                    }, x.animation.speed),
                    k.shadowCanvas._elem.jqplotEffect("blind", {
                        mode: "show",
                        direction: x.animation.direction
                    }, x.animation.speed),
                    T.fadeIn(.8 * x.animation.speed));
                T = null,
                this.target.trigger("jqplotPostDraw", [this])
            }
        }
        ,
        r.prototype.doFillBetweenLines = function() {
            var e = this.fillBetween
              , t = e.series1
              , i = e.series2
              , s = t < i ? t : i
              , n = i > t ? i : t
              , a = this.series[s]
              , r = this.series[n];
            if (r.renderer.smooth)
                var o = r.renderer._smoothedData.slice(0).reverse();
            else
                var o = r.gridData.slice(0).reverse();
            if (a.renderer.smooth)
                var l = a.renderer._smoothedData.concat(o);
            else
                var l = a.gridData.concat(o);
            var h = null !== e.color ? e.color : this.series[t].fillColor
              , c = null !== e.baseSeries ? e.baseSeries : s
              , d = this.series[c].renderer.shapeRenderer
              , u = {
                fillStyle: h,
                fill: !0,
                closePath: !0
            };
            d.draw(a.shadowCanvas._ctx, l, u)
        }
        ,
        this.bindCustomEvents = function() {
            this.eventCanvas._elem.bind("click", {
                plot: this
            }, this.onClick),
            this.eventCanvas._elem.bind("dblclick", {
                plot: this
            }, this.onDblClick),
            this.eventCanvas._elem.bind("mousedown", {
                plot: this
            }, this.onMouseDown),
            this.eventCanvas._elem.bind("mousemove", {
                plot: this
            }, this.onMouseMove),
            this.eventCanvas._elem.bind("mouseenter", {
                plot: this
            }, this.onMouseEnter),
            this.eventCanvas._elem.bind("mouseleave", {
                plot: this
            }, this.onMouseLeave),
            this.captureRightClick ? (this.eventCanvas._elem.bind("mouseup", {
                plot: this
            }, this.onRightClick),
            this.eventCanvas._elem.get(0).oncontextmenu = function() {
                return !1
            }
            ) : this.eventCanvas._elem.bind("mouseup", {
                plot: this
            }, this.onMouseUp)
        }
        ,
        this.onClick = function(t) {
            var i = l(t)
              , s = t.data.plot
              , n = h(i.gridPos, s)
              , a = e.Event("jqplotClick");
            a.pageX = t.pageX,
            a.pageY = t.pageY,
            e(this).trigger(a, [i.gridPos, i.dataPos, n, s])
        }
        ,
        this.onDblClick = function(t) {
            var i = l(t)
              , s = t.data.plot
              , n = h(i.gridPos, s)
              , a = e.Event("jqplotDblClick");
            a.pageX = t.pageX,
            a.pageY = t.pageY,
            e(this).trigger(a, [i.gridPos, i.dataPos, n, s])
        }
        ,
        this.onMouseDown = function(t) {
            var i = l(t)
              , s = t.data.plot
              , n = h(i.gridPos, s)
              , a = e.Event("jqplotMouseDown");
            a.pageX = t.pageX,
            a.pageY = t.pageY,
            e(this).trigger(a, [i.gridPos, i.dataPos, n, s])
        }
        ,
        this.onMouseUp = function(t) {
            var i = l(t)
              , s = e.Event("jqplotMouseUp");
            s.pageX = t.pageX,
            s.pageY = t.pageY,
            e(this).trigger(s, [i.gridPos, i.dataPos, null, t.data.plot])
        }
        ,
        this.onRightClick = function(t) {
            var i = l(t)
              , s = t.data.plot
              , n = h(i.gridPos, s);
            if (s.captureRightClick)
                if (3 == t.which) {
                    var a = e.Event("jqplotRightClick");
                    a.pageX = t.pageX,
                    a.pageY = t.pageY,
                    e(this).trigger(a, [i.gridPos, i.dataPos, n, s])
                } else {
                    var a = e.Event("jqplotMouseUp");
                    a.pageX = t.pageX,
                    a.pageY = t.pageY,
                    e(this).trigger(a, [i.gridPos, i.dataPos, n, s])
                }
        }
        ,
        this.onMouseMove = function(t) {
            var i = l(t)
              , s = t.data.plot
              , n = h(i.gridPos, s)
              , a = e.Event("jqplotMouseMove");
            a.pageX = t.pageX,
            a.pageY = t.pageY,
            e(this).trigger(a, [i.gridPos, i.dataPos, n, s])
        }
        ,
        this.onMouseEnter = function(t) {
            var i = l(t)
              , s = t.data.plot
              , n = e.Event("jqplotMouseEnter");
            n.pageX = t.pageX,
            n.pageY = t.pageY,
            n.relatedTarget = t.relatedTarget,
            e(this).trigger(n, [i.gridPos, i.dataPos, null, s])
        }
        ,
        this.onMouseLeave = function(t) {
            var i = l(t)
              , s = t.data.plot
              , n = e.Event("jqplotMouseLeave");
            n.pageX = t.pageX,
            n.pageY = t.pageY,
            n.relatedTarget = t.relatedTarget,
            e(this).trigger(n, [i.gridPos, i.dataPos, null, s])
        }
        ,
        this.drawSeries = function(t, i) {
            var s, n, a;
            if (i = "number" == typeof t && null == i ? t : i,
            t = "object" == typeof t ? t : {},
            i != D)
                n = this.series[i],
                a = n.shadowCanvas._ctx,
                a.clearRect(0, 0, a.canvas.width, a.canvas.height),
                n.drawShadow(a, t, this),
                a = n.canvas._ctx,
                a.clearRect(0, 0, a.canvas.width, a.canvas.height),
                n.draw(a, t, this),
                n.renderer.constructor == e.jqplot.BezierCurveRenderer && i < this.series.length - 1 && this.drawSeries(i + 1);
            else
                for (s = 0; s < this.series.length; s++)
                    n = this.series[s],
                    a = n.shadowCanvas._ctx,
                    a.clearRect(0, 0, a.canvas.width, a.canvas.height),
                    n.drawShadow(a, t, this),
                    a = n.canvas._ctx,
                    a.clearRect(0, 0, a.canvas.width, a.canvas.height),
                    n.draw(a, t, this);
            t = i = s = n = a = null
        }
        ,
        this.moveSeriesToFront = function(t) {
            t = parseInt(t, 10);
            var i = e.inArray(t, this.seriesStack);
            if (i != -1) {
                if (i == this.seriesStack.length - 1)
                    return void (this.previousSeriesStack = this.seriesStack.slice(0));
                var s = this.seriesStack[this.seriesStack.length - 1]
                  , n = this.series[t].canvas._elem.detach()
                  , a = this.series[t].shadowCanvas._elem.detach();
                this.series[s].shadowCanvas._elem.after(a),
                this.series[s].canvas._elem.after(n),
                this.previousSeriesStack = this.seriesStack.slice(0),
                this.seriesStack.splice(i, 1),
                this.seriesStack.push(t)
            }
        }
        ,
        this.moveSeriesToBack = function(t) {
            t = parseInt(t, 10);
            var i = e.inArray(t, this.seriesStack);
            if (0 != i && i != -1) {
                var s = this.seriesStack[0]
                  , n = this.series[t].canvas._elem.detach()
                  , a = this.series[t].shadowCanvas._elem.detach();
                this.series[s].shadowCanvas._elem.before(a),
                this.series[s].canvas._elem.before(n),
                this.previousSeriesStack = this.seriesStack.slice(0),
                this.seriesStack.splice(i, 1),
                this.seriesStack.unshift(t)
            }
        }
        ,
        this.restorePreviousSeriesOrder = function() {
            var e, t, i, s, n, a;
            if (this.seriesStack != this.previousSeriesStack) {
                for (e = 1; e < this.previousSeriesStack.length; e++)
                    n = this.previousSeriesStack[e],
                    a = this.previousSeriesStack[e - 1],
                    t = this.series[n].canvas._elem.detach(),
                    i = this.series[n].shadowCanvas._elem.detach(),
                    this.series[a].shadowCanvas._elem.after(i),
                    this.series[a].canvas._elem.after(t);
                s = this.seriesStack.slice(0),
                this.seriesStack = this.previousSeriesStack.slice(0),
                this.previousSeriesStack = s
            }
        }
        ,
        this.restoreOriginalSeriesOrder = function() {
            var e, t, i, s = [];
            for (e = 0; e < this.series.length; e++)
                s.push(e);
            if (this.seriesStack != s)
                for (this.previousSeriesStack = this.seriesStack.slice(0),
                this.seriesStack = s,
                e = 1; e < this.seriesStack.length; e++)
                    t = this.series[e].canvas._elem.detach(),
                    i = this.series[e].shadowCanvas._elem.detach(),
                    this.series[e - 1].shadowCanvas._elem.after(i),
                    this.series[e - 1].canvas._elem.after(t)
        }
        ,
        this.activateTheme = function(e) {
            this.themeEngine.activate(this, e)
        }
    }
    function o(e, t) {
        return (3.4182054 + t) * Math.pow(e, -.3534992)
    }
    function l(e) {
        var t = (Math.exp(2 * e) - 1) / (Math.exp(2 * e) + 1);
        return t
    }
    function h(e) {
        function t(e, t) {
            return e - t == 0 ? Math.pow(10, 10) : e - t
        }
        var i = this.renderer.smooth
          , s = this.canvas.getWidth()
          , n = this._xaxis.series_p2u
          , a = this._yaxis.series_p2u
          , r = null
          , l = e.length / s
          , h = []
          , c = [];
        r = isNaN(parseFloat(i)) ? o(l, .5) : parseFloat(i);
        for (var d = [], u = [], p = 0, f = e.length; p < f; p++)
            d.push(e[p][1]),
            u.push(e[p][0]);
        for (var g, m, v, b, y = e.length - 1, w = 1, _ = e.length; w < _; w++) {
            for (var k = [], x = [], C = 0; C < 2; C++) {
                var p = w - 1 + C;
                0 == p || p == y ? k[C] = Math.pow(10, 10) : d[p + 1] - d[p] == 0 || d[p] - d[p - 1] == 0 ? k[C] = 0 : (u[p + 1] - u[p]) / (d[p + 1] - d[p]) + (u[p] - u[p - 1]) / (d[p] - d[p - 1]) == 0 ? k[C] = 0 : (d[p + 1] - d[p]) * (d[p] - d[p - 1]) < 0 ? k[C] = 0 : k[C] = 2 / (t(u[p + 1], u[p]) / (d[p + 1] - d[p]) + t(u[p], u[p - 1]) / (d[p] - d[p - 1]))
            }
            1 == w ? k[0] = 1.5 * (d[1] - d[0]) / t(u[1], u[0]) - k[1] / 2 : w == y && (k[1] = 1.5 * (d[y] - d[y - 1]) / t(u[y], u[y - 1]) - k[0] / 2),
            x[0] = -2 * (k[1] + 2 * k[0]) / t(u[w], u[w - 1]) + 6 * (d[w] - d[w - 1]) / Math.pow(t(u[w], u[w - 1]), 2),
            x[1] = 2 * (2 * k[1] + k[0]) / t(u[w], u[w - 1]) - 6 * (d[w] - d[w - 1]) / Math.pow(t(u[w], u[w - 1]), 2),
            b = 1 / 6 * (x[1] - x[0]) / t(u[w], u[w - 1]),
            v = .5 * (u[w] * x[0] - u[w - 1] * x[1]) / t(u[w], u[w - 1]),
            m = (d[w] - d[w - 1] - v * (Math.pow(u[w], 2) - Math.pow(u[w - 1], 2)) - b * (Math.pow(u[w], 3) - Math.pow(u[w - 1], 3))) / t(u[w], u[w - 1]),
            g = d[w - 1] - m * u[w - 1] - v * Math.pow(u[w - 1], 2) - b * Math.pow(u[w - 1], 3);
            for (var T, S, P = (u[w] - u[w - 1]) / r, C = 0, f = r; C < f; C++)
                T = [],
                S = u[w - 1] + C * P,
                T.push(S),
                T.push(g + m * S + v * Math.pow(S, 2) + b * Math.pow(S, 3)),
                h.push(T),
                c.push([n(T[0]), a(T[1])])
        }
        return h.push(e[p]),
        c.push([n(e[p][0]), a(e[p][1])]),
        [h, c]
    }
    function c(e) {
        var t, i, s, n, a, r, h, c, d, u, p, f, g, m, v, b, y, w, _ = this.renderer.smooth, k = this.renderer.tension, x = this.canvas.getWidth(), C = this._xaxis.series_p2u, T = this._yaxis.series_p2u, S = null, P = null, M = null, E = null, A = null, D = null, L = null, R = e.length / x, j = [], O = [];
        S = isNaN(parseFloat(_)) ? o(R, .5) : parseFloat(_),
        isNaN(parseFloat(k)) || (k = parseFloat(k));
        for (var z = 0, I = e.length - 1; z < I; z++)
            for (null === k ? (A = Math.abs((e[z + 1][1] - e[z][1]) / (e[z + 1][0] - e[z][0])),
            m = .3,
            v = .6,
            b = (v - m) / 2,
            y = 2.5,
            w = -1.4,
            L = A / y + w,
            M = b * l(L) - b * l(w) + m,
            z > 0 && (D = Math.abs((e[z][1] - e[z - 1][1]) / (e[z][0] - e[z - 1][0]))),
            L = D / y + w,
            E = b * l(L) - b * l(w) + m,
            P = (M + E) / 2) : P = k,
            t = 0; t < S; t++)
                i = t / S,
                s = (1 + 2 * i) * Math.pow(1 - i, 2),
                n = i * Math.pow(1 - i, 2),
                a = Math.pow(i, 2) * (3 - 2 * i),
                r = Math.pow(i, 2) * (i - 1),
                e[z - 1] ? (h = P * (e[z + 1][0] - e[z - 1][0]),
                c = P * (e[z + 1][1] - e[z - 1][1])) : (h = P * (e[z + 1][0] - e[z][0]),
                c = P * (e[z + 1][1] - e[z][1])),
                e[z + 2] ? (d = P * (e[z + 2][0] - e[z][0]),
                u = P * (e[z + 2][1] - e[z][1])) : (d = P * (e[z + 1][0] - e[z][0]),
                u = P * (e[z + 1][1] - e[z][1])),
                p = s * e[z][0] + a * e[z + 1][0] + n * h + r * d,
                f = s * e[z][1] + a * e[z + 1][1] + n * c + r * u,
                g = [p, f],
                j.push(g),
                O.push([C(p), T(f)]);
        return j.push(e[I]),
        O.push([C(e[I][0]), T(e[I][1])]),
        [j, O]
    }
    function d(t, i, s) {
        for (var n = 0; n < this.series.length; n++)
            this.series[n].renderer.constructor == e.jqplot.LineRenderer && this.series[n].highlightMouseOver && (this.series[n].highlightMouseDown = !1)
    }
    function u() {
        this.plugins.lineRenderer && this.plugins.lineRenderer.highlightCanvas && (this.plugins.lineRenderer.highlightCanvas.resetCanvas(),
        this.plugins.lineRenderer.highlightCanvas = null),
        this.plugins.lineRenderer.highlightedSeriesIndex = null,
        this.plugins.lineRenderer.highlightCanvas = new e.jqplot.GenericCanvas,
        this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding, "jqplot-lineRenderer-highlight-canvas", this._plotDimensions, this)),
        this.plugins.lineRenderer.highlightCanvas.setContext(),
        this.eventCanvas._elem.bind("mouseleave", {
            plot: this
        }, function(e) {
            f(e.data.plot)
        })
    }
    function p(e, t, i, s) {
        var n = e.series[t]
          , a = e.plugins.lineRenderer.highlightCanvas;
        a._ctx.clearRect(0, 0, a._ctx.canvas.width, a._ctx.canvas.height),
        n._highlightedPoint = i,
        e.plugins.lineRenderer.highlightedSeriesIndex = t;
        var r = {
            fillStyle: n.highlightColor
        };
        "line" === n.type && n.renderer.bands.show && (r.fill = !0,
        r.closePath = !0),
        n.renderer.shapeRenderer.draw(a._ctx, s, r),
        a = null
    }
    function f(e) {
        var t = e.plugins.lineRenderer.highlightCanvas;
        t._ctx.clearRect(0, 0, t._ctx.canvas.width, t._ctx.canvas.height);
        for (var i = 0; i < e.series.length; i++)
            e.series[i]._highlightedPoint = null;
        e.plugins.lineRenderer.highlightedSeriesIndex = null,
        e.target.trigger("jqplotDataUnhighlight"),
        t = null
    }
    function g(e, t, i, s, n) {
        if (s) {
            var a = [s.seriesIndex, s.pointIndex, s.data]
              , r = jQuery.Event("jqplotDataMouseOver");
            if (r.pageX = e.pageX,
            r.pageY = e.pageY,
            n.target.trigger(r, a),
            n.series[a[0]].highlightMouseOver && a[0] != n.plugins.lineRenderer.highlightedSeriesIndex) {
                var o = jQuery.Event("jqplotDataHighlight");
                o.which = e.which,
                o.pageX = e.pageX,
                o.pageY = e.pageY,
                n.target.trigger(o, a),
                p(n, s.seriesIndex, s.pointIndex, s.points)
            }
        } else
            null == s && f(n)
    }
    function m(e, t, i, s, n) {
        if (s) {
            var a = [s.seriesIndex, s.pointIndex, s.data];
            if (n.series[a[0]].highlightMouseDown && a[0] != n.plugins.lineRenderer.highlightedSeriesIndex) {
                var r = jQuery.Event("jqplotDataHighlight");
                r.which = e.which,
                r.pageX = e.pageX,
                r.pageY = e.pageY,
                n.target.trigger(r, a),
                p(n, s.seriesIndex, s.pointIndex, s.points)
            }
        } else
            null == s && f(n)
    }
    function v(e, t, i, s, n) {
        var a = n.plugins.lineRenderer.highlightedSeriesIndex;
        null != a && n.series[a].highlightMouseDown && f(n)
    }
    function b(e, t, i, s, n) {
        if (s) {
            var a = [s.seriesIndex, s.pointIndex, s.data]
              , r = jQuery.Event("jqplotDataClick");
            r.which = e.which,
            r.pageX = e.pageX,
            r.pageY = e.pageY,
            n.target.trigger(r, a)
        }
    }
    function y(e, t, i, s, n) {
        if (s) {
            var a = [s.seriesIndex, s.pointIndex, s.data]
              , r = n.plugins.lineRenderer.highlightedSeriesIndex;
            null != r && n.series[r].highlightMouseDown && f(n);
            var o = jQuery.Event("jqplotDataRightClick");
            o.which = e.which,
            o.pageX = e.pageX,
            o.pageY = e.pageY,
            n.target.trigger(o, a)
        }
    }
    function w(e) {
        var t;
        if (e = Math.abs(e),
        e >= 10)
            t = "%d";
        else if (e > 1)
            t = e === parseInt(e, 10) ? "%d" : "%.1f";
        else {
            var i = -Math.floor(Math.log(e) / Math.LN10);
            t = "%." + i + "f"
        }
        return t
    }
    function _(t, i, s) {
        for (var n, a, r, o, l, h, c, d = Math.floor(s / 2), u = Math.ceil(1.5 * s), p = Number.MAX_VALUE, f = i - t, g = e.jqplot.getSignificantFigures, m = 0, v = u - d + 1; m < v; m++)
            h = d + m,
            n = f / (h - 1),
            a = g(n),
            n = Math.abs(s - h) + a.digitsRight,
            n < p ? (p = n,
            r = h,
            c = a.digitsRight) : n === p && a.digitsRight < c && (r = h,
            c = a.digitsRight);
        return o = Math.max(c, Math.max(g(t).digitsRight, g(i).digitsRight)),
        l = 0 === o ? "%d" : "%." + o + "f",
        n = f / (r - 1),
        [t, i, r, l, n]
    }
    function k(e, t) {
        t = t || 7;
        var i, s = e / (t - 1), n = Math.pow(10, Math.floor(Math.log(s) / Math.LN10)), a = s / n;
        return i = n < 1 ? a > 5 ? 10 * n : a > 2 ? 5 * n : a > 1 ? 2 * n : n : a > 5 ? 10 * n : a > 4 ? 5 * n : a > 3 ? 4 * n : a > 2 ? 3 * n : a > 1 ? 2 * n : n
    }
    function x(e, t) {
        t = t || 1;
        var i, s = Math.floor(Math.log(e) / Math.LN10), n = Math.pow(10, s), a = e / n;
        return a /= t,
        i = a <= .38 ? .1 : a <= 1.6 ? .2 : a <= 4 ? .5 : a <= 8 ? 1 : a <= 16 ? 2 : 5,
        i * n
    }
    function C(e, t) {
        var i, s, n = Math.floor(Math.log(e) / Math.LN10), a = Math.pow(10, n), r = e / a;
        return r /= t,
        s = r <= .38 ? .1 : r <= 1.6 ? .2 : r <= 4 ? .5 : r <= 8 ? 1 : r <= 16 ? 2 : 5,
        i = s * a,
        [i, s, a]
    }
    function T(e, t) {
        return e - t
    }
    function S(e) {
        if (null == e || "object" != typeof e)
            return e;
        var t = new e.constructor;
        for (var i in e)
            t[i] = S(e[i]);
        return t
    }
    function P(e, t) {
        if (null != t && "object" == typeof t)
            for (var i in t)
                "highlightColors" == i && (e[i] = S(t[i])),
                null != t[i] && "object" == typeof t[i] ? (e.hasOwnProperty(i) || (e[i] = {}),
                P(e[i], t[i])) : e[i] = t[i]
    }
    function M(e, t) {
        if (t.indexOf)
            return t.indexOf(e);
        for (var i = 0, s = t.length; i < s; i++)
            if (t[i] === e)
                return i;
        return -1
    }
    function E(e) {
        return null === e ? "[object Null]" : Object.prototype.toString.call(e)
    }
    function A(t, i, s, n) {
        return e.isPlainObject(t) ? t : (t = {
            effect: t
        },
        i === D && (i = {}),
        e.isFunction(i) && (n = i,
        s = null,
        i = {}),
        ("number" === e.type(i) || e.fx.speeds[i]) && (n = s,
        s = i,
        i = {}),
        e.isFunction(s) && (n = s,
        s = null),
        i && e.extend(t, i),
        s = s || i.duration,
        t.duration = e.fx.off ? 0 : "number" == typeof s ? s : s in e.fx.speeds ? e.fx.speeds[s] : e.fx.speeds._default,
        t.complete = n || i.complete,
        t)
    }
    var D;
    e.fn.emptyForce = function() {
        for (var t, i = 0; null != (t = e(this)[i]); i++) {
            if (1 === t.nodeType && e.cleanData(t.getElementsByTagName("*")),
            e.jqplot.use_excanvas)
                t.outerHTML = "";
            else
                for (; t.firstChild; )
                    t.removeChild(t.firstChild);
            t = null
        }
        return e(this)
    }
    ,
    e.fn.removeChildForce = function(e) {
        for (; e.firstChild; )
            this.removeChildForce(e.firstChild),
            e.removeChild(e.firstChild)
    }
    ,
    e.fn.jqplot = function() {
        for (var t = [], i = [], s = 0, n = arguments.length; s < n; s++)
            e.isArray(arguments[s]) ? t.push(arguments[s]) : e.isPlainObject(arguments[s]) && i.push(arguments[s]);
        return this.each(function(s) {
            var n, a, r, o, l = e(this), h = t.length, c = i.length;
            r = s < h ? t[s] : h ? t[h - 1] : null,
            o = s < c ? i[s] : c ? i[c - 1] : null,
            n = l.attr("id"),
            n === D && (n = "jqplot_target_" + e.jqplot.targetCounter++,
            l.attr("id", n)),
            a = e.jqplot(n, r, o),
            l.data("jqplot", a)
        })
    }
    ,
    e.jqplot = function(t, i, s) {
        var n = null
          , a = null;
        3 === arguments.length ? (n = i,
        a = s) : 2 === arguments.length && (e.isArray(i) ? n = i : e.isPlainObject(i) && (a = i)),
        null === n && null !== a && a.data && (n = a.data);
        var o = new r;
        if (e("#" + t).removeClass("jqplot-error"),
        !e.jqplot.config.catchErrors)
            return o.init(t, n, a),
            o.draw(),
            o.themeEngine.init.call(o),
            o;
        try {
            return o.init(t, n, a),
            o.draw(),
            o.themeEngine.init.call(o),
            o
        } catch (i) {
            var l = e.jqplot.config.errorMessage || i.message;
            e("#" + t).append('<div class="jqplot-error-message">' + l + "</div>"),
            e("#" + t).addClass("jqplot-error"),
            document.getElementById(t).style.background = e.jqplot.config.errorBackground,
            document.getElementById(t).style.border = e.jqplot.config.errorBorder,
            document.getElementById(t).style.fontFamily = e.jqplot.config.errorFontFamily,
            document.getElementById(t).style.fontSize = e.jqplot.config.errorFontSize,
            document.getElementById(t).style.fontStyle = e.jqplot.config.errorFontStyle,
            document.getElementById(t).style.fontWeight = e.jqplot.config.errorFontWeight
        }
    }
    ,
    e.jqplot.version = "1.0.8",
    e.jqplot.revision = "1250",
    e.jqplot.targetCounter = 1,
    e.jqplot.CanvasManager = function() {
        "undefined" == typeof e.jqplot.CanvasManager.canvases && (e.jqplot.CanvasManager.canvases = [],
        e.jqplot.CanvasManager.free = []);
        var t = [];
        this.getCanvas = function() {
            var i, s = !0;
            if (!e.jqplot.use_excanvas)
                for (var n = 0, a = e.jqplot.CanvasManager.canvases.length; n < a; n++)
                    if (e.jqplot.CanvasManager.free[n] === !0) {
                        s = !1,
                        i = e.jqplot.CanvasManager.canvases[n],
                        e.jqplot.CanvasManager.free[n] = !1,
                        t.push(n);
                        break
                    }
            return s && (i = document.createElement("canvas"),
            t.push(e.jqplot.CanvasManager.canvases.length),
            e.jqplot.CanvasManager.canvases.push(i),
            e.jqplot.CanvasManager.free.push(!1)),
            i
        }
        ,
        this.initCanvas = function(t) {
            return e.jqplot.use_excanvas ? window.G_vmlCanvasManager.initElement(t) : t
        }
        ,
        this.freeAllCanvases = function() {
            for (var e = 0, i = t.length; e < i; e++)
                this.freeCanvas(t[e]);
            t = []
        }
        ,
        this.freeCanvas = function(t) {
            if (e.jqplot.use_excanvas && window.G_vmlCanvasManager.uninitElement !== D)
                window.G_vmlCanvasManager.uninitElement(e.jqplot.CanvasManager.canvases[t]),
                e.jqplot.CanvasManager.canvases[t] = null;
            else {
                var i = e.jqplot.CanvasManager.canvases[t];
                i.getContext("2d").clearRect(0, 0, i.width, i.height),
                e(i).unbind().removeAttr("class").removeAttr("style"),
                e(i).css({
                    left: "",
                    top: "",
                    position: ""
                }),
                i.width = 0,
                i.height = 0,
                e.jqplot.CanvasManager.free[t] = !0
            }
        }
    }
    ,
    e.jqplot.log = function() {
        window.console && window.console.log.apply(window.console, arguments)
    }
    ,
    e.jqplot.config = {
        addDomReference: !1,
        enablePlugins: !1,
        defaultHeight: 300,
        defaultWidth: 400,
        UTCAdjust: !1,
        timezoneOffset: new Date(6e4 * (new Date).getTimezoneOffset()),
        errorMessage: "",
        errorBackground: "",
        errorBorder: "",
        errorFontFamily: "",
        errorFontSize: "",
        errorFontStyle: "",
        errorFontWeight: "",
        catchErrors: !1,
        defaultTickFormatString: "%.1f",
        defaultColors: ["#4bb2c5", "#EAA228", "#c5b47f", "#579575", "#839557", "#958c12", "#953579", "#4b5de4", "#d8b83f", "#ff5800", "#0085cc", "#c747a3", "#cddf54", "#FBD178", "#26B4E3", "#bd70c7"],
        defaultNegativeColors: ["#498991", "#C08840", "#9F9274", "#546D61", "#646C4A", "#6F6621", "#6E3F5F", "#4F64B0", "#A89050", "#C45923", "#187399", "#945381", "#959E5C", "#C7AF7B", "#478396", "#907294"],
        dashLength: 4,
        gapLength: 4,
        dotGapLength: 2.5,
        srcLocation: "jqplot/src/",
        pluginLocation: "jqplot/src/plugins/"
    },
    e.jqplot.arrayMax = function(e) {
        return Math.max.apply(Math, e)
    }
    ,
    e.jqplot.arrayMin = function(e) {
        return Math.min.apply(Math, e)
    }
    ,
    e.jqplot.enablePlugins = e.jqplot.config.enablePlugins,
    e.jqplot.support_canvas = function() {
        return "undefined" == typeof e.jqplot.support_canvas.result && (e.jqplot.support_canvas.result = !!document.createElement("canvas").getContext),
        e.jqplot.support_canvas.result
    }
    ,
    e.jqplot.support_canvas_text = function() {
        return "undefined" == typeof e.jqplot.support_canvas_text.result && (window.G_vmlCanvasManager !== D && window.G_vmlCanvasManager._version > 887 ? e.jqplot.support_canvas_text.result = !0 : e.jqplot.support_canvas_text.result = !(!document.createElement("canvas").getContext || "function" != typeof document.createElement("canvas").getContext("2d").fillText)),
        e.jqplot.support_canvas_text.result
    }
    ,
    e.jqplot.use_excanvas = !(e.support.boxModel && e.support.objectAll && $support.leadingWhitespace || e.jqplot.support_canvas()),
    e.jqplot.preInitHooks = [],
    e.jqplot.postInitHooks = [],
    e.jqplot.preParseOptionsHooks = [],
    e.jqplot.postParseOptionsHooks = [],
    e.jqplot.preDrawHooks = [],
    e.jqplot.postDrawHooks = [],
    e.jqplot.preDrawSeriesHooks = [],
    e.jqplot.postDrawSeriesHooks = [],
    e.jqplot.preDrawLegendHooks = [],
    e.jqplot.addLegendRowHooks = [],
    e.jqplot.preSeriesInitHooks = [],
    e.jqplot.postSeriesInitHooks = [],
    e.jqplot.preParseSeriesOptionsHooks = [],
    e.jqplot.postParseSeriesOptionsHooks = [],
    e.jqplot.eventListenerHooks = [],
    e.jqplot.preDrawSeriesShadowHooks = [],
    e.jqplot.postDrawSeriesShadowHooks = [],
    e.jqplot.ElemContainer = function() {
        this._elem,
        this._plotWidth,
        this._plotHeight,
        this._plotDimensions = {
            height: null,
            width: null
        }
    }
    ,
    e.jqplot.ElemContainer.prototype.createElement = function(t, i, s, n, a) {
        this._offsets = i;
        var r = s || "jqplot"
          , o = document.createElement(t);
        return this._elem = e(o),
        this._elem.addClass(r),
        this._elem.css(n),
        this._elem.attr(a),
        o = null,
        this._elem
    }
    ,
    e.jqplot.ElemContainer.prototype.getWidth = function() {
        return this._elem ? this._elem.outerWidth(!0) : null
    }
    ,
    e.jqplot.ElemContainer.prototype.getHeight = function() {
        return this._elem ? this._elem.outerHeight(!0) : null
    }
    ,
    e.jqplot.ElemContainer.prototype.getPosition = function() {
        return this._elem ? this._elem.position() : {
            top: null,
            left: null,
            bottom: null,
            right: null
        }
    }
    ,
    e.jqplot.ElemContainer.prototype.getTop = function() {
        return this.getPosition().top
    }
    ,
    e.jqplot.ElemContainer.prototype.getLeft = function() {
        return this.getPosition().left
    }
    ,
    e.jqplot.ElemContainer.prototype.getBottom = function() {
        return this._elem.css("bottom")
    }
    ,
    e.jqplot.ElemContainer.prototype.getRight = function() {
        return this._elem.css("right")
    }
    ,
    t.prototype = new e.jqplot.ElemContainer,
    t.prototype.constructor = t,
    t.prototype.init = function() {
        e.isFunction(this.renderer) && (this.renderer = new this.renderer),
        this.tickOptions.axis = this.name,
        null == this.tickOptions.showMark && (this.tickOptions.showMark = this.showTicks),
        null == this.tickOptions.showMark && (this.tickOptions.showMark = this.showTickMarks),
        null == this.tickOptions.showLabel && (this.tickOptions.showLabel = this.showTicks),
        null == this.label || "" == this.label ? this.showLabel = !1 : this.labelOptions.label = this.label,
        0 == this.showLabel && (this.labelOptions.show = !1),
        0 == this.pad && (this.pad = 1),
        0 == this.padMax && (this.padMax = 1),
        0 == this.padMin && (this.padMin = 1),
        null == this.padMax && (this.padMax = (this.pad - 1) / 2 + 1),
        null == this.padMin && (this.padMin = (this.pad - 1) / 2 + 1),
        this.pad = this.padMax + this.padMin - 1,
        null == this.min && null == this.max || (this.autoscale = !1),
        null == this.syncTicks && this.name.indexOf("y") > -1 ? this.syncTicks = !0 : null == this.syncTicks && (this.syncTicks = !1),
        this.renderer.init.call(this, this.rendererOptions)
    }
    ,
    t.prototype.draw = function(e, t) {
        return this.__ticks && (this.__ticks = null),
        this.renderer.draw.call(this, e, t)
    }
    ,
    t.prototype.set = function() {
        this.renderer.set.call(this)
    }
    ,
    t.prototype.pack = function(e, t) {
        this.show && this.renderer.pack.call(this, e, t),
        null == this._min && (this._min = this.min,
        this._max = this.max,
        this._tickInterval = this.tickInterval,
        this._numberTicks = this.numberTicks,
        this.__ticks = this._ticks)
    }
    ,
    t.prototype.reset = function() {
        this.renderer.reset.call(this)
    }
    ,
    t.prototype.resetScale = function(t) {
        e.extend(!0, this, {
            min: null,
            max: null,
            numberTicks: null,
            tickInterval: null,
            _ticks: [],
            ticks: []
        }, t),
        this.resetDataBounds()
    }
    ,
    t.prototype.resetDataBounds = function() {
        var t = this._dataBounds;
        t.min = null,
        t.max = null;
        for (var i, s, n, a = !!this.show, r = 0; r < this._series.length; r++)
            if (s = this._series[r],
            s.show || this.scaleToHiddenSeries) {
                n = s._plotData,
                "line" === s._type && s.renderer.bands.show && "x" !== this.name.charAt(0) && (n = [[0, s.renderer.bands._min], [1, s.renderer.bands._max]]);
                var o = 1
                  , l = 1;
                null != s._type && "ohlc" == s._type && (o = 3,
                l = 2);
                for (var h = 0, i = n.length; h < i; h++)
                    "xaxis" == this.name || "x2axis" == this.name ? ((null != n[h][0] && n[h][0] < t.min || null == t.min) && (t.min = n[h][0]),
                    (null != n[h][0] && n[h][0] > t.max || null == t.max) && (t.max = n[h][0])) : ((null != n[h][o] && n[h][o] < t.min || null == t.min) && (t.min = n[h][o]),
                    (null != n[h][l] && n[h][l] > t.max || null == t.max) && (t.max = n[h][l]));
                a && s.renderer.constructor !== e.jqplot.BarRenderer ? a = !1 : a && this._options.hasOwnProperty("forceTickAt0") && 0 == this._options.forceTickAt0 ? a = !1 : a && s.renderer.constructor === e.jqplot.BarRenderer && ("vertical" == s.barDirection && "xaxis" != this.name && "x2axis" != this.name ? null == this._options.pad && null == this._options.padMin || (a = !1) : "horizontal" != s.barDirection || "xaxis" != this.name && "x2axis" != this.name || null == this._options.pad && null == this._options.padMin || (a = !1))
            }
        a && this.renderer.constructor === e.jqplot.LinearAxisRenderer && t.min >= 0 && (this.padMin = 1,
        this.forceTickAt0 = !0)
    }
    ,
    i.prototype = new e.jqplot.ElemContainer,
    i.prototype.constructor = i,
    i.prototype.setOptions = function(t) {
        if (e.extend(!0, this, t),
        "inside" == this.placement && (this.placement = "insideGrid"),
        this.xoffset > 0) {
            if ("insideGrid" == this.placement)
                switch (this.location) {
                case "nw":
                case "w":
                case "sw":
                    null == this.marginLeft && (this.marginLeft = this.xoffset + "px"),
                    this.marginRight = "0px";
                    break;
                case "ne":
                case "e":
                case "se":
                default:
                    null == this.marginRight && (this.marginRight = this.xoffset + "px"),
                    this.marginLeft = "0px"
                }
            else if ("outside" == this.placement)
                switch (this.location) {
                case "nw":
                case "w":
                case "sw":
                    null == this.marginRight && (this.marginRight = this.xoffset + "px"),
                    this.marginLeft = "0px";
                    break;
                case "ne":
                case "e":
                case "se":
                default:
                    null == this.marginLeft && (this.marginLeft = this.xoffset + "px"),
                    this.marginRight = "0px"
                }
            this.xoffset = 0
        }
        if (this.yoffset > 0) {
            if ("outside" == this.placement)
                switch (this.location) {
                case "sw":
                case "s":
                case "se":
                    null == this.marginTop && (this.marginTop = this.yoffset + "px"),
                    this.marginBottom = "0px";
                    break;
                case "ne":
                case "n":
                case "nw":
                default:
                    null == this.marginBottom && (this.marginBottom = this.yoffset + "px"),
                    this.marginTop = "0px"
                }
            else if ("insideGrid" == this.placement)
                switch (this.location) {
                case "sw":
                case "s":
                case "se":
                    null == this.marginBottom && (this.marginBottom = this.yoffset + "px"),
                    this.marginTop = "0px";
                    break;
                case "ne":
                case "n":
                case "nw":
                default:
                    null == this.marginTop && (this.marginTop = this.yoffset + "px"),
                    this.marginBottom = "0px"
                }
            this.yoffset = 0
        }
    }
    ,
    i.prototype.init = function() {
        e.isFunction(this.renderer) && (this.renderer = new this.renderer),
        this.renderer.init.call(this, this.rendererOptions)
    }
    ,
    i.prototype.draw = function(t, i) {
        for (var s = 0; s < e.jqplot.preDrawLegendHooks.length; s++)
            e.jqplot.preDrawLegendHooks[s].call(this, t);
        return this.renderer.draw.call(this, t, i)
    }
    ,
    i.prototype.pack = function(e) {
        this.renderer.pack.call(this, e)
    }
    ,
    s.prototype = new e.jqplot.ElemContainer,
    s.prototype.constructor = s,
    s.prototype.init = function() {
        e.isFunction(this.renderer) && (this.renderer = new this.renderer),
        this.renderer.init.call(this, this.rendererOptions)
    }
    ,
    s.prototype.draw = function(e) {
        return this.renderer.draw.call(this, e)
    }
    ,
    s.prototype.pack = function() {
        this.renderer.pack.call(this)
    }
    ,
    n.prototype = new e.jqplot.ElemContainer,
    n.prototype.constructor = n,
    n.prototype.init = function(t, i, s) {
        this.index = t,
        this.gridBorderWidth = i;
        var n, a, r = this.data, o = [];
        for (n = 0,
        a = r.length; n < a; n++)
            if (this.breakOnNull)
                o.push(r[n]);
            else {
                if (null == r[n] || null == r[n][0] || null == r[n][1])
                    continue;
                o.push(r[n])
            }
        if (this.data = o,
        this.color || (this.color = s.colorGenerator.get(this.index)),
        this.negativeColor || (this.negativeColor = s.negativeColorGenerator.get(this.index)),
        this.fillColor || (this.fillColor = this.color),
        this.fillAlpha) {
            var l = e.jqplot.normalize2rgb(this.fillColor)
              , l = e.jqplot.getColorComponents(l);
            this.fillColor = "rgba(" + l[0] + "," + l[1] + "," + l[2] + "," + this.fillAlpha + ")"
        }
        e.isFunction(this.renderer) && (this.renderer = new this.renderer),
        this.renderer.init.call(this, this.rendererOptions, s),
        this.markerRenderer = new this.markerRenderer,
        this.markerOptions.color || (this.markerOptions.color = this.color),
        null == this.markerOptions.show && (this.markerOptions.show = this.showMarker),
        this.showMarker = this.markerOptions.show,
        this.markerRenderer.init(this.markerOptions)
    }
    ,
    n.prototype.draw = function(t, i, s) {
        var n = i == D ? {} : i;
        t = t == D ? this.canvas._ctx : t;
        var a, r, o;
        for (a = 0; a < e.jqplot.preDrawSeriesHooks.length; a++)
            e.jqplot.preDrawSeriesHooks[a].call(this, t, n);
        for (this.show && (this.renderer.setGridData.call(this, s),
        n.preventJqPlotSeriesDrawTrigger || e(t.canvas).trigger("jqplotSeriesDraw", [this.data, this.gridData]),
        r = [],
        r = n.data ? n.data : this._stack ? this._plotData : this.data,
        o = n.gridData || this.renderer.makeGridData.call(this, r, s),
        "line" === this._type && this.renderer.smooth && this.renderer._smoothedData.length && (o = this.renderer._smoothedData),
        this.renderer.draw.call(this, t, o, n, s)),
        a = 0; a < e.jqplot.postDrawSeriesHooks.length; a++)
            e.jqplot.postDrawSeriesHooks[a].call(this, t, n, s);
        t = i = s = a = r = o = null
    }
    ,
    n.prototype.drawShadow = function(t, i, s) {
        var n = i == D ? {} : i;
        t = t == D ? this.shadowCanvas._ctx : t;
        var a, r, o;
        for (a = 0; a < e.jqplot.preDrawSeriesShadowHooks.length; a++)
            e.jqplot.preDrawSeriesShadowHooks[a].call(this, t, n);
        for (this.shadow && (this.renderer.setGridData.call(this, s),
        r = [],
        r = n.data ? n.data : this._stack ? this._plotData : this.data,
        o = n.gridData || this.renderer.makeGridData.call(this, r, s),
        this.renderer.drawShadow.call(this, t, o, n, s)),
        a = 0; a < e.jqplot.postDrawSeriesShadowHooks.length; a++)
            e.jqplot.postDrawSeriesShadowHooks[a].call(this, t, n);
        t = i = s = a = r = o = null
    }
    ,
    n.prototype.toggleDisplay = function(e, t) {
        var i, s;
        i = e.data.series ? e.data.series : this,
        e.data.speed && (s = e.data.speed),
        s ? i.canvas._elem.is(":hidden") || !i.show ? (i.show = !0,
        i.canvas._elem.removeClass("jqplot-series-hidden"),
        i.shadowCanvas._elem && i.shadowCanvas._elem.fadeIn(s),
        i.canvas._elem.fadeIn(s, t),
        i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-" + i.index).fadeIn(s)) : (i.show = !1,
        i.canvas._elem.addClass("jqplot-series-hidden"),
        i.shadowCanvas._elem && i.shadowCanvas._elem.fadeOut(s),
        i.canvas._elem.fadeOut(s, t),
        i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-" + i.index).fadeOut(s)) : i.canvas._elem.is(":hidden") || !i.show ? (i.show = !0,
        i.canvas._elem.removeClass("jqplot-series-hidden"),
        i.shadowCanvas._elem && i.shadowCanvas._elem.show(),
        i.canvas._elem.show(0, t),
        i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-" + i.index).show()) : (i.show = !1,
        i.canvas._elem.addClass("jqplot-series-hidden"),
        i.shadowCanvas._elem && i.shadowCanvas._elem.hide(),
        i.canvas._elem.hide(0, t),
        i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-" + i.index).hide())
    }
    ,
    a.prototype = new e.jqplot.ElemContainer,
    a.prototype.constructor = a,
    a.prototype.init = function() {
        e.isFunction(this.renderer) && (this.renderer = new this.renderer),
        this.renderer.init.call(this, this.rendererOptions)
    }
    ,
    a.prototype.createElement = function(e, t) {
        return this._offsets = e,
        this.renderer.createElement.call(this, t)
    }
    ,
    a.prototype.draw = function() {
        this.renderer.draw.call(this)
    }
    ,
    e.jqplot.GenericCanvas = function() {
        e.jqplot.ElemContainer.call(this),
        this._ctx
    }
    ,
    e.jqplot.GenericCanvas.prototype = new e.jqplot.ElemContainer,
    e.jqplot.GenericCanvas.prototype.constructor = e.jqplot.GenericCanvas,
    e.jqplot.GenericCanvas.prototype.createElement = function(t, i, s, n) {
        this._offsets = t;
        var a = "jqplot";
        i != D && (a = i);
        var r;
        return r = n.canvasManager.getCanvas(),
        null != s && (this._plotDimensions = s),
        r.width = this._plotDimensions.width - this._offsets.left - this._offsets.right,
        r.height = this._plotDimensions.height - this._offsets.top - this._offsets.bottom,
        this._elem = e(r),
        this._elem.css({
            position: "absolute",
            left: this._offsets.left,
            top: this._offsets.top
        }),
        this._elem.addClass(a),
        r = n.canvasManager.initCanvas(r),
        r = null,
        this._elem
    }
    ,
    e.jqplot.GenericCanvas.prototype.setContext = function() {
        return this._ctx = this._elem.get(0).getContext("2d"),
        this._ctx
    }
    ,
    e.jqplot.GenericCanvas.prototype.resetCanvas = function() {
        this._elem && (e.jqplot.use_excanvas && window.G_vmlCanvasManager.uninitElement !== D && window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),
        this._elem.emptyForce()),
        this._ctx = null
    }
    ,
    e.jqplot.HooksManager = function() {
        this.hooks = [],
        this.args = []
    }
    ,
    e.jqplot.HooksManager.prototype.addOnce = function(e, t) {
        t = t || [];
        for (var i = !1, s = 0, n = this.hooks.length; s < n; s++)
            this.hooks[s] == e && (i = !0);
        i || (this.hooks.push(e),
        this.args.push(t))
    }
    ,
    e.jqplot.HooksManager.prototype.add = function(e, t) {
        t = t || [],
        this.hooks.push(e),
        this.args.push(t)
    }
    ,
    e.jqplot.EventListenerManager = function() {
        this.hooks = []
    }
    ,
    e.jqplot.EventListenerManager.prototype.addOnce = function(e, t) {
        for (var i, s, n = !1, s = 0, a = this.hooks.length; s < a; s++)
            i = this.hooks[s],
            i[0] == e && i[1] == t && (n = !0);
        n || this.hooks.push([e, t])
    }
    ,
    e.jqplot.EventListenerManager.prototype.add = function(e, t) {
        this.hooks.push([e, t])
    }
    ;
    var L = ["yMidAxis", "xaxis", "yaxis", "x2axis", "y2axis", "y3axis", "y4axis", "y5axis", "y6axis", "y7axis", "y8axis", "y9axis"];
    e.jqplot.computeHighlightColors = function(t) {
        var i;
        if (e.isArray(t)) {
            i = [];
            for (var s = 0; s < t.length; s++) {
                for (var n = e.jqplot.getColorComponents(t[s]), a = [n[0], n[1], n[2]], r = a[0] + a[1] + a[2], o = 0; o < 3; o++)
                    a[o] = r > 660 ? .85 * a[o] : .73 * a[o] + 90,
                    a[o] = parseInt(a[o], 10),
                    a[o] > 255 ? 255 : a[o];
                a[3] = .3 + .35 * n[3],
                i.push("rgba(" + a[0] + "," + a[1] + "," + a[2] + "," + a[3] + ")")
            }
        } else {
            for (var n = e.jqplot.getColorComponents(t), a = [n[0], n[1], n[2]], r = a[0] + a[1] + a[2], o = 0; o < 3; o++)
                a[o] = r > 660 ? .85 * a[o] : .73 * a[o] + 90,
                a[o] = parseInt(a[o], 10),
                a[o] > 255 ? 255 : a[o];
            a[3] = .3 + .35 * n[3],
            i = "rgba(" + a[0] + "," + a[1] + "," + a[2] + "," + a[3] + ")"
        }
        return i
    }
    ,
    e.jqplot.ColorGenerator = function(t) {
        t = t || e.jqplot.config.defaultColors;
        var i = 0;
        this.next = function() {
            return i < t.length ? t[i++] : (i = 0,
            t[i++])
        }
        ,
        this.previous = function() {
            return i > 0 ? t[i--] : (i = t.length - 1,
            t[i])
        }
        ,
        this.get = function(e) {
            var i = e - t.length * Math.floor(e / t.length);
            return t[i]
        }
        ,
        this.setColors = function(e) {
            t = e
        }
        ,
        this.reset = function() {
            i = 0
        }
        ,
        this.getIndex = function() {
            return i
        }
        ,
        this.setIndex = function(e) {
            i = e
        }
    }
    ,
    e.jqplot.hex2rgb = function(e, t) {
        e = e.replace("#", ""),
        3 == e.length && (e = e.charAt(0) + e.charAt(0) + e.charAt(1) + e.charAt(1) + e.charAt(2) + e.charAt(2));
        var i;
        return i = "rgba(" + parseInt(e.slice(0, 2), 16) + ", " + parseInt(e.slice(2, 4), 16) + ", " + parseInt(e.slice(4, 6), 16),
        t && (i += ", " + t),
        i += ")"
    }
    ,
    e.jqplot.rgb2hex = function(e) {
        for (var t = /rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/, i = e.match(t), s = "#", n = 1; n < 4; n++) {
            var a;
            i[n].search(/%/) != -1 ? (a = parseInt(255 * i[n] / 100, 10).toString(16),
            1 == a.length && (a = "0" + a)) : (a = parseInt(i[n], 10).toString(16),
            1 == a.length && (a = "0" + a)),
            s += a
        }
        return s
    }
    ,
    e.jqplot.normalize2rgb = function(t, i) {
        if (t.search(/^ *rgba?\(/) != -1)
            return t;
        if (t.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/) != -1)
            return e.jqplot.hex2rgb(t, i);
        throw new Error("Invalid color spec")
    }
    ,
    e.jqplot.getColorComponents = function(t) {
        t = e.jqplot.colorKeywordMap[t] || t;
        for (var i = e.jqplot.normalize2rgb(t), s = /rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/, n = i.match(s), a = [], r = 1; r < 4; r++)
            n[r].search(/%/) != -1 ? a[r - 1] = parseInt(255 * n[r] / 100, 10) : a[r - 1] = parseInt(n[r], 10);
        return a[3] = parseFloat(n[4]) ? parseFloat(n[4]) : 1,
        a
    }
    ,
    e.jqplot.colorKeywordMap = {
        aliceblue: "rgb(240, 248, 255)",
        antiquewhite: "rgb(250, 235, 215)",
        aqua: "rgb( 0, 255, 255)",
        aquamarine: "rgb(127, 255, 212)",
        azure: "rgb(240, 255, 255)",
        beige: "rgb(245, 245, 220)",
        bisque: "rgb(255, 228, 196)",
        black: "rgb( 0, 0, 0)",
        blanchedalmond: "rgb(255, 235, 205)",
        blue: "rgb( 0, 0, 255)",
        blueviolet: "rgb(138, 43, 226)",
        brown: "rgb(165, 42, 42)",
        burlywood: "rgb(222, 184, 135)",
        cadetblue: "rgb( 95, 158, 160)",
        chartreuse: "rgb(127, 255, 0)",
        chocolate: "rgb(210, 105, 30)",
        coral: "rgb(255, 127, 80)",
        cornflowerblue: "rgb(100, 149, 237)",
        cornsilk: "rgb(255, 248, 220)",
        crimson: "rgb(220, 20, 60)",
        cyan: "rgb( 0, 255, 255)",
        darkblue: "rgb( 0, 0, 139)",
        darkcyan: "rgb( 0, 139, 139)",
        darkgoldenrod: "rgb(184, 134, 11)",
        darkgray: "rgb(169, 169, 169)",
        darkgreen: "rgb( 0, 100, 0)",
        darkgrey: "rgb(169, 169, 169)",
        darkkhaki: "rgb(189, 183, 107)",
        darkmagenta: "rgb(139, 0, 139)",
        darkolivegreen: "rgb( 85, 107, 47)",
        darkorange: "rgb(255, 140, 0)",
        darkorchid: "rgb(153, 50, 204)",
        darkred: "rgb(139, 0, 0)",
        darksalmon: "rgb(233, 150, 122)",
        darkseagreen: "rgb(143, 188, 143)",
        darkslateblue: "rgb( 72, 61, 139)",
        darkslategray: "rgb( 47, 79, 79)",
        darkslategrey: "rgb( 47, 79, 79)",
        darkturquoise: "rgb( 0, 206, 209)",
        darkviolet: "rgb(148, 0, 211)",
        deeppink: "rgb(255, 20, 147)",
        deepskyblue: "rgb( 0, 191, 255)",
        dimgray: "rgb(105, 105, 105)",
        dimgrey: "rgb(105, 105, 105)",
        dodgerblue: "rgb( 30, 144, 255)",
        firebrick: "rgb(178, 34, 34)",
        floralwhite: "rgb(255, 250, 240)",
        forestgreen: "rgb( 34, 139, 34)",
        fuchsia: "rgb(255, 0, 255)",
        gainsboro: "rgb(220, 220, 220)",
        ghostwhite: "rgb(248, 248, 255)",
        gold: "rgb(255, 215, 0)",
        goldenrod: "rgb(218, 165, 32)",
        gray: "rgb(128, 128, 128)",
        grey: "rgb(128, 128, 128)",
        green: "rgb( 0, 128, 0)",
        greenyellow: "rgb(173, 255, 47)",
        honeydew: "rgb(240, 255, 240)",
        hotpink: "rgb(255, 105, 180)",
        indianred: "rgb(205, 92, 92)",
        indigo: "rgb( 75, 0, 130)",
        ivory: "rgb(255, 255, 240)",
        khaki: "rgb(240, 230, 140)",
        lavender: "rgb(230, 230, 250)",
        lavenderblush: "rgb(255, 240, 245)",
        lawngreen: "rgb(124, 252, 0)",
        lemonchiffon: "rgb(255, 250, 205)",
        lightblue: "rgb(173, 216, 230)",
        lightcoral: "rgb(240, 128, 128)",
        lightcyan: "rgb(224, 255, 255)",
        lightgoldenrodyellow: "rgb(250, 250, 210)",
        lightgray: "rgb(211, 211, 211)",
        lightgreen: "rgb(144, 238, 144)",
        lightgrey: "rgb(211, 211, 211)",
        lightpink: "rgb(255, 182, 193)",
        lightsalmon: "rgb(255, 160, 122)",
        lightseagreen: "rgb( 32, 178, 170)",
        lightskyblue: "rgb(135, 206, 250)",
        lightslategray: "rgb(119, 136, 153)",
        lightslategrey: "rgb(119, 136, 153)",
        lightsteelblue: "rgb(176, 196, 222)",
        lightyellow: "rgb(255, 255, 224)",
        lime: "rgb( 0, 255, 0)",
        limegreen: "rgb( 50, 205, 50)",
        linen: "rgb(250, 240, 230)",
        magenta: "rgb(255, 0, 255)",
        maroon: "rgb(128, 0, 0)",
        mediumaquamarine: "rgb(102, 205, 170)",
        mediumblue: "rgb( 0, 0, 205)",
        mediumorchid: "rgb(186, 85, 211)",
        mediumpurple: "rgb(147, 112, 219)",
        mediumseagreen: "rgb( 60, 179, 113)",
        mediumslateblue: "rgb(123, 104, 238)",
        mediumspringgreen: "rgb( 0, 250, 154)",
        mediumturquoise: "rgb( 72, 209, 204)",
        mediumvioletred: "rgb(199, 21, 133)",
        midnightblue: "rgb( 25, 25, 112)",
        mintcream: "rgb(245, 255, 250)",
        mistyrose: "rgb(255, 228, 225)",
        moccasin: "rgb(255, 228, 181)",
        navajowhite: "rgb(255, 222, 173)",
        navy: "rgb( 0, 0, 128)",
        oldlace: "rgb(253, 245, 230)",
        olive: "rgb(128, 128, 0)",
        olivedrab: "rgb(107, 142, 35)",
        orange: "rgb(255, 165, 0)",
        orangered: "rgb(255, 69, 0)",
        orchid: "rgb(218, 112, 214)",
        palegoldenrod: "rgb(238, 232, 170)",
        palegreen: "rgb(152, 251, 152)",
        paleturquoise: "rgb(175, 238, 238)",
        palevioletred: "rgb(219, 112, 147)",
        papayawhip: "rgb(255, 239, 213)",
        peachpuff: "rgb(255, 218, 185)",
        peru: "rgb(205, 133, 63)",
        pink: "rgb(255, 192, 203)",
        plum: "rgb(221, 160, 221)",
        powderblue: "rgb(176, 224, 230)",
        purple: "rgb(128, 0, 128)",
        red: "rgb(255, 0, 0)",
        rosybrown: "rgb(188, 143, 143)",
        royalblue: "rgb( 65, 105, 225)",
        saddlebrown: "rgb(139, 69, 19)",
        salmon: "rgb(250, 128, 114)",
        sandybrown: "rgb(244, 164, 96)",
        seagreen: "rgb( 46, 139, 87)",
        seashell: "rgb(255, 245, 238)",
        sienna: "rgb(160, 82, 45)",
        silver: "rgb(192, 192, 192)",
        skyblue: "rgb(135, 206, 235)",
        slateblue: "rgb(106, 90, 205)",
        slategray: "rgb(112, 128, 144)",
        slategrey: "rgb(112, 128, 144)",
        snow: "rgb(255, 250, 250)",
        springgreen: "rgb( 0, 255, 127)",
        steelblue: "rgb( 70, 130, 180)",
        tan: "rgb(210, 180, 140)",
        teal: "rgb( 0, 128, 128)",
        thistle: "rgb(216, 191, 216)",
        tomato: "rgb(255, 99, 71)",
        turquoise: "rgb( 64, 224, 208)",
        violet: "rgb(238, 130, 238)",
        wheat: "rgb(245, 222, 179)",
        white: "rgb(255, 255, 255)",
        whitesmoke: "rgb(245, 245, 245)",
        yellow: "rgb(255, 255, 0)",
        yellowgreen: "rgb(154, 205, 50)"
    },
    e.jqplot.AxisLabelRenderer = function(t) {
        e.jqplot.ElemContainer.call(this),
        this.axis,
        this.show = !0,
        this.label = "",
        this.fontFamily = null,
        this.fontSize = null,
        this.textColor = null,
        this._elem,
        this.escapeHTML = !1,
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.AxisLabelRenderer.prototype = new e.jqplot.ElemContainer,
    e.jqplot.AxisLabelRenderer.prototype.constructor = e.jqplot.AxisLabelRenderer,
    e.jqplot.AxisLabelRenderer.prototype.init = function(t) {
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.AxisLabelRenderer.prototype.draw = function(t, i) {
        return this._elem && (this._elem.emptyForce(),
        this._elem = null),
        this._elem = e('<div style="position:absolute;" class="jqplot-' + this.axis + '-label"></div>'),
        Number(this.label) && this._elem.css("white-space", "nowrap"),
        this.escapeHTML ? this._elem.text(this.label) : this._elem.html(this.label),
        this.fontFamily && this._elem.css("font-family", this.fontFamily),
        this.fontSize && this._elem.css("font-size", this.fontSize),
        this.textColor && this._elem.css("color", this.textColor),
        this._elem
    }
    ,
    e.jqplot.AxisLabelRenderer.prototype.pack = function() {}
    ,
    e.jqplot.AxisTickRenderer = function(t) {
        e.jqplot.ElemContainer.call(this),
        this.mark = "outside",
        this.axis,
        this.showMark = !0,
        this.showGridline = !0,
        this.isMinorTick = !1,
        this.size = 4,
        this.markSize = 6,
        this.show = !0,
        this.showLabel = !0,
        this.label = null,
        this.value = null,
        this._styles = {},
        this.formatter = e.jqplot.DefaultTickFormatter,
        this.prefix = "",
        this.suffix = "",
        this.formatString = "",
        this.fontFamily,
        this.fontSize,
        this.textColor,
        this.escapeHTML = !1,
        this._elem,
        this._breakTick = !1,
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.AxisTickRenderer.prototype.init = function(t) {
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.AxisTickRenderer.prototype = new e.jqplot.ElemContainer,
    e.jqplot.AxisTickRenderer.prototype.constructor = e.jqplot.AxisTickRenderer,
    e.jqplot.AxisTickRenderer.prototype.setTick = function(e, t, i) {
        return this.value = e,
        this.axis = t,
        i && (this.isMinorTick = !0),
        this
    }
    ,
    e.jqplot.AxisTickRenderer.prototype.draw = function() {
        null === this.label && (this.label = this.prefix + this.formatter(this.formatString, this.value) + this.suffix);
        var t = {
            position: "absolute"
        };
        Number(this.label) && (t.whitSpace = "nowrap"),
        this._elem && (this._elem.emptyForce(),
        this._elem = null),
        this._elem = e(document.createElement("div")),
        this._elem.addClass("jqplot-" + this.axis + "-tick"),
        this.escapeHTML ? this._elem.text(this.label) : this._elem.html(this.label),
        this._elem.css(t);
        for (var i in this._styles)
            this._elem.css(i, this._styles[i]);
        return this.fontFamily && this._elem.css("font-family", this.fontFamily),
        this.fontSize && this._elem.css("font-size", this.fontSize),
        this.textColor && this._elem.css("color", this.textColor),
        this._breakTick && this._elem.addClass("jqplot-breakTick"),
        this._elem
    }
    ,
    e.jqplot.DefaultTickFormatter = function(t, i) {
        return "number" == typeof i ? (t || (t = e.jqplot.config.defaultTickFormatString),
        e.jqplot.sprintf(t, i)) : String(i)
    }
    ,
    e.jqplot.PercentTickFormatter = function(t, i) {
        return "number" == typeof i ? (i *= 100,
        t || (t = e.jqplot.config.defaultTickFormatString),
        e.jqplot.sprintf(t, i)) : String(i)
    }
    ,
    e.jqplot.AxisTickRenderer.prototype.pack = function() {}
    ,
    e.jqplot.CanvasGridRenderer = function() {
        this.shadowRenderer = new e.jqplot.ShadowRenderer
    }
    ,
    e.jqplot.CanvasGridRenderer.prototype.init = function(t) {
        this._ctx,
        e.extend(!0, this, t);
        var i = {
            lineJoin: "miter",
            lineCap: "round",
            fill: !1,
            isarc: !1,
            angle: this.shadowAngle,
            offset: this.shadowOffset,
            alpha: this.shadowAlpha,
            depth: this.shadowDepth,
            lineWidth: this.shadowWidth,
            closePath: !1,
            strokeStyle: this.shadowColor
        };
        this.renderer.shadowRenderer.init(i)
    }
    ,
    e.jqplot.CanvasGridRenderer.prototype.createElement = function(t) {
        var i;
        this._elem && (e.jqplot.use_excanvas && window.G_vmlCanvasManager.uninitElement !== D && (i = this._elem.get(0),
        window.G_vmlCanvasManager.uninitElement(i),
        i = null),
        this._elem.emptyForce(),
        this._elem = null),
        i = t.canvasManager.getCanvas();
        var s = this._plotDimensions.width
          , n = this._plotDimensions.height;
        return i.width = s,
        i.height = n,
        this._elem = e(i),
        this._elem.addClass("jqplot-grid-canvas"),
        this._elem.css({
            position: "absolute",
            left: 0,
            top: 0
        }),
        i = t.canvasManager.initCanvas(i),
        this._top = this._offsets.top,
        this._bottom = n - this._offsets.bottom,
        this._left = this._offsets.left,
        this._right = s - this._offsets.right,
        this._width = this._right - this._left,
        this._height = this._bottom - this._top,
        i = null,
        this._elem
    }
    ,
    e.jqplot.CanvasGridRenderer.prototype.draw = function() {
        function t(t, s, n, a, r) {
            i.save(),
            r = r || {},
            null != r.lineWidth && 0 == r.lineWidth || (e.extend(!0, i, r),
            i.beginPath(),
            i.moveTo(t, s),
            i.lineTo(n, a),
            i.stroke(),
            i.restore())
        }
        this._ctx = this._elem.get(0).getContext("2d");
        var i = this._ctx
          , s = this._axes;
        i.save(),
        i.clearRect(0, 0, this._plotDimensions.width, this._plotDimensions.height),
        i.fillStyle = this.backgroundColor || this.background,
        i.fillRect(this._left, this._top, this._width, this._height),
        i.save(),
        i.lineJoin = "miter",
        i.lineCap = "butt",
        i.lineWidth = this.gridLineWidth,
        i.strokeStyle = this.gridLineColor;
        for (var n, a, r, o, l = ["xaxis", "yaxis", "x2axis", "y2axis"], h = 4; h > 0; h--) {
            var c = l[h - 1]
              , d = s[c]
              , u = d._ticks
              , p = u.length;
            if (d.show) {
                if (d.drawBaseline) {
                    var f = {};
                    switch (null !== d.baselineWidth && (f.lineWidth = d.baselineWidth),
                    null !== d.baselineColor && (f.strokeStyle = d.baselineColor),
                    c) {
                    case "xaxis":
                        t(this._left, this._bottom, this._right, this._bottom, f);
                        break;
                    case "yaxis":
                        t(this._left, this._bottom, this._left, this._top, f);
                        break;
                    case "x2axis":
                        t(this._left, this._bottom, this._right, this._bottom, f);
                        break;
                    case "y2axis":
                        t(this._right, this._bottom, this._right, this._top, f)
                    }
                }
                for (var g = p; g > 0; g--) {
                    var m = u[g - 1];
                    if (m.show) {
                        var v = Math.round(d.u2p(m.value)) + .5;
                        switch (c) {
                        case "xaxis":
                            if (m.showGridline && this.drawGridlines && (!m.isMinorTick && d.drawMajorGridlines || m.isMinorTick && d.drawMinorGridlines) && t(v, this._top, v, this._bottom),
                            m.showMark && m.mark && (!m.isMinorTick && d.drawMajorTickMarks || m.isMinorTick && d.drawMinorTickMarks)) {
                                r = m.markSize,
                                o = m.mark;
                                var v = Math.round(d.u2p(m.value)) + .5;
                                switch (o) {
                                case "outside":
                                    n = this._bottom,
                                    a = this._bottom + r;
                                    break;
                                case "inside":
                                    n = this._bottom - r,
                                    a = this._bottom;
                                    break;
                                case "cross":
                                    n = this._bottom - r,
                                    a = this._bottom + r;
                                    break;
                                default:
                                    n = this._bottom,
                                    a = this._bottom + r
                                }
                                this.shadow && this.renderer.shadowRenderer.draw(i, [[v, n], [v, a]], {
                                    lineCap: "butt",
                                    lineWidth: this.gridLineWidth,
                                    offset: .75 * this.gridLineWidth,
                                    depth: 2,
                                    fill: !1,
                                    closePath: !1
                                }),
                                t(v, n, v, a)
                            }
                            break;
                        case "yaxis":
                            if (m.showGridline && this.drawGridlines && (!m.isMinorTick && d.drawMajorGridlines || m.isMinorTick && d.drawMinorGridlines) && t(this._right, v, this._left, v),
                            m.showMark && m.mark && (!m.isMinorTick && d.drawMajorTickMarks || m.isMinorTick && d.drawMinorTickMarks)) {
                                r = m.markSize,
                                o = m.mark;
                                var v = Math.round(d.u2p(m.value)) + .5;
                                switch (o) {
                                case "outside":
                                    n = this._left - r,
                                    a = this._left;
                                    break;
                                case "inside":
                                    n = this._left,
                                    a = this._left + r;
                                    break;
                                case "cross":
                                    n = this._left - r,
                                    a = this._left + r;
                                    break;
                                default:
                                    n = this._left - r,
                                    a = this._left
                                }
                                this.shadow && this.renderer.shadowRenderer.draw(i, [[n, v], [a, v]], {
                                    lineCap: "butt",
                                    lineWidth: 1.5 * this.gridLineWidth,
                                    offset: .75 * this.gridLineWidth,
                                    fill: !1,
                                    closePath: !1
                                }),
                                t(n, v, a, v, {
                                    strokeStyle: d.borderColor
                                })
                            }
                            break;
                        case "x2axis":
                            if (m.showGridline && this.drawGridlines && (!m.isMinorTick && d.drawMajorGridlines || m.isMinorTick && d.drawMinorGridlines) && t(v, this._bottom, v, this._top),
                            m.showMark && m.mark && (!m.isMinorTick && d.drawMajorTickMarks || m.isMinorTick && d.drawMinorTickMarks)) {
                                r = m.markSize,
                                o = m.mark;
                                var v = Math.round(d.u2p(m.value)) + .5;
                                switch (o) {
                                case "outside":
                                    n = this._top - r,
                                    a = this._top;
                                    break;
                                case "inside":
                                    n = this._top,
                                    a = this._top + r;
                                    break;
                                case "cross":
                                    n = this._top - r,
                                    a = this._top + r;
                                    break;
                                default:
                                    n = this._top - r,
                                    a = this._top
                                }
                                this.shadow && this.renderer.shadowRenderer.draw(i, [[v, n], [v, a]], {
                                    lineCap: "butt",
                                    lineWidth: this.gridLineWidth,
                                    offset: .75 * this.gridLineWidth,
                                    depth: 2,
                                    fill: !1,
                                    closePath: !1
                                }),
                                t(v, n, v, a)
                            }
                            break;
                        case "y2axis":
                            if (m.showGridline && this.drawGridlines && (!m.isMinorTick && d.drawMajorGridlines || m.isMinorTick && d.drawMinorGridlines) && t(this._left, v, this._right, v),
                            m.showMark && m.mark && (!m.isMinorTick && d.drawMajorTickMarks || m.isMinorTick && d.drawMinorTickMarks)) {
                                r = m.markSize,
                                o = m.mark;
                                var v = Math.round(d.u2p(m.value)) + .5;
                                switch (o) {
                                case "outside":
                                    n = this._right,
                                    a = this._right + r;
                                    break;
                                case "inside":
                                    n = this._right - r,
                                    a = this._right;
                                    break;
                                case "cross":
                                    n = this._right - r,
                                    a = this._right + r;
                                    break;
                                default:
                                    n = this._right,
                                    a = this._right + r
                                }
                                this.shadow && this.renderer.shadowRenderer.draw(i, [[n, v], [a, v]], {
                                    lineCap: "butt",
                                    lineWidth: 1.5 * this.gridLineWidth,
                                    offset: .75 * this.gridLineWidth,
                                    fill: !1,
                                    closePath: !1
                                }),
                                t(n, v, a, v, {
                                    strokeStyle: d.borderColor
                                })
                            }
                        }
                    }
                }
                m = null
            }
            d = null,
            u = null
        }
        l = ["y3axis", "y4axis", "y5axis", "y6axis", "y7axis", "y8axis", "y9axis", "yMidAxis"];
        for (var h = 7; h > 0; h--) {
            var d = s[l[h - 1]]
              , u = d._ticks;
            if (d.show) {
                var b = u[d.numberTicks - 1]
                  , y = u[0]
                  , w = d.getLeft()
                  , _ = [[w, b.getTop() + b.getHeight() / 2], [w, y.getTop() + y.getHeight() / 2 + 1]];
                this.shadow && this.renderer.shadowRenderer.draw(i, _, {
                    lineCap: "butt",
                    fill: !1,
                    closePath: !1
                }),
                t(_[0][0], _[0][1], _[1][0], _[1][1], {
                    lineCap: "butt",
                    strokeStyle: d.borderColor,
                    lineWidth: d.borderWidth
                });
                for (var g = u.length; g > 0; g--) {
                    var m = u[g - 1];
                    r = m.markSize,
                    o = m.mark;
                    var v = Math.round(d.u2p(m.value)) + .5;
                    if (m.showMark && m.mark) {
                        switch (o) {
                        case "outside":
                            n = w,
                            a = w + r;
                            break;
                        case "inside":
                            n = w - r,
                            a = w;
                            break;
                        case "cross":
                            n = w - r,
                            a = w + r;
                            break;
                        default:
                            n = w,
                            a = w + r
                        }
                        _ = [[n, v], [a, v]],
                        this.shadow && this.renderer.shadowRenderer.draw(i, _, {
                            lineCap: "butt",
                            lineWidth: 1.5 * this.gridLineWidth,
                            offset: .75 * this.gridLineWidth,
                            fill: !1,
                            closePath: !1
                        }),
                        t(n, v, a, v, {
                            strokeStyle: d.borderColor
                        })
                    }
                    m = null
                }
                y = null
            }
            d = null,
            u = null
        }
        if (i.restore(),
        this.shadow) {
            var _ = [[this._left, this._bottom], [this._right, this._bottom], [this._right, this._top]];
            this.renderer.shadowRenderer.draw(i, _)
        }
        0 != this.borderWidth && this.drawBorder && (t(this._left, this._top, this._right, this._top, {
            lineCap: "round",
            strokeStyle: s.x2axis.borderColor,
            lineWidth: s.x2axis.borderWidth
        }),
        t(this._right, this._top, this._right, this._bottom, {
            lineCap: "round",
            strokeStyle: s.y2axis.borderColor,
            lineWidth: s.y2axis.borderWidth
        }),
        t(this._right, this._bottom, this._left, this._bottom, {
            lineCap: "round",
            strokeStyle: s.xaxis.borderColor,
            lineWidth: s.xaxis.borderWidth
        }),
        t(this._left, this._bottom, this._left, this._top, {
            lineCap: "round",
            strokeStyle: s.yaxis.borderColor,
            lineWidth: s.yaxis.borderWidth
        })),
        i.restore(),
        i = null,
        s = null
    }
    ,
    e.jqplot.DivTitleRenderer = function() {}
    ,
    e.jqplot.DivTitleRenderer.prototype.init = function(t) {
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.DivTitleRenderer.prototype.draw = function() {
        this._elem && (this._elem.emptyForce(),
        this._elem = null);
        var t = (this.renderer,
        document.createElement("div"));
        if (this._elem = e(t),
        this._elem.addClass("jqplot-title"),
        this.text) {
            if (this.text) {
                var i;
                this.color ? i = this.color : this.textColor && (i = this.textColor);
                var s = {
                    position: "absolute",
                    top: "0px",
                    left: "0px"
                };
                this._plotWidth && (s.width = this._plotWidth + "px"),
                this.fontSize && (s.fontSize = this.fontSize),
                "string" == typeof this.textAlign ? s.textAlign = this.textAlign : s.textAlign = "center",
                i && (s.color = i),
                this.paddingBottom && (s.paddingBottom = this.paddingBottom),
                this.fontFamily && (s.fontFamily = this.fontFamily),
                this._elem.css(s),
                this.escapeHtml ? this._elem.text(this.text) : this._elem.html(this.text)
            }
        } else
            this.show = !1,
            this._elem.height(0),
            this._elem.width(0);
        return t = null,
        this._elem
    }
    ,
    e.jqplot.DivTitleRenderer.prototype.pack = function() {}
    ;
    var R = .1;
    e.jqplot.LinePattern = function(t, i) {
        var s = {
            dotted: [R, e.jqplot.config.dotGapLength],
            dashed: [e.jqplot.config.dashLength, e.jqplot.config.gapLength],
            solid: null
        };
        if ("string" == typeof i)
            if ("." === i[0] || "-" === i[0]) {
                var n = i;
                i = [];
                for (var a = 0, r = n.length; a < r; a++) {
                    if ("." === n[a])
                        i.push(R);
                    else {
                        if ("-" !== n[a])
                            continue;
                        i.push(e.jqplot.config.dashLength)
                    }
                    i.push(e.jqplot.config.gapLength)
                }
            } else
                i = s[i];
        if (!i || !i.length)
            return t;
        var o = 0
          , l = i[0]
          , h = 0
          , c = 0
          , d = 0
          , u = 0
          , p = function(e, i) {
            t.moveTo(e, i),
            h = e,
            c = i,
            d = e,
            u = i
        }
          , f = function(e, s) {
            var n = t.lineWidth
              , a = e - h
              , r = s - c
              , d = Math.sqrt(a * a + r * r);
            if (d > 0 && n > 0)
                for (a /= d,
                r /= d; ; ) {
                    var u = n * l;
                    if (!(u < d)) {
                        h = e,
                        c = s,
                        0 == (1 & o) ? t.lineTo(h, c) : t.moveTo(h, c),
                        l -= d / n;
                        break
                    }
                    h += u * a,
                    c += u * r,
                    0 == (1 & o) ? t.lineTo(h, c) : t.moveTo(h, c),
                    d -= u,
                    o++,
                    o >= i.length && (o = 0),
                    l = i[o]
                }
        }
          , g = function() {
            t.beginPath()
        }
          , m = function() {
            f(d, u)
        };
        return {
            moveTo: p,
            lineTo: f,
            beginPath: g,
            closePath: m
        }
    }
    ,
    e.jqplot.LineRenderer = function() {
        this.shapeRenderer = new e.jqplot.ShapeRenderer,
        this.shadowRenderer = new e.jqplot.ShadowRenderer
    }
    ,
    e.jqplot.LineRenderer.prototype.init = function(t, i) {
        t = t || {},
        this._type = "line",
        this.renderer.animation = {
            show: !1,
            direction: "left",
            speed: 2500,
            _supported: !0
        },
        this.renderer.smooth = !1,
        this.renderer.tension = null,
        this.renderer.constrainSmoothing = !0,
        this.renderer._smoothedData = [],
        this.renderer._smoothedPlotData = [],
        this.renderer._hiBandGridData = [],
        this.renderer._lowBandGridData = [],
        this.renderer._hiBandSmoothedData = [],
        this.renderer._lowBandSmoothedData = [],
        this.renderer.bandData = [],
        this.renderer.bands = {
            show: !1,
            hiData: [],
            lowData: [],
            color: this.color,
            showLines: !1,
            fill: !0,
            fillColor: null,
            _min: null,
            _max: null,
            interval: "3%"
        };
        var s = {
            highlightMouseOver: t.highlightMouseOver,
            highlightMouseDown: t.highlightMouseDown,
            highlightColor: t.highlightColor
        };
        delete t.highlightMouseOver,
        delete t.highlightMouseDown,
        delete t.highlightColor,
        e.extend(!0, this.renderer, t),
        this.renderer.options = t,
        this.renderer.bandData.length > 1 && (!t.bands || null == t.bands.show) ? this.renderer.bands.show = !0 : t.bands && null == t.bands.show && null != t.bands.interval && (this.renderer.bands.show = !0),
        this.fill && (this.renderer.bands.show = !1),
        this.renderer.bands.show && this.renderer.initBands.call(this, this.renderer.options, i),
        this._stack && (this.renderer.smooth = !1);
        var n = {
            lineJoin: this.lineJoin,
            lineCap: this.lineCap,
            fill: this.fill,
            isarc: !1,
            strokeStyle: this.color,
            fillStyle: this.fillColor,
            lineWidth: this.lineWidth,
            linePattern: this.linePattern,
            closePath: this.fill
        };
        this.renderer.shapeRenderer.init(n);
        var a = t.shadowOffset;
        null == a && (a = this.lineWidth > 2.5 ? 1.25 * (1 + .6 * (Math.atan(this.lineWidth / 2.5) / .785398163 - 1)) : 1.25 * Math.atan(this.lineWidth / 2.5) / .785398163);
        var r = {
            lineJoin: this.lineJoin,
            lineCap: this.lineCap,
            fill: this.fill,
            isarc: !1,
            angle: this.shadowAngle,
            offset: a,
            alpha: this.shadowAlpha,
            depth: this.shadowDepth,
            lineWidth: this.lineWidth,
            linePattern: this.linePattern,
            closePath: this.fill
        };
        if (this.renderer.shadowRenderer.init(r),
        this._areaPoints = [],
        this._boundingBox = [[], []],
        !this.isTrendline && this.fill || this.renderer.bands.show) {
            if (this.highlightMouseOver = !0,
            this.highlightMouseDown = !1,
            this.highlightColor = null,
            s.highlightMouseDown && null == s.highlightMouseOver && (s.highlightMouseOver = !1),
            e.extend(!0, this, {
                highlightMouseOver: s.highlightMouseOver,
                highlightMouseDown: s.highlightMouseDown,
                highlightColor: s.highlightColor
            }),
            !this.highlightColor) {
                var o = this.renderer.bands.show ? this.renderer.bands.fillColor : this.fillColor;
                this.highlightColor = e.jqplot.computeHighlightColors(o)
            }
            this.highlighter && (this.highlighter.show = !1)
        }
        !this.isTrendline && i && (i.plugins.lineRenderer = {},
        i.postInitHooks.addOnce(d),
        i.postDrawHooks.addOnce(u),
        i.eventListenerHooks.addOnce("jqplotMouseMove", g),
        i.eventListenerHooks.addOnce("jqplotMouseDown", m),
        i.eventListenerHooks.addOnce("jqplotMouseUp", v),
        i.eventListenerHooks.addOnce("jqplotClick", b),
        i.eventListenerHooks.addOnce("jqplotRightClick", y))
    }
    ,
    e.jqplot.LineRenderer.prototype.initBands = function(t, i) {
        var s = t.bandData || []
          , n = this.renderer.bands;
        n.hiData = [],
        n.lowData = [];
        var a = this.data;
        if (n._max = null,
        n._min = null,
        2 == s.length)
            if (e.isArray(s[0][0])) {
                for (var r, o = 0, l = 0, h = 0, c = s[0].length; h < c; h++)
                    r = s[0][h],
                    (null != r[1] && r[1] > n._max || null == n._max) && (n._max = r[1]),
                    (null != r[1] && r[1] < n._min || null == n._min) && (n._min = r[1]);
                for (var h = 0, c = s[1].length; h < c; h++)
                    r = s[1][h],
                    (null != r[1] && r[1] > n._max || null == n._max) && (n._max = r[1],
                    l = 1),
                    (null != r[1] && r[1] < n._min || null == n._min) && (n._min = r[1],
                    o = 1);
                l === o && (n.show = !1),
                n.hiData = s[l],
                n.lowData = s[o]
            } else if (s[0].length === a.length && s[1].length === a.length)
                for (var d = s[0][0] > s[1][0] ? 0 : 1, u = d ? 0 : 1, h = 0, c = a.length; h < c; h++)
                    n.hiData.push([a[h][0], s[d][h]]),
                    n.lowData.push([a[h][0], s[u][h]]);
            else
                n.show = !1;
        else if (s.length > 2 && !e.isArray(s[0][0]))
            for (var d = s[0][0] > s[0][1] ? 0 : 1, u = d ? 0 : 1, h = 0, c = s.length; h < c; h++)
                n.hiData.push([a[h][0], s[h][d]]),
                n.lowData.push([a[h][0], s[h][u]]);
        else {
            var p = n.interval
              , f = null
              , g = null
              , m = null
              , v = null;
            if (e.isArray(p) ? (f = p[0],
            g = p[1]) : f = p,
            isNaN(f) ? "%" === f.charAt(f.length - 1) && (m = "multiply",
            f = parseFloat(f) / 100 + 1) : (f = parseFloat(f),
            m = "add"),
            null !== g && isNaN(g) ? "%" === g.charAt(g.length - 1) && (v = "multiply",
            g = parseFloat(g) / 100 + 1) : null !== g && (g = parseFloat(g),
            v = "add"),
            null !== f) {
                if (null === g && (g = -f,
                v = m,
                "multiply" === v && (g += 2)),
                f < g) {
                    var b = f;
                    f = g,
                    g = b,
                    b = m,
                    m = v,
                    v = b
                }
                for (var h = 0, c = a.length; h < c; h++) {
                    switch (m) {
                    case "add":
                        n.hiData.push([a[h][0], a[h][1] + f]);
                        break;
                    case "multiply":
                        n.hiData.push([a[h][0], a[h][1] * f])
                    }
                    switch (v) {
                    case "add":
                        n.lowData.push([a[h][0], a[h][1] + g]);
                        break;
                    case "multiply":
                        n.lowData.push([a[h][0], a[h][1] * g])
                    }
                }
            } else
                n.show = !1
        }
        for (var y = n.hiData, w = n.lowData, h = 0, c = y.length; h < c; h++)
            (null != y[h][1] && y[h][1] > n._max || null == n._max) && (n._max = y[h][1]);
        for (var h = 0, c = w.length; h < c; h++)
            (null != w[h][1] && w[h][1] < n._min || null == n._min) && (n._min = w[h][1]);
        if (null === n.fillColor) {
            var _ = e.jqplot.getColorComponents(n.color);
            _[3] = .5 * _[3],
            n.fillColor = "rgba(" + _[0] + ", " + _[1] + ", " + _[2] + ", " + _[3] + ")"
        }
    }
    ,
    e.jqplot.LineRenderer.prototype.setGridData = function(e) {
        var t = this._xaxis.series_u2p
          , i = this._yaxis.series_u2p
          , s = this._plotData
          , n = this._prevPlotData;
        this.gridData = [],
        this._prevGridData = [],
        this.renderer._smoothedData = [],
        this.renderer._smoothedPlotData = [],
        this.renderer._hiBandGridData = [],
        this.renderer._lowBandGridData = [],
        this.renderer._hiBandSmoothedData = [],
        this.renderer._lowBandSmoothedData = [];
        for (var a = this.renderer.bands, r = !1, o = 0, l = s.length; o < l; o++)
            null != s[o][0] && null != s[o][1] ? this.gridData.push([t.call(this._xaxis, s[o][0]), i.call(this._yaxis, s[o][1])]) : null == s[o][0] ? (r = !0,
            this.gridData.push([null, i.call(this._yaxis, s[o][1])])) : null == s[o][1] && (r = !0,
            this.gridData.push([t.call(this._xaxis, s[o][0]), null])),
            null != n[o] && null != n[o][0] && null != n[o][1] ? this._prevGridData.push([t.call(this._xaxis, n[o][0]), i.call(this._yaxis, n[o][1])]) : null != n[o] && null == n[o][0] ? this._prevGridData.push([null, i.call(this._yaxis, n[o][1])]) : null != n[o] && null != n[o][0] && null == n[o][1] && this._prevGridData.push([t.call(this._xaxis, n[o][0]), null]);
        if (r && (this.renderer.smooth = !1,
        "line" === this._type && (a.show = !1)),
        "line" === this._type && a.show) {
            for (var o = 0, l = a.hiData.length; o < l; o++)
                this.renderer._hiBandGridData.push([t.call(this._xaxis, a.hiData[o][0]), i.call(this._yaxis, a.hiData[o][1])]);
            for (var o = 0, l = a.lowData.length; o < l; o++)
                this.renderer._lowBandGridData.push([t.call(this._xaxis, a.lowData[o][0]), i.call(this._yaxis, a.lowData[o][1])])
        }
        if ("line" === this._type && this.renderer.smooth && this.gridData.length > 2) {
            var d;
            this.renderer.constrainSmoothing ? (d = h.call(this, this.gridData),
            this.renderer._smoothedData = d[0],
            this.renderer._smoothedPlotData = d[1],
            a.show && (d = h.call(this, this.renderer._hiBandGridData),
            this.renderer._hiBandSmoothedData = d[0],
            d = h.call(this, this.renderer._lowBandGridData),
            this.renderer._lowBandSmoothedData = d[0]),
            d = null) : (d = c.call(this, this.gridData),
            this.renderer._smoothedData = d[0],
            this.renderer._smoothedPlotData = d[1],
            a.show && (d = c.call(this, this.renderer._hiBandGridData),
            this.renderer._hiBandSmoothedData = d[0],
            d = c.call(this, this.renderer._lowBandGridData),
            this.renderer._lowBandSmoothedData = d[0]),
            d = null)
        }
    }
    ,
    e.jqplot.LineRenderer.prototype.makeGridData = function(e, t) {
        var i = this._xaxis.series_u2p
          , s = this._yaxis.series_u2p
          , n = [];
        this.renderer._smoothedData = [],
        this.renderer._smoothedPlotData = [],
        this.renderer._hiBandGridData = [],
        this.renderer._lowBandGridData = [],
        this.renderer._hiBandSmoothedData = [],
        this.renderer._lowBandSmoothedData = [];
        for (var a = this.renderer.bands, r = !1, o = 0; o < e.length; o++)
            null != e[o][0] && null != e[o][1] ? n.push([i.call(this._xaxis, e[o][0]), s.call(this._yaxis, e[o][1])]) : null == e[o][0] ? (r = !0,
            n.push([null, s.call(this._yaxis, e[o][1])])) : null == e[o][1] && (r = !0,
            n.push([i.call(this._xaxis, e[o][0]), null]));
        if (r && (this.renderer.smooth = !1,
        "line" === this._type && (a.show = !1)),
        "line" === this._type && a.show) {
            for (var o = 0, l = a.hiData.length; o < l; o++)
                this.renderer._hiBandGridData.push([i.call(this._xaxis, a.hiData[o][0]), s.call(this._yaxis, a.hiData[o][1])]);
            for (var o = 0, l = a.lowData.length; o < l; o++)
                this.renderer._lowBandGridData.push([i.call(this._xaxis, a.lowData[o][0]), s.call(this._yaxis, a.lowData[o][1])])
        }
        if ("line" === this._type && this.renderer.smooth && n.length > 2) {
            var d;
            this.renderer.constrainSmoothing ? (d = h.call(this, n),
            this.renderer._smoothedData = d[0],
            this.renderer._smoothedPlotData = d[1],
            a.show && (d = h.call(this, this.renderer._hiBandGridData),
            this.renderer._hiBandSmoothedData = d[0],
            d = h.call(this, this.renderer._lowBandGridData),
            this.renderer._lowBandSmoothedData = d[0]),
            d = null) : (d = c.call(this, n),
            this.renderer._smoothedData = d[0],
            this.renderer._smoothedPlotData = d[1],
            a.show && (d = c.call(this, this.renderer._hiBandGridData),
            this.renderer._hiBandSmoothedData = d[0],
            d = c.call(this, this.renderer._lowBandGridData),
            this.renderer._lowBandSmoothedData = d[0]),
            d = null)
        }
        return n
    }
    ,
    e.jqplot.LineRenderer.prototype.draw = function(t, i, s, n) {
        var a, r, o, l, h, c = e.extend(!0, {}, s), d = c.shadow != D ? c.shadow : this.shadow, u = c.showLine != D ? c.showLine : this.showLine, p = c.fill != D ? c.fill : this.fill, f = c.fillAndStroke != D ? c.fillAndStroke : this.fillAndStroke;
        if (t.save(),
        i.length) {
            if (u)
                if (p) {
                    if (this.fillToZero) {
                        var g = this.negativeColor;
                        this.useNegativeColors || (g = c.fillStyle);
                        var m = !1
                          , v = c.fillStyle;
                        if (f)
                            var b = i.slice(0);
                        if (0 != this.index && this._stack) {
                            for (var y = this._prevGridData, a = y.length; a > 0; a--)
                                i.push(y[a - 1]);
                            d && this.renderer.shadowRenderer.draw(t, i, c),
                            this._areaPoints = i,
                            this.renderer.shapeRenderer.draw(t, i, c)
                        } else {
                            var w = []
                              , _ = this.renderer.smooth ? this.renderer._smoothedPlotData : this._plotData;
                            this._areaPoints = [];
                            var k = this._yaxis.series_u2p(this.fillToValue);
                            this._xaxis.series_u2p(this.fillToValue);
                            if (c.closePath = !0,
                            "y" == this.fillAxis) {
                                w.push([i[0][0], k]),
                                this._areaPoints.push([i[0][0], k]);
                                for (var a = 0; a < i.length - 1; a++)
                                    if (w.push(i[a]),
                                    this._areaPoints.push(i[a]),
                                    _[a][1] * _[a + 1][1] <= 0) {
                                        _[a][1] < 0 ? (m = !0,
                                        c.fillStyle = g) : (m = !1,
                                        c.fillStyle = v);
                                        var x = i[a][0] + (i[a + 1][0] - i[a][0]) * (k - i[a][1]) / (i[a + 1][1] - i[a][1]);
                                        w.push([x, k]),
                                        this._areaPoints.push([x, k]),
                                        d && this.renderer.shadowRenderer.draw(t, w, c),
                                        this.renderer.shapeRenderer.draw(t, w, c),
                                        w = [[x, k]]
                                    }
                                _[i.length - 1][1] < 0 ? (m = !0,
                                c.fillStyle = g) : (m = !1,
                                c.fillStyle = v),
                                w.push(i[i.length - 1]),
                                this._areaPoints.push(i[i.length - 1]),
                                w.push([i[i.length - 1][0], k]),
                                this._areaPoints.push([i[i.length - 1][0], k])
                            }
                            d && this.renderer.shadowRenderer.draw(t, w, c),
                            this.renderer.shapeRenderer.draw(t, w, c)
                        }
                    } else {
                        if (f)
                            var b = i.slice(0);
                        if (0 != this.index && this._stack)
                            for (var y = this._prevGridData, a = y.length; a > 0; a--)
                                i.push(y[a - 1]);
                        else {
                            var C = t.canvas.height;
                            i.unshift([i[0][0], C]);
                            var T = i.length;
                            i.push([i[T - 1][0], C])
                        }
                        this._areaPoints = i,
                        d && this.renderer.shadowRenderer.draw(t, i, c),
                        this.renderer.shapeRenderer.draw(t, i, c)
                    }
                    if (f) {
                        var S = e.extend(!0, {}, c, {
                            fill: !1,
                            closePath: !1
                        });
                        if (this.renderer.shapeRenderer.draw(t, b, S),
                        this.markerRenderer.show)
                            for (this.renderer.smooth && (b = this.gridData),
                            a = 0; a < b.length; a++)
                                this.markerRenderer.draw(b[a][0], b[a][1], t, c.markerOptions)
                    }
                } else {
                    if (this.renderer.bands.show) {
                        var P, M = e.extend(!0, {}, c);
                        this.renderer.bands.showLines && (P = this.renderer.smooth ? this.renderer._hiBandSmoothedData : this.renderer._hiBandGridData,
                        this.renderer.shapeRenderer.draw(t, P, c),
                        P = this.renderer.smooth ? this.renderer._lowBandSmoothedData : this.renderer._lowBandGridData,
                        this.renderer.shapeRenderer.draw(t, P, M)),
                        this.renderer.bands.fill && (P = this.renderer.smooth ? this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse()) : this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse()),
                        this._areaPoints = P,
                        M.closePath = !0,
                        M.fill = !0,
                        M.fillStyle = this.renderer.bands.fillColor,
                        this.renderer.shapeRenderer.draw(t, P, M))
                    }
                    d && this.renderer.shadowRenderer.draw(t, i, c),
                    this.renderer.shapeRenderer.draw(t, i, c)
                }
            var r = l = o = h = null;
            for (a = 0; a < this._areaPoints.length; a++) {
                var E = this._areaPoints[a];
                (r > E[0] || null == r) && (r = E[0]),
                (h < E[1] || null == h) && (h = E[1]),
                (l < E[0] || null == l) && (l = E[0]),
                (o > E[1] || null == o) && (o = E[1])
            }
            if ("line" === this.type && this.renderer.bands.show && (h = this._yaxis.series_u2p(this.renderer.bands._min),
            o = this._yaxis.series_u2p(this.renderer.bands._max)),
            this._boundingBox = [[r, h], [l, o]],
            this.markerRenderer.show && !p)
                for (this.renderer.smooth && (i = this.gridData),
                a = 0; a < i.length; a++)
                    null != i[a][0] && null != i[a][1] && this.markerRenderer.draw(i[a][0], i[a][1], t, c.markerOptions)
        }
        t.restore()
    }
    ,
    e.jqplot.LineRenderer.prototype.drawShadow = function(e, t, i) {}
    ,
    e.jqplot.LinearAxisRenderer = function() {}
    ,
    e.jqplot.LinearAxisRenderer.prototype.init = function(t) {
        this.breakPoints = null,
        this.breakTickLabel = "&asymp;",
        this.drawBaseline = !0,
        this.baselineWidth = null,
        this.baselineColor = null,
        this.forceTickAt0 = !1,
        this.forceTickAt100 = !1,
        this.tickInset = 0,
        this.minorTicks = 0,
        this.alignTicks = !1,
        this._autoFormatString = "",
        this._overrideFormatString = !1,
        this._scalefact = 1,
        e.extend(!0, this, t),
        this.breakPoints && (e.isArray(this.breakPoints) ? (this.breakPoints.length < 2 || this.breakPoints[1] <= this.breakPoints[0]) && (this.breakPoints = null) : this.breakPoints = null),
        null != this.numberTicks && this.numberTicks < 2 && (this.numberTicks = 2),
        this.resetDataBounds()
    }
    ,
    e.jqplot.LinearAxisRenderer.prototype.draw = function(t, i) {
        if (this.show) {
            this.renderer.createTicks.call(this, i);
            if (this._elem && (this._elem.emptyForce(),
            this._elem = null),
            this._elem = e(document.createElement("div")),
            this._elem.addClass("jqplot-axis jqplot-" + this.name),
            this._elem.css("position", "absolute"),
            "xaxis" == this.name || "x2axis" == this.name ? this._elem.width(this._plotDimensions.width) : this._elem.height(this._plotDimensions.height),
            this.labelOptions.axis = this.name,
            this._label = new this.labelRenderer(this.labelOptions),
            this._label.show) {
                var s = this._label.draw(t, i);
                s.appendTo(this._elem),
                s = null
            }
            for (var n, a = this._ticks, r = 0; r < a.length; r++)
                n = a[r],
                n.show && n.showLabel && (!n.isMinorTick || this.showMinorTicks) && this._elem.append(n.draw(t, i));
            n = null,
            a = null
        }
        return this._elem
    }
    ,
    e.jqplot.LinearAxisRenderer.prototype.reset = function() {
        this.min = this._options.min,
        this.max = this._options.max,
        this.tickInterval = this._options.tickInterval,
        this.numberTicks = this._options.numberTicks,
        this._autoFormatString = "",
        this._overrideFormatString && this.tickOptions && this.tickOptions.formatString && (this.tickOptions.formatString = "")
    }
    ,
    e.jqplot.LinearAxisRenderer.prototype.set = function() {
        var t, i = 0, s = 0, n = 0, a = null != this._label && this._label.show;
        if (this.show) {
            for (var r, o = this._ticks, l = 0; l < o.length; l++)
                r = o[l],
                r._breakTick || !r.show || !r.showLabel || r.isMinorTick && !this.showMinorTicks || (t = "xaxis" == this.name || "x2axis" == this.name ? r._elem.outerHeight(!0) : r._elem.outerWidth(!0),
                t > i && (i = t));
            r = null,
            o = null,
            a && (s = this._label._elem.outerWidth(!0),
            n = this._label._elem.outerHeight(!0)),
            "xaxis" == this.name ? (i += n,
            this._elem.css({
                height: i + "px",
                left: "0px",
                bottom: "0px"
            })) : "x2axis" == this.name ? (i += n,
            this._elem.css({
                height: i + "px",
                left: "0px",
                top: "0px"
            })) : "yaxis" == this.name ? (i += s,
            this._elem.css({
                width: i + "px",
                left: "0px",
                top: "0px"
            }),
            a && this._label.constructor == e.jqplot.AxisLabelRenderer && this._label._elem.css("width", s + "px")) : (i += s,
            this._elem.css({
                width: i + "px",
                right: "0px",
                top: "0px"
            }),
            a && this._label.constructor == e.jqplot.AxisLabelRenderer && this._label._elem.css("width", s + "px"))
        }
    }
    ,
    e.jqplot.LinearAxisRenderer.prototype.createTicks = function(t) {
        var i, s, n, a, r = this._ticks, o = this.ticks, l = this.name, h = this._dataBounds, c = "x" === this.name.charAt(0) ? this._plotDimensions.width : this._plotDimensions.height, d = this.min, u = this.max, p = this.numberTicks, f = this.tickInterval, g = 30;
        if (this._scalefact = (Math.max(c, g + 1) - g) / 300,
        o.length) {
            for (a = 0; a < o.length; a++) {
                var m = o[a]
                  , v = new this.tickRenderer(this.tickOptions);
                e.isArray(m) ? (v.value = m[0],
                this.breakPoints ? m[0] == this.breakPoints[0] ? (v.label = this.breakTickLabel,
                v._breakTick = !0,
                v.showGridline = !1,
                v.showMark = !1) : m[0] > this.breakPoints[0] && m[0] <= this.breakPoints[1] ? (v.show = !1,
                v.showGridline = !1,
                v.label = m[1]) : v.label = m[1] : v.label = m[1],
                v.setTick(m[0], this.name),
                this._ticks.push(v)) : e.isPlainObject(m) ? (e.extend(!0, v, m),
                v.axis = this.name,
                this._ticks.push(v)) : (v.value = m,
                this.breakPoints && (m == this.breakPoints[0] ? (v.label = this.breakTickLabel,
                v._breakTick = !0,
                v.showGridline = !1,
                v.showMark = !1) : m > this.breakPoints[0] && m <= this.breakPoints[1] && (v.show = !1,
                v.showGridline = !1)),
                v.setTick(m, this.name),
                this._ticks.push(v))
            }
            this.numberTicks = o.length,
            this.min = this._ticks[0].value,
            this.max = this._ticks[this.numberTicks - 1].value,
            this.tickInterval = (this.max - this.min) / (this.numberTicks - 1)
        } else {
            c = "xaxis" == l || "x2axis" == l ? this._plotDimensions.width : this._plotDimensions.height;
            var b = this.numberTicks;
            this.alignTicks && ("x2axis" === this.name && t.axes.xaxis.show ? b = t.axes.xaxis.numberTicks : "y" === this.name.charAt(0) && "yaxis" !== this.name && "yMidAxis" !== this.name && t.axes.yaxis.show && (b = t.axes.yaxis.numberTicks)),
            i = null != this.min ? this.min : h.min,
            s = null != this.max ? this.max : h.max;
            var y, w, _, k = s - i;
            if (null != this.tickOptions && this.tickOptions.formatString || (this._overrideFormatString = !0),
            null == this.min || null == this.max && null == this.tickInterval && !this.autoscale) {
                this.forceTickAt0 && (i > 0 && (i = 0),
                s < 0 && (s = 0)),
                this.forceTickAt100 && (i > 100 && (i = 100),
                s < 100 && (s = 100));
                var x = !1
                  , C = !1;
                null != this.min ? x = !0 : null != this.max && (C = !0);
                var T = e.jqplot.LinearTickGenerator(i, s, this._scalefact, b, x, C)
                  , S = null != this.min ? i : i + k * (this.padMin - 1)
                  , P = null != this.max ? s : s - k * (this.padMax - 1);
                (i < S || s > P) && (S = null != this.min ? i : i - k * (this.padMin - 1),
                P = null != this.max ? s : s + k * (this.padMax - 1),
                T = e.jqplot.LinearTickGenerator(S, P, this._scalefact, b, x, C)),
                this.min = T[0],
                this.max = T[1],
                this.numberTicks = T[2],
                this._autoFormatString = T[3],
                this.tickInterval = T[4]
            } else {
                if (i == s) {
                    var M = .05;
                    i > 0 && (M = Math.max(Math.log(i) / Math.LN10, .05)),
                    i -= M,
                    s += M
                }
                if (this.autoscale && null == this.min && null == this.max) {
                    for (var E, A, D, L = !1, R = !1, a = 0; a < this._series.length; a++) {
                        var j = this._series[a]
                          , O = "x" == j.fillAxis ? j._xaxis.name : j._yaxis.name;
                        if (this.name == O) {
                            for (var z = j._plotValues[j.fillAxis], I = z[0], q = z[0], $ = 1; $ < z.length; $++)
                                z[$] < I ? I = z[$] : z[$] > q && (q = z[$]);
                            var F = (q - I) / q;
                            j.renderer.constructor == e.jqplot.BarRenderer ? I >= 0 && (j.fillToZero || F > .1) ? L = !0 : (L = !1,
                            R = !!(j.fill && j.fillToZero && I < 0 && q > 0)) : j.fill ? I >= 0 && (j.fillToZero || F > .1) ? L = !0 : I < 0 && q > 0 && j.fillToZero ? (L = !1,
                            R = !0) : (L = !1,
                            R = !1) : I < 0 && (L = !1)
                        }
                    }
                    if (L)
                        this.numberTicks = 2 + Math.ceil((c - (this.tickSpacing - 1)) / this.tickSpacing),
                        this.min = 0,
                        d = 0,
                        A = s / (this.numberTicks - 1),
                        _ = Math.pow(10, Math.abs(Math.floor(Math.log(A) / Math.LN10))),
                        A / _ == parseInt(A / _, 10) && (A += _),
                        this.tickInterval = Math.ceil(A / _) * _,
                        this.max = this.tickInterval * (this.numberTicks - 1);
                    else if (R) {
                        this.numberTicks = 2 + Math.ceil((c - (this.tickSpacing - 1)) / this.tickSpacing);
                        var V = Math.ceil(Math.abs(i) / k * (this.numberTicks - 1))
                          , N = this.numberTicks - 1 - V;
                        A = Math.max(Math.abs(i / V), Math.abs(s / N)),
                        _ = Math.pow(10, Math.abs(Math.floor(Math.log(A) / Math.LN10))),
                        this.tickInterval = Math.ceil(A / _) * _,
                        this.max = this.tickInterval * N,
                        this.min = -this.tickInterval * V
                    } else
                        null == this.numberTicks && (this.tickInterval ? this.numberTicks = 3 + Math.ceil(k / this.tickInterval) : this.numberTicks = 2 + Math.ceil((c - (this.tickSpacing - 1)) / this.tickSpacing)),
                        null == this.tickInterval ? (A = k / (this.numberTicks - 1),
                        _ = A < 1 ? Math.pow(10, Math.abs(Math.floor(Math.log(A) / Math.LN10))) : 1,
                        this.tickInterval = Math.ceil(A * _ * this.pad) / _) : _ = 1 / this.tickInterval,
                        E = this.tickInterval * (this.numberTicks - 1),
                        D = (E - k) / 2,
                        null == this.min && (this.min = Math.floor(_ * (i - D)) / _),
                        null == this.max && (this.max = this.min + E);
                    var H, B = e.jqplot.getSignificantFigures(this.tickInterval);
                    if (B.digitsLeft >= B.significantDigits)
                        H = "%d";
                    else {
                        var _ = Math.max(0, 5 - B.digitsLeft);
                        _ = Math.min(_, B.digitsRight),
                        H = "%." + _ + "f"
                    }
                    this._autoFormatString = H
                } else {
                    y = null != this.min ? this.min : i - k * (this.padMin - 1),
                    w = null != this.max ? this.max : s + k * (this.padMax - 1),
                    k = w - y,
                    null == this.numberTicks && (null != this.tickInterval ? this.numberTicks = Math.ceil((w - y) / this.tickInterval) + 1 : c > 100 ? this.numberTicks = parseInt(3 + (c - 100) / 75, 10) : this.numberTicks = 2),
                    null == this.tickInterval && (this.tickInterval = k / (this.numberTicks - 1)),
                    null == this.max && (w = y + this.tickInterval * (this.numberTicks - 1)),
                    null == this.min && (y = w - this.tickInterval * (this.numberTicks - 1));
                    var H, B = e.jqplot.getSignificantFigures(this.tickInterval);
                    if (B.digitsLeft >= B.significantDigits)
                        H = "%d";
                    else {
                        var _ = Math.max(0, 5 - B.digitsLeft);
                        _ = Math.min(_, B.digitsRight),
                        H = "%." + _ + "f"
                    }
                    this._autoFormatString = H,
                    this.min = y,
                    this.max = w
                }
                if (this.renderer.constructor == e.jqplot.LinearAxisRenderer && "" == this._autoFormatString) {
                    k = this.max - this.min;
                    var W = new this.tickRenderer(this.tickOptions)
                      , U = W.formatString || e.jqplot.config.defaultTickFormatString
                      , U = U.match(e.jqplot.sprintf.regex)[0]
                      , G = 0;
                    if (U) {
                        if (U.search(/[fFeEgGpP]/) > -1) {
                            var Y = U.match(/\%\.(\d{0,})?[eEfFgGpP]/);
                            G = Y ? parseInt(Y[1], 10) : 6
                        } else
                            U.search(/[di]/) > -1 && (G = 0);
                        var X = Math.pow(10, -G);
                        if (this.tickInterval < X && null == p && null == f)
                            if (this.tickInterval = X,
                            null == u && null == d) {
                                this.min = Math.floor(this._dataBounds.min / X) * X,
                                this.min == this._dataBounds.min && (this.min = this._dataBounds.min - this.tickInterval),
                                this.max = Math.ceil(this._dataBounds.max / X) * X,
                                this.max == this._dataBounds.max && (this.max = this._dataBounds.max + this.tickInterval);
                                var Q = (this.max - this.min) / this.tickInterval;
                                Q = Q.toFixed(11),
                                Q = Math.ceil(Q),
                                this.numberTicks = Q + 1
                            } else if (null == u) {
                                var Q = (this._dataBounds.max - this.min) / this.tickInterval;
                                Q = Q.toFixed(11),
                                this.numberTicks = Math.ceil(Q) + 2,
                                this.max = this.min + this.tickInterval * (this.numberTicks - 1)
                            } else if (null == d) {
                                var Q = (this.max - this._dataBounds.min) / this.tickInterval;
                                Q = Q.toFixed(11),
                                this.numberTicks = Math.ceil(Q) + 2,
                                this.min = this.max - this.tickInterval * (this.numberTicks - 1)
                            } else
                                this.numberTicks = Math.ceil((u - d) / this.tickInterval) + 1,
                                this.min = Math.floor(d * Math.pow(10, G)) / Math.pow(10, G),
                                this.max = Math.ceil(u * Math.pow(10, G)) / Math.pow(10, G),
                                this.numberTicks = Math.ceil((this.max - this.min) / this.tickInterval) + 1
                    }
                }
            }
            this._overrideFormatString && "" != this._autoFormatString && (this.tickOptions = this.tickOptions || {},
            this.tickOptions.formatString = this._autoFormatString);
            for (var v, J, a = 0; a < this.numberTicks; a++) {
                if (n = this.min + a * this.tickInterval,
                v = new this.tickRenderer(this.tickOptions),
                v.setTick(n, this.name),
                this._ticks.push(v),
                a < this.numberTicks - 1)
                    for (var $ = 0; $ < this.minorTicks; $++)
                        n += this.tickInterval / (this.minorTicks + 1),
                        J = e.extend(!0, {}, this.tickOptions, {
                            name: this.name,
                            value: n,
                            label: "",
                            isMinorTick: !0
                        }),
                        v = new this.tickRenderer(J),
                        this._ticks.push(v);
                v = null
            }
        }
        this.tickInset && (this.min = this.min - this.tickInset * this.tickInterval,
        this.max = this.max + this.tickInset * this.tickInterval),
        r = null
    }
    ,
    e.jqplot.LinearAxisRenderer.prototype.resetTickValues = function(t) {
        if (e.isArray(t) && t.length == this._ticks.length) {
            for (var i, s = 0; s < t.length; s++)
                i = this._ticks[s],
                i.value = t[s],
                i.label = i.formatter(i.formatString, t[s]),
                i.label = i.prefix + i.label,
                i._elem.html(i.label);
            i = null,
            this.min = e.jqplot.arrayMin(t),
            this.max = e.jqplot.arrayMax(t),
            this.pack()
        }
    }
    ,
    e.jqplot.LinearAxisRenderer.prototype.pack = function(t, i) {
        t = t || {},
        i = i || this._offsets;
        var s = this._ticks
          , n = this.max
          , a = this.min
          , r = i.max
          , o = i.min
          , l = null != this._label && this._label.show;
        for (var h in t)
            this._elem.css(h, t[h]);
        this._offsets = i;
        var c = r - o
          , d = n - a;
        if (this.breakPoints ? (d = d - this.breakPoints[1] + this.breakPoints[0],
        this.p2u = function(e) {
            return (e - o) * d / c + a
        }
        ,
        this.u2p = function(e) {
            return e > this.breakPoints[0] && e < this.breakPoints[1] && (e = this.breakPoints[0]),
            e <= this.breakPoints[0] ? (e - a) * c / d + o : (e - this.breakPoints[1] + this.breakPoints[0] - a) * c / d + o
        }
        ,
        "x" == this.name.charAt(0) ? (this.series_u2p = function(e) {
            return e > this.breakPoints[0] && e < this.breakPoints[1] && (e = this.breakPoints[0]),
            e <= this.breakPoints[0] ? (e - a) * c / d : (e - this.breakPoints[1] + this.breakPoints[0] - a) * c / d
        }
        ,
        this.series_p2u = function(e) {
            return e * d / c + a
        }
        ) : (this.series_u2p = function(e) {
            return e > this.breakPoints[0] && e < this.breakPoints[1] && (e = this.breakPoints[0]),
            e >= this.breakPoints[1] ? (e - n) * c / d : (e + this.breakPoints[1] - this.breakPoints[0] - n) * c / d
        }
        ,
        this.series_p2u = function(e) {
            return e * d / c + n
        }
        )) : (this.p2u = function(e) {
            return (e - o) * d / c + a
        }
        ,
        this.u2p = function(e) {
            return (e - a) * c / d + o
        }
        ,
        "xaxis" == this.name || "x2axis" == this.name ? (this.series_u2p = function(e) {
            return (e - a) * c / d
        }
        ,
        this.series_p2u = function(e) {
            return e * d / c + a
        }
        ) : (this.series_u2p = function(e) {
            return (e - n) * c / d
        }
        ,
        this.series_p2u = function(e) {
            return e * d / c + n
        }
        )),
        this.show)
            if ("xaxis" == this.name || "x2axis" == this.name) {
                for (var u = 0; u < s.length; u++) {
                    var p = s[u];
                    if (p.show && p.showLabel) {
                        var f;
                        if (p.constructor == e.jqplot.CanvasAxisTickRenderer && p.angle) {
                            var g = "xaxis" == this.name ? 1 : -1;
                            switch (p.labelPosition) {
                            case "auto":
                                f = g * p.angle < 0 ? -p.getWidth() + p._textRenderer.height * Math.sin(-p._textRenderer.angle) / 2 : -p._textRenderer.height * Math.sin(p._textRenderer.angle) / 2;
                                break;
                            case "end":
                                f = -p.getWidth() + p._textRenderer.height * Math.sin(-p._textRenderer.angle) / 2;
                                break;
                            case "start":
                                f = -p._textRenderer.height * Math.sin(p._textRenderer.angle) / 2;
                                break;
                            case "middle":
                                f = -p.getWidth() / 2 + p._textRenderer.height * Math.sin(-p._textRenderer.angle) / 2;
                                break;
                            default:
                                f = -p.getWidth() / 2 + p._textRenderer.height * Math.sin(-p._textRenderer.angle) / 2
                            }
                        } else
                            f = -p.getWidth() / 2;
                        var m = this.u2p(p.value) + f + "px";
                        p._elem.css("left", m),
                        p.pack()
                    }
                }
                if (l) {
                    var v = this._label._elem.outerWidth(!0);
                    this._label._elem.css("left", o + c / 2 - v / 2 + "px"),
                    "xaxis" == this.name ? this._label._elem.css("bottom", "0px") : this._label._elem.css("top", "0px"),
                    this._label.pack()
                }
            } else {
                for (var u = 0; u < s.length; u++) {
                    var p = s[u];
                    if (p.show && p.showLabel) {
                        var f;
                        if (p.constructor == e.jqplot.CanvasAxisTickRenderer && p.angle) {
                            var g = "yaxis" == this.name ? 1 : -1;
                            switch (p.labelPosition) {
                            case "auto":
                            case "end":
                                f = g * p.angle < 0 ? -p._textRenderer.height * Math.cos(-p._textRenderer.angle) / 2 : -p.getHeight() + p._textRenderer.height * Math.cos(p._textRenderer.angle) / 2;
                                break;
                            case "start":
                                f = p.angle > 0 ? -p._textRenderer.height * Math.cos(-p._textRenderer.angle) / 2 : -p.getHeight() + p._textRenderer.height * Math.cos(p._textRenderer.angle) / 2;
                                break;
                            case "middle":
                                f = -p.getHeight() / 2;
                                break;
                            default:
                                f = -p.getHeight() / 2
                            }
                        } else
                            f = -p.getHeight() / 2;
                        var m = this.u2p(p.value) + f + "px";
                        p._elem.css("top", m),
                        p.pack()
                    }
                }
                if (l) {
                    var b = this._label._elem.outerHeight(!0);
                    this._label._elem.css("top", r - c / 2 - b / 2 + "px"),
                    "yaxis" == this.name ? this._label._elem.css("left", "0px") : this._label._elem.css("right", "0px"),
                    this._label.pack()
                }
            }
        s = null
    }
    ;
    e.jqplot.LinearTickGenerator = function(t, i, s, n, a, r) {
        if (a = null !== a && a,
        r = null !== r && !a && r,
        t === i && (i = i ? 0 : 1),
        s = s || 1,
        i < t) {
            var o = i;
            i = t,
            t = o
        }
        var l = []
          , h = x(i - t, s)
          , c = e.jqplot.getSignificantFigures;
        if (null == n)
            if (a || r) {
                if (a) {
                    l[0] = t,
                    l[2] = Math.ceil((i - t) / h + 1),
                    l[1] = t + (l[2] - 1) * h;
                    var d = c(t).digitsRight
                      , u = c(h).digitsRight;
                    d < u ? l[3] = w(h) : l[3] = "%." + d + "f",
                    l[4] = h
                } else if (r) {
                    l[1] = i,
                    l[2] = Math.ceil((i - t) / h + 1),
                    l[0] = i - (l[2] - 1) * h;
                    var p = c(i).digitsRight
                      , u = c(h).digitsRight;
                    p < u ? l[3] = w(h) : l[3] = "%." + p + "f",
                    l[4] = h
                }
            } else
                l[0] = Math.floor(t / h) * h,
                l[1] = Math.ceil(i / h) * h,
                l[2] = Math.round((l[1] - l[0]) / h + 1),
                l[3] = w(h),
                l[4] = h;
        else {
            var f = [];
            if (f[0] = Math.floor(t / h) * h,
            f[1] = Math.ceil(i / h) * h,
            f[2] = Math.round((f[1] - f[0]) / h + 1),
            f[3] = w(h),
            f[4] = h,
            f[2] === n)
                l = f;
            else {
                var g = k(f[1] - f[0], n);
                l[0] = f[0],
                l[2] = n,
                l[4] = g,
                l[3] = w(g),
                l[1] = l[0] + (l[2] - 1) * l[4]
            }
        }
        return l
    }
    ,
    e.jqplot.LinearTickGenerator.bestLinearInterval = x,
    e.jqplot.LinearTickGenerator.bestInterval = k,
    e.jqplot.LinearTickGenerator.bestLinearComponents = C,
    e.jqplot.LinearTickGenerator.bestConstrainedInterval = _,
    e.jqplot.MarkerRenderer = function(t) {
        this.show = !0,
        this.style = "filledCircle",
        this.lineWidth = 2,
        this.size = 9,
        this.color = "#666666",
        this.shadow = !0,
        this.shadowAngle = 45,
        this.shadowOffset = 1,
        this.shadowDepth = 3,
        this.shadowAlpha = "0.07",
        this.shadowRenderer = new e.jqplot.ShadowRenderer,
        this.shapeRenderer = new e.jqplot.ShapeRenderer,
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.MarkerRenderer.prototype.init = function(t) {
        e.extend(!0, this, t);
        var i = {
            angle: this.shadowAngle,
            offset: this.shadowOffset,
            alpha: this.shadowAlpha,
            lineWidth: this.lineWidth,
            depth: this.shadowDepth,
            closePath: !0
        };
        this.style.indexOf("filled") != -1 && (i.fill = !0),
        this.style.indexOf("ircle") != -1 && (i.isarc = !0,
        i.closePath = !1),
        this.shadowRenderer.init(i);
        var s = {
            fill: !1,
            isarc: !1,
            strokeStyle: this.color,
            fillStyle: this.color,
            lineWidth: this.lineWidth,
            closePath: !0
        };
        this.style.indexOf("filled") != -1 && (s.fill = !0),
        this.style.indexOf("ircle") != -1 && (s.isarc = !0,
        s.closePath = !1),
        this.shapeRenderer.init(s)
    }
    ,
    e.jqplot.MarkerRenderer.prototype.drawDiamond = function(e, t, i, s, n) {
        var a = 1.2
          , r = this.size / 2 / a
          , o = this.size / 2 * a
          , l = [[e - r, t], [e, t + o], [e + r, t], [e, t - o]];
        this.shadow && this.shadowRenderer.draw(i, l),
        this.shapeRenderer.draw(i, l, n)
    }
    ,
    e.jqplot.MarkerRenderer.prototype.drawPlus = function(t, i, s, n, a) {
        var r = 1
          , o = this.size / 2 * r
          , l = this.size / 2 * r
          , h = [[t, i - l], [t, i + l]]
          , c = [[t + o, i], [t - o, i]]
          , d = e.extend(!0, {}, this.options, {
            closePath: !1
        });
        this.shadow && (this.shadowRenderer.draw(s, h, {
            closePath: !1
        }),
        this.shadowRenderer.draw(s, c, {
            closePath: !1
        })),
        this.shapeRenderer.draw(s, h, d),
        this.shapeRenderer.draw(s, c, d)
    }
    ,
    e.jqplot.MarkerRenderer.prototype.drawX = function(t, i, s, n, a) {
        var r = 1
          , o = this.size / 2 * r
          , l = this.size / 2 * r
          , h = e.extend(!0, {}, this.options, {
            closePath: !1
        })
          , c = [[t - o, i - l], [t + o, i + l]]
          , d = [[t - o, i + l], [t + o, i - l]];
        this.shadow && (this.shadowRenderer.draw(s, c, {
            closePath: !1
        }),
        this.shadowRenderer.draw(s, d, {
            closePath: !1
        })),
        this.shapeRenderer.draw(s, c, h),
        this.shapeRenderer.draw(s, d, h)
    }
    ,
    e.jqplot.MarkerRenderer.prototype.drawDash = function(e, t, i, s, n) {
        var a = 1
          , r = this.size / 2 * a
          , o = (this.size / 2 * a,
        [[e - r, t], [e + r, t]]);
        this.shadow && this.shadowRenderer.draw(i, o),
        this.shapeRenderer.draw(i, o, n)
    }
    ,
    e.jqplot.MarkerRenderer.prototype.drawLine = function(e, t, i, s, n) {
        var a = [e, t];
        this.shadow && this.shadowRenderer.draw(i, a),
        this.shapeRenderer.draw(i, a, n)
    }
    ,
    e.jqplot.MarkerRenderer.prototype.drawSquare = function(e, t, i, s, n) {
        var a = 1
          , r = this.size / 2 / a
          , o = this.size / 2 * a
          , l = [[e - r, t - o], [e - r, t + o], [e + r, t + o], [e + r, t - o]];
        this.shadow && this.shadowRenderer.draw(i, l),
        this.shapeRenderer.draw(i, l, n)
    }
    ,
    e.jqplot.MarkerRenderer.prototype.drawCircle = function(e, t, i, s, n) {
        var a = this.size / 2
          , r = 2 * Math.PI
          , o = [e, t, a, 0, r, !0];
        this.shadow && this.shadowRenderer.draw(i, o),
        this.shapeRenderer.draw(i, o, n)
    }
    ,
    e.jqplot.MarkerRenderer.prototype.draw = function(e, t, i, s) {
        if (s = s || {},
        null == s.show || 0 != s.show)
            switch (s.color && !s.fillStyle && (s.fillStyle = s.color),
            s.color && !s.strokeStyle && (s.strokeStyle = s.color),
            this.style) {
            case "diamond":
                this.drawDiamond(e, t, i, !1, s);
                break;
            case "filledDiamond":
                this.drawDiamond(e, t, i, !0, s);
                break;
            case "circle":
                this.drawCircle(e, t, i, !1, s);
                break;
            case "filledCircle":
                this.drawCircle(e, t, i, !0, s);
                break;
            case "square":
                this.drawSquare(e, t, i, !1, s);
                break;
            case "filledSquare":
                this.drawSquare(e, t, i, !0, s);
                break;
            case "x":
                this.drawX(e, t, i, !0, s);
                break;
            case "plus":
                this.drawPlus(e, t, i, !0, s);
                break;
            case "dash":
                this.drawDash(e, t, i, !0, s);
                break;
            case "line":
                this.drawLine(e, t, i, !1, s);
                break;
            default:
                this.drawDiamond(e, t, i, !1, s)
            }
    }
    ,
    e.jqplot.ShadowRenderer = function(t) {
        this.angle = 45,
        this.offset = 1,
        this.alpha = .07,
        this.lineWidth = 1.5,
        this.lineJoin = "miter",
        this.lineCap = "round",
        this.closePath = !1,
        this.fill = !1,
        this.depth = 3,
        this.strokeStyle = "rgba(0,0,0,0.1)",
        this.isarc = !1,
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.ShadowRenderer.prototype.init = function(t) {
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.ShadowRenderer.prototype.draw = function(t, i, s) {
        t.save();
        var n = null != s ? s : {}
          , a = null != n.fill ? n.fill : this.fill
          , r = null != n.fillRect ? n.fillRect : this.fillRect
          , o = null != n.closePath ? n.closePath : this.closePath
          , l = null != n.offset ? n.offset : this.offset
          , h = null != n.alpha ? n.alpha : this.alpha
          , c = null != n.depth ? n.depth : this.depth
          , d = null != n.isarc ? n.isarc : this.isarc
          , u = null != n.linePattern ? n.linePattern : this.linePattern;
        t.lineWidth = null != n.lineWidth ? n.lineWidth : this.lineWidth,
        t.lineJoin = null != n.lineJoin ? n.lineJoin : this.lineJoin,
        t.lineCap = null != n.lineCap ? n.lineCap : this.lineCap,
        t.strokeStyle = n.strokeStyle || this.strokeStyle || "rgba(0,0,0," + h + ")",
        t.fillStyle = n.fillStyle || this.fillStyle || "rgba(0,0,0," + h + ")";
        for (var p = 0; p < c; p++) {
            var f = e.jqplot.LinePattern(t, u);
            if (t.translate(Math.cos(this.angle * Math.PI / 180) * l, Math.sin(this.angle * Math.PI / 180) * l),
            f.beginPath(),
            d)
                t.arc(i[0], i[1], i[2], i[3], i[4], !0);
            else if (r)
                r && t.fillRect(i[0], i[1], i[2], i[3]);
            else if (i && i.length)
                for (var g = !0, m = 0; m < i.length; m++)
                    null != i[m][0] && null != i[m][1] ? g ? (f.moveTo(i[m][0], i[m][1]),
                    g = !1) : f.lineTo(i[m][0], i[m][1]) : g = !0;
            o && f.closePath(),
            a ? t.fill() : t.stroke()
        }
        t.restore()
    }
    ,
    e.jqplot.ShapeRenderer = function(t) {
        this.lineWidth = 1.5,
        this.linePattern = "solid",
        this.lineJoin = "miter",
        this.lineCap = "round",
        this.closePath = !1,
        this.fill = !1,
        this.isarc = !1,
        this.fillRect = !1,
        this.strokeRect = !1,
        this.clearRect = !1,
        this.strokeStyle = "#999999",
        this.fillStyle = "#999999",
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.ShapeRenderer.prototype.init = function(t) {
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.ShapeRenderer.prototype.draw = function(t, i, s) {
        t.save();
        var n = null != s ? s : {}
          , a = null != n.fill ? n.fill : this.fill
          , r = null != n.closePath ? n.closePath : this.closePath
          , o = null != n.fillRect ? n.fillRect : this.fillRect
          , l = null != n.strokeRect ? n.strokeRect : this.strokeRect
          , h = null != n.clearRect ? n.clearRect : this.clearRect
          , c = null != n.isarc ? n.isarc : this.isarc
          , d = null != n.linePattern ? n.linePattern : this.linePattern
          , u = e.jqplot.LinePattern(t, d);
        if (t.lineWidth = n.lineWidth || this.lineWidth,
        t.lineJoin = n.lineJoin || this.lineJoin,
        t.lineCap = n.lineCap || this.lineCap,
        t.strokeStyle = n.strokeStyle || n.color || this.strokeStyle,
        t.fillStyle = n.fillStyle || this.fillStyle,
        t.beginPath(),
        c)
            return t.arc(i[0], i[1], i[2], i[3], i[4], !0),
            r && t.closePath(),
            a ? t.fill() : t.stroke(),
            void t.restore();
        if (h)
            return t.clearRect(i[0], i[1], i[2], i[3]),
            void t.restore();
        if (o || l) {
            if (o && t.fillRect(i[0], i[1], i[2], i[3]),
            l)
                return t.strokeRect(i[0], i[1], i[2], i[3]),
                void t.restore()
        } else if (i && i.length) {
            for (var p = !0, f = 0; f < i.length; f++)
                null != i[f][0] && null != i[f][1] ? p ? (u.moveTo(i[f][0], i[f][1]),
                p = !1) : u.lineTo(i[f][0], i[f][1]) : p = !0;
            r && u.closePath(),
            a ? t.fill() : t.stroke()
        }
        t.restore()
    }
    ,
    e.jqplot.TableLegendRenderer = function() {}
    ,
    e.jqplot.TableLegendRenderer.prototype.init = function(t) {
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.TableLegendRenderer.prototype.addrow = function(t, i, s, n) {
        var a, r, o, l, h, c = s ? this.rowSpacing + "px" : "0px";
        o = document.createElement("tr"),
        a = e(o),
        a.addClass("jqplot-table-legend"),
        o = null,
        n ? a.prependTo(this._elem) : a.appendTo(this._elem),
        this.showSwatches && (r = e(document.createElement("td")),
        r.addClass("jqplot-table-legend jqplot-table-legend-swatch"),
        r.css({
            textAlign: "center",
            paddingTop: c
        }),
        l = e(document.createElement("div")),
        l.addClass("jqplot-table-legend-swatch-outline"),
        h = e(document.createElement("div")),
        h.addClass("jqplot-table-legend-swatch"),
        h.css({
            backgroundColor: i,
            borderColor: i
        }),
        a.append(r.append(l.append(h)))),
        this.showLabels && (r = e(document.createElement("td")),
        r.addClass("jqplot-table-legend jqplot-table-legend-label"),
        r.css("paddingTop", c),
        a.append(r),
        this.escapeHtml ? r.text(t) : r.html(t)),
        r = null,
        l = null,
        h = null,
        a = null,
        o = null
    }
    ,
    e.jqplot.TableLegendRenderer.prototype.draw = function() {
        if (this._elem && (this._elem.emptyForce(),
        this._elem = null),
        this.show) {
            var t = this._series
              , i = document.createElement("table");
            this._elem = e(i),
            this._elem.addClass("jqplot-table-legend");
            var s = {
                position: "absolute"
            };
            this.background && (s.background = this.background),
            this.border && (s.border = this.border),
            this.fontSize && (s.fontSize = this.fontSize),
            this.fontFamily && (s.fontFamily = this.fontFamily),
            this.textColor && (s.textColor = this.textColor),
            null != this.marginTop && (s.marginTop = this.marginTop),
            null != this.marginBottom && (s.marginBottom = this.marginBottom),
            null != this.marginLeft && (s.marginLeft = this.marginLeft),
            null != this.marginRight && (s.marginRight = this.marginRight);
            for (var n, a = !1, r = !1, o = 0; o < t.length; o++)
                if (n = t[o],
                (n._stack || n.renderer.constructor == e.jqplot.BezierCurveRenderer) && (r = !0),
                n.show && n.showLabel) {
                    var l = this.labels[o] || n.label.toString();
                    if (l) {
                        var h = n.color;
                        r && o < t.length - 1 ? a = !0 : r && o == t.length - 1 && (a = !1),
                        this.renderer.addrow.call(this, l, h, a, r),
                        a = !0
                    }
                    for (var c = 0; c < e.jqplot.addLegendRowHooks.length; c++) {
                        var d = e.jqplot.addLegendRowHooks[c].call(this, n);
                        d && (this.renderer.addrow.call(this, d.label, d.color, a),
                        a = !0)
                    }
                    l = null
                }
        }
        return this._elem
    }
    ,
    e.jqplot.TableLegendRenderer.prototype.pack = function(e) {
        if (this.show)
            if ("insideGrid" == this.placement)
                switch (this.location) {
                case "nw":
                    var t = e.left
                      , i = e.top;
                    this._elem.css("left", t),
                    this._elem.css("top", i);
                    break;
                case "n":
                    var t = (e.left + (this._plotDimensions.width - e.right)) / 2 - this.getWidth() / 2
                      , i = e.top;
                    this._elem.css("left", t),
                    this._elem.css("top", i);
                    break;
                case "ne":
                    var t = e.right
                      , i = e.top;
                    this._elem.css({
                        right: t,
                        top: i
                    });
                    break;
                case "e":
                    var t = e.right
                      , i = (e.top + (this._plotDimensions.height - e.bottom)) / 2 - this.getHeight() / 2;
                    this._elem.css({
                        right: t,
                        top: i
                    });
                    break;
                case "se":
                    var t = e.right
                      , i = e.bottom;
                    this._elem.css({
                        right: t,
                        bottom: i
                    });
                    break;
                case "s":
                    var t = (e.left + (this._plotDimensions.width - e.right)) / 2 - this.getWidth() / 2
                      , i = e.bottom;
                    this._elem.css({
                        left: t,
                        bottom: i
                    });
                    break;
                case "sw":
                    var t = e.left
                      , i = e.bottom;
                    this._elem.css({
                        left: t,
                        bottom: i
                    });
                    break;
                case "w":
                    var t = e.left
                      , i = (e.top + (this._plotDimensions.height - e.bottom)) / 2 - this.getHeight() / 2;
                    this._elem.css({
                        left: t,
                        top: i
                    });
                    break;
                default:
                    var t = e.right
                      , i = e.bottom;
                    this._elem.css({
                        right: t,
                        bottom: i
                    })
                }
            else if ("outside" == this.placement)
                switch (this.location) {
                case "nw":
                    var t = this._plotDimensions.width - e.left
                      , i = e.top;
                    this._elem.css("right", t),
                    this._elem.css("top", i);
                    break;
                case "n":
                    var t = (e.left + (this._plotDimensions.width - e.right)) / 2 - this.getWidth() / 2
                      , i = this._plotDimensions.height - e.top;
                    this._elem.css("left", t),
                    this._elem.css("bottom", i);
                    break;
                case "ne":
                    var t = this._plotDimensions.width - e.right
                      , i = e.top;
                    this._elem.css({
                        left: t,
                        top: i
                    });
                    break;
                case "e":
                    var t = this._plotDimensions.width - e.right
                      , i = (e.top + (this._plotDimensions.height - e.bottom)) / 2 - this.getHeight() / 2;
                    this._elem.css({
                        left: t,
                        top: i
                    });
                    break;
                case "se":
                    var t = this._plotDimensions.width - e.right
                      , i = e.bottom;
                    this._elem.css({
                        left: t,
                        bottom: i
                    });
                    break;
                case "s":
                    var t = (e.left + (this._plotDimensions.width - e.right)) / 2 - this.getWidth() / 2
                      , i = this._plotDimensions.height - e.bottom;
                    this._elem.css({
                        left: t,
                        top: i
                    });
                    break;
                case "sw":
                    var t = this._plotDimensions.width - e.left
                      , i = e.bottom;
                    this._elem.css({
                        right: t,
                        bottom: i
                    });
                    break;
                case "w":
                    var t = this._plotDimensions.width - e.left
                      , i = (e.top + (this._plotDimensions.height - e.bottom)) / 2 - this.getHeight() / 2;
                    this._elem.css({
                        right: t,
                        top: i
                    });
                    break;
                default:
                    var t = e.right
                      , i = e.bottom;
                    this._elem.css({
                        right: t,
                        bottom: i
                    })
                }
            else
                switch (this.location) {
                case "nw":
                    this._elem.css({
                        left: 0,
                        top: e.top
                    });
                    break;
                case "n":
                    var t = (e.left + (this._plotDimensions.width - e.right)) / 2 - this.getWidth() / 2;
                    this._elem.css({
                        left: t,
                        top: e.top
                    });
                    break;
                case "ne":
                    this._elem.css({
                        right: 0,
                        top: e.top
                    });
                    break;
                case "e":
                    var i = (e.top + (this._plotDimensions.height - e.bottom)) / 2 - this.getHeight() / 2;
                    this._elem.css({
                        right: e.right,
                        top: i
                    });
                    break;
                case "se":
                    this._elem.css({
                        right: e.right,
                        bottom: e.bottom
                    });
                    break;
                case "s":
                    var t = (e.left + (this._plotDimensions.width - e.right)) / 2 - this.getWidth() / 2;
                    this._elem.css({
                        left: t,
                        bottom: e.bottom
                    });
                    break;
                case "sw":
                    this._elem.css({
                        left: e.left,
                        bottom: e.bottom
                    });
                    break;
                case "w":
                    var i = (e.top + (this._plotDimensions.height - e.bottom)) / 2 - this.getHeight() / 2;
                    this._elem.css({
                        left: e.left,
                        top: i
                    });
                    break;
                default:
                    this._elem.css({
                        right: e.right,
                        bottom: e.bottom
                    })
                }
    }
    ,
    e.jqplot.ThemeEngine = function() {
        this.themes = {},
        this.activeTheme = null
    }
    ,
    e.jqplot.ThemeEngine.prototype.init = function() {
        var t, i, s, n = new e.jqplot.Theme({
            _name: "Default"
        });
        for (t in n.target)
            "textColor" == t ? n.target[t] = this.target.css("color") : n.target[t] = this.target.css(t);
        if (this.title.show && this.title._elem)
            for (t in n.title)
                "textColor" == t ? n.title[t] = this.title._elem.css("color") : n.title[t] = this.title._elem.css(t);
        for (t in n.grid)
            n.grid[t] = this.grid[t];
        if (null == n.grid.backgroundColor && null != this.grid.background && (n.grid.backgroundColor = this.grid.background),
        this.legend.show && this.legend._elem)
            for (t in n.legend)
                "textColor" == t ? n.legend[t] = this.legend._elem.css("color") : n.legend[t] = this.legend._elem.css(t);
        var a;
        for (i = 0; i < this.series.length; i++) {
            a = this.series[i],
            a.renderer.constructor == e.jqplot.LineRenderer ? n.series.push(new I) : a.renderer.constructor == e.jqplot.BarRenderer ? n.series.push(new $) : a.renderer.constructor == e.jqplot.PieRenderer ? n.series.push(new F) : a.renderer.constructor == e.jqplot.DonutRenderer ? n.series.push(new V) : a.renderer.constructor == e.jqplot.FunnelRenderer ? n.series.push(new N) : a.renderer.constructor == e.jqplot.MeterGaugeRenderer ? n.series.push(new H) : n.series.push({});
            for (t in n.series[i])
                n.series[i][t] = a[t]
        }
        var r, o;
        for (t in this.axes) {
            if (o = this.axes[t],
            r = n.axes[t] = new j,
            r.borderColor = o.borderColor,
            r.borderWidth = o.borderWidth,
            o._ticks && o._ticks[0])
                for (s in r.ticks)
                    o._ticks[0].hasOwnProperty(s) ? r.ticks[s] = o._ticks[0][s] : o._ticks[0]._elem && (r.ticks[s] = o._ticks[0]._elem.css(s));
            if (o._label && o._label.show)
                for (s in r.label)
                    o._label[s] ? r.label[s] = o._label[s] : o._label._elem && ("textColor" == s ? r.label[s] = o._label._elem.css("color") : r.label[s] = o._label._elem.css(s))
        }
        this.themeEngine._add(n),
        this.themeEngine.activeTheme = this.themeEngine.themes[n._name]
    }
    ,
    e.jqplot.ThemeEngine.prototype.get = function(e) {
        return e ? this.themes[e] : this.activeTheme
    }
    ,
    e.jqplot.ThemeEngine.prototype.getThemeNames = function() {
        var e = [];
        for (var t in this.themes)
            e.push(t);
        return e.sort(T)
    }
    ,
    e.jqplot.ThemeEngine.prototype.getThemes = function() {
        var e = []
          , t = [];
        for (var i in this.themes)
            e.push(i);
        e.sort(T);
        for (var s = 0; s < e.length; s++)
            t.push(this.themes[e[s]]);
        return t
    }
    ,
    e.jqplot.ThemeEngine.prototype.activate = function(t, i) {
        var s = !1;
        if (!i && this.activeTheme && this.activeTheme._name && (i = this.activeTheme._name),
        !this.themes.hasOwnProperty(i))
            throw new Error("No theme of that name");
        var n = this.themes[i];
        this.activeTheme = n;
        var a, r = ["xaxis", "x2axis", "yaxis", "y2axis"];
        for (g = 0; g < r.length; g++) {
            var o = r[g];
            null != n.axesStyles.borderColor && (t.axes[o].borderColor = n.axesStyles.borderColor),
            null != n.axesStyles.borderWidth && (t.axes[o].borderWidth = n.axesStyles.borderWidth)
        }
        for (var l in t.axes) {
            var h = t.axes[l];
            if (h.show) {
                var c = n.axes[l] || {}
                  , d = n.axesStyles
                  , u = e.jqplot.extend(!0, {}, c, d);
                if (a = null != n.axesStyles.borderColor ? n.axesStyles.borderColor : u.borderColor,
                null != u.borderColor && (h.borderColor = u.borderColor,
                s = !0),
                a = null != n.axesStyles.borderWidth ? n.axesStyles.borderWidth : u.borderWidth,
                null != u.borderWidth && (h.borderWidth = u.borderWidth,
                s = !0),
                h._ticks && h._ticks[0])
                    for (var p in u.ticks)
                        a = u.ticks[p],
                        null != a && (h.tickOptions[p] = a,
                        h._ticks = [],
                        s = !0);
                if (h._label && h._label.show)
                    for (var p in u.label)
                        a = u.label[p],
                        null != a && (h.labelOptions[p] = a,
                        s = !0)
            }
        }
        for (var f in n.grid)
            null != n.grid[f] && (t.grid[f] = n.grid[f]);
        if (s || t.grid.draw(),
        t.legend.show)
            for (f in n.legend)
                null != n.legend[f] && (t.legend[f] = n.legend[f]);
        if (t.title.show)
            for (f in n.title)
                null != n.title[f] && (t.title[f] = n.title[f]);
        var g;
        for (g = 0; g < n.series.length; g++) {
            var m = {};
            for (f in n.series[g])
                a = null != n.seriesStyles[f] ? n.seriesStyles[f] : n.series[g][f],
                null != a && (m[f] = a,
                "color" == f ? (t.series[g].renderer.shapeRenderer.fillStyle = a,
                t.series[g].renderer.shapeRenderer.strokeStyle = a,
                t.series[g][f] = a) : "lineWidth" == f || "linePattern" == f ? (t.series[g].renderer.shapeRenderer[f] = a,
                t.series[g][f] = a) : "markerOptions" == f ? (P(t.series[g].markerOptions, a),
                P(t.series[g].markerRenderer, a)) : t.series[g][f] = a,
                s = !0)
        }
        s && (t.target.empty(),
        t.draw());
        for (f in n.target)
            null != n.target[f] && t.target.css(f, n.target[f])
    }
    ,
    e.jqplot.ThemeEngine.prototype._add = function(e, t) {
        if (t && (e._name = t),
        e._name || (e._name = Date.parse(new Date)),
        this.themes.hasOwnProperty(e._name))
            throw new Error("jqplot.ThemeEngine Error: Theme already in use");
        this.themes[e._name] = e
    }
    ,
    e.jqplot.ThemeEngine.prototype.remove = function(e) {
        return "Default" != e && delete this.themes[e]
    }
    ,
    e.jqplot.ThemeEngine.prototype.newTheme = function(t, i) {
        "object" == typeof t && (i = i || t,
        t = null),
        t = i && i._name ? i._name : t || Date.parse(new Date);
        var s = this.copy(this.themes.Default._name, t);
        return e.jqplot.extend(s, i),
        s
    }
    ,
    e.jqplot.clone = S,
    e.jqplot.merge = P,
    e.jqplot.extend = function() {
        var t, i = arguments[0] || {}, s = 1, n = arguments.length, a = !1;
        for ("boolean" == typeof i && (a = i,
        i = arguments[1] || {},
        s = 2),
        "object" != typeof i && "[object Function]" === !toString.call(i) && (i = {}); s < n; s++)
            if (null != (t = arguments[s]))
                for (var r in t) {
                    var o = i[r]
                      , l = t[r];
                    i !== l && (a && l && "object" == typeof l && !l.nodeType ? i[r] = e.jqplot.extend(a, o || (null != l.length ? [] : {}), l) : l !== D && (i[r] = l))
                }
        return i
    }
    ,
    e.jqplot.ThemeEngine.prototype.rename = function(e, t) {
        if ("Default" == e || "Default" == t)
            throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");
        if (this.themes.hasOwnProperty(t))
            throw new Error("jqplot.ThemeEngine Error: New name already in use.");
        if (this.themes.hasOwnProperty(e)) {
            var i = this.copy(e, t);
            return this.remove(e),
            i
        }
        throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid")
    }
    ,
    e.jqplot.ThemeEngine.prototype.copy = function(t, i, s) {
        if ("Default" == i)
            throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");
        if (!this.themes.hasOwnProperty(t)) {
            var n = "jqplot.ThemeEngine Error: Source name invalid";
            throw new Error(n)
        }
        if (this.themes.hasOwnProperty(i)) {
            var n = "jqplot.ThemeEngine Error: Target name invalid";
            throw new Error(n)
        }
        var a = S(this.themes[t]);
        return a._name = i,
        e.jqplot.extend(!0, a, s),
        this._add(a),
        a
    }
    ,
    e.jqplot.Theme = function(t, i) {
        "object" == typeof t && (i = i || t,
        t = null),
        t = t || Date.parse(new Date),
        this._name = t,
        this.target = {
            backgroundColor: null
        },
        this.legend = {
            textColor: null,
            fontFamily: null,
            fontSize: null,
            border: null,
            background: null
        },
        this.title = {
            textColor: null,
            fontFamily: null,
            fontSize: null,
            textAlign: null
        },
        this.seriesStyles = {},
        this.series = [],
        this.grid = {
            drawGridlines: null,
            gridLineColor: null,
            gridLineWidth: null,
            backgroundColor: null,
            borderColor: null,
            borderWidth: null,
            shadow: null
        },
        this.axesStyles = {
            label: {},
            ticks: {}
        },
        this.axes = {},
        "string" == typeof i ? this._name = i : "object" == typeof i && e.jqplot.extend(!0, this, i)
    }
    ;
    var j = function() {
        this.borderColor = null,
        this.borderWidth = null,
        this.ticks = new O,
        this.label = new z
    }
      , O = function() {
        this.show = null,
        this.showGridline = null,
        this.showLabel = null,
        this.showMark = null,
        this.size = null,
        this.textColor = null,
        this.whiteSpace = null,
        this.fontSize = null,
        this.fontFamily = null
    }
      , z = function() {
        this.textColor = null,
        this.whiteSpace = null,
        this.fontSize = null,
        this.fontFamily = null,
        this.fontWeight = null
    }
      , I = function() {
        this.color = null,
        this.lineWidth = null,
        this.linePattern = null,
        this.shadow = null,
        this.fillColor = null,
        this.showMarker = null,
        this.markerOptions = new q
    }
      , q = function() {
        this.show = null,
        this.style = null,
        this.lineWidth = null,
        this.size = null,
        this.color = null,
        this.shadow = null
    }
      , $ = function() {
        this.color = null,
        this.seriesColors = null,
        this.lineWidth = null,
        this.shadow = null,
        this.barPadding = null,
        this.barMargin = null,
        this.barWidth = null,
        this.highlightColors = null
    }
      , F = function() {
        this.seriesColors = null,
        this.padding = null,
        this.sliceMargin = null,
        this.fill = null,
        this.shadow = null,
        this.startAngle = null,
        this.lineWidth = null,
        this.highlightColors = null
    }
      , V = function() {
        this.seriesColors = null,
        this.padding = null,
        this.sliceMargin = null,
        this.fill = null,
        this.shadow = null,
        this.startAngle = null,
        this.lineWidth = null,
        this.innerDiameter = null,
        this.thickness = null,
        this.ringMargin = null,
        this.highlightColors = null
    }
      , N = function() {
        this.color = null,
        this.lineWidth = null,
        this.shadow = null,
        this.padding = null,
        this.sectionMargin = null,
        this.seriesColors = null,
        this.highlightColors = null
    }
      , H = function() {
        this.padding = null,
        this.backgroundColor = null,
        this.ringColor = null,
        this.tickColor = null,
        this.ringWidth = null,
        this.intervalColors = null,
        this.intervalInnerRadius = null,
        this.intervalOuterRadius = null,
        this.hubRadius = null,
        this.needleThickness = null,
        this.needlePad = null
    };
    e.fn.jqplotChildText = function() {
        return e(this).contents().filter(function() {
            return 3 == this.nodeType
        }).text()
    }
    ,
    e.fn.jqplotGetComputedFontStyle = function() {
        for (var e = window.getComputedStyle ? window.getComputedStyle(this[0], "") : this[0].currentStyle, t = e["font-style"] ? ["font-style", "font-weight", "font-size", "font-family"] : ["fontStyle", "fontWeight", "fontSize", "fontFamily"], i = [], s = 0; s < t.length; ++s) {
            var n = String(e[t[s]]);
            n && "normal" != n && i.push(n)
        }
        return i.join(" ")
    }
    ,
    e.fn.jqplotToImageCanvas = function(t) {
        function i(t) {
            var i = parseInt(e(t).css("line-height"), 10);
            return isNaN(i) && (i = 1.2 * parseInt(e(t).css("font-size"), 10)),
            i
        }
        function s(t, s, n, a, r, o) {
            for (var l = i(t), h = e(t).innerWidth(), c = (e(t).innerHeight(),
            n.split(/\s+/)), d = c.length, u = "", p = [], f = r, g = a, m = 0; m < d; m++)
                u += c[m],
                s.measureText(u).width > h && (p.push(m),
                u = "",
                m--);
            if (0 === p.length)
                "center" === e(t).css("textAlign") && (g = a + (o - s.measureText(u).width) / 2 - b),
                s.fillText(n, g, r);
            else {
                u = c.slice(0, p[0]).join(" "),
                "center" === e(t).css("textAlign") && (g = a + (o - s.measureText(u).width) / 2 - b),
                s.fillText(u, g, f),
                f += l;
                for (var m = 1, v = p.length; m < v; m++)
                    u = c.slice(p[m - 1], p[m]).join(" "),
                    "center" === e(t).css("textAlign") && (g = a + (o - s.measureText(u).width) / 2 - b),
                    s.fillText(u, g, f),
                    f += l;
                u = c.slice(p[m - 1], c.length).join(" "),
                "center" === e(t).css("textAlign") && (g = a + (o - s.measureText(u).width) / 2 - b),
                s.fillText(u, g, f)
            }
        }
        function n(t, i, a) {
            var r = t.tagName.toLowerCase()
              , o = e(t).position()
              , l = window.getComputedStyle ? window.getComputedStyle(t, "") : t.currentStyle
              , h = i + o.left + parseInt(l.marginLeft, 10) + parseInt(l.borderLeftWidth, 10) + parseInt(l.paddingLeft, 10)
              , c = a + o.top + parseInt(l.marginTop, 10) + parseInt(l.borderTopWidth, 10) + parseInt(l.paddingTop, 10)
              , d = u.width;
            if ("div" != r && "span" != r || e(t).hasClass("jqplot-highlighter-tooltip"))
                if ("table" === r && e(t).hasClass("jqplot-table-legend")) {
                    k.strokeStyle = e(t).css("border-top-color"),
                    k.fillStyle = e(t).css("background-color"),
                    k.fillRect(h, c, e(t).innerWidth(), e(t).innerHeight()),
                    parseInt(e(t).css("border-top-width"), 10) > 0 && k.strokeRect(h, c, e(t).innerWidth(), e(t).innerHeight()),
                    e(t).find("div.jqplot-table-legend-swatch-outline").each(function() {
                        var t = e(this);
                        k.strokeStyle = t.css("border-top-color");
                        var i = h + t.position().left
                          , s = c + t.position().top;
                        k.strokeRect(i, s, t.innerWidth(), t.innerHeight()),
                        i += parseInt(t.css("padding-left"), 10),
                        s += parseInt(t.css("padding-top"), 10);
                        var n = t.innerHeight() - 2 * parseInt(t.css("padding-top"), 10)
                          , a = t.innerWidth() - 2 * parseInt(t.css("padding-left"), 10)
                          , r = t.children("div.jqplot-table-legend-swatch");
                        k.fillStyle = r.css("background-color"),
                        k.fillRect(i, s, a, n)
                    }),
                    e(t).find("td.jqplot-table-legend-label").each(function() {
                        var t = e(this)
                          , i = h + t.position().left
                          , n = c + t.position().top + parseInt(t.css("padding-top"), 10);
                        k.font = t.jqplotGetComputedFontStyle(),
                        k.fillStyle = t.css("color"),
                        s(t, k, t.text(), i, n, d)
                    })
                } else
                    "canvas" == r && k.drawImage(t, h, c);
            else {
                e(t).children().each(function() {
                    n(this, h, c)
                });
                var p = e(t).jqplotChildText();
                p && (k.font = e(t).jqplotGetComputedFontStyle(),
                k.fillStyle = e(t).css("color"),
                s(t, k, p, h, c, d))
            }
        }
        t = t || {};
        var a = null == t.x_offset ? 0 : t.x_offset
          , r = null == t.y_offset ? 0 : t.y_offset
          , o = null == t.backgroundColor ? "rgb(255,255,255)" : t.backgroundColor;
        if (0 == e(this).width() || 0 == e(this).height())
            return null;
        if (e.jqplot.use_excanvas)
            return null;
        for (var l, h, c, d, u = document.createElement("canvas"), p = e(this).outerHeight(!0), f = e(this).outerWidth(!0), g = e(this).offset(), m = g.left, v = g.top, b = 0, y = 0, w = ["jqplot-table-legend", "jqplot-xaxis-tick", "jqplot-x2axis-tick", "jqplot-yaxis-tick", "jqplot-y2axis-tick", "jqplot-y3axis-tick", "jqplot-y4axis-tick", "jqplot-y5axis-tick", "jqplot-y6axis-tick", "jqplot-y7axis-tick", "jqplot-y8axis-tick", "jqplot-y9axis-tick", "jqplot-xaxis-label", "jqplot-x2axis-label", "jqplot-yaxis-label", "jqplot-y2axis-label", "jqplot-y3axis-label", "jqplot-y4axis-label", "jqplot-y5axis-label", "jqplot-y6axis-label", "jqplot-y7axis-label", "jqplot-y8axis-label", "jqplot-y9axis-label"], _ = 0; _ < w.length; _++)
            e(this).find("." + w[_]).each(function() {
                l = e(this).offset().top - v,
                h = e(this).offset().left - m,
                d = h + e(this).outerWidth(!0) + b,
                c = l + e(this).outerHeight(!0) + y,
                h < -b && (f = f - b - h,
                b = -h),
                l < -y && (p = p - y - l,
                y = -l),
                d > f && (f = d),
                c > p && (p = c)
            });
        u.width = f + Number(a),
        u.height = p + Number(r);
        var k = u.getContext("2d");
        return k.save(),
        k.fillStyle = o,
        k.fillRect(0, 0, u.width, u.height),
        k.restore(),
        k.translate(b, y),
        k.textAlign = "left",
        k.textBaseline = "top",
        e(this).children().each(function() {
            n(this, a, r)
        }),
        u
    }
    ,
    e.fn.jqplotToImageStr = function(t) {
        var i = e(this).jqplotToImageCanvas(t);
        return i ? i.toDataURL("image/png") : null
    }
    ,
    e.fn.jqplotToImageElem = function(t) {
        var i = document.createElement("img")
          , s = e(this).jqplotToImageStr(t);
        return i.src = s,
        i
    }
    ,
    e.fn.jqplotToImageElemStr = function(t) {
        var i = "<img src=" + e(this).jqplotToImageStr(t) + " />";
        return i
    }
    ,
    e.fn.jqplotSaveImage = function() {
        var t = e(this).jqplotToImageStr({});
        t && (window.location.href = t.replace("image/png", "image/octet-stream"))
    }
    ,
    e.fn.jqplotViewImage = function() {
        var t = e(this).jqplotToImageElemStr({});
        e(this).jqplotToImageStr({});
        if (t) {
            var i = window.open("");
            i.document.open("image/png"),
            i.document.write(t),
            i.document.close(),
            i = null
        }
    }
    ;
    var B = function() {
        switch (this.syntax = B.config.syntax,
        this._type = "jsDate",
        this.proxy = new Date,
        this.options = {},
        this.locale = B.regional.getLocale(),
        this.formatString = "",
        this.defaultCentury = B.config.defaultCentury,
        arguments.length) {
        case 0:
            break;
        case 1:
            if ("[object Object]" == E(arguments[0]) && "jsDate" != arguments[0]._type) {
                var e = this.options = arguments[0];
                this.syntax = e.syntax || this.syntax,
                this.defaultCentury = e.defaultCentury || this.defaultCentury,
                this.proxy = B.createDate(e.date)
            } else
                this.proxy = B.createDate(arguments[0]);
            break;
        default:
            for (var t = [], i = 0; i < arguments.length; i++)
                t.push(arguments[i]);
            this.proxy = new Date,
            this.proxy.setFullYear.apply(this.proxy, t.slice(0, 3)),
            t.slice(3).length && this.proxy.setHours.apply(this.proxy, t.slice(3))
        }
    };
    B.config = {
        defaultLocale: "en",
        syntax: "perl",
        defaultCentury: 1900
    },
    B.prototype.add = function(e, t) {
        var i = G[t] || G.day;
        return "number" == typeof i ? this.proxy.setTime(this.proxy.getTime() + i * e) : i.add(this, e),
        this
    }
    ,
    B.prototype.clone = function() {
        return new B(this.proxy.getTime())
    }
    ,
    B.prototype.getUtcOffset = function() {
        return 6e4 * this.proxy.getTimezoneOffset()
    }
    ,
    B.prototype.diff = function(e, t, i) {
        if (e = new B(e),
        null === e)
            return null;
        var s = G[t] || G.day;
        if ("number" == typeof s)
            var n = (this.proxy.getTime() - e.proxy.getTime()) / s;
        else
            var n = s.diff(this.proxy, e.proxy);
        return i ? n : Math[n > 0 ? "floor" : "ceil"](n)
    }
    ,
    B.prototype.getAbbrDayName = function() {
        return B.regional[this.locale].dayNamesShort[this.proxy.getDay()]
    }
    ,
    B.prototype.getAbbrMonthName = function() {
        return B.regional[this.locale].monthNamesShort[this.proxy.getMonth()]
    }
    ,
    B.prototype.getAMPM = function() {
        return this.proxy.getHours() >= 12 ? "PM" : "AM"
    }
    ,
    B.prototype.getAmPm = function() {
        return this.proxy.getHours() >= 12 ? "pm" : "am"
    }
    ,
    B.prototype.getCentury = function() {
        return parseInt(this.proxy.getFullYear() / 100, 10)
    }
    ,
    B.prototype.getDate = function() {
        return this.proxy.getDate()
    }
    ,
    B.prototype.getDay = function() {
        return this.proxy.getDay()
    }
    ,
    B.prototype.getDayOfWeek = function() {
        var e = this.proxy.getDay();
        return 0 === e ? 7 : e
    }
    ,
    B.prototype.getDayOfYear = function() {
        var e = this.proxy
          , t = e - new Date("" + e.getFullYear() + "/1/1 GMT");
        return t += 6e4 * e.getTimezoneOffset(),
        e = null,
        parseInt(t / 6e4 / 60 / 24, 10) + 1
    }
    ,
    B.prototype.getDayName = function() {
        return B.regional[this.locale].dayNames[this.proxy.getDay()]
    }
    ,
    B.prototype.getFullWeekOfYear = function() {
        var e = this.proxy
          , t = this.getDayOfYear()
          , i = 6 - e.getDay()
          , s = parseInt((t + i) / 7, 10);
        return s
    }
    ,
    B.prototype.getFullYear = function() {
        return this.proxy.getFullYear()
    }
    ,
    B.prototype.getGmtOffset = function() {
        var e = this.proxy.getTimezoneOffset() / 60
          , t = e < 0 ? "+" : "-";
        return e = Math.abs(e),
        t + U(Math.floor(e), 2) + ":" + U(e % 1 * 60, 2)
    }
    ,
    B.prototype.getHours = function() {
        return this.proxy.getHours()
    }
    ,
    B.prototype.getHours12 = function() {
        var e = this.proxy.getHours();
        return e > 12 ? e - 12 : 0 == e ? 12 : e
    }
    ,
    B.prototype.getIsoWeek = function() {
        var e = this.proxy
          , t = this.getWeekOfYear()
          , i = new Date("" + e.getFullYear() + "/1/1").getDay()
          , s = t + (i > 4 || i <= 1 ? 0 : 1);
        return 53 == s && new Date("" + e.getFullYear() + "/12/31").getDay() < 4 ? s = 1 : 0 === s && (e = new B(new Date("" + (e.getFullYear() - 1) + "/12/31")),
        s = e.getIsoWeek()),
        e = null,
        s
    }
    ,
    B.prototype.getMilliseconds = function() {
        return this.proxy.getMilliseconds()
    }
    ,
    B.prototype.getMinutes = function() {
        return this.proxy.getMinutes()
    }
    ,
    B.prototype.getMonth = function() {
        return this.proxy.getMonth()
    }
    ,
    B.prototype.getMonthName = function() {
        return B.regional[this.locale].monthNames[this.proxy.getMonth()]
    }
    ,
    B.prototype.getMonthNumber = function() {
        return this.proxy.getMonth() + 1
    }
    ,
    B.prototype.getSeconds = function() {
        return this.proxy.getSeconds()
    }
    ,
    B.prototype.getShortYear = function() {
        return this.proxy.getYear() % 100
    }
    ,
    B.prototype.getTime = function() {
        return this.proxy.getTime()
    }
    ,
    B.prototype.getTimezoneAbbr = function() {
        return this.proxy.toString().replace(/^.*\(([^)]+)\)$/, "$1")
    }
    ,
    B.prototype.getTimezoneName = function() {
        var e = /(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());
        return e[1] || e[2] || "GMT" + this.getGmtOffset()
    }
    ,
    B.prototype.getTimezoneOffset = function() {
        return this.proxy.getTimezoneOffset()
    }
    ,
    B.prototype.getWeekOfYear = function() {
        var e = this.getDayOfYear()
          , t = 7 - this.getDayOfWeek()
          , i = parseInt((e + t) / 7, 10);
        return i
    }
    ,
    B.prototype.getUnix = function() {
        return Math.round(this.proxy.getTime() / 1e3, 0)
    }
    ,
    B.prototype.getYear = function() {
        return this.proxy.getYear()
    }
    ,
    B.prototype.next = function(e) {
        return e = e || "day",
        this.clone().add(1, e)
    }
    ,
    B.prototype.set = function() {
        switch (arguments.length) {
        case 0:
            this.proxy = new Date;
            break;
        case 1:
            if ("[object Object]" == E(arguments[0]) && "jsDate" != arguments[0]._type) {
                var e = this.options = arguments[0];
                this.syntax = e.syntax || this.syntax,
                this.defaultCentury = e.defaultCentury || this.defaultCentury,
                this.proxy = B.createDate(e.date)
            } else
                this.proxy = B.createDate(arguments[0]);
            break;
        default:
            for (var t = [], i = 0; i < arguments.length; i++)
                t.push(arguments[i]);
            this.proxy = new Date,
            this.proxy.setFullYear.apply(this.proxy, t.slice(0, 3)),
            t.slice(3).length && this.proxy.setHours.apply(this.proxy, t.slice(3))
        }
        return this
    }
    ,
    B.prototype.setDate = function(e) {
        return this.proxy.setDate(e),
        this
    }
    ,
    B.prototype.setFullYear = function() {
        return this.proxy.setFullYear.apply(this.proxy, arguments),
        this
    }
    ,
    B.prototype.setHours = function() {
        return this.proxy.setHours.apply(this.proxy, arguments),
        this
    }
    ,
    B.prototype.setMilliseconds = function(e) {
        return this.proxy.setMilliseconds(e),
        this
    }
    ,
    B.prototype.setMinutes = function() {
        return this.proxy.setMinutes.apply(this.proxy, arguments),
        this
    }
    ,
    B.prototype.setMonth = function() {
        return this.proxy.setMonth.apply(this.proxy, arguments),
        this
    }
    ,
    B.prototype.setSeconds = function() {
        return this.proxy.setSeconds.apply(this.proxy, arguments),
        this
    }
    ,
    B.prototype.setTime = function(e) {
        return this.proxy.setTime(e),
        this
    }
    ,
    B.prototype.setYear = function() {
        return this.proxy.setYear.apply(this.proxy, arguments),
        this
    }
    ,
    B.prototype.strftime = function(e) {
        return e = e || this.formatString || B.regional[this.locale].formatString,
        B.strftime(this, e, this.syntax)
    }
    ,
    B.prototype.toString = function() {
        return this.proxy.toString()
    }
    ,
    B.prototype.toYmdInt = function() {
        return 1e4 * this.proxy.getFullYear() + 100 * this.getMonthNumber() + this.proxy.getDate()
    }
    ,
    B.regional = {
        en: {
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        fr: {
            monthNames: ["Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Décembre"],
            monthNamesShort: ["Jan", "Fév", "Mar", "Avr", "Mai", "Jun", "Jul", "Aoû", "Sep", "Oct", "Nov", "Déc"],
            dayNames: ["Dimanche", "Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"],
            dayNamesShort: ["Dim", "Lun", "Mar", "Mer", "Jeu", "Ven", "Sam"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        de: {
            monthNames: ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember"],
            monthNamesShort: ["Jan", "Feb", "Mär", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez"],
            dayNames: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
            dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        es: {
            monthNames: ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
            monthNamesShort: ["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"],
            dayNames: ["Domingo", "Lunes", "Martes", "Mi&eacute;rcoles", "Jueves", "Viernes", "S&aacute;bado"],
            dayNamesShort: ["Dom", "Lun", "Mar", "Mi&eacute;", "Juv", "Vie", "S&aacute;b"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        ru: {
            monthNames: ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"],
            monthNamesShort: ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"],
            dayNames: ["воскресенье", "понедельник", "вторник", "среда", "четверг", "пятница", "суббота"],
            dayNamesShort: ["вск", "пнд", "втр", "срд", "чтв", "птн", "сбт"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        ar: {
            monthNames: ["كانون الثاني", "شباط", "آذار", "نيسان", "آذار", "حزيران", "تموز", "آب", "أيلول", "تشرين الأول", "تشرين الثاني", "كانون الأول"],
            monthNamesShort: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
            dayNames: ["السبت", "الأحد", "الاثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة"],
            dayNamesShort: ["سبت", "أحد", "اثنين", "ثلاثاء", "أربعاء", "خميس", "جمعة"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        pt: {
            monthNames: ["Janeiro", "Fevereiro", "Mar&ccedil;o", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"],
            monthNamesShort: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
            dayNames: ["Domingo", "Segunda-feira", "Ter&ccedil;a-feira", "Quarta-feira", "Quinta-feira", "Sexta-feira", "S&aacute;bado"],
            dayNamesShort: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "S&aacute;b"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        "pt-BR": {
            monthNames: ["Janeiro", "Fevereiro", "Mar&ccedil;o", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"],
            monthNamesShort: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
            dayNames: ["Domingo", "Segunda-feira", "Ter&ccedil;a-feira", "Quarta-feira", "Quinta-feira", "Sexta-feira", "S&aacute;bado"],
            dayNamesShort: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "S&aacute;b"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        pl: {
            monthNames: ["Styczeń", "Luty", "Marzec", "Kwiecień", "Maj", "Czerwiec", "Lipiec", "Sierpień", "Wrzesień", "Październik", "Listopad", "Grudzień"],
            monthNamesShort: ["Sty", "Lut", "Mar", "Kwi", "Maj", "Cze", "Lip", "Sie", "Wrz", "Paź", "Lis", "Gru"],
            dayNames: ["Niedziela", "Poniedziałek", "Wtorek", "Środa", "Czwartek", "Piątek", "Sobota"],
            dayNamesShort: ["Ni", "Pn", "Wt", "Śr", "Cz", "Pt", "Sb"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        nl: {
            monthNames: ["Januari", "Februari", "Maart", "April", "Mei", "Juni", "July", "Augustus", "September", "Oktober", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dec"],
            dayNames: ",".Zaterdag,
            dayNamesShort: ["Zo", "Ma", "Di", "Wo", "Do", "Vr", "Za"],
            formatString: "%Y-%m-%d %H:%M:%S"
        },
        sv: {
            monthNames: ["januari", "februari", "mars", "april", "maj", "juni", "juli", "augusti", "september", "oktober", "november", "december"],
            monthNamesShort: ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec"],
            dayNames: ["söndag", "måndag", "tisdag", "onsdag", "torsdag", "fredag", "lördag"],
            dayNamesShort: ["sön", "mån", "tis", "ons", "tor", "fre", "lör"],
            formatString: "%Y-%m-%d %H:%M:%S"
        }
    },
    B.regional["en-US"] = B.regional["en-GB"] = B.regional.en,
    B.regional.getLocale = function() {
        var e = B.config.defaultLocale;
        return document && document.getElementsByTagName("html") && document.getElementsByTagName("html")[0].lang && (e = document.getElementsByTagName("html")[0].lang,
        B.regional.hasOwnProperty(e) || (e = B.config.defaultLocale)),
        e
    }
    ;
    var W = 864e5
      , U = function(e, t) {
        e = String(e);
        var i = t - e.length
          , s = String(Math.pow(10, i)).slice(1);
        return s.concat(e)
    }
      , G = {
        millisecond: 1,
        second: 1e3,
        minute: 6e4,
        hour: 36e5,
        day: W,
        week: 7 * W,
        month: {
            add: function(e, t) {
                G.year.add(e, Math[t > 0 ? "floor" : "ceil"](t / 12));
                var i = e.getMonth() + t % 12;
                12 == i ? (i = 0,
                e.setYear(e.getFullYear() + 1)) : i == -1 && (i = 11,
                e.setYear(e.getFullYear() - 1)),
                e.setMonth(i)
            },
            diff: function(e, t) {
                var i = e.getFullYear() - t.getFullYear()
                  , s = e.getMonth() - t.getMonth() + 12 * i
                  , n = e.getDate() - t.getDate();
                return s + n / 30
            }
        },
        year: {
            add: function(e, t) {
                e.setYear(e.getFullYear() + Math[t > 0 ? "floor" : "ceil"](t))
            },
            diff: function(e, t) {
                return G.month.diff(e, t) / 12
            }
        }
    };
    for (var Y in G)
        "s" != Y.substring(Y.length - 1) && (G[Y + "s"] = G[Y]);
    var X = function(e, t, i) {
        if (B.formats[i].shortcuts[t])
            return B.strftime(e, B.formats[i].shortcuts[t], i);
        var s = (B.formats[i].codes[t] || "").split(".")
          , n = e["get" + s[0]] ? e["get" + s[0]]() : "";
        return s[1] && (n = U(n, s[1])),
        n
    };
    B.strftime = function(e, t, i, s) {
        var n = "perl"
          , a = B.regional.getLocale();
        i && B.formats.hasOwnProperty(i) ? n = i : i && B.regional.hasOwnProperty(i) && (a = i),
        s && B.formats.hasOwnProperty(s) ? n = s : s && B.regional.hasOwnProperty(s) && (a = s),
        "[object Object]" == E(e) && "jsDate" == e._type || (e = new B(e),
        e.locale = a),
        t || (t = e.formatString || B.regional[a].formatString);
        for (var r, o = t || "%Y-%m-%d", l = ""; o.length > 0; )
            (r = o.match(B.formats[n].codes.matcher)) ? (l += o.slice(0, r.index),
            l += (r[1] || "") + X(e, r[2], n),
            o = o.slice(r.index + r[0].length)) : (l += o,
            o = "");
        return l
    }
    ,
    B.formats = {
        ISO: "%Y-%m-%dT%H:%M:%S.%N%G",
        SQL: "%Y-%m-%d %H:%M:%S"
    },
    B.formats.perl = {
        codes: {
            matcher: /()%(#?(%|[a-z]))/i,
            Y: "FullYear",
            y: "ShortYear.2",
            m: "MonthNumber.2",
            "#m": "MonthNumber",
            B: "MonthName",
            b: "AbbrMonthName",
            d: "Date.2",
            "#d": "Date",
            e: "Date",
            A: "DayName",
            a: "AbbrDayName",
            w: "Day",
            H: "Hours.2",
            "#H": "Hours",
            I: "Hours12.2",
            "#I": "Hours12",
            p: "AMPM",
            M: "Minutes.2",
            "#M": "Minutes",
            S: "Seconds.2",
            "#S": "Seconds",
            s: "Unix",
            N: "Milliseconds.3",
            "#N": "Milliseconds",
            O: "TimezoneOffset",
            Z: "TimezoneName",
            G: "GmtOffset"
        },
        shortcuts: {
            F: "%Y-%m-%d",
            T: "%H:%M:%S",
            X: "%H:%M:%S",
            x: "%m/%d/%y",
            D: "%m/%d/%y",
            "#c": "%a %b %e %H:%M:%S %Y",
            v: "%e-%b-%Y",
            R: "%H:%M",
            r: "%I:%M:%S %p",
            t: "\t",
            n: "\n",
            "%": "%"
        }
    },
    B.formats.php = {
        codes: {
            matcher: /()%((%|[a-z]))/i,
            a: "AbbrDayName",
            A: "DayName",
            d: "Date.2",
            e: "Date",
            j: "DayOfYear.3",
            u: "DayOfWeek",
            w: "Day",
            U: "FullWeekOfYear.2",
            V: "IsoWeek.2",
            W: "WeekOfYear.2",
            b: "AbbrMonthName",
            B: "MonthName",
            m: "MonthNumber.2",
            h: "AbbrMonthName",
            C: "Century.2",
            y: "ShortYear.2",
            Y: "FullYear",
            H: "Hours.2",
            I: "Hours12.2",
            l: "Hours12",
            p: "AMPM",
            P: "AmPm",
            M: "Minutes.2",
            S: "Seconds.2",
            s: "Unix",
            O: "TimezoneOffset",
            z: "GmtOffset",
            Z: "TimezoneAbbr"
        },
        shortcuts: {
            D: "%m/%d/%y",
            F: "%Y-%m-%d",
            T: "%H:%M:%S",
            X: "%H:%M:%S",
            x: "%m/%d/%y",
            R: "%H:%M",
            r: "%I:%M:%S %p",
            t: "\t",
            n: "\n",
            "%": "%"
        }
    },
    B.createDate = function(e) {
        function t(e, t) {
            var i, s, n, a, r = parseFloat(t[1]), o = parseFloat(t[2]), l = parseFloat(t[3]), h = B.config.defaultCentury;
            return r > 31 ? (s = l,
            n = o,
            i = h + r) : (s = o,
            n = r,
            i = h + l),
            a = n + "/" + s + "/" + i,
            e.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/, a)
        }
        if (null == e)
            return new Date;
        if (e instanceof Date)
            return e;
        if ("number" == typeof e)
            return new Date(e);
        var i = String(e).replace(/^\s*(.+)\s*$/g, "$1");
        i = i.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/, "$1/$2/$3"),
        i = i.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i, "$1 $2 $3");
        var s = i.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i);
        if (s && s.length > 3) {
            var n = parseFloat(s[3])
              , a = B.config.defaultCentury + n;
            a = String(a),
            i = i.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i, s[1] + " " + s[2] + " " + a)
        }
        s = i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/),
        s && s.length > 3 && (i = t(i, s));
        var s = i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/);
        s && s.length > 3 && (i = t(i, s));
        for (var r, o, l, h = 0, c = B.matchers.length, d = i; h < c; ) {
            if (o = Date.parse(d),
            !isNaN(o))
                return new Date(o);
            if (r = B.matchers[h],
            "function" == typeof r) {
                if (l = r.call(B, d),
                l instanceof Date)
                    return l
            } else
                d = i.replace(r[0], r[1]);
            h++
        }
        return NaN
    }
    ,
    B.daysInMonth = function(e, t) {
        return 2 == t ? 29 == new Date(e,1,29).getDate() ? 29 : 28 : [D, 31, D, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][t]
    }
    ,
    B.matchers = [[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/, "$2/$1/$3"], [/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/, "$2/$3/$1"], function(e) {
        var t = e.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);
        if (t) {
            if (t[1]) {
                var i = this.createDate(t[1]);
                if (isNaN(i))
                    return
            } else {
                var i = new Date;
                i.setMilliseconds(0)
            }
            var s = parseFloat(t[2]);
            return t[6] && (s = "am" == t[6].toLowerCase() ? 12 == s ? 0 : s : 12 == s ? 12 : s + 12),
            i.setHours(s, parseInt(t[3] || 0, 10), parseInt(t[4] || 0, 10), 1e3 * (parseFloat(t[5] || 0) || 0)),
            i
        }
        return e
    }
    , function(e) {
        var t = e.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);
        if (t) {
            if (t[1]) {
                var i = this.createDate(t[1]);
                if (isNaN(i))
                    return
            } else {
                var i = new Date;
                i.setMilliseconds(0)
            }
            var s = parseFloat(t[2]);
            return i.setHours(s, parseInt(t[3], 10), parseInt(t[4], 10), 1e3 * parseFloat(t[5])),
            i
        }
        return e
    }
    , function(e) {
        var t = e.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);
        if (t) {
            var i, s, n, a = new Date, r = B.config.defaultCentury, o = parseFloat(t[1]), l = parseFloat(t[3]);
            o > 31 ? (s = l,
            i = r + o) : (s = o,
            i = r + l);
            var n = M(t[2], B.regional[B.regional.getLocale()].monthNamesShort);
            return n == -1 && (n = M(t[2], B.regional[B.regional.getLocale()].monthNames)),
            a.setFullYear(i, n, s),
            a.setHours(0, 0, 0, 0),
            a
        }
        return e
    }
    ],
    e.jsDate = B,
    e.jqplot.sprintf = function() {
        function t(e, t, i, s) {
            var n = e.length >= t ? "" : Array(1 + t - e.length >>> 0).join(i);
            return s ? e + n : n + e
        }
        function i(t) {
            for (var i = new String(t), s = 10; s > 0 && i != (i = i.replace(/^(\d+)(\d{3})/, "$1" + e.jqplot.sprintf.thousandsSeparator + "$2")); s--)
                ;
            return i
        }
        function s(e, i, s, n, a, r) {
            var o = n - e.length;
            if (o > 0) {
                var l = " ";
                r && (l = "&nbsp;"),
                e = s || !a ? t(e, n, l, s) : e.slice(0, i.length) + t("", o, "0", !0) + e.slice(i.length)
            }
            return e
        }
        function n(e, i, n, a, r, o, l, h) {
            var c = e >>> 0;
            return n = n && c && {
                2: "0b",
                8: "0",
                16: "0x"
            }[i] || "",
            e = n + t(c.toString(i), o || 0, "0", !1),
            s(e, n, a, r, l, h)
        }
        function a(e, t, i, n, a, r) {
            return null != n && (e = e.slice(0, n)),
            s(e, "", t, i, a, r)
        }
        var r = arguments
          , o = 0
          , l = r[o++];
        return l.replace(e.jqplot.sprintf.regex, function(l, h, c, d, u, p, f) {
            if ("%%" == l)
                return "%";
            for (var g = !1, m = "", v = !1, b = !1, y = !1, w = !1, _ = 0; c && _ < c.length; _++)
                switch (c.charAt(_)) {
                case " ":
                    m = " ";
                    break;
                case "+":
                    m = "+";
                    break;
                case "-":
                    g = !0;
                    break;
                case "0":
                    v = !0;
                    break;
                case "#":
                    b = !0;
                    break;
                case "&":
                    y = !0;
                    break;
                case "'":
                    w = !0
                }
            if (d = d ? "*" == d ? +r[o++] : "*" == d.charAt(0) ? +r[d.slice(1, -1)] : +d : 0,
            d < 0 && (d = -d,
            g = !0),
            !isFinite(d))
                throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");
            p = p ? "*" == p ? +r[o++] : "*" == p.charAt(0) ? +r[p.slice(1, -1)] : +p : "fFeE".indexOf(f) > -1 ? 6 : "d" == f ? 0 : void 0;
            var k = h ? r[h.slice(0, -1)] : r[o++];
            switch (f) {
            case "s":
                return null == k ? "" : a(String(k), g, d, p, v, y);
            case "c":
                return a(String.fromCharCode(+k), g, d, p, v, y);
            case "b":
                return n(k, 2, b, g, d, p, v, y);
            case "o":
                return n(k, 8, b, g, d, p, v, y);
            case "x":
                return n(k, 16, b, g, d, p, v, y);
            case "X":
                return n(k, 16, b, g, d, p, v, y).toUpperCase();
            case "u":
                return n(k, 10, b, g, d, p, v, y);
            case "i":
                var x = parseInt(+k, 10);
                if (isNaN(x))
                    return "";
                var C = x < 0 ? "-" : m
                  , T = w ? i(String(Math.abs(x))) : String(Math.abs(x));
                return k = C + t(T, p, "0", !1),
                s(k, C, g, d, v, y);
            case "d":
                var x = Math.round(+k);
                if (isNaN(x))
                    return "";
                var C = x < 0 ? "-" : m
                  , T = w ? i(String(Math.abs(x))) : String(Math.abs(x));
                return k = C + t(T, p, "0", !1),
                s(k, C, g, d, v, y);
            case "e":
            case "E":
            case "f":
            case "F":
            case "g":
            case "G":
                var x = +k;
                if (isNaN(x))
                    return "";
                var C = x < 0 ? "-" : m
                  , S = ["toExponential", "toFixed", "toPrecision"]["efg".indexOf(f.toLowerCase())]
                  , P = ["toString", "toUpperCase"]["eEfFgG".indexOf(f) % 2]
                  , T = Math.abs(x)[S](p)
                  , M = T.toString().split(".");
                M[0] = w ? i(M[0]) : M[0],
                T = M.join(e.jqplot.sprintf.decimalMark),
                k = C + T;
                var E = s(k, C, g, d, v, y)[P]();
                return E;
            case "p":
            case "P":
                var x = +k;
                if (isNaN(x))
                    return "";
                var C = x < 0 ? "-" : m
                  , M = String(Number(Math.abs(x)).toExponential()).split(/e|E/)
                  , A = M[0].indexOf(".") != -1 ? M[0].length - 1 : String(x).length
                  , D = M[1] < 0 ? -M[1] - 1 : 0;
                if (Math.abs(x) < 1)
                    k = A + D <= p ? C + Math.abs(x).toPrecision(A) : A <= p - 1 ? C + Math.abs(x).toExponential(A - 1) : C + Math.abs(x).toExponential(p - 1);
                else {
                    var L = A <= p ? A : p;
                    k = C + Math.abs(x).toPrecision(L)
                }
                var P = ["toString", "toUpperCase"]["pP".indexOf(f) % 2];
                return s(k, C, g, d, v, y)[P]();
            case "n":
                return "";
            default:
                return l
            }
        })
    }
    ,
    e.jqplot.sprintf.thousandsSeparator = ",",
    e.jqplot.sprintf.decimalMark = ".",
    e.jqplot.sprintf.regex = /%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g,
    e.jqplot.getSignificantFigures = function(e) {
        var t = String(Number(Math.abs(e)).toExponential()).split(/e|E/)
          , i = t[0].indexOf(".") != -1 ? t[0].length - 1 : t[0].length
          , s = t[1] < 0 ? -t[1] - 1 : 0
          , n = parseInt(t[1], 10)
          , a = n + 1 > 0 ? n + 1 : 0
          , r = i <= a ? 0 : i - n - 1;
        return {
            significantDigits: i,
            digitsLeft: a,
            digitsRight: r,
            zeros: s,
            exponent: n
        }
    }
    ,
    e.jqplot.getPrecision = function(t) {
        return e.jqplot.getSignificantFigures(t).digitsRight
    }
    ;
    var Q = e.uiBackCompat !== !1;
    e.jqplot.effects = {
        effect: {}
    };
    var J = "jqplot.storage.";
    e.extend(e.jqplot.effects, {
        version: "1.9pre",
        save: function(e, t) {
            for (var i = 0; i < t.length; i++)
                null !== t[i] && e.data(J + t[i], e[0].style[t[i]])
        },
        restore: function(e, t) {
            for (var i = 0; i < t.length; i++)
                null !== t[i] && e.css(t[i], e.data(J + t[i]))
        },
        setMode: function(e, t) {
            return "toggle" === t && (t = e.is(":hidden") ? "show" : "hide"),
            t
        },
        createWrapper: function(t) {
            if (t.parent().is(".ui-effects-wrapper"))
                return t.parent();
            var i = {
                width: t.outerWidth(!0),
                height: t.outerHeight(!0),
                float: t.css("float")
            }
              , s = e("<div></div>").addClass("ui-effects-wrapper").css({
                fontSize: "100%",
                background: "transparent",
                border: "none",
                margin: 0,
                padding: 0
            })
              , n = {
                width: t.width(),
                height: t.height()
            }
              , a = document.activeElement;
            return t.wrap(s),
            (t[0] === a || e.contains(t[0], a)) && e(a).focus(),
            s = t.parent(),
            "static" === t.css("position") ? (s.css({
                position: "relative"
            }),
            t.css({
                position: "relative"
            })) : (e.extend(i, {
                position: t.css("position"),
                zIndex: t.css("z-index")
            }),
            e.each(["top", "left", "bottom", "right"], function(e, s) {
                i[s] = t.css(s),
                isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
            }),
            t.css({
                position: "relative",
                top: 0,
                left: 0,
                right: "auto",
                bottom: "auto"
            })),
            t.css(n),
            s.css(i).show()
        },
        removeWrapper: function(t) {
            var i = document.activeElement;
            return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t),
            (t[0] === i || e.contains(t[0], i)) && e(i).focus()),
            t
        }
    }),
    e.fn.extend({
        jqplotEffect: function(t, i, s, n) {
            function a(t) {
                function i() {
                    e.isFunction(n) && n.call(s[0]),
                    e.isFunction(t) && t()
                }
                var s = e(this)
                  , n = r.complete
                  , a = r.mode;
                (s.is(":hidden") ? "hide" === a : "show" === a) ? i() : h.call(s[0], r, i)
            }
            var r = A.apply(this, arguments)
              , o = r.mode
              , l = r.queue
              , h = e.jqplot.effects.effect[r.effect]
              , c = !h && Q && e.jqplot.effects[r.effect];
            return e.fx.off || !h && !c ? o ? this[o](r.duration, r.complete) : this.each(function() {
                r.complete && r.complete.call(this)
            }) : h ? l === !1 ? this.each(a) : this.queue(l || "fx", a) : c.call(this, {
                options: r,
                duration: r.duration,
                callback: r.complete,
                mode: r.mode
            })
        }
    });
    var Z = /up|down|vertical/
      , K = /up|left|vertical|horizontal/;
    e.jqplot.effects.effect.blind = function(t, i) {
        var s, n, a, r = e(this), o = ["position", "top", "bottom", "left", "right", "height", "width"], l = e.jqplot.effects.setMode(r, t.mode || "hide"), h = t.direction || "up", c = Z.test(h), d = c ? "height" : "width", u = c ? "top" : "left", p = K.test(h), f = {}, g = "show" === l;
        r.parent().is(".ui-effects-wrapper") ? e.jqplot.effects.save(r.parent(), o) : e.jqplot.effects.save(r, o),
        r.show(),
        a = parseInt(r.css("top"), 10),
        s = e.jqplot.effects.createWrapper(r).css({
            overflow: "hidden"
        }),
        n = c ? s[d]() + a : s[d](),
        f[d] = g ? String(n) : "0",
        p || (r.css(c ? "bottom" : "right", 0).css(c ? "top" : "left", "").css({
            position: "absolute"
        }),
        f[u] = g ? "0" : String(n)),
        g && (s.css(d, 0),
        p || s.css(u, n)),
        s.animate(f, {
            duration: t.duration,
            easing: t.easing,
            queue: !1,
            complete: function() {
                "hide" === l && r.hide(),
                e.jqplot.effects.restore(r, o),
                e.jqplot.effects.removeWrapper(r),
                i()
            }
        })
    }
}(jQuery),
define("jqplot", function() {}),
function(e) {
    function t(t, i, s) {
        s = s || {},
        s.axesDefaults = s.axesDefaults || {},
        s.legend = s.legend || {},
        s.seriesDefaults = s.seriesDefaults || {};
        var n = !1;
        if (s.seriesDefaults.renderer == e.jqplot.DonutRenderer)
            n = !0;
        else if (s.series)
            for (var a = 0; a < s.series.length; a++)
                s.series[a].renderer == e.jqplot.DonutRenderer && (n = !0);
        n && (s.axesDefaults.renderer = e.jqplot.DonutAxisRenderer,
        s.legend.renderer = e.jqplot.DonutLegendRenderer,
        s.legend.preDraw = !0,
        s.seriesDefaults.pointLabels = {
            show: !1
        })
    }
    function i(t, i, s) {
        for (var n = 1; n < this.series.length; n++)
            if (!this.series[n]._previousSeries.length)
                for (var a = 0; a < n; a++)
                    this.series[n].renderer.constructor == e.jqplot.DonutRenderer && this.series[a].renderer.constructor == e.jqplot.DonutRenderer && this.series[n]._previousSeries.push(this.series[a]);
        for (n = 0; n < this.series.length; n++)
            this.series[n].renderer.constructor == e.jqplot.DonutRenderer && (this.series[n]._numberSeries = this.series.length,
            this.series[n].highlightMouseOver && (this.series[n].highlightMouseDown = !1))
    }
    function s(t) {
        for (var i = 0; i < this.series.length; i++)
            this.series[i].seriesColors = this.seriesColors,
            this.series[i].colorGenerator = e.jqplot.colorGenerator
    }
    function n(e, t, i) {
        var s = e.series[t]
          , n = e.plugins.donutRenderer.highlightCanvas;
        n._ctx.clearRect(0, 0, n._ctx.canvas.width, n._ctx.canvas.height),
        s._highlightedPoint = i,
        e.plugins.donutRenderer.highlightedSeriesIndex = t,
        s.renderer.drawSlice.call(s, n._ctx, s._sliceAngles[i][0], s._sliceAngles[i][1], s.highlightColors[i], !1)
    }
    function a(e) {
        var t = e.plugins.donutRenderer.highlightCanvas;
        t._ctx.clearRect(0, 0, t._ctx.canvas.width, t._ctx.canvas.height);
        for (var i = 0; i < e.series.length; i++)
            e.series[i]._highlightedPoint = null;
        e.plugins.donutRenderer.highlightedSeriesIndex = null,
        e.target.trigger("jqplotDataUnhighlight")
    }
    function r(e, t, i, s, r) {
        if (s) {
            var o = [s.seriesIndex, s.pointIndex, s.data]
              , l = jQuery.Event("jqplotDataMouseOver");
            if (l.pageX = e.pageX,
            l.pageY = e.pageY,
            r.target.trigger(l, o),
            r.series[o[0]].highlightMouseOver && (o[0] != r.plugins.donutRenderer.highlightedSeriesIndex || o[1] != r.series[o[0]]._highlightedPoint)) {
                var h = jQuery.Event("jqplotDataHighlight");
                h.which = e.which,
                h.pageX = e.pageX,
                h.pageY = e.pageY,
                r.target.trigger(h, o),
                n(r, o[0], o[1])
            }
        } else
            null == s && a(r)
    }
    function o(e, t, i, s, r) {
        if (s) {
            var o = [s.seriesIndex, s.pointIndex, s.data];
            if (r.series[o[0]].highlightMouseDown && (o[0] != r.plugins.donutRenderer.highlightedSeriesIndex || o[1] != r.series[o[0]]._highlightedPoint)) {
                var l = jQuery.Event("jqplotDataHighlight");
                l.which = e.which,
                l.pageX = e.pageX,
                l.pageY = e.pageY,
                r.target.trigger(l, o),
                n(r, o[0], o[1])
            }
        } else
            null == s && a(r)
    }
    function l(e, t, i, s, n) {
        var r = n.plugins.donutRenderer.highlightedSeriesIndex;
        null != r && n.series[r].highlightMouseDown && a(n)
    }
    function h(e, t, i, s, n) {
        if (s) {
            var a = [s.seriesIndex, s.pointIndex, s.data]
              , r = jQuery.Event("jqplotDataClick");
            r.which = e.which,
            r.pageX = e.pageX,
            r.pageY = e.pageY,
            n.target.trigger(r, a)
        }
    }
    function c(e, t, i, s, n) {
        if (s) {
            var r = [s.seriesIndex, s.pointIndex, s.data]
              , o = n.plugins.donutRenderer.highlightedSeriesIndex;
            null != o && n.series[o].highlightMouseDown && a(n);
            var l = jQuery.Event("jqplotDataRightClick");
            l.which = e.which,
            l.pageX = e.pageX,
            l.pageY = e.pageY,
            n.target.trigger(l, r)
        }
    }
    function d() {
        this.plugins.donutRenderer && this.plugins.donutRenderer.highlightCanvas && (this.plugins.donutRenderer.highlightCanvas.resetCanvas(),
        this.plugins.donutRenderer.highlightCanvas = null),
        this.plugins.donutRenderer = {
            highlightedSeriesIndex: null
        },
        this.plugins.donutRenderer.highlightCanvas = new e.jqplot.GenericCanvas;
        var t = e(this.targetId + " .jqplot-data-label");
        t.length ? e(t[0]).before(this.plugins.donutRenderer.highlightCanvas.createElement(this._gridPadding, "jqplot-donutRenderer-highlight-canvas", this._plotDimensions, this)) : this.eventCanvas._elem.before(this.plugins.donutRenderer.highlightCanvas.createElement(this._gridPadding, "jqplot-donutRenderer-highlight-canvas", this._plotDimensions, this));
        this.plugins.donutRenderer.highlightCanvas.setContext();
        this.eventCanvas._elem.bind("mouseleave", {
            plot: this
        }, function(e) {
            a(e.data.plot)
        })
    }
    e.jqplot.DonutRenderer = function() {
        e.jqplot.LineRenderer.call(this)
    }
    ,
    e.jqplot.DonutRenderer.prototype = new e.jqplot.LineRenderer,
    e.jqplot.DonutRenderer.prototype.constructor = e.jqplot.DonutRenderer,
    e.jqplot.DonutRenderer.prototype.init = function(t, n) {
        if (this.diameter = null,
        this.innerDiameter = null,
        this.thickness = null,
        this.padding = 20,
        this.sliceMargin = 0,
        this.ringMargin = null,
        this.fill = !0,
        this.shadowOffset = 2,
        this.shadowAlpha = .07,
        this.shadowDepth = 5,
        this.highlightMouseOver = !0,
        this.highlightMouseDown = !1,
        this.highlightColors = [],
        this.dataLabels = "percent",
        this.showDataLabels = !1,
        this.dataLabelFormatString = null,
        this.dataLabelThreshold = 3,
        this.dataLabelPositionFactor = .4,
        this.dataLabelNudge = 0,
        this.startAngle = 0,
        this.tickRenderer = e.jqplot.DonutTickRenderer,
        this._drawData = !0,
        this._type = "donut",
        t.highlightMouseDown && null == t.highlightMouseOver && (t.highlightMouseOver = !1),
        e.extend(!0, this, t),
        null != this.diameter && (this.diameter = this.diameter - this.sliceMargin),
        this._diameter = null,
        this._innerDiameter = null,
        this._radius = null,
        this._innerRadius = null,
        this._thickness = null,
        this._previousSeries = [],
        this._numberSeries = 1,
        this._sliceAngles = [],
        this._highlightedPoint = null,
        0 == this.highlightColors.length)
            for (var a = 0; a < this.seriesColors.length; a++) {
                for (var u = e.jqplot.getColorComponents(this.seriesColors[a]), p = [u[0], u[1], u[2]], f = p[0] + p[1] + p[2], g = 0; g < 3; g++)
                    p[g] = f > 570 ? .8 * p[g] : p[g] + .3 * (255 - p[g]),
                    p[g] = parseInt(p[g], 10);
                this.highlightColors.push("rgb(" + p[0] + "," + p[1] + "," + p[2] + ")")
            }
        n.postParseOptionsHooks.addOnce(s),
        n.postInitHooks.addOnce(i),
        n.eventListenerHooks.addOnce("jqplotMouseMove", r),
        n.eventListenerHooks.addOnce("jqplotMouseDown", o),
        n.eventListenerHooks.addOnce("jqplotMouseUp", l),
        n.eventListenerHooks.addOnce("jqplotClick", h),
        n.eventListenerHooks.addOnce("jqplotRightClick", c),
        n.postDrawHooks.addOnce(d)
    }
    ,
    e.jqplot.DonutRenderer.prototype.setGridData = function(e) {
        var t = []
          , i = []
          , s = (this.startAngle / 180 * Math.PI,
        0);
        this._drawData = !1;
        for (var n = 0; n < this.data.length; n++)
            0 != this.data[n][1] && (this._drawData = !0),
            t.push(this.data[n][1]),
            i.push([this.data[n][0]]),
            n > 0 && (t[n] += t[n - 1]),
            s += this.data[n][1];
        for (var a = 2 * Math.PI / t[t.length - 1], n = 0; n < t.length; n++)
            i[n][1] = t[n] * a,
            i[n][2] = this.data[n][1] / s;
        this.gridData = i
    }
    ,
    e.jqplot.DonutRenderer.prototype.makeGridData = function(e, t) {
        var i = []
          , s = []
          , n = 0;
        this.startAngle / 180 * Math.PI;
        this._drawData = !1;
        for (var a = 0; a < e.length; a++)
            0 != this.data[a][1] && (this._drawData = !0),
            i.push(e[a][1]),
            s.push([e[a][0]]),
            a > 0 && (i[a] += i[a - 1]),
            n += e[a][1];
        for (var r = 2 * Math.PI / i[i.length - 1], a = 0; a < i.length; a++)
            s[a][1] = i[a] * r,
            s[a][2] = e[a][1] / n;
        return s
    }
    ,
    e.jqplot.DonutRenderer.prototype.drawSlice = function(e, t, i, s, n) {
        function a() {
            i > 6.282 + this.startAngle && (i = 6.282 + this.startAngle,
            t > i && (t = 6.281 + this.startAngle)),
            t >= i || (e.beginPath(),
            e.fillStyle = s,
            e.strokeStyle = s,
            e.arc(0, 0, r, t, i, !1),
            e.lineTo(o * Math.cos(i), o * Math.sin(i)),
            e.arc(0, 0, o, i, t, !0),
            e.closePath(),
            l ? e.fill() : e.stroke())
        }
        var r = this._diameter / 2
          , o = r - this._thickness
          , l = this.fill;
        if (e.save(),
        e.translate(this._center[0], this._center[1]),
        n)
            for (var h = 0; h < this.shadowDepth; h++)
                e.save(),
                e.translate(this.shadowOffset * Math.cos(this.shadowAngle / 180 * Math.PI), this.shadowOffset * Math.sin(this.shadowAngle / 180 * Math.PI)),
                a();
        else
            a();
        if (n)
            for (var h = 0; h < this.shadowDepth; h++)
                e.restore();
        e.restore()
    }
    ,
    e.jqplot.DonutRenderer.prototype.draw = function(t, i, s, n) {
        var a, r = void 0 != s ? s : {}, o = 0, l = 0, h = 1;
        if (s.legendInfo && "insideGrid" == s.legendInfo.placement) {
            var c = s.legendInfo;
            switch (c.location) {
            case "nw":
                o = c.width + c.xoffset;
                break;
            case "w":
                o = c.width + c.xoffset;
                break;
            case "sw":
                o = c.width + c.xoffset;
                break;
            case "ne":
                o = c.width + c.xoffset,
                h = -1;
                break;
            case "e":
                o = c.width + c.xoffset,
                h = -1;
                break;
            case "se":
                o = c.width + c.xoffset,
                h = -1;
                break;
            case "n":
                l = c.height + c.yoffset;
                break;
            case "s":
                l = c.height + c.yoffset,
                h = -1
            }
        }
        for (var d = (void 0 != r.shadow ? r.shadow : this.shadow,
        void 0 != r.showLine ? r.showLine : this.showLine,
        void 0 != r.fill ? r.fill : this.fill,
        t.canvas.width), u = t.canvas.height, p = d - o - 2 * this.padding, f = u - l - 2 * this.padding, g = Math.min(p, f), m = g, v = null == this.ringMargin ? 2 * this.sliceMargin : this.ringMargin, a = 0; a < this._previousSeries.length; a++)
            m -= 2 * this._previousSeries[a]._thickness + 2 * v;
        if (this._diameter = this.diameter || m,
        null != this.innerDiameter) {
            var b = this._numberSeries > 1 && this.index > 0 ? this._previousSeries[0]._diameter : this._diameter;
            this._thickness = this.thickness || (b - this.innerDiameter - 2 * v * this._numberSeries) / this._numberSeries / 2
        } else
            this.thickness < 1 ? this._thickness = g / 2 * this.thickness : this._thickness = this.thickness || g / 2 / (this._numberSeries + 1) * .85;
        this._radius = this._diameter / 2;
        this._innerRadius = this._radius - this._thickness;
        var y = this.startAngle / 180 * Math.PI;
        if (this._center = [(d - h * o) / 2 + h * o, (u - h * l) / 2 + h * l],
        this.shadow)
            for (var w = "rgba(0,0,0," + this.shadowAlpha + ")", a = 0; a < i.length; a++) {
                var _ = 0 == a ? y : i[a - 1][1] + y;
                _ += this.sliceMargin / 180 * Math.PI,
                this.renderer.drawSlice.call(this, t, _, i[a][1] + y, w, !0)
            }
        for (var a = 0; a < i.length; a++) {
            var _ = 0 == a ? y : i[a - 1][1] + y;
            _ += this.sliceMargin / 180 * Math.PI;
            var k = i[a][1] + y;
            if (this._sliceAngles.push([_, k]),
            this.renderer.drawSlice.call(this, t, _, k, this.seriesColors[a], !1),
            this.showDataLabels && 100 * i[a][2] >= this.dataLabelThreshold) {
                var x, C, T = (_ + k) / 2;
                "label" == this.dataLabels ? (x = this.dataLabelFormatString || "%s",
                C = e.jqplot.sprintf(x, i[a][0])) : "value" == this.dataLabels ? (x = this.dataLabelFormatString || "%d",
                C = e.jqplot.sprintf(x, this.data[a][1])) : "percent" == this.dataLabels ? (x = this.dataLabelFormatString || "%d%%",
                C = e.jqplot.sprintf(x, 100 * i[a][2])) : this.dataLabels.constructor == Array && (x = this.dataLabelFormatString || "%s",
                C = e.jqplot.sprintf(x, this.dataLabels[a]));
                var S = this._innerRadius + this._thickness * this.dataLabelPositionFactor + this.sliceMargin + this.dataLabelNudge
                  , P = this._center[0] + Math.cos(T) * S + this.canvas._offsets.left
                  , M = this._center[1] + Math.sin(T) * S + this.canvas._offsets.top
                  , E = e('<span class="jqplot-donut-series jqplot-data-label" style="position:absolute;">' + C + "</span>").insertBefore(n.eventCanvas._elem);
                P -= E.width() / 2,
                M -= E.height() / 2,
                P = Math.round(P),
                M = Math.round(M),
                E.css({
                    left: P,
                    top: M
                })
            }
        }
    }
    ,
    e.jqplot.DonutAxisRenderer = function() {
        e.jqplot.LinearAxisRenderer.call(this)
    }
    ,
    e.jqplot.DonutAxisRenderer.prototype = new e.jqplot.LinearAxisRenderer,
    e.jqplot.DonutAxisRenderer.prototype.constructor = e.jqplot.DonutAxisRenderer,
    e.jqplot.DonutAxisRenderer.prototype.init = function(t) {
        this.tickRenderer = e.jqplot.DonutTickRenderer,
        e.extend(!0, this, t),
        this._dataBounds = {
            min: 0,
            max: 100
        },
        this.min = 0,
        this.max = 100,
        this.showTicks = !1,
        this.ticks = [],
        this.showMark = !1,
        this.show = !1
    }
    ,
    e.jqplot.DonutLegendRenderer = function() {
        e.jqplot.TableLegendRenderer.call(this)
    }
    ,
    e.jqplot.DonutLegendRenderer.prototype = new e.jqplot.TableLegendRenderer,
    e.jqplot.DonutLegendRenderer.prototype.constructor = e.jqplot.DonutLegendRenderer,
    e.jqplot.DonutLegendRenderer.prototype.init = function(t) {
        this.numberRows = null,
        this.numberColumns = null,
        e.extend(!0, this, t)
    }
    ,
    e.jqplot.DonutLegendRenderer.prototype.draw = function() {
        if (this.show) {
            var t = this._series
              , i = "position:absolute;";
            i += this.background ? "background:" + this.background + ";" : "",
            i += this.border ? "border:" + this.border + ";" : "",
            i += this.fontSize ? "font-size:" + this.fontSize + ";" : "",
            i += this.fontFamily ? "font-family:" + this.fontFamily + ";" : "",
            i += this.textColor ? "color:" + this.textColor + ";" : "",
            i += null != this.marginTop ? "margin-top:" + this.marginTop + ";" : "",
            i += null != this.marginBottom ? "margin-bottom:" + this.marginBottom + ";" : "",
            i += null != this.marginLeft ? "margin-left:" + this.marginLeft + ";" : "",
            i += null != this.marginRight ? "margin-right:" + this.marginRight + ";" : "",
            this._elem = e('<table class="jqplot-table-legend" style="' + i + '"></table>');
            var s, n, a = !1, r = !1, o = t[0], l = new e.jqplot.ColorGenerator(o.seriesColors);
            if (o.show) {
                var h = o.data;
                this.numberRows ? (s = this.numberRows,
                n = this.numberColumns ? this.numberColumns : Math.ceil(h.length / s)) : this.numberColumns ? (n = this.numberColumns,
                s = Math.ceil(h.length / this.numberColumns)) : (s = h.length,
                n = 1);
                var c, d, u, p, f, g, m, v, b = 0;
                for (c = 0; c < s; c++)
                    for (u = r ? e('<tr class="jqplot-table-legend"></tr>').prependTo(this._elem) : e('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem),
                    d = 0; d < n; d++)
                        b < h.length && (g = this.labels[b] || h[b][0].toString(),
                        v = l.next(),
                        a = r ? c != s - 1 : c > 0,
                        m = a ? this.rowSpacing : "0",
                        p = e('<td class="jqplot-table-legend" style="text-align:center;padding-top:' + m + ';"><div><div class="jqplot-table-legend-swatch" style="border-color:' + v + ';"></div></div></td>'),
                        f = e('<td class="jqplot-table-legend" style="padding-top:' + m + ';"></td>'),
                        this.escapeHtml ? f.text(g) : f.html(g),
                        r ? (f.prependTo(u),
                        p.prependTo(u)) : (p.appendTo(u),
                        f.appendTo(u)),
                        a = !0),
                        b++
            }
        }
        return this._elem
    }
    ;
    e.jqplot.preInitHooks.push(t),
    e.jqplot.DonutTickRenderer = function() {
        e.jqplot.AxisTickRenderer.call(this)
    }
    ,
    e.jqplot.DonutTickRenderer.prototype = new e.jqplot.AxisTickRenderer,
    e.jqplot.DonutTickRenderer.prototype.constructor = e.jqplot.DonutTickRenderer
}(jQuery),
define("jqplot.donutRenderer", ["jquery", "jqplot"], function() {}),
define("views/player-bio/stats-summary", ["require", "jquery", "underscore", "backbone", "utils/window-size", "utils/pubsub", "text!templates/player-bio/stats-summary.html!strip", "jqplot.donutRenderer"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("backbone")
      , n = e("utils/window-size")
      , a = e("utils/pubsub")
      , r = e("text!templates/player-bio/stats-summary.html!strip");
    e("jqplot.donutRenderer");
    var o = s.View.extend({
        el: "#tab_summary",
        template: i.template(r),
        defaults: {
            chart_options: {
                title: {
                    text: !1
                },
                legend: {
                    show: !1
                },
                highlighter: {
                    show: !1
                },
                seriesDefaults: {
                    renderer: null,
                    rendererOptions: {
                        seriesColors: ["#FFF000", "#37B81E", "#AFAEAE", "#7A7A7A", "#3E3E3E"],
                        padding: 0,
                        thickness: .59,
                        startAngle: -90,
                        shadow: !1,
                        highlightMouseOver: !1
                    }
                },
                grid: {
                    drawGridLines: !1,
                    drawBorder: !1,
                    shadow: !1,
                    backgroundColor: "rgba(0,0,0,0)"
                },
                gridPadding: {
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0
                }
            }
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Stats Summary View"),
            this.logger.info("initialize"),
            this.options = i.extend({}, this.defaults, e),
            this.options.chart_options.seriesDefaults.renderer = t.jqplot.DonutRenderer,
            this.listenTo(a, "playerstat:desktop:enter", function() {
                this.setResize()
            }),
            this.listenTo(a, "playerstat:desktop:exit", function() {
                this.unsetResize(),
                this.redraw()
            }),
            n.size() !== n.sizes.global && this.setResize(),
            String.prototype.toInt = function() {
                return parseInt(this, 10) || 0
            }
        },
        render: function() {
            var e = this.model.get("stats").overview;
            this.overview = {
                eagle: e.eagle.toInt(),
                birdie: e.birdie.toInt(),
                par: e.par.toInt(),
                bogey: e.bogey.toInt(),
                double: e.double.toInt(),
                other: e.other.toInt()
            },
            this.total = this.overview.eagle + this.overview.birdie + this.overview.par + this.overview.bogey + this.overview.double + this.overview.other,
            this.$el.html(this.template({
                eagle: this.overview.eagle,
                eaglePct: this.getPercent(this.overview.eagle),
                birdie: this.overview.birdie,
                birdiePct: this.getPercent(this.overview.birdie),
                par: this.overview.par,
                parPct: this.getPercent(this.overview.par),
                bogey: this.overview.bogey,
                bogeyPct: this.getPercent(this.overview.bogey),
                double: this.overview.double,
                doublePct: this.getPercent(this.overview.double),
                other: this.overview.other,
                otherPct: this.getPercent(this.overview.other)
            })),
            this.plot()
        },
        getPercent: function(e) {
            return (e / this.total * 100).toFixed()
        },
        setResize: function() {
            this.listenTo(a, "throttle:resize", function() {
                this.redraw()
            })
        },
        unsetResize: function() {
            this.stopListening(a, "throttle:resize")
        },
        redraw: function() {
            this.chart && this.plot()
        },
        plot: function() {
            var e = "sumChart";
            this.$("#" + e).empty();
            var i = [["", this.overview.eagle], ["", this.overview.birdie], ["", this.overview.par], ["", this.overview.bogey], ["", this.overview.double]];
            this.chart = t.jqplot(e, [i], this.options.chart_options)
        },
        onDispose: function() {
            delete String.prototype.toInt
        }
    });
    return o
}),
define("text!templates/player-bio/stats-distance.html!strip", [], function() {
    return '<span class="description">Average of driving distance data collected on hole nos. 5 and 15</span>\n<div class="rounds">\n <div class="title">Round</div>\n <div class="yards">Yards</div>\n <div class="round round1">\n <div class="title">Round 1</div>\n <div class="yards">Yards</div>\n <div class="stat-wrapper">\n <div class="player">\n <div class="chart"><div class="bar"></div><span class="title_sm">RD 1</span></div>\n <div class="value"></div>\n </div>\n <div class="field">\n <div class="chart"><div class="bar"></div></div>\n <div class="value"></div>\n </div>\n <div class="text"></div>\n </div>\n </div>\n <div class="round round2">\n <div class="title">Round 2</div>\n <div class="yards">Yards</div>\n <div class="stat-wrapper">\n <div class="player">\n <div class="chart"><div class="bar"></div><span class="title_sm">RD 2</span></div>\n <div class="value"></div>\n </div>\n <div class="field">\n <div class="chart"><div class="bar"></div></div>\n <div class="value"></div>\n </div>\n <div class="text"></div>\n </div>\n </div>\n <div class="round round3">\n <div class="title">Round 3</div>\n <div class="yards">Yards</div>\n <div class="stat-wrapper">\n <div class="player">\n <div class="chart"><div class="bar"></div><span class="title_sm">RD 3</span></div>\n <div class="value"></div>\n </div>\n <div class="field">\n <div class="chart"><div class="bar"></div></div>\n <div class="value"></div>\n </div>\n <div class="text"></div>\n </div>\n </div>\n <div class="round round4">\n <div class="title">Round 4</div>\n <div class="yards">Yards</div>\n <div class="stat-wrapper">\n <div class="player">\n <div class="chart"><div class="bar"></div><span class="title_sm">RD 4</span></div>\n <div class="value"></div>\n </div>\n <div class="field">\n <div class="chart"><div class="bar"></div></div>\n <div class="value"></div>\n </div>\n <div class="text"></div>\n </div>\n </div>\n</div>\n<div class="legend">\n <div class="player"><span class="box"></span> <span class="name"></span></div>\n <div class="field"><span class="box"></span> Field</div>\n</div>\n<a href="/en_US/scores/stats/drives_avg.html" class="allplayers" data-bypass="">Driving Distance (All Players)</a>\n'
}),
define("views/player-bio/stats-distance", ["require", "jquery", "backbone", "utils/window-size", "utils/pubsub", "text!templates/player-bio/stats-distance.html!strip"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = (e("utils/window-size"),
    e("utils/pubsub"),
    e("text!templates/player-bio/stats-distance.html!strip"))
      , s = t.View.extend({
        el: "#tab_distance",
        template: _.template(i),
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Stats Distance View"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.$el.html(this.template()),
            this.$(".legend .name").html(this.options.bioModel.get("firstname") + " " + this.options.bioModel.get("lastname"))
        },
        render: function() {
            return this.stats = this.options.scoresModel.get("stats"),
            this.scores = this.options.scoresModel.get("scores"),
            this.parseRound("round1", this.stats.round1),
            this.parseRound("round2", this.stats.round2),
            this.parseRound("round3", this.stats.round3),
            this.parseRound("round4", this.stats.round4),
            this
        },
        parseRound: function(e, t) {
            var i = this.$("." + e);
            if ("none" !== t) {
                var s = t.field.split("|")[5];
                if (s = parseFloat(s),
                isNaN(s) && (s = -1),
                "" === t.dd && (t.dd = -1),
                t.dd < 0)
                    t.dd = -1,
                    i.addClass("disabled"),
                    i.find(".text").html("Not Yet Started"),
                    i.find(".player, .field").find(".bar").css("width", 0);
                else {
                    i.removeClass("disabled");
                    var n = t.dd > 0 ? (t.dd - 100) / 250 * 100 : 1;
                    if (i.find(".player .value").html((1 * t.dd).toFixed()),
                    i.find(".player .bar").css("width", n + "%"),
                    s > 0) {
                        var a = (s - 100) / 250 * 100;
                        i.find(".field .value").html(s.toFixed()),
                        i.find(".field .bar").css("width", a + "%")
                    }
                }
            } else {
                var r = "Not Yet Started"
                  , o = this.scores.playing;
                "MC" === o ? r = "Missed Cut" : "WD" === o ? r = "Withdrawn" : "DQ" === o && (r = "Disqualified"),
                i.addClass("disabled"),
                i.find(".text").html(r),
                i.find(".player, .field").find(".bar").css("width", 0)
            }
        }
    });
    return s
}),
define("text!templates/player-bio/stats-drive.html!strip", [], function() {
    return '<span class="description">A player\'s longest drive compared to the tournament\'s drive leaders. Data is collected on hole nos. 5 and 15.</span>\n\n<div class="legend">\n <div class="player"><span class="box"></span> <span class="name"></span></div>\n <div class="field"><span class="box"></span> Field</div>\n</div>\n<div class="title"></div>\n<div class="yards">Yards</div>\n<div class="player">\n <div class="stat-wrapper">\n <div class="chart"><div class="bar"><span class="title_sm"></span></div></div>\n <div class="value"></div>\n </div>\n</div>\n<div class="field">\n <div class="title">Drive Leaders</div>\n <div class="stat-wrapper">\n <div class="chart"><div class="bar"><span class="title_sm"></span></div></div>\n <div class="value"></div>\n </div>\n <div class="stat-wrapper">\n <div class="chart"><div class="bar"><span class="title_sm"></span></div></div>\n <div class="value"></div>\n </div>\n <div class="stat-wrapper">\n <div class="chart"><div class="bar"><span class="title_sm"></span></div></div>\n <div class="value"></div>\n </div>\n <div class="stat-wrapper">\n <div class="chart"><div class="bar"><span class="title_sm"></span></div></div>\n <div class="value"></div>\n </div>\n</div>\n\n<a href="/en_US/scores/stats/drives_avg.html" class="allplayers" data-bypass="">Driving Distance (All Players)</a>\n'
}),
define("views/player-bio/stats-drive", ["require", "jquery", "backbone", "utils/window-size", "utils/pubsub", "text!templates/player-bio/stats-drive.html!strip"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = (e("utils/window-size"),
    e("utils/pubsub"),
    e("text!templates/player-bio/stats-drive.html!strip"))
      , s = t.View.extend({
        el: "#tab_drive",
        template: _.template(i),
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Stats Drive View"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.$el.html(this.template()),
            this.$("> .title").html('<span class="first">' + this.options.bioModel.get("firstname") + "</span> " + this.options.bioModel.get("lastname"))
        },
        render: function() {
            this.overview = this.options.scoresModel.get("stats").overview;
            var e = this.overview.longest
              , t = this.$(".player");
            if ("" === e || "|" === e)
                t.addClass("disabled"),
                t.find(".value").html("--"),
                t.find(".title_sm").html("Not Yet Started");
            else {
                t.removeClass("disabled");
                var i = e.split("|")
                  , s = i[1] > 0 ? (i[1] - 100) / 250 * 100 : 1;
                i[1] = parseFloat(i[1]).toFixed(),
                this.$(".player .value").html(i[1]),
                this.$(".player .bar").css("width", s + "%").find(".title_sm").html("<span>" + i[0] + "</span>")
            }
            var n = this.overview.field_longest
              , a = this.$(".field .stat-wrapper").first();
            if (n.length > 0)
                for (var r = 0, o = n.length; r < o; r++) {
                    var l = n[r]
                      , h = l.split("|")
                      , c = (h[2] - 100) / 250 * 100;
                    h[2] = parseFloat(h[2]).toFixed(),
                    a.find(".value").html(h[2]),
                    a.find(".bar").css("width", c + "%").find(".title_sm").html(h[0] + ", <span>Round " + h[1] + "</span>"),
                    a = a.next()
                }
            return this
        }
    });
    return s
}),
define("text!templates/player-bio/stats-putting.html!strip", [], function() {
    return '<span class="description">The average number of putts per green in regulation</span>\n<div class="title">Round</div>\n<div class="yards">Putts/Hole (Three-Putts)</div>\n<div class="player stat-wrapper">\n <div class="overview"></div>\n <div class="chart round1">\n <div class="bar">\n <div class="value"></div>\n </div>\n <span class="title_sm">1</span>\n <span class="text"></span>\n </div>\n <div class="chart round2">\n <div class="bar">\n <div class="value"></div>\n </div>\n <span class="title_sm">2</span>\n <span class="text"></span>\n </div>\n <div class="chart round3">\n <div class="bar">\n <div class="value"></div>\n </div>\n <span class="title_sm">3</span>\n <span class="text"></span>\n </div>\n <div class="chart round4">\n <div class="bar">\n <div class="value"></div>\n </div>\n <span class="title_sm">4</span>\n <span class="text"></span>\n </div>\n</div>\n<div class="field stat-wrapper">\n <div class="overview"></div>\n <div class="chart round1">\n <div class="bar">\n <div class="value"></div>\n </div>\n <span class="title_sm">1</span>\n <span class="text"></span>\n </div>\n <div class="chart round2">\n <div class="bar">\n <div class="value"></div>\n </div>\n <span class="title_sm">2</span>\n <span class="text"></span>\n </div>\n <div class="chart round3">\n <div class="bar">\n <div class="value"></div>\n </div>\n <span class="title_sm">3</span>\n <span class="text"></span>\n </div>\n <div class="chart round4">\n <div class="bar">\n <div class="value"></div>\n </div>\n <span class="title_sm">4</span>\n <span class="text"></span>\n </div>\n</div>\n<div class="legend">\n <div class="player"><span class="box"></span> <span class="name"></span></div>\n <div class="field"><span class="box"></span> Field</div>\n</div>\n<a href="/en_US/scores/stats/putts.html" class="allplayers" data-bypass="">Putting Leaders (All Players)</a>\n'
}),
define("views/player-bio/stats-putting", ["require", "jquery", "backbone", "utils/window-size", "utils/pubsub", "text!templates/player-bio/stats-putting.html!strip"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = (e("utils/window-size"),
    e("utils/pubsub"),
    e("text!templates/player-bio/stats-putting.html!strip"))
      , s = t.View.extend({
        el: "#tab_putting",
        template: _.template(i),
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Stats Putting View"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.$el.html(this.template()),
            this.$(".legend .name").html(this.options.bioModel.get("firstname") + " " + this.options.bioModel.get("lastname"))
        },
        render: function() {
            this.stats = this.options.scoresModel.get("stats"),
            this.scores = this.options.scoresModel.get("scores");
            var e = this.stats.overview
              , t = e.strokes.split("|")
              , i = e.field.split("|")
              , s = i[3]
              , n = i[4];
            return this.$(".player .overview").html(t[0] + "<span>" + t[1] + "</span>"),
            this.$(".field .overview").html(s + "<span>" + n + "</span>"),
            this.parseRound("round1", this.stats.round1),
            this.parseRound("round2", this.stats.round2),
            this.parseRound("round3", this.stats.round3),
            this.parseRound("round4", this.stats.round4),
            this
        },
        parseRound: function(e, t) {
            var i = this.$(".player ." + e)
              , s = this.$(".field ." + e);
            if ("none" !== t) {
                "" === t.strokes && (t.strokes = "|");
                var n = t.field.split("|")
                  , a = [n[3], n[4]]
                  , r = 2.2
                  , o = t.strokes.split("|")
                  , l = "Not Yet Started";
                "" !== o[0] ? (i.removeClass("disabled"),
                o[2] = o[0] / r * 100,
                o[2] > 100 && (o[2] = 100),
                i.find(".bar").css("width", o[2] + "%"),
                i.find(".value").html(o[0] + " (" + o[1] + ")")) : (i.addClass("disabled"),
                i.find(".text").html(l),
                i.find(".bar").css("width", 0)),
                "" !== a[0] ? (s.removeClass("disabled"),
                a[2] = a[0] / r * 100,
                a[2] > 100 && (a[2] = 100),
                s.find(".bar").css("width", a[2] + "%"),
                s.find(".value").html(a[0] + " (" + a[1] + ")")) : (s.addClass("disabled"),
                s.find(".text").html(l),
                s.find(".bar").css("width", 0))
            } else {
                var l = "Not Yet Started"
                  , h = this.scores.playing;
                "MC" === h ? l = "Missed Cut" : "WD" === h ? l = "Withdrawn" : "DQ" === h && (l = "Disqualified"),
                i.addClass("disabled"),
                i.find(".text").html(l),
                i.find(".bar").css("width", 0),
                s.addClass("disabled"),
                s.find(".text").html("Not Available"),
                s.find(".bar").css("width", 0)
            }
        }
    });
    return s
}),
define("views/player-bio/double-circular-bar-chart", ["require", "jquery", "backbone", "utils/window-size", "utils/pubsub"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("utils/window-size")
      , n = (e("utils/pubsub"),
    i.View.extend({
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Donut Circular Bar Chart View"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.parent = this.options.parent
        },
        render: function() {
            this.draw()
        },
        draw: function() {
            this.parent.loading = !0,
            this.parent.chart.css("width", this.parent.chart.width()),
            this.drawBackground(),
            this.parent.options.nodata || (this.drawPlayer(),
            this.drawField()),
            this.parent.loading = !1
        },
        redraw: function() {
            this.parent.loading || (this.bg.replot({
                resetAxes: !0
            }),
            this.parent.options.nodata || (this.plot.replot({
                resetAxes: !0
            }),
            this.plot2.replot({
                resetAxes: !0
            })))
        },
        replot: function() {
            this.parent.loading || (this.bg.replot({
                resetAxes: !0
            }),
            this.parent.options.nodata || (this.plot.series[0].data = [[1, this.parent.options.player], [2, 100 - this.parent.options.player]],
            this.plot.replot({
                resetAxes: !0
            }),
            this.plot2.series[0].data = [[1, this.parent.options.field], [2, 100 - this.parent.options.field]],
            this.plot2.replot({
                resetAxes: !0
            })))
        },
        destroy: function() {
            this.bg.destroy(),
            this.parent.options.nodata || (this.plot.destroy(),
            this.plot2.destroy()),
            this.parent.chart.empty()
        },
        drawBackground: function() {
            var e = .489;
            s.size() !== s.sizes.global && (e = .641,
            "round" === this.parent.options.size && (e = .524)),
            this.parent.options.nodata && (e = .999);
            var i = t.extend(!0, {}, this.parent.options.donutDefaultOptions, {
                seriesDefaults: {
                    rendererOptions: {
                        seriesColors: ["#DEDEDE", "#DEDEDE"],
                        thickness: e
                    }
                }
            })
              , n = t('<div class="chartbg"></div>');
            this.parent.chart.append(n),
            n.jqplot([[9999, 1]], i),
            this.bg = n.data("jqplot")
        },
        drawPlayer: function() {
            var e = .235;
            s.size() !== s.sizes.global && (e = .403,
            "round" === this.parent.options.size && (e = .31));
            var i = t.extend(!0, {}, this.parent.options.donutDefaultOptions, {
                seriesDefaults: {
                    rendererOptions: {
                        seriesColors: ["#58B81E", "#DEDEDE"],
                        thickness: e
                    }
                }
            })
              , n = t('<div class="plot"></div>');
            this.parent.chart.append(n),
            console.log([this.parent.options.player, 100 - this.parent.options.player]),
            n.jqplot([[this.parent.options.player, 100 - this.parent.options.player]], i),
            this.plot = n.data("jqplot")
        },
        drawField: function() {
            var e = .126;
            s.size() !== s.sizes.global && (e = .106,
            "round" === this.parent.options.size && (e = .119));
            var i = t.extend(!0, {}, this.parent.options.donutDefaultOptions, {
                seriesDefaults: {
                    rendererOptions: {
                        seriesColors: ["#848383", "#DEDEDE"],
                        thickness: e
                    }
                }
            })
              , n = t('<div class="plot2"></div>');
            this.parent.chart.append(n),
            console.log([this.parent.options.field, 100 - this.parent.options.field]),
            n.jqplot([[this.parent.options.field, 100 - this.parent.options.field]], i),
            this.plot2 = n.data("jqplot")
        }
    }));
    return n
}),
define("views/player-bio/small-donut-chart", ["require", "jquery", "backbone", "utils/window-size", "utils/pubsub"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = (e("utils/window-size"),
    e("utils/pubsub"),
    i.View.extend({
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Small Donut Chart View"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.parent = this.options.parent
        },
        render: function() {
            this.draw()
        },
        draw: function() {
            this.parent.loading = !0,
            this.parent.$el.css("width", this.parent.$el.width()),
            this.drawPlayer(),
            this.parent.loading = !1
        },
        redraw: function() {
            this.parent.loading || this.plot.replot({
                resetAxes: !0
            })
        },
        replot: function() {
            this.parent.loading || (this.plot.series[0].data = [[1, this.parent.options.player], [2, 100 - this.parent.options.player]],
            this.plot.replot({
                resetAxes: !0
            }))
        },
        destroy: function() {
            this.plot.destroy(),
            this.parent.$el.empty()
        },
        drawPlayer: function() {
            var e = t.extend(!0, {}, this.parent.options.donutDefaultOptions, {
                seriesDefaults: {
                    rendererOptions: {
                        seriesColors: ["#58B81E", "#DEDEDE"],
                        thickness: .324
                    }
                }
            });
            this.parent.options.player === -1 && (e.seriesDefaults.rendererOptions.thickness = .999);
            var i = t('<div class="plot"></div>');
            this.parent.chart.append(i),
            console.log([this.parent.options.player, 100 - this.parent.options.player]),
            i.jqplot([[this.parent.options.player, 100 - this.parent.options.player]], e),
            this.plot = i.data("jqplot")
        }
    }));
    return s
}),
define("views/player-bio/donut-chart", ["require", "jquery", "backbone", "utils/window-size", "utils/pubsub", "views/player-bio/double-circular-bar-chart", "views/player-bio/small-donut-chart", "jqplot.donutRenderer"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("utils/window-size")
      , n = e("utils/pubsub")
      , a = e("views/player-bio/double-circular-bar-chart")
      , r = e("views/player-bio/small-donut-chart");
    e("jqplot.donutRenderer");
    var o = i.View.extend({
        defaults: {
            loading: !1,
            player: "",
            field: "",
            size: "overview",
            nodata: !1,
            largeDonut: null,
            smallDonut: null,
            donutDefaultOptions: {
                title: {
                    text: !1
                },
                legend: {
                    show: !1
                },
                highlighter: {
                    show: !1
                },
                seriesDefaults: {
                    renderer: null,
                    rendererOptions: {
                        padding: 0,
                        startAngle: -90,
                        shadow: !1,
                        highlightMouseOver: !1
                    }
                },
                grid: {
                    drawGridLines: !1,
                    drawBorder: !1,
                    shadow: !1,
                    background: "rgba(0,0,0,0)"
                },
                gridPadding: {
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0
                }
            }
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("Donut Chart View"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.chart = this.options.chart,
            this.loading = !1,
            this.wrapper = this.chart.parent().parent(),
            this.resizeContainer = this.chart.closest(".stat_content"),
            this.triggername = "stat" + this.wrapper.data("round"),
            this.options.nodata = !1,
            this.options.player === -1 && this.options.field === -1 && (this.options.nodata = !0),
            this.options.donutDefaultOptions.seriesDefaults.renderer = t.jqplot.DonutRenderer,
            this.wrapper.hasClass("round") && (this.options.size = "round"),
            this.listenTo(n, "playerstat:desktop:enter", function() {
                this.initDesktop()
            }),
            this.listenTo(n, "playerstat:desktop:exit", function() {
                this.initMobile()
            }),
            this.on("donut.redraw", function() {
                this.chart.css("width", this.chart.parent().width()),
                s.size() === s.sizes.global ? this.initMobile() : that.initDesktop()
            })
        },
        render: function() {
            this.draw()
        },
        draw: function() {
            "overview" === this.options.size ? (this.largeDonut = new a({
                parent: this
            }),
            this.largeDonut.render()) : (this.smallDonut = new r({
                parent: this
            }),
            this.largeDonut = new a({
                parent: this
            }),
            s.size() === s.sizes.global ? this.smallDonut.draw() : this.largeDonut.render()),
            this.attachResize()
        },
        attachResize: function() {
            console.log("finished loading global donut " + this.resizeContainer.attr("id") + "." + this.triggername);
            this.on("donut.resize", function() {
                this.resize()
            })
        },
        resize: function() {
            console.log("resizing global donut " + this.resizeContainer.attr("id") + "." + this.triggername),
            this.chart.css("width", this.chart.parent().width()),
            "overview" === this.options.size ? this.largeDonut.redraw() : s.size() === s.sizes.global ? this.smallDonut.redraw() : this.largeDonut.redraw()
        },
        initDesktop: function() {
            "round" === this.options.size ? (this.smallDonut.destroy(),
            this.largeDonut.draw()) : (this.largeDonut.destroy(),
            this.largeDonut.draw())
        },
        initMobile: function() {
            "round" === this.options.size ? (this.largeDonut.destroy(),
            this.smallDonut.draw()) : (this.largeDonut.destroy(),
            this.largeDonut.draw())
        },
        onDispose: function() {
            this.largeDonut && this.largeDonut.dispose(),
            this.smallDonut && this.smallDonut.dispose(),
            this.stopListening("donut.resize"),
            this.stopListening("donut.redraw")
        }
    });
    return o
}),
define("text!templates/player-bio/stats-pie.html!strip", [], function() {
    return '<span class="description"><%= description %></span>\n<div class="overview" data-round="overview">\n <div class="title">Tournament Total <span class="value"></span></div>\n <div class="chart-wrapper">\n <div class="chart"></div>\n <div class="stat"><span class="player"></span><br/><span class="field"></span></div>\n </div>\n <div class="legend">\n <div class="player"><span class="box"></span> Player</div>\n <div class="field"><span class="box"></span> Field</div>\n </div>\n</div>\n<div class="rounds">\n <div class="pointer"></div>\n <div class="round round1" data-round="round1">\n <div class="title">Round 1 <span class="value"></span></div>\n <div class="chart-wrapper">\n <div class="chart"></div>\n <div class="stat"><span class="text"></span><span class="text_sm"></span><span class="player"></span><br/><span class="field"></span></div>\n </div>\n <div class="title_sm">RD 1</div>\n </div>\n <div class="round round2" data-round="round2">\n <div class="title">Round 2 <span class="value"></span></div>\n <div class="chart-wrapper">\n <div class="chart"></div>\n <div class="stat"><span class="text"></span><span class="text_sm"></span><span class="player"></span><br/><span class="field"></span></div>\n </div>\n <div class="title_sm">RD 2</div>\n </div>\n <div class="round round3" data-round="round3">\n <div class="title">Round 3 <span class="value"></span></div>\n <div class="chart-wrapper">\n <div class="chart"></div>\n <div class="stat"><span class="text"></span><span class="text_sm"></span><span class="player"></span><br/><span class="field"></span></div>\n </div>\n <div class="title_sm">RD 3</div>\n </div>\n <div class="round round4" data-round="round4">\n <div class="title">Round 4 <span class="value"></span></div>\n <div class="chart-wrapper">\n <div class="chart"></div>\n <div class="stat"><span class="text"></span><span class="text_sm"></span><span class="player"></span><br/><span class="field"></span></div>\n </div>\n <div class="title_sm">RD 4</div>\n </div>\n</div>\n<a href="/en_US/scores/stats/<%= href %>" class="allplayers" data-bypass=""><%= link_text %></a>\n\n'
}),
define("views/player-bio/stats-pie", ["require", "jquery", "backbone", "utils/window-size", "utils/pubsub", "views/player-bio/donut-chart", "text!templates/player-bio/stats-pie.html!strip"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = e("utils/window-size")
      , s = e("utils/pubsub")
      , n = e("views/player-bio/donut-chart")
      , a = e("text!templates/player-bio/stats-pie.html!strip")
      , r = t.View.extend({
        template: _.template(a),
        defaults: {
            name: null,
            attr: null,
            stats: null,
            description: {
                greens: "The percentage of times a player reached the green in two or more strokes less than par",
                fairways: "Fairways hit are calculated for the course's fourteen par 4s and 5s",
                sand: "The percentage of times a player was able to get up and down from a greenside bunker"
            },
            href: {
                greens: "gir.html",
                fairways: "fir.html",
                sand: "sand.html"
            },
            link_text: {
                greens: "Greens Hit (All Players)",
                fairways: "Driving Accuracy (All Players)",
                sand: "Sand Saves (All Players)"
            },
            attrIndex: {
                fw: 0,
                gir: 1,
                ss: 2,
                strokes: 3,
                dd: 4,
                longest: 5
            }
        },
        initialize: function(e) {
            this.chartViews = [],
            this.logger = new eventsCore.util.Logger("Stats Pie View"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.on("stopListeners", this.stopListeners)
        },
        stopListeners: function() {
            this.stopListening(s, "playerstat:desktop:enter"),
            this.stopListening(s, "playerstat:desktop:exit"),
            this.stopListening(s, "throttle:resize"),
            this.disposeCharts()
        },
        startListeners: function() {
            this.listenTo(s, "playerstat:desktop:enter", function() {
                this.initDesktop();
                var e = this.$(".stat_content.selected");
                e.siblings("[data-stat-drawn$=true]").attr("data-stat-drawn", "redraw.enter"),
                e.siblings('[data-stat-drawn="redraw.exit"]').attr("data-stat-drawn", "true")
            }),
            this.listenTo(s, "playerstat:desktop:exit", function() {
                this.initMobile();
                var e = this.$(".stat_content.selected");
                e.siblings("[data-stat-drawn$=true]").attr("data-stat-drawn", "redraw.exit"),
                e.siblings('[data-stat-drawn="redraw.enter"]').attr("data-stat-drawn", "true")
            }),
            this.listenTo(s, "throttle:resize", function() {
                this.$el.attr("data-stat-drawn").search("redraw") < 0 && this.chartViews.forEach(function(e) {
                    e.trigger("donut.resize")
                }),
                this.$el.siblings("[data-stat-drawn=true]").attr("data-stat-drawn", "resize.true")
            })
        },
        render: function(e) {
            this.startListeners(),
            this.$el.html(this.template({
                description: this.options.description[this.options.name],
                href: this.options.href[this.options.name],
                link_text: this.options.link_text[this.options.name]
            })),
            this.$el.attr("data-stat-drawn", "true"),
            this.stats = this.options.scoresModel.get("stats"),
            this.scores = this.options.scoresModel.get("scores");
            var t = this.$el.attr("data-stat-drawn");
            if (t.search("redraw") > -1) {
                var s = t.split(".");
                "enter" === s[1] ? this.initDesktop() : "exit" === s[1] && this.initMobile(),
                this.chartViews.forEach(function(e) {
                    e.trigger("donut.redraw")
                }),
                this.$el.attr("data-stat-drawn", "true")
            } else {
                this.chartViews.length > 0 && (this.chartViews.forEach(function(e) {
                    e.dispose()
                }),
                this.chartViews = []),
                this.buildChart("overview", this.stats.overview),
                this.buildChart("round1", this.stats.round1),
                this.buildChart("round2", this.stats.round2),
                this.buildChart("round3", this.stats.round3),
                this.buildChart("round4", this.stats.round4),
                "sand" === this.options.name && i.size() === i.sizes.global && this.$(".round .text_sm").addClass("visible").siblings(".player").hide()
            }
            return this
        },
        buildChart: function(e, t, s) {
            var a = ["", ""]
              , r = -1;
            "none" !== t && (a = t[this.options.attr].split("|"),
            r = t.field.split("|")[this.options.attrIndex[this.options.attr]],
            r = parseFloat(r),
            isNaN(r) && (r = -1));
            for (var o = 0; o < 2; o++)
                "" === a[o] ? a[o] = -1 : a[o] = parseInt(a[o], 10);
            a[1] > 0 ? a[2] = a[0] / a[1] * 100 : a[2] = -1;
            var l = this.$("." + e)
              , t = l.find(".stat")
              , h = l.find(".chart").empty("").css("width", "")
              , c = l.find(".title");
            t.find(".player").html(a[2].toFixed()).removeClass("novalue"),
            t.find(".field").html(r.toFixed());
            var d = "text";
            if (i.size() === i.sizes.global && (d = "text_sm"),
            a[1] > 0)
                c.removeClass("disabled"),
                t.find(".text, .text_sm").removeClass("visible").siblings(".player, .field").removeClass("showtext").css("display", ""),
                t.find(".text_sm").html(a[0] + "/" + a[1]),
                c.find(".value").html(a[0] + "/" + a[1]).removeClass("disabled");
            else if (0 === a[1])
                c.removeClass("disabled"),
                t.find(".text, .text_sm").removeClass("visible").siblings(".player, .field").removeClass("showtext").css("display", ""),
                t.find(".text_sm").html("0/0").end().find(".player").html("--").addClass("novalue"),
                c.find(".value").html(a[0] + "/" + a[1]).removeClass("disabled");
            else {
                r = -1;
                var u = "--|Not yet Started"
                  , p = this.scores.playing;
                "MC" === p ? u = "MC|Missed Cut" : "WD" === p ? u = "WD|Withdrawn" : "DQ" === p && (u = "DQ|Disqualified"),
                u = u.split("|"),
                t.find(".text").html(u[1]),
                t.find(".text_sm").html(u[0]),
                c.addClass("disabled"),
                t.find("." + d).addClass("visible").siblings().removeClass("visible").end().siblings(".player, .field").addClass("showtext").hide()
            }
            var f = new n({
                chart: h,
                player: a[2],
                field: r
            });
            this.chartViews.push(f),
            f.render()
        },
        initDesktop: function() {
            var e = this.$(".round")
              , t = e.find(".text_sm.visible");
            t.removeClass("visible").siblings(".text").addClass("visible"),
            "tab_sand" === this.$el.attr("id") && (e.find(".text").removeClass("visible").siblings(".player").show(),
            e.find(".player.showtext").hide().siblings(".text").addClass("visible"))
        },
        initMobile: function() {
            var e = this.$(".round")
              , t = e.find(".text.visible");
            t.removeClass("visible").siblings(".text_sm").addClass("visible"),
            "tab_sand" === this.$el.attr("id") && (e.find(".text_sm").addClass("visible"),
            e.find(".player").hide().siblings(".text").css("display", ""))
        },
        onDispose: function() {
            this.disposeCharts()
        },
        disposeCharts: function() {
            this.chartViews.forEach(function(e) {
                e.dispose()
            })
        }
    });
    return r
}),
define("views/player-bio/tab-stats", ["require", "backbone", "jquery", "utils/metrics", "utils/window-size", "utils/pubsub", "text!templates/player-bio/tab-stats.html!strip", "views/secondary-dropdown", "views/player-bio/stats-summary", "views/player-bio/stats-distance", "views/player-bio/stats-drive", "views/player-bio/stats-putting", "views/player-bio/stats-pie"], function(e) {
    var t = e("backbone")
      , i = e("jquery")
      , s = e("utils/metrics")
      , n = (e("utils/window-size"),
    e("utils/pubsub"))
      , a = e("text!templates/player-bio/tab-stats.html!strip")
      , r = e("views/secondary-dropdown")
      , o = e("views/player-bio/stats-summary")
      , l = e("views/player-bio/stats-distance")
      , h = e("views/player-bio/stats-drive")
      , c = e("views/player-bio/stats-putting")
      , d = e("views/player-bio/stats-pie")
      , u = {};
    u.stat_description_overlay = _.template('<div class="overlay" id="statDescription" style="display:block;"><div class="title"><%= title %></div><div class="text"><%= description %> </div><button class="close" id="btnClose">Close</button></div></div></div>');
    var p = t.View.extend({
        el: "#tab_stats",
        events: {
            "click .stat_tab_wrapper a": "_selectTab",
            "click .infoIcon": "_showInfo",
            "click #btnClose": "_hideInfo"
        },
        defaults: {
            autosync: !0,
            selectedTab: "#tab_summary"
        },
        template: _.template(a),
        initialize: function(e) {
            this.statViewsMap = {},
            this.logger = new eventsCore.util.Logger("Tab Stats View"),
            this.logger.info("initialize"),
            this.options = _.extend({}, this.defaults, e),
            this.options.autosync && this.listenTo(this.options.scoresModel, "sync", function() {
                this._activateTab(this.options.selectedTab)
            }),
            this.on("stopListenersForPieTabs", function() {
                this._stopListenersForPieTabs(this.options.selectedTab)
            }),
            this.on("reactivateTab", function() {
                this._activateTab(this.options.selectedTab)
            }),
            this.listenTo(n, "windowsize:global:enter", function() {
                n.trigger("playerstat:desktop:exit")
            }),
            this.listenTo(n, "windowsize:global:exit", function() {
                n.trigger("playerstat:desktop:enter")
            })
        },
        render: function() {
            return this.$el.html(this.template()),
            this.$statSelector = new r({
                el: this.$("#statSelector"),
                max_size: "tablet",
                metrics: "Player Detail"
            }),
            this.$statSelector.setCallback(function(e) {
                var t = this.$('.stat_tab_wrapper a[href$="' + e + '"]');
                t && t.addClass("selected").siblings().removeClass("selected"),
                this._activateTab(e)
            }, this),
            setTimeout(function() {
                this._activateTab(this.options.selectedTab)
            }
            .bind(this), 1),
            this
        },
        _selectTab: function(e) {
            e.preventDefault(),
            $t = i(e.target),
            $t.addClass("selected").siblings().removeClass("selected"),
            this.$statSelector && this.$statSelector.setOption($t.index() ? $t.index() : -1),
            this._activateTab($t.attr("href")),
            s.measureApp(s.page_section, "Player Detail", $t.text())
        },
        _showTabContainer: function(e) {
            var t = this.$(".stat_content" + e);
            t && t.addClass("selected").siblings().removeClass("selected")
        },
        _activateTab: function(e) {
            if (this._stopListenersForPieTabs(this.options.selectedTab),
            this._showTabContainer(e),
            !this.statViewsMap[e])
                switch (e) {
                case "#tab_summary":
                    this.statViewsMap[e] = new o({
                        model: this.options.scoresModel
                    });
                    break;
                case "#tab_sand":
                    this.statViewsMap[e] = new d({
                        el: this.$("#tab_sand"),
                        scoresModel: this.options.scoresModel,
                        name: "sand",
                        attr: "ss"
                    });
                    break;
                case "#tab_fairways":
                    this.statViewsMap[e] = new d({
                        el: this.$("#tab_fairways"),
                        scoresModel: this.options.scoresModel,
                        name: "fairways",
                        attr: "fw"
                    });
                    break;
                case "#tab_greens":
                    this.statViewsMap[e] = new d({
                        el: this.$("#tab_greens"),
                        scoresModel: this.options.scoresModel,
                        name: "greens",
                        attr: "gir"
                    });
                    break;
                case "#tab_distance":
                    this.statViewsMap[e] = new l({
                        scoresModel: this.options.scoresModel,
                        bioModel: this.options.bioModel
                    });
                    break;
                case "#tab_putting":
                    this.statViewsMap[e] = new c({
                        scoresModel: this.options.scoresModel,
                        bioModel: this.options.bioModel
                    });
                    break;
                case "#tab_drive":
                    this.statViewsMap[e] = new h({
                        scoresModel: this.options.scoresModel,
                        bioModel: this.options.bioModel
                    })
                }
            this.statViewsMap[e].render(),
            this.options.selectedTab = e
        },
        _stopListenersForPieTabs: function(e) {
            "#tab_greens" !== e && "#tab_fairways" !== e && "#tab_sand" !== e || this.statViewsMap[e] && this.statViewsMap[e].trigger("stopListeners")
        },
        _showInfo: function(e) {
            var t = this.$('a[href="' + this.options.selectedTab + '"]').first().text()
              , i = this.$(this.options.selectedTab).find(".description").first().text()
              , n = u.stat_description_overlay({
                title: t,
                description: i
            });
            this.$("#statInfo").html(n),
            this.$("#overlayFade").show(),
            s.measureApp(s.page_section, s.page_title, t, "Info", "Open")
        },
        _hideInfo: function(e) {
            this.$("#statInfo").empty(),
            this.$("#overlayFade").hide();
            var t = this.$('a[href="' + this.options.selectedTab + '"]').first().text();
            s.measureApp(s.page_section, s.page_title, t, "Info", "Close")
        },
        onDispose: function() {
            this.$statSelector && this.$statSelector.dispose();
            for (var e in this.statViewsMap)
                this.statViewsMap.hasOwnProperty(e) && this.statViewsMap[e].dispose()
        }
    });
    return p
}),
define("controllers/player-bio", ["require", "jquery", "backbone", "baseview", "settings", "utils/title-selector", "models/base-player", "models/player-bio", "models/player-scores", "models/player-history", "views/player-bio/current-stats", "views/secondary-dropdown", "views/player-bio/tab-bio", "views/player-bio/tab-news", "views/player-bio/tab-stats", "views/scorecard", "utils/scores-video", "utils/geoblock", "utils/favorites", "jquery.dropdown_ext"], function(e) {
    var t = e("jquery")
      , i = e("backbone")
      , s = e("baseview")
      , n = e("settings")
      , a = e("utils/title-selector")
      , r = e("models/base-player")
      , o = e("models/player-bio")
      , l = e("models/player-scores")
      , h = e("models/player-history")
      , c = e("views/player-bio/current-stats")
      , d = e("views/secondary-dropdown")
      , u = e("views/player-bio/tab-bio")
      , p = e("views/player-bio/tab-news")
      , f = e("views/player-bio/tab-stats")
      , g = e("views/scorecard")
      , m = e("utils/scores-video")
      , v = e("utils/geoblock")
      , b = e("utils/favorites");
    e("jquery.dropdown_ext");
    var y = s.extend({
        events: {
            "click .favorite": "_toggleFavorite"
        },
        defaults: {
            selectedTab: "#tab_news"
        },
        processPageVars: function() {
            this.playerId = this.jsonData.playerId,
            this.pageTitle = "Player Detail",
            this.props = {
                prop24: this.playerId
            }
        },
        onInitialization: function() {
            this.refreshScoresDelay = 6e4,
            this.dataFilesUrl = "/en_US/xml/gen/players/",
            b.prefix = "Players:Player Detail",
            this.titleSelector = new a({
                el: this.$("#pageTitle"),
                max: 1,
                measure_key: ["Players", "Player Detail"],
                metrics_suffix: "bio_playermenu"
            }),
            this.playerTabsDrowpdown = new d({
                el: this.$("#playerTabs"),
                metrics: "Player Detail"
            }),
            this.deferredFetches = this._loadDataFilesIntoModels(),
            this.playerTabsDrowpdown.setCallback(function(e) {
                this._selectTab(e)
            }
            .bind(this)),
            this.favPlayer = new r({
                id: this.playerId
            }),
            this._updateFavoriteStyle(),
            this.listenTo(this.favPlayer, "change:is_fave", this._updateFavoriteStyle)
        },
        onRender: function() {
            s.prototype.onRender.apply(this, arguments),
            this.unveil(this.$("#welcome .playerImage img"));
            var e = this;
            this._selectTab(this.defaults.selectedTab),
            t.when(this.deferredFetches.bio).done(function() {
                e.$("#playerTabs").show(),
                e.$("a[href$=bio].disabled").removeClass("disabled")
            }),
            t.when(this.deferredFetches.scores).done(function() {
                e._buildCurrentStats(),
                e.playerScoresModel.get("hasScores") && (e.$(".playerInfo a.track").show(),
                e.$("#playerTabs").show(),
                e.$("a[href$=stats].disabled").removeClass("disabled"),
                e.timer = setInterval(function() {
                    e.playerScoresModel.fetch()
                }, e.refreshScoresDelay))
            }),
            n.Scores.pre ? this._checkLiveState("offair") : (this._buildScorecard(),
            m.init("playerbio", function() {
                m.assignFeaturedGroupPlayers(),
                m.parsePlayersByChannel(),
                this._checkLiveState()
            }
            .bind(this)))
        },
        _selectTab: function(e) {
            this.$selectedTabContent && this.$selectedTabContent.hide();
            var t = this.$(e);
            switch (t.show(),
            this.tabStatsView && this.tabStatsView.trigger("stopListenersForPieTabs"),
            e) {
            case "#tab_bio":
                this._buildTabBioContent();
                break;
            case "#tab_stats":
                this._buildTabStatsContent();
                break;
            case "#tab_news":
                this._buildTabNewsContent()
            }
            this.$selectedTabContent = t
        },
        _buildTabNewsContent: function() {
            this.tabNewsView || (this.tabNewsView = new p({
                playerId: this.playerId
            }),
            this.tabNewsView.render(),
            this.listenTo(this.tabNewsView, "hasContent", function(e) {
                e ? this.$('#playerTabs a[href="#tab_news"]').removeClass("disabled").addClass("selected") : (this.playerTabsDrowpdown.setOption(1),
                this._selectTab("#tab_stats"))
            }))
        },
        _buildTabStatsContent: function() {
            this.tabStatsView ? this.tabStatsView.trigger("reactivateTab") : t.when(this.deferredFetches.scores, this.deferredFetches.bio).done(function() {
                this.playerScoresModel.get("hasScores") ? (this.tabStatsView = new f({
                    scoresModel: this.playerScoresModel,
                    bioModel: this.playerBioModel
                }),
                this.tabStatsView.render()) : (this.playerTabsDrowpdown.setOption(2),
                this._selectTab("#tab_bio"))
            }
            .bind(this))
        },
        _buildTabBioContent: function() {
            this.tabBioView || t.when(this.deferredFetches.bio, this.deferredFetches.history).done(function() {
                this.tabBioView = new u({
                    playerBio: this.playerBioModel.attributes,
                    playerHistory: this.playerHistoryModel.attributes
                }),
                this.tabBioView.render()
            }
            .bind(this))
        },
        _buildCurrentStats: function() {
            n.Scores.pre || (this.currentStatsView = new c({
                model: this.playerScoresModel
            }),
            this.currentStatsView.render())
        },
        _buildScorecard: function() {
            this.scorecardView = new g({
                el: this.$("#playerScorecardSection"),
                playerId: this.playerId,
                refreshScoresDelay: this.refreshScoresDelay
            }),
            this.scorecardView.render()
        },
        _loadDataFilesIntoModels: function() {
            var e = t.Deferred()
              , s = t.Deferred()
              , n = t.Deferred();
            return i.ajax({
                dataType: "json",
                url: this.dataFilesUrl + this.playerId + ".json",
                success: function(t) {
                    this.playerBioModel = new o({
                        filename: t.files.bios
                    }),
                    this.playerBioModel.fetch().success(function(t) {
                        e.resolve(t)
                    }),
                    this.playerScoresModel = new l({
                        filename: t.files.scores
                    }),
                    this.playerScoresModel.fetch().success(function(e) {
                        s.resolve(e)
                    }),
                    this.playerHistoryModel = new h({
                        filename: t.files.history
                    }),
                    this.playerHistoryModel.fetch().success(function(e) {
                        n.resolve(e)
                    })
                }
                .bind(this)
            }),
            {
                bio: e,
                scores: s,
                history: n
            }
        },
        _toggleFavorite: function(e) {
            return this.favPlayer.trigger("toggleFavorite"),
            !1
        },
        _updateFavoriteStyle: function() {
            this.$(".favorite").toggleClass("selected", this.favPlayer.get("is_fave"))
        },
        _checkLiveState: function(e) {
            var t = "offair" === e ? -1 : m.isPlayerLive(this.playerId);
            t === -1 || v.isBlocked() ? this.$(".hero_promo, .media_promo").hide() : this.$(".hero_promo").show().end().find(".media_promo").show().find("a").attr("href", "/en_US/watch/live.html?videoChannel=" + t + "&promo=live_bio")
        },
        onDispose: function() {
            clearInterval(this.timer),
            this.scorecardView && this.scorecardView.dispose(),
            this.tabBioView && this.tabBioView.dispose(),
            this.tabNewsView && this.tabNewsView.dispose(),
            this.tabStatsView && this.tabStatsView.dispose(),
            this.currentStatsView && this.currentStatsView.dispose(),
            this.playerTabsDrowpdown && this.playerTabsDrowpdown.dispose()
        }
    });
    return y
}),
function(e) {
    var t = document.createElement("div")
      , i = t.getElementsByTagName("i")
      , s = e(document.documentElement);
    t.innerHTML = "<!--[if lte IE 8]><i></i><![endif]-->",
    i[0] && s.addClass("ie-lte8"),
    "querySelector"in document && (!window.blackberry || window.WebKitPoint) && !window.operamini && (s.addClass("tablesaw-enhanced"),
    e(function() {
        e(document).trigger("enhance.tablesaw")
    }))
}(jQuery),
function(e) {
    var t = "table"
      , i = {
        toolbar: "tablesaw-bar"
    }
      , s = {
        create: "tablesawcreate",
        destroy: "tablesawdestroy",
        refresh: "tablesawrefresh"
    }
      , n = "stack"
      , a = "table[data-tablesaw-mode],table[data-tablesaw-sortable]"
      , r = function(t) {
        if (!t)
            throw new Error("Tablesaw requires an element.");
        this.table = t,
        this.$table = e(t),
        this.mode = this.$table.attr("data-tablesaw-mode") || n,
        this.init()
    };
    r.prototype.init = function() {
        this.$table.attr("id") || this.$table.attr("id", t + "-" + Math.round(1e4 * Math.random())),
        this.createToolbar();
        var e = this._initCells();
        this.$table.trigger(s.create, [this, e])
    }
    ,
    r.prototype._initCells = function() {
        var t, i = this.table.querySelectorAll("thead tr"), s = this;
        return e(i).each(function() {
            var n = 0;
            e(this).children().each(function() {
                var a = parseInt(this.getAttribute("colspan"), 10)
                  , r = ":nth-child(" + (n + 1) + ")";
                if (t = n + 1,
                a)
                    for (var o = 0; o < a - 1; o++)
                        n++,
                        r += ", :nth-child(" + (n + 1) + ")";
                this.cells = s.$table.find("tr").not(e(i).eq(0)).not(this).children(r),
                n++
            })
        }),
        t
    }
    ,
    r.prototype.refresh = function() {
        this._initCells(),
        this.$table.trigger(s.refresh)
    }
    ,
    r.prototype.createToolbar = function() {
        var t = this.$table.prev("." + i.toolbar);
        t.length || (t = e("<div>").addClass(i.toolbar).insertBefore(this.$table)),
        this.$toolbar = t,
        this.mode && this.$toolbar.addClass("mode-" + this.mode)
    }
    ,
    r.prototype.destroy = function() {
        this.$table.prev("." + i.toolbar).each(function() {
            this.className = this.className.replace(/\bmode\-\w*\b/gi, "")
        });
        var n = this.$table.attr("id");
        e(document).unbind("." + n),
        e(window).unbind("." + n),
        this.$table.trigger(s.destroy, [this]),
        this.$table.removeAttr("data-tablesaw-mode"),
        this.$table.removeData(t)
    }
    ,
    e.fn[t] = function() {
        return this.each(function() {
            var i = e(this);
            if (!i.data(t)) {
                var s = new r(this);
                i.data(t, s)
            }
        })
    }
    ,
    e(document).on("enhance.tablesaw", function(i) {
        e(i.target).find(a)[t]()
    })
}(jQuery),
function(e, t, i) {
    var s = {
        stackTable: "tablesaw-stack",
        cellLabels: "tablesaw-cell-label",
        cellContentLabels: "tablesaw-cell-content"
    }
      , n = {
        obj: "tablesaw-stack"
    }
      , a = {
        labelless: "data-tablesaw-no-labels",
        hideempty: "data-tablesaw-hide-empty"
    }
      , r = function(e) {
        this.$table = t(e),
        this.labelless = this.$table.is("[" + a.labelless + "]"),
        this.hideempty = this.$table.is("[" + a.hideempty + "]"),
        this.labelless || (this.allHeaders = this.$table.find("th")),
        this.$table.data(n.obj, this)
    };
    r.prototype.init = function(e) {
        if (this.$table.addClass(s.stackTable),
        !this.labelless) {
            var i = t(this.allHeaders)
              , n = this.hideempty;
            i.each(function() {
                var i = t(this)
                  , r = t(this.cells).filter(function() {
                    return !(t(this).parent().is("[" + a.labelless + "]") || n && t(this).is(":empty"))
                })
                  , o = r.not(this).filter("thead th").length && " tablesaw-cell-label-top"
                  , l = i.find(".tablesaw-sortable-btn")
                  , h = l.length ? l.html() : i.html();
                if ("" !== h)
                    if (o) {
                        var c = parseInt(t(this).attr("colspan"), 10)
                          , d = "";
                        c && (d = "td:nth-child(" + c + "n + " + e + ")"),
                        r.filter(d).prepend("<b class='" + s.cellLabels + o + "'>" + h + "</b>")
                    } else
                        r.wrapInner("<span class='" + s.cellContentLabels + "'></span>"),
                        r.prepend("<b class='" + s.cellLabels + "'>" + h + "</b>")
            })
        }
    }
    ,
    r.prototype.destroy = function() {
        this.$table.removeClass(s.stackTable),
        this.$table.find("." + s.cellLabels).remove(),
        this.$table.find("." + s.cellContentLabels).remove()
    }
    ,
    t(document).on("tablesawcreate", function(e, t, i) {
        if ("stack" === t.mode) {
            var s = new r(t.table);
            s.init(i)
        }
    }),
    t(document).on("tablesawdestroy", function(e, i) {
        "stack" === i.mode && t(i.table).data(n.obj).destroy()
    })
}(this, jQuery),
function(e) {
    var t = "tablesawbtn"
      , i = ".btn"
      , s = {
        _create: function() {
            return e(this).each(function() {
                e(this).trigger("beforecreate." + t)[t]("_init").trigger("create." + t)
            })
        },
        _init: function() {
            var i = e(this)
              , s = this.getElementsByTagName("select")[0];
            return s && e(this).addClass("btn-select")[t]("_select", s),
            i
        },
        _select: function(t) {
            var i = function(t, i) {
                var s, n, a, r = e(i).find("option");
                if (r.each(function() {
                    var e = this;
                    e.selected && (s = document.createTextNode(e.text))
                }),
                a = t.childNodes,
                r.length > 0)
                    for (var o = 0, l = a.length; o < l; o++)
                        n = a[o],
                        n && 3 === n.nodeType && t.replaceChild(s, n)
            };
            i(this, t),
            e(this).bind("change refresh", function() {
                i(this, t)
            })
        }
    };
    e.fn[t] = function(i, s, n, a) {
        return this.each(function() {
            return i && "string" == typeof i ? e.fn[t].prototype[i].call(this, s, n, a) : e(this).data(t + "active") ? e(this) : (e(this).data(t + "active", !0),
            void e.fn[t].prototype._create.call(this))
        })
    }
    ,
    e.extend(e.fn[t].prototype, s),
    e(document).on("enhance", function(s) {
        e(i, s.target)[t]()
    })
}(jQuery),
function(e, t, i) {
    var s = function(e) {
        this.$table = t(e),
        this.classes = {
            columnToggleTable: "tablesaw-columntoggle",
            columnBtnContain: "tablesaw-columntoggle-btnwrap tablesaw-advance",
            columnBtn: "tablesaw-columntoggle-btn tablesaw-nav-btn down",
            popup: "tablesaw-columntoggle-popup",
            priorityPrefix: "tablesaw-priority-",
            toolbar: "tablesaw-bar"
        },
        this.i18n = {
            columnBtnText: "Columns",
            columnsDialogError: "No eligible columns."
        },
        this.headers = this.$table.find("tr:first > th"),
        this.$table.data("tablesaw-coltoggle", this)
    };
    s.prototype.init = function() {
        function e() {
            l.addClass("visible"),
            a.removeClass("down").addClass("up"),
            t(document).unbind("click." + s, i),
            window.clearTimeout(d),
            d = window.setTimeout(function() {
                t(document).one("click." + s, i)
            }, 15)
        }
        function i(e) {
            e && t(e.target).closest("." + h.classes.popup).length || (t(document).unbind("click." + s),
            a.removeClass("up").addClass("down"),
            l.removeClass("visible"))
        }
        var s, n, a, r, o, l, h = this;
        this.$table.addClass(this.classes.columnToggleTable),
        s = this.$table.attr("id"),
        n = s + "-popup",
        l = t("<div class='" + this.classes.columnBtnContain + "'></div>"),
        a = t("<a href='#" + n + "' class='btn btn-micro " + this.classes.columnBtn + "' data-popup-link><span>" + this.i18n.columnBtnText + "</span></a>"),
        r = t("<div class='dialog-table-coltoggle " + this.classes.popup + "' id='" + n + "'></div>"),
        o = t("<div class='btn-group'></div>");
        var c = !1;
        t(this.headers).not("td").each(function() {
            var e = t(this)
              , i = e.attr("data-tablesaw-priority")
              , s = e.add(this.cells);
            i && "persist" !== i && (s.addClass(h.classes.priorityPrefix + i),
            t("<label><input type='checkbox' checked>" + e.text() + "</label>").appendTo(o).children(0).data("cells", s),
            c = !0)
        }),
        c || o.append("<label>" + this.i18n.columnsDialogError + "</label>"),
        o.appendTo(r),
        o.find('input[type="checkbox"]').on("change", function(e) {
            var i = e.target.checked;
            t(e.target).data("cells").toggleClass("tablesaw-cell-hidden", !i).toggleClass("tablesaw-cell-visible", i),
            h.$table.trigger("tablesawcolumns")
        }),
        a.appendTo(l),
        l.appendTo(this.$table.prev("." + this.classes.toolbar));
        var d;
        a.on("click.tablesaw", function(t) {
            t.preventDefault(),
            l.is(".visible") ? i() : e()
        }),
        r.appendTo(l),
        this.$menu = o,
        t(window).on("resize." + s, function() {
            h.refreshToggle()
        }),
        this.refreshToggle()
    }
    ,
    s.prototype.refreshToggle = function() {
        this.$menu.find("input").each(function() {
            var e = t(this);
            this.checked = "table-cell" === e.data("cells").eq(0).css("display")
        })
    }
    ,
    s.prototype.refreshPriority = function() {
        var e = this;
        t(this.headers).not("td").each(function() {
            var i = t(this)
              , s = i.attr("data-tablesaw-priority")
              , n = i.add(this.cells);
            s && "persist" !== s ? n.addClass(e.classes.priorityPrefix + s) : n.each(function() {
                this.className = this.className.replace(/\bui\-table\-priority\-\d\b/g, "")
            })
        })
    }
    ,
    s.prototype.destroy = function() {
        this.$table.removeClass(this.classes.columnToggleTable),
        this.$table.find("th, td").each(function() {
            var e = t(this);
            e.removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),
            this.className = this.className.replace(/\bui\-table\-priority\-\d\b/g, "")
        })
    }
    ,
    t(document).on("tablesawcreate", function(e, t) {
        if ("columntoggle" === t.mode) {
            var i = new s(t.table);
            i.init()
        }
    }),
    t(document).on("tablesawdestroy", function(e, i) {
        "columntoggle" === i.mode && t(i.table).data("tablesaw-coltoggle").destroy()
    })
}(this, jQuery),
function(e, t, i) {
    function s(i) {
        function s(e) {
            return t(e.cells).add(e)
        }
        function n(e) {
            s(e).removeClass("tablesaw-cell-hidden")
        }
        function a(e) {
            s(e).addClass("tablesaw-cell-hidden")
        }
        function r(e) {
            s(e).addClass("tablesaw-cell-persist")
        }
        function o(e) {
            return t(e).is('[data-tablesaw-priority="persist"]')
        }
        function l() {
            i.removeClass(_),
            t("#" + S + "-persist").remove()
        }
        function h() {
            var e = [];
            i.width();
            k.each(function(e) {
                var i;
                o(this) && (i = t(this).outerWidth())
            }),
            l(),
            T.append(t("<style>" + e.join("\n") + "</style>").attr("id", S + "-persist"))
        }
        function c() {
            var e, i = [];
            return x.each(function(s) {
                var n = t(this)
                  , a = "none" === n.css("display") || n.is(".tablesaw-cell-hidden");
                if (a || e) {
                    if (a && e)
                        return i[1] = s,
                        !1
                } else
                    e = !0,
                    i[0] = s
            }),
            i
        }
        function d() {
            var e = c();
            return [e[1] - 1, e[0] - 1]
        }
        function u(e) {
            return e ? c() : d()
        }
        function p(e) {
            return e[1] > -1 && e[1] < x.length
        }
        function f() {
            var e = 50
              , s = i.parent().width()
              , o = []
              , h = 0
              , c = []
              , d = k.length;
            k.each(function(i) {
                var n = t(this)
                  , a = n.is('[data-tablesaw-priority="persist"]');
                o.push(a),
                h += C[i] + (a ? 0 : e),
                c.push(h),
                (a || h > s) && d--
            });
            var u = 0 === d;
            k.each(function(e) {
                return o[e] ? void r(this) : void (c[e] <= s || u ? (u = !1,
                n(this)) : a(this))
            }),
            P || l(),
            i.trigger("tablesawcolumns")
        }
        function g(e) {
            var t = u(e);
            p(t) && (isNaN(t[0]) && (e ? t[0] = 0 : t[0] = x.length - 1),
            P || h(),
            a(x.get(t[0])),
            n(x.get(t[1])),
            i.trigger("tablesawcolumns"))
        }
        var m = t("<div class='tablesaw-advance'></div>")
          , v = t("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(m)
          , b = t("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(m)
          , y = "hidden"
          , w = "disabled"
          , _ = "tablesaw-fix-persist"
          , k = i.find("thead th")
          , x = k.not('[data-tablesaw-priority="persist"]')
          , C = []
          , T = t(document.head || "head")
          , S = i.attr("id")
          , P = t("html").is(".ie-lte8");
        if (!k.length)
            throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");
        i.css("width", "auto"),
        k.each(function() {
            C.push(t(this).outerWidth())
        }),
        i.css("width", ""),
        m.appendTo(i.prev(".tablesaw-bar")),
        i.addClass("tablesaw-swipe"),
        S || (S = "tableswipe-" + Math.round(1e4 * Math.random()),
        i.attr("id", S)),
        v.add(b).click(function(e) {
            g(!!t(e.target).closest(b).length),
            e.preventDefault()
        }),
        i.bind("touchstart.swipetoggle", function(e) {
            var i, s, n = (e.touches || e.originalEvent.touches)[0].pageX, a = (e.touches || e.originalEvent.touches)[0].pageY;
            t(this).bind("touchmove", function(e) {
                i = (e.touches || e.originalEvent.touches)[0].pageX,
                s = (e.touches || e.originalEvent.touches)[0].pageY,
                Math.abs(i - n) > 15 && Math.abs(s - a) < 20 && e.preventDefault()
            }).bind("touchend.swipetoggle", function() {
                i - n < 15 && g(!0),
                i - n > -15 && g(!1),
                t(this).unbind("touchmove touchend")
            })
        }).bind("tablesawcolumns.swipetoggle", function() {
            p(d()) || p(c()) ? (v.removeClass(y),
            b.removeClass(y),
            v[p(d()) ? "removeClass" : "addClass"](w),
            b[p(c()) ? "removeClass" : "addClass"](w)) : (v.addClass(y),
            b.addClass(y))
        }).bind("tablesawnext.swipetoggle", function() {
            g(!0)
        }).bind("tablesawprev.swipetoggle", function() {
            g(!1)
        }).bind("tablesawdestroy.swipetoggle", function() {
            var i = t(this);
            i.removeClass("tablesaw-swipe"),
            i.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),
            t(e).off("resize", f),
            i.unbind(".swipetoggle")
        }),
        f(),
        t(e).on("resize", f)
    }
    t(document).on("tablesawcreate", function(e, t) {
        "swipe" === t.mode && s(t.$table)
    })
}(this, jQuery),
function(e) {
    function t(t) {
        return e.map(t.childNodes, function(t) {
            var i = e(t);
            if (i.is("input, select"))
                return i.val();
            if (!i.hasClass("tablesaw-cell-label"))
                return e.trim(i.text())
        }).join("")
    }
    var i = "tablesaw-sortable"
      , s = "table[data-" + i + "]"
      , n = "[data-" + i + "-switch]"
      , a = {
        defaultCol: "data-tablesaw-sortable-default-col"
    }
      , r = {
        head: i + "-head",
        ascend: i + "-ascending",
        descend: i + "-descending",
        switcher: i + "-switch",
        tableToolbar: "tablesaw-toolbar",
        sortButton: i + "-btn"
    }
      , o = {
        sort: "Sort"
    }
      , l = {
        _create: function(t) {
            return e(this).each(function() {
                var s = e(this).data("init" + i);
                return !s && void e(this).data("init" + i, !0).trigger("beforecreate." + i)[i]("_init", t).trigger("create." + i)
            })
        },
        _init: function() {
            var s, l, h = e(this), c = function() {
                h.addClass(i)
            }, d = function(t) {
                e.each(t, function(t, i) {
                    e(i).addClass(r.head)
                })
            }, u = function(t, i) {
                e.each(t, function(t, s) {
                    var n = e("<button class='" + r.sortButton + "'/>");
                    n.bind("click", {
                        col: s
                    }, i),
                    e(s).wrapInner(n)
                })
            }, p = function(t) {
                e.each(t, function(t, i) {
                    var s = e(i);
                    s.removeAttr(a.defaultCol),
                    s.removeClass(r.ascend),
                    s.removeClass(r.descend)
                })
            }, f = function(t) {
                if (!e(t.target).is("a[href]")) {
                    t.stopPropagation();
                    var n = e(this).parent()
                      , a = t.data.col
                      , o = s.index(n);
                    p(n.siblings()),
                    n.hasClass(r.descend) ? (h[i]("sortBy", a, !0),
                    o += "_asc") : (h[i]("sortBy", a),
                    o += "_desc"),
                    l && l.find("select").val(o).trigger("refresh"),
                    t.preventDefault()
                }
            }, g = function(t) {
                e.each(t, function(t, i) {
                    var s = e(i);
                    s.is("[" + a.defaultCol + "]") && (s.hasClass(r.descend) || s.addClass(r.ascend))
                })
            }, m = function(s) {
                l = e("<div>").addClass(r.switcher).addClass(r.tableToolbar).html(function() {
                    var i = ["<label>" + o.sort + ":"];
                    return i.push('<span class="btn btn-small">&#160;<select>'),
                    s.each(function(s) {
                        var n = e(this)
                          , o = n.is("[" + a.defaultCol + "]")
                          , l = n.hasClass(r.descend)
                          , h = !1;
                        e(this.cells).slice(0, 3).each(function() {
                            if (!isNaN(parseInt(t(this), 10)))
                                return h = !0,
                                !1
                        }),
                        i.push("<option" + (o && !l ? " selected" : "") + ' value="' + s + '_asc">' + n.text() + " " + (h ? "↑" : "(A-Z)") + "</option>"),
                        i.push("<option" + (o && l ? " selected" : "") + ' value="' + s + '_desc">' + n.text() + " " + (h ? "↓" : "(Z-A)") + "</option>")
                    }),
                    i.push("</select></span></label>"),
                    i.join("")
                });
                var n = h.prev(".tablesaw-bar")
                  , c = n.children().eq(0);
                c.length ? l.insertBefore(c) : l.appendTo(n),
                l.find(".btn").tablesawbtn(),
                l.find("select").on("change", function() {
                    var t = e(this).val().split("_")
                      , n = s.eq(t[0]);
                    p(n.siblings()),
                    h[i]("sortBy", n.get(0), "asc" === t[1])
                })
            };
            c(),
            s = h.find("thead th[data-" + i + "-col]"),
            d(s),
            u(s, f),
            g(s),
            h.is(n) && m(s, h.find("tbody tr:nth-child(-n+3)"))
        },
        getColumnNumber: function(t) {
            return e(t).prevAll().length
        },
        getTableRows: function() {
            return e(this).find("tbody tr")
        },
        sortRows: function(i, s, n, a) {
            var r, o, l, h = function(i) {
                var n = [];
                return e.each(i, function(i, a) {
                    n.push({
                        cell: t(e(a).children().get(s)),
                        rowNum: i
                    })
                }),
                n
            }, c = function(e, t) {
                var i, s = /[^\d\.]/g;
                return i = e ? function(e, i) {
                    return t || !isNaN(parseFloat(e.cell)) ? parseFloat(e.cell.replace(s, "")) - parseFloat(i.cell.replace(s, "")) : e.cell.toLowerCase() > i.cell.toLowerCase() ? 1 : -1
                }
                : function(e, i) {
                    return t || !isNaN(parseFloat(e.cell)) ? parseFloat(i.cell.replace(s, "")) - parseFloat(e.cell.replace(s, "")) : e.cell.toLowerCase() < i.cell.toLowerCase() ? 1 : -1
                }
            }, d = function(e, t) {
                var i, s, n, a = [];
                for (i = 0,
                s = e.length; i < s; i++)
                    n = e[i].rowNum,
                    a.push(t[n]);
                return a
            };
            return r = h(i),
            o = c(n, e(a).is("[data-sortable-numeric]")),
            l = r.sort(o),
            i = d(l, i)
        },
        replaceTableRows: function(t) {
            var i = e(this)
              , s = i.find("tbody");
            s.html(t)
        },
        makeColDefault: function(t, i) {
            var s = e(t);
            s.attr(a.defaultCol, "true"),
            i ? (s.removeClass(r.descend),
            s.addClass(r.ascend)) : (s.removeClass(r.ascend),
            s.addClass(r.descend))
        },
        sortBy: function(t, s) {
            var n, a, r = e(this);
            n = r[i]("getColumnNumber", t),
            a = r[i]("getTableRows"),
            a = r[i]("sortRows", a, n, s, t),
            r[i]("replaceTableRows", a),
            r[i]("makeColDefault", t, s)
        }
    };
    e.fn[i] = function(t) {
        var s, n = Array.prototype.slice.call(arguments, 1);
        return t && "string" == typeof t ? (s = e.fn[i].prototype[t].apply(this[0], n),
        "undefined" != typeof s ? s : e(this)) : (e(this).data(i + "data") || (e(this).data(i + "active", !0),
        e.fn[i].prototype._create.call(this, t)),
        e(this))
    }
    ,
    e.extend(e.fn[i].prototype, l),
    e(document).on("tablesawcreate", function(e, t) {
        t.$table.is(s) && t.$table[i]()
    })
}(jQuery),
function(e, t, i) {
    function s(i) {
        function s(t) {
            var i = t.attr(n.attr.init);
            return !i || e.matchMedia && e.matchMedia(i).matches
        }
        function a() {
            if (!s(i))
                return void r.hide();
            r.show();
            var e = o.find("li").removeClass(l);
            i.find("thead th").each(function(i) {
                "none" === t(this).css("display") && e.eq(i).addClass(l)
            })
        }
        var r = t('<div class="tablesaw-advance minimap">')
          , o = t('<ul class="tablesaw-advance-dots">').appendTo(r)
          , l = "tablesaw-advance-dots-hide"
          , h = i.find("thead th");
        h.each(function() {
            o.append("<li><i></i></li>")
        }),
        r.appendTo(i.prev(".tablesaw-bar")),
        a(),
        t(e).on("resize", a),
        i.bind("tablesawcolumns.minimap", function() {
            a()
        }).bind("tablesawdestroy.minimap", function() {
            var i = t(this);
            i.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),
            t(e).off("resize", a),
            i.unbind(".minimap")
        })
    }
    var n = {
        attr: {
            init: "data-tablesaw-minimap"
        }
    };
    t(document).on("tablesawcreate", function(e, t) {
        "swipe" !== t.mode && "columntoggle" !== t.mode || !t.$table.is("[ " + n.attr.init + "]") || s(t.$table)
    })
}(this, jQuery),
function(e, t) {
    var i = {
        selectors: {
            init: "table[data-tablesaw-mode-switch]"
        },
        attributes: {
            excludeMode: "data-tablesaw-mode-exclude"
        },
        classes: {
            main: "tablesaw-modeswitch",
            toolbar: "tablesaw-toolbar"
        },
        modes: ["stack", "swipe", "columntoggle"],
        i18n: {
            modes: ["Stack", "Swipe", "Toggle"],
            columns: 'Col<span class="a11y-sm">umn</span>s'
        },
        init: function(e) {
            var s = t(e)
              , n = s.attr(i.attributes.excludeMode)
              , a = s.prev(".tablesaw-bar")
              , r = ""
              , o = t("<div>").addClass(i.classes.main + " " + i.classes.toolbar).html(function() {
                var e, t = ["<label>" + i.i18n.columns + ":"], a = s.attr("data-tablesaw-mode");
                t.push('<span class="btn btn-small">&#160;<select>');
                for (var o = 0, l = i.modes.length; o < l; o++)
                    n && n.toLowerCase() === i.modes[o] || (e = a === i.modes[o],
                    e && (r = i.modes[o]),
                    t.push("<option" + (e ? " selected" : "") + ' value="' + i.modes[o] + '">' + i.i18n.modes[o] + "</option>"));
                return t.push("</select></span></label>"),
                t.join("")
            })
              , l = a.find(".tablesaw-advance").eq(0);
            l.length ? o.insertBefore(l) : o.appendTo(a),
            o.find(".btn").tablesawbtn(),
            o.find("select").bind("change", i.onModeChange)
        },
        onModeChange: function() {
            var e = t(this)
              , s = e.closest("." + i.classes.main)
              , n = e.closest(".tablesaw-bar").nextUntil(n).eq(0)
              , a = e.val();
            s.remove(),
            n.data("table").destroy(),
            n.attr("data-tablesaw-mode", a),
            n.table()
        }
    };
    t(e.document).on("tablesawcreate", function(e, t) {
        t.$table.is(i.selectors.init) && i.init(t.table)
    })
}(this, jQuery),
define("tablesaw", ["jquery"], function() {}),
define("controllers/stats", ["require", "jquery", "underscore", "backbone", "baseview", "utils/metrics", "utils/common", "utils/pubsub", "settings", "utils/scores", "tablesaw", "utils/title-selector", "views/secondary-dropdown"], function(e) {
    var t = e("jquery")
      , i = (e("underscore"),
    e("backbone"),
    e("baseview"))
      , s = e("utils/metrics")
      , n = e("utils/common")
      , a = e("utils/pubsub")
      , r = e("settings")
      , o = (e("utils/scores"),
    e("tablesaw"),
    e("utils/title-selector"))
      , l = e("views/secondary-dropdown")
      , h = i.extend({
        stats_data: [],
        page_load: !0,
        round_id: 1,
        events: {
            "click .option_wrapper a": "attachEvents",
            "click .selected_container": "activateSelectorDropdown",
            "click .stats_data_table th a.sort": "loadTable",
            "click .btn-micro": "metrics_btnClick"
        },
        onInitialization: function() {
            i.prototype.onInitialization.apply(this, arguments),
            this.titleSelector = new o({
                el: this.$("#pageTitle"),
                max: 1,
                measure_key: ["Tournament Info", "Select Records & Stats"]
            }),
            "stub" !== this.jsonData.pageState && (this.$stats_tbl = this.$(".stats_table"),
            this.$stats_stub = this.$(".stats_stub"),
            this.$stats_data_tbl = this.$(".stats_data_table"),
            this.$roundSelector = new l({
                el: this.$(".statsTabs")
            }),
            this.$roundSelector.setCallback(function(e) {
                var t = e.substring(1);
                this.loadStats(t)
            }, this),
            this.listenTo(a, "throttle:resize", function() {
                n.collapseMenus([".statsTabs"])
            }))
        },
        processPageVars: function() {
            var e = this.jsonData.pageDetails;
            e && void 0 !== e.pageTitle && (this.pageTitle = e.pageTitle)
        },
        onRender: function() {
            i.prototype.onRender.apply(this, arguments),
            "stub" !== this.jsonData.pageState && (this.populateStatsSelector(),
            (r.Scores.live || r.Scores.post) && setTimeout(this.checkStats.bind(this), 100))
        },
        onDispose: function() {
            this.titleSelector.dispose(),
            "stub" !== this.jsonData.pageState && this.$roundSelector.dispose()
        },
        checkStats: function() {
            var e = "/en_US/xml/gen/scores/" + this.jsonData.page + ".json"
              , i = this;
            t.ajax({
                url: e,
                async: !0,
                type: "GET",
                dataType: "json",
                success: function(e) {
                    i.stats_data = e,
                    this.loadStats("5")
                }
                .bind(this),
                error: function() {
                    console.log("Error loading document - " + e)
                }
            })
        },
        populateStatsSelector: function() {
            var e = this.$(".filter .options a")
              , i = this.jsonData.page;
            t.each(e, function() {
                t(this).removeClass("selected"),
                i === t(this).attr("data-src") && (t(".filter .selected_container a").text(t(this).text()).toggleClass("toggle"),
                t(this).addClass("selected"))
            })
        },
        attachEvents: function(e) {
            var i = t(this);
            if (i.parent().hasClass("selected") || i.parent().hasClass("disabled"))
                return void e.preventDefault()
        },
        activateSelectorDropdown: function(e) {
            e.preventDefault();
            var i = t(e.currentTarget).parents(".filter");
            i.hasClass("open") ? (i.removeClass("open"),
            s.measureApp(s.page_section, "Tab", "Close")) : (i.addClass("open"),
            s.measureApp(s.page_section, "Tab", "Open"))
        },
        loadTable: function(e) {
            e.preventDefault();
            var i = t(e.currentTarget).attr("href").substring(1);
            this.loadStats(i)
        },
        metrics_btnClick: function(e) {
            s.measureApp(s.page_section, s.page_title, e.currentTarget.getAttribute("title"))
        },
        loadStats: function(e) {
            if (!this.$(".statsTabs .round" + e).hasClass("disabled") && !this.$(".stats_data_table th.round" + e).hasClass("disabled")) {
                if ("cstats" === this.jsonData.page ? this.displayCStats(e) : "eagles" === this.jsonData.page ? this.displayEagles() : this.displayStats(e),
                "eagles" !== this.jsonData.page)
                    if ("cstats" === this.jsonData.page)
                        for (var t = 0; t < 5; t++) {
                            var i = "round" + t;
                            "none" !== this.stats_data[i] && this.$(".statsTabs .round" + t).removeClass("disabled")
                        }
                    else
                        for (var t = 0; t < 6; t++) {
                            var i = "round" + (t + 1);
                            "none" !== this.stats_data[i] && this.$(".stats_data_table th." + i).removeClass("disabled"),
                            5 === t && this.$(".stats_data_table th.round5").addClass("selected")
                        }
                this.page_load && this.$(".statsTabs .round5").addClass("selected"),
                this.page_load = !1
            }
        },
        displayCStats: function(e) {
            this.$stats_tbl.html("");
            var i = this.stats_data["round" + e];
            if ("none" === i)
                return this.$stats_tbl.hide(),
                void this.$stats_stub.show().html("Cumulative stats will be available after the first player completes a round.");
            this.$stats_tbl.show(),
            this.$stats_stub.hide();
            var s = i.hole;
            this.$stats_tbl.html('<table class="eleven_column stats_data_table tablesaw tablesaw-swipe" data-tablesaw-mode="swipe"> <thead> <tr> <th class="col1" data-tablesaw-priority="persist">Hole</th> <th class="col2">Yards</th> <th class="col3">Par</th> <th class="col4">Average</th> <th class="col5">Rank</th> <th class="col6">Eagles</th> <th class="col7">Birdies</th> <th class="col8">Pars</th> <th class="col9">Bogeys</th> <th class="col10">Double <br>Bogeys +</th> </tr> </thead> <tbody></tbody> </table>');
            var n = this.$(".stats_data_table tbody");
            t.each(s, function(e) {
                var t = "";
                t += "In" !== this.id && "Out" !== this.id && "Total" !== this.id ? '<tr><td class="col1"><a href="/en_US/course/hole' + this.id + '.html">' + this.id + "</a></td>" : "In" === this.id || "Out" === this.id ? '<tr class="boldrow"><td class="col1 double_line">' + this.id + "<br/>Subtotal</td>" : '<tr class="boldrow"><td class="col1">' + this.id + "</td>",
                t += '<td class="col2">' + this.yards + "</td>",
                t += '<td class="col3">' + this.par + "</td>",
                t += '<td class="col4">' + this.avg + "</td>",
                t += '<td class="col5">' + this.rank + "</td>",
                t += '<td class="col6">' + this.eagles + "</td>",
                t += '<td class="col7">' + this.birdies + "</td>",
                t += '<td class="col8">' + this.pars + "</td>",
                t += '<td class="col9">' + this.bogeys + "</td>",
                t += '<td class="col10">' + this.doublesbogeys + "</td>",
                t += "</tr>",
                n.append(t)
            }),
            this.$(".stats_data_table").table().data("table").refresh()
        },
        displayStats: function(e) {
            this.$stats_tbl.html("");
            var i = this.stats_data["round" + e];
            if ("none" === i)
                this.$stats_tbl.hide(),
                this.$stats_stub.show().html("Stats data will be available soon.");
            else {
                var n = this.stats_data["round" + e].player;
                "putts" === this.jsonData.page && (this.round_id = "round" + e,
                "round5" === this.round_id && (this.round_id = "total"),
                n.sort(this.sortPutts.bind(this))),
                this.$stats_tbl.html('<table class="six_column stats_data_table tablesaw tablesaw-swipe" data-tablesaw-mode="swipe"> <thead> <tr> <th class="col1" data-tablesaw-priority="persist">Player</th> <th class="col2 round1 disabled"><a class="sort" href="#1">Round 1</a></th> <th class="col3 round2 disabled"><a class="sort" href="#2">Round 2</a></th> <th class="col4 round3 disabled"><a class="sort" href="#3">Round 3</a></th> <th class="col5 round4 disabled"><a class="sort" href="#4">Round 4</a></th> <th class="col6 round5 disabled"><a class="sort" href="#5">Total</a></th> </tr> </thead> <tbody></tbody> </table>');
                var a = t(".stats_data_table tbody");
                t.each(n, function(e) {
                    var t = "<tr>";
                    t += "" !== this.id ? '<td class="col1"><a href="/en_US/players/player_' + this.id + '.html?promo=bio_stats">' + this.name + "</a></td>" : '<td class="col1">' + this.name + "</td>";
                    var i = this.stats[0]
                      , s = 2;
                    for (var n in i)
                        t += '<td class="col' + s + '">' + i[n] + "</td>",
                        s++;
                    t += "</tr>",
                    a.append(t)
                }),
                this.$(".stats_data_table").table().data("table").refresh();
                var r = this.getStatsMeasureText();
                this.page_load || (5 !== e ? s.measureApp("Statistics", r, "Round " + e) : s.measureApp("Statistics", r, "Total"))
            }
        },
        displayEagles: function(e) {
            if (this.$stats_tbl.html(""),
            this.stats_data.eagles.player) {
                this.$stats_tbl.show(),
                this.$stats_stub.hide();
                var i = this.stats_data.eagles.player;
                this.$stats_tbl.html('<table class="five_column stats_data_table tablesaw tablesaw-swipe" data-tablesaw-mode="swipe"> <thead> <tr> <th class="col1" data-tablesaw-priority="persist">Player</th> <th class="col2">Hole</th> <th class="col3">Par</th> <th class="col4">Score</th> <th class="col5">Round</th> </tr> </thead> <tbody></tbody></table>');
                var s = t(".stats_data_table tbody");
                t.each(i, function(e) {
                    var t = "<tr>";
                    t += "" !== this.id ? '<td class="col1"><a href="/en_US/players/player_' + this.id + '.html?promo=bio_stats">' + this.name + "</a></td>" : '<td class="col1">' + this.name + "</td>",
                    t += ' <td class="col2">' + this.hole + "</td>",
                    t += ' <td class="col3">' + this.par + "</td>",
                    t += ' <td class="col4">' + this.score + "</td>",
                    t += ' <td class="col5">' + this.round + "</td>",
                    t += "</tr>",
                    s.append(t)
                }),
                this.$(".stats_data_table").table().data("table").refresh()
            } else
                this.$stats_tbl.hide(),
                this.$stats_stub.show().html("Eagles data will be available soon.")
        },
        getStatsMeasureText: function() {
            var e = "";
            switch (this.jsonData.page) {
            case "birdies":
                e = "Birdie Leaders";
                break;
            case "gir":
                e = "Greens in Regulation";
                break;
            case "fir":
                e = "Driving Accuracy";
                break;
            case "sand":
                e = "Sand Saves";
                break;
            case "putts":
                e = "Putts";
                break;
            case "drives_avg":
                e = "Driving Distance";
                break;
            case "par3":
                e = "Par 3 - Birdie Leaders";
                break;
            case "par4":
                e = "Par 4 - Birdie Leaders";
                break;
            case "par5":
                e = "Par 5 - Birdie Leaders"
            }
            return e
        },
        sortPutts: function(e, t) {
            var i = e.stats[0][this.round_id]
              , s = t.stats[0][this.round_id]
              , n = parseFloat(i)
              , a = parseFloat(s)
              , r = i.match(/\((\d+)\)/)
              , o = s.match(/\((\d+)\)/);
            if (isNaN(n) && (n = 999),
            isNaN(a) && (a = 999),
            n === a) {
                if (r && o)
                    return parseInt(r[1], 10) - parseInt(o[1], 10);
                if (r)
                    return 1;
                if (o)
                    return -1
            }
            return n - a
        }
    });
    return h
}),
define("controllers/historic-stats", ["require", "jquery", "underscore", "backbone", "baseview", "utils/metrics", "utils/common", "utils/pubsub", "settings", "utils/scores", "tablesaw", "utils/title-selector", "views/secondary-dropdown"], function(t) {
    var i = t("jquery")
      , s = (t("underscore"),
    t("backbone"),
    t("baseview"))
      , n = t("utils/metrics")
      , a = (t("utils/common"),
    t("utils/pubsub"),
    t("settings"),
    t("utils/scores"),
    t("tablesaw"),
    t("utils/title-selector"))
      , r = (t("views/secondary-dropdown"),
    s.extend({
        stats_data: [],
        page_load: !0,
        round_id: 1,
        events: {
            "click .option_wrapper a": "attachEvents",
            "click .selected_container": "activateSelectorDropdown"
        },
        onInitialization: function() {
            s.prototype.onInitialization.apply(this, arguments),
            this.titleSelector = new a({
                el: this.$("#pageTitle"),
                max: 1,
                measure_key: ["Tournament Info", "Select Records & Stats"]
            }),
            this.$stats_tbl = this.$(".tablesaw")
        },
        processPageVars: function() {
            var e = this.jsonData.pageDetails;
            e && void 0 !== e.pageTitle && (this.pageTitle = e.pageTitle)
        },
        onRender: function() {
            s.prototype.onRender.apply(this, arguments),
            this.populateStatsSelector()
        },
        onDispose: function() {
            this.titleSelector.dispose()
        },
        populateStatsSelector: function() {
            var e = this.$(".filter")
              , t = e.find(".options a")
              , s = this.jsonData.page;
            i.each(t, function() {
                i(this).removeClass("selected"),
                s == i(this).attr("data-src") && (e.find(".selected_container a").text(i(this).text()).toggleClass("toggle"),
                i(this).addClass("selected"))
            }),
            this.$stats_tbl.table("refresh")
        },
        attachEvents: function() {
            var t = i(this);
            if (t.parent().hasClass("selected") || t.parent().hasClass("disabled"))
                return void e.preventDefault()
        },
        activateSelectorDropdown: function(e) {
            e.preventDefault();
            var t = i(e.currentTarget).parents(".filter");
            t.hasClass("open") ? (t.removeClass("open"),
            n.measureApp("Tournament Info", "Historical Records & Stats", "View", "Close")) : (t.addClass("open"),
            n.measureApp("Tournament Info", "Historical Records & Stats", "View", "Open"))
        }
    }));
    return r
}),
define("text!templates/hole-list.html!strip", [], function() {
    return "<div id='hole<%= number %>' data-type='highlight' data-size='Half' class='wrapper wrapperHalf visible'>\n\t<div class='containerVideo containerHighlight'>\n\t\t<a href='/en_US/course/hole<%= number %>.html'>\n\t\t\t<div class='image'>\n \t\t\t<img class='srcpic' data-high='<%= imageM.src %>' data-medium='<%= imageL.src %>' data-lower='<%= imageM.src %>' src='/images/now/trans_16x9.gif'>\n \t\t</div>\n \t\t<div class='caption'>\n \t\t\t<div class='infoTitle'>\n \t\t\t\t<div class='holeno'>&nbsp;</div>\n \t\t\t\t<div class='par'>Par</div>\n \t\t\t\t<div class='yards'>Yards</div>\n \t\t\t</div>\n \t\t\t<div class='infoData'>\n \t\t\t\t<div class='holeno'>Hole No. <%= number %>, <%= plant %></div>\n \t\t\t\t<div class='par'><%= par %></div>\n \t\t\t\t<div class='yards'><%= yds %></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class='centered_icon flagstick'></div>\n\t\t</a>\n\t</div>\n</div>"
}),
define("controllers/course", ["require", "underscore", "baseview", "collections/holes", "utils/ratio-resize", "text!templates/hole-list.html!strip", "unveil"], function(e) {
    var t = e("underscore")
      , i = e("baseview")
      , s = e("collections/holes")
      , n = e("utils/ratio-resize")
      , a = e("text!templates/hole-list.html!strip");
    e("unveil");
    var r = i.extend({
        template: t.template(a),
        onInitialization: function() {
            i.prototype.onInitialization.apply(this, arguments),
            this.logger = new eventsCore.util.Logger("CourseView")
        },
        onRender: function() {
            i.prototype.onRender.apply(this, arguments);
            var e = this.hero.$(".imageWrapper");
            this.resize = new n({
                view: this,
                hcallback: function(t, i) {
                    e.length > 0 && e.css({
                        width: Math.floor(i * (16 / 9)),
                        height: i
                    })
                },
                wcallback: function(t, i) {
                    e.length > 0 && "" !== e[0].style.height && e.css({
                        width: "",
                        height: ""
                    })
                }
            }),
            s.fetch({
                success: function(e) {
                    for (var t = "", i = [], s = 0; s < e.length; s++)
                        t = this.template({
                            number: e.models[s].get("number"),
                            par: e.models[s].get("par"),
                            yds: e.models[s].get("yds"),
                            plant: e.models[s].get("plant"),
                            imageM: e.models[s].get("imageM"),
                            imageL: e.models[s].get("imageL")
                        }),
                        i.push(t);
                    this.populateHoleList(i)
                }
                .bind(this)
            })
        },
        onDispose: function() {
            this.resize.dispose()
        },
        populateHoleList: function(e) {
            this.$(".courseholes").html(e),
            $course_imgs = this.$(".courseholes").find("img.srcpic"),
            this.unveil($course_imgs)
        }
    });
    return r
}),
define("utils/overlay", ["require", "jquery", "underscore", "utils/window-size", "utils/browser", "utils/metrics", "utils/common"], function(e) {
    var t = e("jquery")
      , i = (e("underscore"),
    e("utils/window-size"))
      , s = e("utils/browser")
      , n = e("utils/metrics")
      , a = e("utils/common")
      , r = Backbone.View.extend({
        el: "#light",
        events: {
            "contextmenu #overlayPhoto .image": "noOp",
            "click #overlayShare .close": "closeShare",
            "click #overlayPhoto .close a": "closePhoto",
            "click #overlayPanorama .close a": "close"
        },
        isOpen: !1,
        initialize: function() {
            this.$fade_layer = this.$("#fade").add(this.$el),
            this.$overlayPhoto = this.$("#overlayPhoto"),
            this.$overlayPhotoContent = this.$("#overlayPhotoContent"),
            this.$overlayShare = this.$("#overlayShare"),
            this.$overlayPanorama = this.$("#overlayPanorama"),
            this.$w = t(window)
        },
        toggle: function(e) {
            var t = !this.isOpen;
            void 0 === typeof e || e !== !0 && e !== !1 || (t = e),
            t ? this.$fade_layer.show() : this.$fade_layer.hide(),
            this.isOpen = t
        },
        close: function() {
            this.toggle(!1)
        },
        open: function() {
            this.toggle(!0)
        },
        availableHeight: function(e, t) {
            var i = this.$w.height()
              , n = i;
            return n -= a.header_height,
            n -= "undefined" != typeof t && s.tabletdevice ? 2 * t : 2 * e
        },
        setPanoContainerSize: function() {
            var e = 28
              , t = this.getOverlayDimensions(e, 16 / 9)
              , s = t[0]
              , n = t[1];
            i.size() === i.sizes.global && i.orientation() === i.orientation.portrait && (n = this.availableHeight(scrollGutterWidth)),
            this.$overlayPanorama.css({
                width: s + e,
                height: 100 + n
            }),
            this.$overlayPanorama.find("#overlayPanoramaContent").css({
                width: s,
                height: n
            })
        },
        getOverlayDimensions: function(e, t, i, s) {
            var n = this.$w.width()
              , a = 25;
            (void 0 === i || isNan(i)) && (i = -1),
            (void 0 === s || isNaN(s)) && (s = a);
            var r = this.availableHeight(a);
            i > 0 && i < r && (r = i);
            var o = Math.round(r * t) - a;
            return n < o + e && (o = n - e - a,
            r = Math.round(o * (1 / t))),
            [o, r]
        },
        openPhoto: function(e, t, i, s, a) {
            var r = t / i;
            if (this.getOverlayDimensions(btnWidth, r, i, 40),
            this.open(),
            this.$overlayPhotoContent.show(),
            this.$overlayPhoto.show(),
            this.$overlayPhoto.css("width", overlayWidth + "px"),
            this.$overlayPhoto.find(".image").html('<img src="' + e + '" width="' + overlayWidth + '" height="' + overlayHeight + '" border="0" alt=""/>'),
            s) {
                var o = s.split("|");
                this.$overlayPhoto.find(".caption").html(o[0]),
                this.$overlayPhoto.find(".credit").html(o[1]),
                n.trackS({
                    prop20: o[1]
                })
            }
            if (void 0 !== a) {
                var l = e.substring(e.lastIndexOf("/") + 1);
                n.trackS({
                    prop31: l
                }),
                this.measurePhoto(a, l)
            }
        },
        measurePhoto: function(e, t) {
            n.measureApp(n.page_section, e, "Photo", t)
        },
        noOp: function() {
            return !1
        },
        closePhoto: function() {
            this.$overlayPhotoContent.find(".image, .caption, .credit").html(""),
            this.$overlayPhotoContent.hide(),
            this.$overlayPhoto.hide(),
            this.close(),
            n.measureApp("Photo Overlay", "close")
        },
        openShare: function() {
            this.open(),
            this.$(".overlay_panel").hide(),
            this.$overlayShare.show().find(".socialOverlay").addClass("active")
        },
        closeShare: function() {
            this.$overlayShare.find(".socialOverlay").removeClass("active"),
            this.close()
        }
    });
    return new r
});
var Sylvester = {
    version: "0.1.3",
    precision: 1e-6
};
Vector.prototype = {
    e: function(e) {
        return e < 1 || e > this.elements.length ? null : this.elements[e - 1]
    },
    dimensions: function() {
        return this.elements.length
    },
    modulus: function() {
        return Math.sqrt(this.dot(this))
    },
    eql: function(e) {
        var t = this.elements.length
          , i = e.elements || e;
        if (t != i.length)
            return !1;
        do
            if (Math.abs(this.elements[t - 1] - i[t - 1]) > Sylvester.precision)
                return !1;
        while (--t);return !0
    },
    dup: function() {
        return Vector.create(this.elements)
    },
    map: function(e) {
        var t = [];
        return this.each(function(i, s) {
            t.push(e(i, s))
        }),
        Vector.create(t)
    },
    each: function(e) {
        var t, i = this.elements.length, s = i;
        do
            t = s - i,
            e(this.elements[t], t + 1);
        while (--i)
    },
    toUnitVector: function() {
        var e = this.modulus();
        return 0 === e ? this.dup() : this.map(function(t) {
            return t / e
        })
    },
    angleFrom: function(e) {
        var t = e.elements || e
          , i = this.elements.length;
        if (i != t.length)
            return null;
        var s = 0
          , n = 0
          , a = 0;
        if (this.each(function(e, i) {
            s += e * t[i - 1],
            n += e * e,
            a += t[i - 1] * t[i - 1]
        }),
        n = Math.sqrt(n),
        a = Math.sqrt(a),
        n * a === 0)
            return null;
        var r = s / (n * a);
        return r < -1 && (r = -1),
        r > 1 && (r = 1),
        Math.acos(r)
    },
    isParallelTo: function(e) {
        var t = this.angleFrom(e);
        return null === t ? null : t <= Sylvester.precision
    },
    isAntiparallelTo: function(e) {
        var t = this.angleFrom(e);
        return null === t ? null : Math.abs(t - Math.PI) <= Sylvester.precision
    },
    isPerpendicularTo: function(e) {
        var t = this.dot(e);
        return null === t ? null : Math.abs(t) <= Sylvester.precision
    },
    add: function(e) {
        var t = e.elements || e;
        return this.elements.length != t.length ? null : this.map(function(e, i) {
            return e + t[i - 1]
        })
    },
    subtract: function(e) {
        var t = e.elements || e;
        return this.elements.length != t.length ? null : this.map(function(e, i) {
            return e - t[i - 1]
        })
    },
    multiply: function(e) {
        return this.map(function(t) {
            return t * e
        })
    },
    x: function(e) {
        return this.multiply(e)
    },
    dot: function(e) {
        var t = e.elements || e
          , i = 0
          , s = this.elements.length;
        if (s != t.length)
            return null;
        do
            i += this.elements[s - 1] * t[s - 1];
        while (--s);return i
    },
    cross: function(e) {
        var t = e.elements || e;
        if (3 != this.elements.length || 3 != t.length)
            return null;
        var i = this.elements;
        return Vector.create([i[1] * t[2] - i[2] * t[1], i[2] * t[0] - i[0] * t[2], i[0] * t[1] - i[1] * t[0]])
    },
    max: function() {
        var e, t = 0, i = this.elements.length, s = i;
        do
            e = s - i,
            Math.abs(this.elements[e]) > Math.abs(t) && (t = this.elements[e]);
        while (--i);return t
    },
    indexOf: function(e) {
        var t, i = null, s = this.elements.length, n = s;
        do
            t = n - s,
            null === i && this.elements[t] == e && (i = t + 1);
        while (--s);return i
    },
    toDiagonalMatrix: function() {
        return Matrix.Diagonal(this.elements)
    },
    round: function() {
        return this.map(function(e) {
            return Math.round(e)
        })
    },
    snapTo: function(e) {
        return this.map(function(t) {
            return Math.abs(t - e) <= Sylvester.precision ? e : t
        })
    },
    distanceFrom: function(e) {
        if (e.anchor)
            return e.distanceFrom(this);
        var t = e.elements || e;
        if (t.length != this.elements.length)
            return null;
        var i, s = 0;
        return this.each(function(e, n) {
            i = e - t[n - 1],
            s += i * i
        }),
        Math.sqrt(s)
    },
    liesOn: function(e) {
        return e.contains(this)
    },
    liesIn: function(e) {
        return e.contains(this)
    },
    rotate: function(e, t) {
        var i, s, n, a, r;
        switch (this.elements.length) {
        case 2:
            return i = t.elements || t,
            2 != i.length ? null : (s = Matrix.Rotation(e).elements,
            n = this.elements[0] - i[0],
            a = this.elements[1] - i[1],
            Vector.create([i[0] + s[0][0] * n + s[0][1] * a, i[1] + s[1][0] * n + s[1][1] * a]));
        case 3:
            if (!t.direction)
                return null;
            var o = t.pointClosestTo(this).elements;
            return s = Matrix.Rotation(e, t.direction).elements,
            n = this.elements[0] - o[0],
            a = this.elements[1] - o[1],
            r = this.elements[2] - o[2],
            Vector.create([o[0] + s[0][0] * n + s[0][1] * a + s[0][2] * r, o[1] + s[1][0] * n + s[1][1] * a + s[1][2] * r, o[2] + s[2][0] * n + s[2][1] * a + s[2][2] * r]);
        default:
            return null
        }
    },
    reflectionIn: function(e) {
        if (e.anchor) {
            var t = this.elements.slice()
              , i = e.pointClosestTo(t).elements;
            return Vector.create([i[0] + (i[0] - t[0]), i[1] + (i[1] - t[1]), i[2] + (i[2] - (t[2] || 0))])
        }
        var s = e.elements || e;
        return this.elements.length != s.length ? null : this.map(function(e, t) {
            return s[t - 1] + (s[t - 1] - e)
        })
    },
    to3D: function() {
        var e = this.dup();
        switch (e.elements.length) {
        case 3:
            break;
        case 2:
            e.elements.push(0);
            break;
        default:
            return null
        }
        return e
    },
    inspect: function() {
        return "[" + this.elements.join(", ") + "]"
    },
    setElements: function(e) {
        return this.elements = (e.elements || e).slice(),
        this
    }
},
Vector.create = function(e) {
    var t = new Vector;
    return t.setElements(e)
}
,
Vector.createNoCopy = function(e) {
    var t = new Vector;
    return t.elements = e,
    t
}
,
Vector.i = Vector.createNoCopy([1, 0, 0]),
Vector.j = Vector.createNoCopy([0, 1, 0]),
Vector.k = Vector.createNoCopy([0, 0, 1]),
Vector.Random = function(e) {
    var t = [];
    do
        t.push(Math.random());
    while (--e);return Vector.createNoCopy(t)
}
,
Vector.Zero = function(e) {
    var t = [];
    do
        t.push(0);
    while (--e);return Vector.createNoCopy(t)
}
,
Matrix.prototype = {
    e: function(e, t) {
        return e < 1 || e > this.elements.length || t < 1 || t > this.elements[0].length ? null : this.elements[e - 1][t - 1]
    },
    row: function(e) {
        return e > this.elements.length ? null : Vector.create(this.elements[e - 1])
    },
    col: function(e) {
        if (e > this.elements[0].length)
            return null;
        var t, i = [], s = this.elements.length, n = s;
        do
            t = n - s,
            i.push(this.elements[t][e - 1]);
        while (--s);return Vector.create(i)
    },
    dimensions: function() {
        return {
            rows: this.elements.length,
            cols: this.elements[0].length
        }
    },
    rows: function() {
        return this.elements.length
    },
    cols: function() {
        return this.elements[0].length
    },
    eql: function(e) {
        var t = e.elements || e;
        if ("undefined" == typeof t[0][0] && (t = Matrix.create(t).elements),
        this.elements.length != t.length || this.elements[0].length != t[0].length)
            return !1;
        var i, s, n, a = this.elements.length, r = a, o = this.elements[0].length;
        do {
            i = r - a,
            s = o;
            do
                if (n = o - s,
                Math.abs(this.elements[i][n] - t[i][n]) > Sylvester.precision)
                    return !1;
            while (--s)
        } while (--a);return !0
    },
    dup: function() {
        return Matrix.create(this.elements)
    },
    map: function(e) {
        var t, i, s, n = [], a = this.elements.length, r = a, o = this.elements[0].length;
        do {
            t = r - a,
            i = o,
            n[t] = [];
            do
                s = o - i,
                n[t][s] = e(this.elements[t][s], t + 1, s + 1);
            while (--i)
        } while (--a);return Matrix.create(n)
    },
    isSameSizeAs: function(e) {
        var t = e.elements || e;
        return "undefined" == typeof t[0][0] && (t = Matrix.create(t).elements),
        this.elements.length == t.length && this.elements[0].length == t[0].length
    },
    add: function(e) {
        var t = e.elements || e;
        return "undefined" == typeof t[0][0] && (t = Matrix.create(t).elements),
        this.isSameSizeAs(t) ? this.map(function(e, i, s) {
            return e + t[i - 1][s - 1]
        }) : null
    },
    subtract: function(e) {
        var t = e.elements || e;
        return "undefined" == typeof t[0][0] && (t = Matrix.create(t).elements),
        this.isSameSizeAs(t) ? this.map(function(e, i, s) {
            return e - t[i - 1][s - 1]
        }) : null
    },
    canMultiplyFromLeft: function(e) {
        var t = e.elements || e;
        return "undefined" == typeof t[0][0] && (t = Matrix.create(t).elements),
        this.elements[0].length == t.length
    },
    multiply: function(e) {
        if (!e.elements)
            return this.map(function(t) {
                return t * e
            });
        var t = !!e.modulus
          , i = e.elements || e;
        if ("undefined" == typeof i[0][0] && (i = Matrix.create(i).elements),
        !this.canMultiplyFromLeft(i))
            return null;
        var s, n, a, r, o, l, h = this.elements.length, c = h, d = i[0].length, u = this.elements[0].length, p = [];
        do {
            s = c - h,
            p[s] = [],
            n = d;
            do {
                a = d - n,
                r = 0,
                o = u;
                do
                    l = u - o,
                    r += this.elements[s][l] * i[l][a];
                while (--o);p[s][a] = r
            } while (--n)
        } while (--h);var i = Matrix.create(p);
        return t ? i.col(1) : i
    },
    x: function(e) {
        return this.multiply(e)
    },
    xvec: function(e) {
        var t = e.elements;
        return Vector.createNoCopy(this.xvecarray(t))
    },
    xvecarray: function(e) {
        for (var t = e.length, i = new Array(t), s = this.elements, n = s.length, a = 0; a < n; ++a) {
            for (var r = 0, o = s[a], l = 0; l < t; ++l)
                r += o[l] * e[l];
            i[a] = r
        }
        return i
    },
    xPoint3D: function(e) {
        var t = this.elements;
        return {
            x: e.x * t[0][0] + e.y * t[0][1] + e.z * t[0][2],
            y: e.x * t[1][0] + e.y * t[1][1] + e.z * t[1][2],
            z: e.x * t[2][0] + e.y * t[2][1] + e.z * t[2][2]
        }
    },
    xPoint3Dhom1: function(e) {
        var t = this.elements;
        return {
            x: e.x * t[0][0] + e.y * t[0][1] + e.z * t[0][2] + t[0][3],
            y: e.x * t[1][0] + e.y * t[1][1] + e.z * t[1][2] + t[1][3],
            z: e.x * t[2][0] + e.y * t[2][1] + e.z * t[2][2] + t[2][3]
        }
    },
    xPoint3Dhom: function(e) {
        var t = this.elements;
        return {
            x: e.x * t[0][0] + e.y * t[0][1] + e.z * t[0][2] + t[0][3],
            y: e.x * t[1][0] + e.y * t[1][1] + e.z * t[1][2] + t[1][3],
            z: e.x * t[2][0] + e.y * t[2][1] + e.z * t[2][2] + t[2][3],
            w: e.x * t[3][0] + e.y * t[3][1] + e.z * t[3][2] + t[3][3]
        }
    },
    minor: function(e, t, i, s) {
        var n, a, r, o = [], l = i, h = this.elements.length, c = this.elements[0].length;
        do {
            n = i - l,
            o[n] = [],
            a = s;
            do
                r = s - a,
                o[n][r] = this.elements[(e + n - 1) % h][(t + r - 1) % c];
            while (--a)
        } while (--l);return Matrix.create(o)
    },
    transpose: function() {
        var e, t, i, s = this.elements.length, n = this.elements[0].length, a = [], r = n;
        do {
            e = n - r,
            a[e] = [],
            t = s;
            do
                i = s - t,
                a[e][i] = this.elements[i][e];
            while (--t)
        } while (--r);return Matrix.create(a)
    },
    isSquare: function() {
        return this.elements.length == this.elements[0].length
    },
    max: function() {
        var e, t, i, s = 0, n = this.elements.length, a = n, r = this.elements[0].length;
        do {
            e = a - n,
            t = r;
            do
                i = r - t,
                Math.abs(this.elements[e][i]) > Math.abs(s) && (s = this.elements[e][i]);
            while (--t)
        } while (--n);return s
    },
    indexOf: function(e) {
        var t, i, s, n = this.elements.length, a = n, r = this.elements[0].length;
        do {
            t = a - n,
            i = r;
            do
                if (s = r - i,
                this.elements[t][s] == e)
                    return {
                        i: t + 1,
                        j: s + 1
                    };
            while (--i)
        } while (--n);return null
    },
    diagonal: function() {
        if (!this.isSquare)
            return null;
        var e, t = [], i = this.elements.length, s = i;
        do
            e = s - i,
            t.push(this.elements[e][e]);
        while (--i);return Vector.create(t)
    },
    toRightTriangular: function() {
        var e, t, i, s, n = this.dup(), a = this.elements.length, r = a, o = this.elements[0].length;
        do {
            if (t = r - a,
            0 == n.elements[t][t])
                for (j = t + 1; j < r; j++)
                    if (0 != n.elements[j][t]) {
                        e = [],
                        i = o;
                        do
                            s = o - i,
                            e.push(n.elements[t][s] + n.elements[j][s]);
                        while (--i);n.elements[t] = e;
                        break
                    }
            if (0 != n.elements[t][t])
                for (j = t + 1; j < r; j++) {
                    var l = n.elements[j][t] / n.elements[t][t];
                    e = [],
                    i = o;
                    do
                        s = o - i,
                        e.push(s <= t ? 0 : n.elements[j][s] - n.elements[t][s] * l);
                    while (--i);n.elements[j] = e
                }
        } while (--a);return n
    },
    toUpperTriangular: function() {
        return this.toRightTriangular()
    },
    determinant: function() {
        if (!this.isSquare())
            return null;
        var e, t = this.toRightTriangular(), i = t.elements[0][0], s = t.elements.length - 1, n = s;
        do
            e = n - s + 1,
            i *= t.elements[e][e];
        while (--s);return i
    },
    det: function() {
        return this.determinant()
    },
    isSingular: function() {
        return this.isSquare() && 0 === this.determinant()
    },
    trace: function() {
        if (!this.isSquare())
            return null;
        var e, t = this.elements[0][0], i = this.elements.length - 1, s = i;
        do
            e = s - i + 1,
            t += this.elements[e][e];
        while (--i);return t
    },
    tr: function() {
        return this.trace()
    },
    rank: function() {
        var e, t, i, s = this.toRightTriangular(), n = 0, a = this.elements.length, r = a, o = this.elements[0].length;
        do {
            e = r - a,
            t = o;
            do
                if (i = o - t,
                Math.abs(s.elements[e][i]) > Sylvester.precision) {
                    n++;
                    break
                }
            while (--t)
        } while (--a);return n
    },
    rk: function() {
        return this.rank()
    },
    augment: function(e) {
        var t = e.elements || e;
        "undefined" == typeof t[0][0] && (t = Matrix.create(t).elements);
        var i, s, n, a = this.dup(), r = a.elements[0].length, o = a.elements.length, l = o, h = t[0].length;
        if (o != t.length)
            return null;
        do {
            i = l - o,
            s = h;
            do
                n = h - s,
                a.elements[i][r + n] = t[i][n];
            while (--s)
        } while (--o);return a
    },
    inverse: function() {
        if (!this.isSquare() || this.isSingular())
            return null;
        var e, t, i, s, n, a, r, o = this.elements.length, l = o, h = this.augment(Matrix.I(o)).toRightTriangular(), c = h.elements[0].length, d = [];
        do {
            e = o - 1,
            n = [],
            i = c,
            d[e] = [],
            a = h.elements[e][e];
            do
                s = c - i,
                r = h.elements[e][s] / a,
                n.push(r),
                s >= l && d[e].push(r);
            while (--i);for (h.elements[e] = n,
            t = 0; t < e; t++) {
                n = [],
                i = c;
                do
                    s = c - i,
                    n.push(h.elements[t][s] - h.elements[e][s] * h.elements[t][e]);
                while (--i);h.elements[t] = n
            }
        } while (--o);return Matrix.create(d)
    },
    inv: function() {
        return this.inverse()
    },
    round: function() {
        return this.map(function(e) {
            return Math.round(e)
        })
    },
    snapTo: function(e) {
        return this.map(function(t) {
            return Math.abs(t - e) <= Sylvester.precision ? e : t
        })
    },
    inspect: function() {
        var e, t = [], i = this.elements.length, s = i;
        do
            e = s - i,
            t.push(Vector.create(this.elements[e]).inspect());
        while (--i);return t.join("\n")
    },
    setElements: function(e) {
        var t, i = e.elements || e;
        if ("undefined" != typeof i[0][0]) {
            var s, n, a, r = i.length, o = r;
            this.elements = [];
            do {
                t = o - r,
                s = i[t].length,
                n = s,
                this.elements[t] = [];
                do
                    a = n - s,
                    this.elements[t][a] = i[t][a];
                while (--s)
            } while (--r);return this
        }
        var l = i.length
          , h = l;
        this.elements = [];
        do
            t = h - l,
            this.elements.push([i[t]]);
        while (--l);return this
    }
},
Matrix.create = function(e) {
    var t = new Matrix;
    return t.setElements(e)
}
,
Matrix.I = function(e) {
    var t, i, s, n = [], a = e;
    do {
        t = a - e,
        n[t] = [],
        i = a;
        do
            s = a - i,
            n[t][s] = t == s ? 1 : 0;
        while (--i)
    } while (--e);return Matrix.create(n)
}
,
Matrix.Diagonal = function(e) {
    var t, i = e.length, s = i, n = Matrix.I(i);
    do
        t = s - i,
        n.elements[t][t] = e[t];
    while (--i);return n
}
,
Matrix.Rotation = function(e, t) {
    if (!t)
        return Matrix.create([[Math.cos(e), -Math.sin(e)], [Math.sin(e), Math.cos(e)]]);
    var i = t.dup();
    if (3 != i.elements.length)
        return null;
    var s = i.modulus()
      , n = i.elements[0] / s
      , a = i.elements[1] / s
      , r = i.elements[2] / s
      , o = Math.sin(e)
      , l = Math.cos(e)
      , h = 1 - l;
    return Matrix.create([[h * n * n + l, h * n * a - o * r, h * n * r + o * a], [h * n * a + o * r, h * a * a + l, h * a * r - o * n], [h * n * r - o * a, h * a * r + o * n, h * r * r + l]])
}
,
Matrix.RotationX = function(e) {
    var t = Math.cos(e)
      , i = Math.sin(e);
    return Matrix.create([[1, 0, 0], [0, t, -i], [0, i, t]])
}
,
Matrix.RotationY = function(e) {
    var t = Math.cos(e)
      , i = Math.sin(e);
    return Matrix.create([[t, 0, i], [0, 1, 0], [-i, 0, t]])
}
,
Matrix.RotationZ = function(e) {
    var t = Math.cos(e)
      , i = Math.sin(e);
    return Matrix.create([[t, -i, 0], [i, t, 0], [0, 0, 1]])
}
,
Matrix.Random = function(e, t) {
    return Matrix.Zero(e, t).map(function() {
        return Math.random()
    })
}
,
Matrix.Zero = function(e, t) {
    var i, s, n, a = [], r = e;
    do {
        i = e - r,
        a[i] = [],
        s = t;
        do
            n = t - s,
            a[i][n] = 0;
        while (--s)
    } while (--r);return Matrix.create(a)
}
,
Line.prototype = {
    eql: function(e) {
        return this.isParallelTo(e) && this.contains(e.anchor)
    },
    dup: function() {
        return Line.create(this.anchor, this.direction)
    },
    translate: function(e) {
        var t = e.elements || e;
        return Line.create([this.anchor.elements[0] + t[0], this.anchor.elements[1] + t[1], this.anchor.elements[2] + (t[2] || 0)], this.direction)
    },
    isParallelTo: function(e) {
        if (e.normal)
            return e.isParallelTo(this);
        var t = this.direction.angleFrom(e.direction);
        return Math.abs(t) <= Sylvester.precision || Math.abs(t - Math.PI) <= Sylvester.precision
    },
    distanceFrom: function(e) {
        if (e.normal)
            return e.distanceFrom(this);
        if (e.direction) {
            if (this.isParallelTo(e))
                return this.distanceFrom(e.anchor);
            var t = this.direction.cross(e.direction).toUnitVector().elements
              , i = this.anchor.elements
              , s = e.anchor.elements;
            return Math.abs((i[0] - s[0]) * t[0] + (i[1] - s[1]) * t[1] + (i[2] - s[2]) * t[2])
        }
        var n = e.elements || e
          , i = this.anchor.elements
          , a = this.direction.elements
          , r = n[0] - i[0]
          , o = n[1] - i[1]
          , l = (n[2] || 0) - i[2]
          , h = Math.sqrt(r * r + o * o + l * l);
        if (0 === h)
            return 0;
        var c = (r * a[0] + o * a[1] + l * a[2]) / h
          , d = 1 - c * c;
        return Math.abs(h * Math.sqrt(d < 0 ? 0 : d))
    },
    contains: function(e) {
        var t = this.distanceFrom(e);
        return null !== t && t <= Sylvester.precision
    },
    liesIn: function(e) {
        return e.contains(this)
    },
    intersects: function(e) {
        return e.normal ? e.intersects(this) : !this.isParallelTo(e) && this.distanceFrom(e) <= Sylvester.precision
    },
    intersectionWith: function(e) {
        if (e.normal)
            return e.intersectionWith(this);
        if (!this.intersects(e))
            return null;
        var t = this.anchor.elements
          , i = this.direction.elements
          , s = e.anchor.elements
          , n = e.direction.elements
          , a = i[0]
          , r = i[1]
          , o = i[2]
          , l = n[0]
          , h = n[1]
          , c = n[2]
          , d = t[0] - s[0]
          , u = t[1] - s[1]
          , p = t[2] - s[2]
          , f = -a * d - r * u - o * p
          , g = l * d + h * u + c * p
          , m = a * a + r * r + o * o
          , v = l * l + h * h + c * c
          , b = a * l + r * h + o * c
          , y = (f * v / m + b * g) / (v - b * b);
        return Vector.create([t[0] + y * a, t[1] + y * r, t[2] + y * o])
    },
    pointClosestTo: function(e) {
        if (e.direction) {
            if (this.intersects(e))
                return this.intersectionWith(e);
            if (this.isParallelTo(e))
                return null;
            var t = this.direction.elements
              , i = e.direction.elements
              , s = t[0]
              , n = t[1]
              , a = t[2]
              , r = i[0]
              , o = i[1]
              , l = i[2]
              , h = a * r - s * l
              , c = s * o - n * r
              , d = n * l - a * o
              , u = Vector.create([h * l - c * o, c * r - d * l, d * o - h * r])
              , p = Plane.create(e.anchor, u);
            return p.intersectionWith(this)
        }
        var p = e.elements || e;
        if (this.contains(p))
            return Vector.create(p);
        var f = this.anchor.elements
          , t = this.direction.elements
          , s = t[0]
          , n = t[1]
          , a = t[2]
          , g = f[0]
          , m = f[1]
          , v = f[2]
          , h = s * (p[1] - m) - n * (p[0] - g)
          , c = n * ((p[2] || 0) - v) - a * (p[1] - m)
          , d = a * (p[0] - g) - s * ((p[2] || 0) - v)
          , b = Vector.create([n * h - a * d, a * c - s * h, s * d - n * c])
          , y = this.distanceFrom(p) / b.modulus();
        return Vector.create([p[0] + b.elements[0] * y, p[1] + b.elements[1] * y, (p[2] || 0) + b.elements[2] * y])
    },
    rotate: function(e, t) {
        "undefined" == typeof t.direction && (t = Line.create(t.to3D(), Vector.k));
        var i = Matrix.Rotation(e, t.direction).elements
          , s = t.pointClosestTo(this.anchor).elements
          , n = this.anchor.elements
          , a = this.direction.elements
          , r = s[0]
          , o = s[1]
          , l = s[2]
          , h = n[0]
          , c = n[1]
          , d = n[2]
          , u = h - r
          , p = c - o
          , f = d - l;
        return Line.create([r + i[0][0] * u + i[0][1] * p + i[0][2] * f, o + i[1][0] * u + i[1][1] * p + i[1][2] * f, l + i[2][0] * u + i[2][1] * p + i[2][2] * f], [i[0][0] * a[0] + i[0][1] * a[1] + i[0][2] * a[2], i[1][0] * a[0] + i[1][1] * a[1] + i[1][2] * a[2], i[2][0] * a[0] + i[2][1] * a[1] + i[2][2] * a[2]])
    },
    reflectionIn: function(e) {
        if (e.normal) {
            var t = this.anchor.elements
              , i = this.direction.elements
              , s = t[0]
              , n = t[1]
              , a = t[2]
              , r = i[0]
              , o = i[1]
              , l = i[2]
              , h = this.anchor.reflectionIn(e).elements
              , c = s + r
              , d = n + o
              , u = a + l
              , p = e.pointClosestTo([c, d, u]).elements
              , f = [p[0] + (p[0] - c) - h[0], p[1] + (p[1] - d) - h[1], p[2] + (p[2] - u) - h[2]];
            return Line.create(h, f)
        }
        if (e.direction)
            return this.rotate(Math.PI, e);
        var g = e.elements || e;
        return Line.create(this.anchor.reflectionIn([g[0], g[1], g[2] || 0]), this.direction)
    },
    setVectors: function(e, t) {
        if (e = Vector.create(e),
        t = Vector.create(t),
        2 == e.elements.length && e.elements.push(0),
        2 == t.elements.length && t.elements.push(0),
        e.elements.length > 3 || t.elements.length > 3)
            return null;
        var i = t.modulus();
        return 0 === i ? null : (this.anchor = e,
        this.direction = Vector.create([t.elements[0] / i, t.elements[1] / i, t.elements[2] / i]),
        this)
    }
},
Line.create = function(e, t) {
    var i = new Line;
    return i.setVectors(e, t)
}
,
Line.X = Line.create(Vector.Zero(3), Vector.i),
Line.Y = Line.create(Vector.Zero(3), Vector.j),
Line.Z = Line.create(Vector.Zero(3), Vector.k),
Plane.prototype = {
    eql: function(e) {
        return this.contains(e.anchor) && this.isParallelTo(e)
    },
    dup: function() {
        return Plane.create(this.anchor, this.normal)
    },
    translate: function(e) {
        var t = e.elements || e;
        return Plane.create([this.anchor.elements[0] + t[0], this.anchor.elements[1] + t[1], this.anchor.elements[2] + (t[2] || 0)], this.normal)
    },
    isParallelTo: function(e) {
        var t;
        return e.normal ? (t = this.normal.angleFrom(e.normal),
        Math.abs(t) <= Sylvester.precision || Math.abs(Math.PI - t) <= Sylvester.precision) : e.direction ? this.normal.isPerpendicularTo(e.direction) : null
    },
    isPerpendicularTo: function(e) {
        var t = this.normal.angleFrom(e.normal);
        return Math.abs(Math.PI / 2 - t) <= Sylvester.precision
    },
    distanceFrom: function(e) {
        if (this.intersects(e) || this.contains(e))
            return 0;
        if (e.anchor) {
            var t = this.anchor.elements
              , i = e.anchor.elements
              , s = this.normal.elements;
            return Math.abs((t[0] - i[0]) * s[0] + (t[1] - i[1]) * s[1] + (t[2] - i[2]) * s[2])
        }
        var n = e.elements || e
          , t = this.anchor.elements
          , s = this.normal.elements;
        return Math.abs((t[0] - n[0]) * s[0] + (t[1] - n[1]) * s[1] + (t[2] - (n[2] || 0)) * s[2])
    },
    contains: function(e) {
        if (e.normal)
            return null;
        if (e.direction)
            return this.contains(e.anchor) && this.contains(e.anchor.add(e.direction));
        var t = e.elements || e
          , i = this.anchor.elements
          , s = this.normal.elements
          , n = Math.abs(s[0] * (i[0] - t[0]) + s[1] * (i[1] - t[1]) + s[2] * (i[2] - (t[2] || 0)));
        return n <= Sylvester.precision
    },
    intersects: function(e) {
        return "undefined" == typeof e.direction && "undefined" == typeof e.normal ? null : !this.isParallelTo(e)
    },
    intersectionWith: function(e) {
        if (!this.intersects(e))
            return null;
        if (e.direction) {
            var t = e.anchor.elements
              , i = e.direction.elements
              , s = this.anchor.elements
              , n = this.normal.elements
              , a = (n[0] * (s[0] - t[0]) + n[1] * (s[1] - t[1]) + n[2] * (s[2] - t[2])) / (n[0] * i[0] + n[1] * i[1] + n[2] * i[2]);
            return Vector.create([t[0] + i[0] * a, t[1] + i[1] * a, t[2] + i[2] * a])
        }
        if (e.normal) {
            for (var r = this.normal.cross(e.normal).toUnitVector(), n = this.normal.elements, t = this.anchor.elements, o = e.normal.elements, l = e.anchor.elements, h = Matrix.Zero(2, 2), c = 0; h.isSingular(); )
                c++,
                h = Matrix.create([[n[c % 3], n[(c + 1) % 3]], [o[c % 3], o[(c + 1) % 3]]]);
            for (var d = h.inverse().elements, u = n[0] * t[0] + n[1] * t[1] + n[2] * t[2], p = o[0] * l[0] + o[1] * l[1] + o[2] * l[2], f = [d[0][0] * u + d[0][1] * p, d[1][0] * u + d[1][1] * p], g = [], m = 1; m <= 3; m++)
                g.push(c == m ? 0 : f[(m + (5 - c) % 3) % 3]);
            return Line.create(g, r)
        }
    },
    pointClosestTo: function(e) {
        var t = e.elements || e
          , i = this.anchor.elements
          , s = this.normal.elements
          , n = (i[0] - t[0]) * s[0] + (i[1] - t[1]) * s[1] + (i[2] - (t[2] || 0)) * s[2];
        return Vector.create([t[0] + s[0] * n, t[1] + s[1] * n, (t[2] || 0) + s[2] * n])
    },
    rotate: function(e, t) {
        var i = Matrix.Rotation(e, t.direction).elements
          , s = t.pointClosestTo(this.anchor).elements
          , n = this.anchor.elements
          , a = this.normal.elements
          , r = s[0]
          , o = s[1]
          , l = s[2]
          , h = n[0]
          , c = n[1]
          , d = n[2]
          , u = h - r
          , p = c - o
          , f = d - l;
        return Plane.create([r + i[0][0] * u + i[0][1] * p + i[0][2] * f, o + i[1][0] * u + i[1][1] * p + i[1][2] * f, l + i[2][0] * u + i[2][1] * p + i[2][2] * f], [i[0][0] * a[0] + i[0][1] * a[1] + i[0][2] * a[2], i[1][0] * a[0] + i[1][1] * a[1] + i[1][2] * a[2], i[2][0] * a[0] + i[2][1] * a[1] + i[2][2] * a[2]])
    },
    reflectionIn: function(e) {
        if (e.normal) {
            var t = this.anchor.elements
              , i = this.normal.elements
              , s = t[0]
              , n = t[1]
              , a = t[2]
              , r = i[0]
              , o = i[1]
              , l = i[2]
              , h = this.anchor.reflectionIn(e).elements
              , c = s + r
              , d = n + o
              , u = a + l
              , p = e.pointClosestTo([c, d, u]).elements
              , f = [p[0] + (p[0] - c) - h[0], p[1] + (p[1] - d) - h[1], p[2] + (p[2] - u) - h[2]];
            return Plane.create(h, f)
        }
        if (e.direction)
            return this.rotate(Math.PI, e);
        var g = e.elements || e;
        return Plane.create(this.anchor.reflectionIn([g[0], g[1], g[2] || 0]), this.normal)
    },
    setVectors: function(e, t, i) {
        if (e = Vector.create(e),
        e = e.to3D(),
        null === e)
            return null;
        if (t = Vector.create(t),
        t = t.to3D(),
        null === t)
            return null;
        if ("undefined" == typeof i)
            i = null;
        else if (i = Vector.create(i),
        i = i.to3D(),
        null === i)
            return null;
        var s, n, a = e.elements[0], r = e.elements[1], o = e.elements[2], l = t.elements[0], h = t.elements[1], c = t.elements[2];
        if (null !== i) {
            var d = i.elements[0]
              , u = i.elements[1]
              , p = i.elements[2];
            if (s = Vector.create([(h - r) * (p - o) - (c - o) * (u - r), (c - o) * (d - a) - (l - a) * (p - o), (l - a) * (u - r) - (h - r) * (d - a)]),
            n = s.modulus(),
            0 === n)
                return null;
            s = Vector.create([s.elements[0] / n, s.elements[1] / n, s.elements[2] / n])
        } else {
            if (n = Math.sqrt(l * l + h * h + c * c),
            0 === n)
                return null;
            s = Vector.create([t.elements[0] / n, t.elements[1] / n, t.elements[2] / n])
        }
        return this.anchor = e,
        this.normal = s,
        this
    }
},
Plane.create = function(e, t, i) {
    var s = new Plane;
    return s.setVectors(e, t, i)
}
,
Plane.XY = Plane.create(Vector.Zero(3), Vector.k),
Plane.YZ = Plane.create(Vector.Zero(3), Vector.i),
Plane.ZX = Plane.create(Vector.Zero(3), Vector.j),
Plane.YX = Plane.XY,
Plane.ZY = Plane.YZ,
Plane.XZ = Plane.ZX;
var $V = Vector.create
  , $M = Matrix.create
  , $L = Line.create
  , $P = Plane.create;
define("sylvester", function() {}),
Matrix.Translation = function(e) {
    if (2 == e.elements.length) {
        var t = Matrix.I(3);
        return t.elements[2][0] = e.elements[0],
        t.elements[2][1] = e.elements[1],
        t
    }
    if (3 == e.elements.length) {
        var t = Matrix.I(4);
        return t.elements[0][3] = e.elements[0],
        t.elements[1][3] = e.elements[1],
        t.elements[2][3] = e.elements[2],
        t
    }
    throw "Invalid length for Translation"
}
,
Matrix.prototype.flatten = function() {
    var e = [];
    if (0 == this.elements.length)
        return [];
    for (var t = 0; t < this.elements[0].length; t++)
        for (var i = 0; i < this.elements.length; i++)
            e.push(this.elements[i][t]);
    return e
}
,
Matrix.prototype.ensure4x4 = function() {
    if (4 == this.elements.length && 4 == this.elements[0].length)
        return this;
    if (this.elements.length > 4 || this.elements[0].length > 4)
        return null;
    for (var e = 0; e < this.elements.length; e++)
        for (var t = this.elements[e].length; t < 4; t++)
            e == t ? this.elements[e].push(1) : this.elements[e].push(0);
    for (var e = this.elements.length; e < 4; e++)
        0 == e ? this.elements.push([1, 0, 0, 0]) : 1 == e ? this.elements.push([0, 1, 0, 0]) : 2 == e ? this.elements.push([0, 0, 1, 0]) : 3 == e && this.elements.push([0, 0, 0, 1]);
    return this
}
,
Matrix.prototype.make3x3 = function() {
    return 4 != this.elements.length || 4 != this.elements[0].length ? null : Matrix.create([[this.elements[0][0], this.elements[0][1], this.elements[0][2]], [this.elements[1][0], this.elements[1][1], this.elements[1][2]], [this.elements[2][0], this.elements[2][1], this.elements[2][2]]])
}
,
Vector.prototype.flatten = function() {
    return this.elements
}
,
define("glutils", ["sylvester"], function() {}),
self.bigshot || (bigshot = {},
bigshot.Object = {
    extend: function(e, t) {
        for (var i in t.prototype)
            e.prototype[i] ? e.prototype[i]._super = t.prototype[i] : e.prototype[i] = t.prototype[i]
    },
    resolve: function(e) {
        for (var t = e.split("."), i = self, s = 0; s < t.length; ++s)
            i = i[t[s]];
        return i
    },
    validate: function() {},
    alertr: function(e) {
        var t = "";
        for (var i in e)
            t += i + ":" + e[i] + "\n";
        alert(t)
    },
    logr: function(e) {
        var t = "";
        for (var i in e)
            t += i + ":" + e[i] + "\n";
        console && console.log(t)
    }
},
bigshot.Browser = function() {
    this.requestAnimationFrameFunction = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function(e) {
        return setTimeout(e, 0)
    }
}
,
bigshot.Browser.prototype = {
    removeAllChildren: function(e) {
        e.innerHTML = ""
    },
    mouseEnter: function(e) {
        var t = this.isAChildOf;
        return function(i) {
            var s = i.relatedTarget;
            this === s || t(this, s) || e.call(this, i)
        }
    },
    isAChildOf: function(e, t) {
        if (e === t)
            return !1;
        for (; t && t !== e; )
            t = t.parentNode;
        return t === e
    },
    unregisterListener: function(e, t, i, s) {
        "undefined" != typeof e.removeEventListener ? e.removeEventListener(t, i, s) : "undefined" != typeof e.detachEvent && e.detachEvent("on" + t, i)
    },
    registerListener: function(e, t, i, s) {
        "undefined" != typeof e.addEventListener ? "mouseenter" === t ? e.addEventListener("mouseover", this.mouseEnter(i), s) : "mouseleave" === t ? e.addEventListener("mouseout", this.mouseEnter(i), s) : e.addEventListener(t, i, s) : "undefined" != typeof e.attachEvent ? e.attachEvent("on" + t, i) : e["on" + t] = i
    },
    stopEventBubbling: function(e) {
        e && (e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0)
    },
    stopEventBubblingHandler: function() {
        var e = this;
        return function(t) {
            return e.stopEventBubbling(t),
            !1
        }
    },
    stopMouseEventBubbling: function(e) {
        this.registerListener(e, "mousedown", this.stopEventBubblingHandler(), !1),
        this.registerListener(e, "mouseup", this.stopEventBubblingHandler(), !1),
        this.registerListener(e, "mousemove", this.stopEventBubblingHandler(), !1)
    },
    getElementSize: function(e) {
        var t = {};
        return e.clientWidth && (t.w = e.clientWidth),
        e.clientHeight && (t.h = e.clientHeight),
        t
    },
    browserIsViewporting: function() {
        return !(window.innerWidth <= screen.width)
    },
    getDevicePixelScale: function() {
        return this.browserIsViewporting() ? screen.width / window.innerWidth : 1
    },
    requestAnimationFrame: function(e, t) {
        var i = this.requestAnimationFrameFunction;
        i(e, t)
    },
    getElementPosition: function(e) {
        var t = new Object;
        t.x = 0,
        t.y = 0;
        for (var i = e; i; )
            t.x += i.offsetLeft,
            t.y += i.offsetTop,
            i.clientLeft && (t.x += i.clientLeft),
            i.clientTop && (t.y += i.clientTop),
            i.x && (t.x += i.x),
            i.y && (t.y += i.y),
            i = i.offsetParent;
        return t
    },
    createXMLHttpRequest: function() {
        try {
            return new ActiveXObject("Msxml2.XMLHTTP")
        } catch (e) {}
        try {
            return new ActiveXObject("Microsoft.XMLHTTP")
        } catch (e) {}
        try {
            return new XMLHttpRequest
        } catch (e) {}
        return alert("XMLHttpRequest not supported"),
        null
    },
    makeOpacityTransition: function(e, t) {
        void 0 != e.style.WebkitTransitionProperty ? (e.style.opacity = 1,
        e.style.WebkitTransitionProperty = "opacity",
        e.style.WebkitTransitionTimingFunction = "linear",
        e.style.WebkitTransitionDuration = "1s",
        setTimeout(function() {
            e.addEventListener("webkitTransitionEnd", function() {
                t()
            }),
            e.style.opacity = 0
        }, 0)) : (e.style.opacity = 0,
        t())
    }
},
bigshot.EventDispatcher = function() {
    this.eventListeners = {}
}
,
bigshot.EventDispatcher.prototype = {
    addEventListener: function(e, t) {
        void 0 == this.eventListeners[e] && (this.eventListeners[e] = new Array),
        this.eventListeners[e].push(t)
    },
    removeEventListener: function(e) {
        if (void 0 != this.eventListeners[e])
            for (var t = this.eventListeners[e], i = 0; i < t.length; ++i)
                if (t[i] === listener) {
                    t.splice(i, 1),
                    0 == t.length && delete this.eventListeners[e];
                    break
                }
    },
    fireEvent: function(e, t) {
        if (void 0 != this.eventListeners[e])
            for (var i = this.eventListeners[e], s = 0; s < i.length; ++s)
                i[s](t)
    }
},
bigshot.Event = function(e) {
    this.bubbles = !1,
    this.cancelable = !1,
    this.currentTarget = null,
    this.defaultPrevented = !1,
    this.target = null,
    this.timeStamp = (new Date).getTime(),
    this.type = null,
    this.isTrusted = !1;
    for (var t in e)
        this[t] = e[t]
}
,
bigshot.Event.prototype = {
    preventDefault: function() {
        this.defaultPrevented = !0
    }
},
bigshot.TimedWeakReference = function(e, t, i) {
    this.object = null,
    this.hasObject = !1,
    this.fnCreate = e,
    this.fnDispose = t,
    this.lastAccess = (new Date).getTime(),
    this.hasTimer = !1,
    this.interval = i
}
,
bigshot.TimedWeakReference.prototype = {
    dispose: function() {
        this.clear()
    },
    get: function() {
        return this.hasObject || (this.hasObject = !0,
        this.object = this.fnCreate(),
        this.startTimer()),
        this.lastAccess = (new Date).getTime(),
        this.object
    },
    clear: function() {
        this.hasObject && (this.hasObject = !1,
        this.fnDispose(this.object),
        this.object = null,
        this.stopTimer())
    },
    stopTimer: function() {
        this.hasTimer && (clearTimeout(this.timerId),
        this.hasTimer = !1)
    },
    startTimer: function() {
        if (!this.hasTimer) {
            var e = this;
            this.hasTimer = !0,
            this.timerId = setTimeout(function() {
                e.hasTimer = !1,
                e.update()
            }, this.interval)
        }
    },
    update: function() {
        if (this.hasObject) {
            var e = (new Date).getTime();
            e - this.lastAccess > this.interval ? this.clear() : this.startTimer()
        }
    }
},
bigshot.ImageEvent = function(e) {
    bigshot.Event.call(this, e)
}
,
bigshot.ImageEvent.prototype = {},
bigshot.Object.extend(bigshot.ImageEvent, bigshot.Event),
bigshot.VREvent = function(e) {
    bigshot.Event.call(this, e)
}
,
bigshot.VREvent.prototype = {},
bigshot.Object.extend(bigshot.VREvent, bigshot.Event),
bigshot.FullScreen = function(e) {
    this.container = e,
    this.isFullScreen = !1,
    this.savedBodyStyle = null,
    this.savedParent = null,
    this.savedSize = null,
    this.expanderDiv = null,
    this.restoreSize = !1,
    this.onCloseHandlers = new Array,
    this.onResizeHandlers = new Array;
    var t = function(e, t) {
        for (var i = 0; i < t.length; ++i)
            if (e[t[i]])
                return t[i];
        return null
    };
    this.requestFullScreen = t(e, ["requestFullScreen", "mozRequestFullScreen", "webkitRequestFullScreen", "msRequestFullscreen"]),
    this.cancelFullScreen = t(document, ["cancelFullScreen", "mozCancelFullScreen", "webkitCancelFullScreen", "msExitFullscreen"]),
    this.errorEvent = "fullscreenerror",
    this.changeEvent = "fullscreenchange";
    var i = this.requestFullScreen.substring(0, this.requestFullScreen.indexOf("Request"));
    "" !== i && (this.errorEvent = i + this.errorEvent,
    this.changeEvent = i + this.changeEvent,
    "ms" === i && (this.errorEvent = "MSFullscreenError",
    this.changeEvent = "MSFullscreenChange")),
    this.restoreSize = null != this.requestFullScreen
}
,
bigshot.FullScreen.prototype = {
    browser: new bigshot.Browser,
    getRootElement: function() {
        return this.div
    },
    addOnClose: function(e) {
        this.onCloseHandlers.push(e)
    },
    onClose: function() {
        for (var e = 0; e < this.onCloseHandlers.length; ++e)
            this.onCloseHandlers[e]()
    },
    addOnResize: function(e) {
        this.onResizeHandlers.push(e)
    },
    onResize: function() {
        for (var e = 0; e < this.onResizeHandlers.length; ++e)
            this.onResizeHandlers[e]()
    },
    open: function() {
        return this.isFullScreen = !0,
        this.requestFullScreen ? this.openRequestFullScreen() : this.openCompat()
    },
    openRequestFullScreen: function() {
        this.savedSize = {
            width: this.container.style.width,
            height: this.container.style.height
        },
        this.container.style.width = "100%",
        this.container.style.height = "100%";
        var e = this
          , t = function() {
            e.container.removeEventListener(e.errorEvent, t),
            e.isFullScreen = !1,
            e.exitFullScreenHandler(),
            e.onClose()
        };
        this.container.addEventListener(this.errorEvent, t);
        var i = function() {
            e.fullscreenElement = document.fullscreenElement || document.mozFullScreenElement || document.webkitCurrentFullScreenElement || document.msFullscreenElement,
            e.fullscreenElement !== e.container ? (document.removeEventListener(e.changeEvent, i),
            e.container.removeEventListener(e.changeEvent, i),
            e.exitFullScreenHandler()) : e.onResize()
        };
        document.addEventListener(this.changeEvent, i),
        this.container.addEventListener(this.changeEvent, i),
        this.exitFullScreenHandler = function() {
            e.isFullScreen && (e.isFullScreen = !1,
            document[e.cancelFullScreen](),
            e.restoreSize && (e.container.style.width = e.savedSize.width,
            e.container.style.height = e.savedSize.height),
            e.onResize(),
            e.onClose())
        }
        ,
        this.container[this.requestFullScreen]()
    },
    openCompat: function() {
        this.savedParent = this.container.parentNode,
        this.savedSize = {
            width: this.container.style.width,
            height: this.container.style.height
        },
        this.savedBodyStyle = document.body.style.cssText,
        document.body.style.overflow = "hidden",
        this.expanderDiv = document.createElement("div"),
        this.expanderDiv.style.position = "absolute",
        this.expanderDiv.style.top = "0px",
        this.expanderDiv.style.left = "0px",
        this.expanderDiv.style.width = Math.max(window.innerWidth, document.documentElement.clientWidth) + "px",
        this.expanderDiv.style.height = Math.max(window.innerHeight, document.documentElement.clientHeight) + "px",
        document.body.appendChild(this.expanderDiv),
        this.div = document.createElement("div"),
        this.div.style.position = "fixed",
        this.div.style.top = window.pageYOffset + "px",
        this.div.style.left = window.pageXOffset + "px",
        this.div.style.width = window.innerWidth + "px",
        this.div.style.height = window.innerHeight + "px",
        this.div.style.zIndex = 9998,
        this.div.appendChild(this.container),
        document.body.appendChild(this.div);
        var e = this
          , t = function() {
            setTimeout(function() {
                e.div.style.width = window.innerWidth + "px",
                e.div.style.height = window.innerHeight + "px",
                setTimeout(function() {
                    e.onResize()
                }, 1)
            }, 1)
        }
          , i = function() {
            e.expanderDiv.style.width = Math.max(window.innerWidth, document.documentElement.clientWidth) + "px",
            e.expanderDiv.style.height = Math.max(window.innerHeight, document.documentElement.clientHeight) + "px",
            setTimeout(function() {
                e.div.style.top = window.pageYOffset + "px",
                e.div.style.left = window.pageXOffset + "px",
                e.div.style.width = window.innerWidth + "px",
                e.div.style.height = window.innerHeight + "px",
                setTimeout(function() {
                    e.onResize()
                }, 1)
            }, 1)
        }
          , s = function(t) {
            27 == t.keyCode && e.exitFullScreenHandler()
        };
        return this.exitFullScreenHandler = function() {
            e.isFullScreen = !1,
            e.browser.unregisterListener(document, "keydown", s),
            e.browser.unregisterListener(window, "resize", t),
            e.browser.unregisterListener(document.body, "orientationchange", i),
            e.restoreSize && (e.container.style.width = e.savedSize.width,
            e.container.style.height = e.savedSize.height),
            document.body.style.cssText = e.savedBodyStyle,
            e.savedParent.appendChild(e.container),
            document.body.removeChild(e.div),
            document.body.removeChild(e.expanderDiv),
            e.onResize(),
            e.onClose(),
            setTimeout(function() {
                e.onResize()
            }, 1)
        }
        ,
        this.browser.registerListener(document, "keydown", s, !1),
        this.browser.registerListener(window, "resize", t, !1),
        this.browser.registerListener(document.body, "orientationchange", i, !1),
        this.onResize(),
        this.exitFullScreenHandler
    },
    close: function() {
        this.exitFullScreenHandler()
    }
},
bigshot.DataLoader = function() {}
,
bigshot.DataLoader.prototype = {
    loadImage: function() {},
    loadXml: function() {}
},
bigshot.DefaultDataLoader = function(e, t) {
    this.maxRetries = e,
    this.crossOrigin = t,
    this.maxRetries || (this.maxRetries = 0)
}
,
bigshot.DefaultDataLoader.prototype = {
    browser: new bigshot.Browser,
    loadImage: function(e, t) {
        var i = document.createElement("img");
        i.retries = 0,
        null != this.crossOrigin && (i.crossOrigin = this.crossOrigin);
        var s = this;
        return this.browser.registerListener(i, "load", function() {
            t && t(i)
        }, !1),
        this.browser.registerListener(i, "error", function() {
            i.retries++,
            i.retries <= s.maxRetries ? setTimeout(function() {
                i.src = e
            }, 1e3 * i.retries) : t && t(null)
        }, !1),
        i.src = e,
        i
    },
    loadXml: function(e, t, i) {
        for (var s = 0; s <= this.maxRetries; ++s) {
            var n = this.browser.createXMLHttpRequest();
            if (n.open("GET", e, !1),
            n.send(null),
            200 == n.status) {
                var a = n.responseXML;
                if (null != a)
                    return i && i(a),
                    a
            }
            if (s == that.maxRetries)
                return i && i(null),
                null
        }
    }
},
bigshot.Object.validate("bigshot.DefaultDataLoader", bigshot.DataLoader),
bigshot.CachingDataLoader = function() {
    this.cache = {},
    this.requested = {},
    this.requestedTiles = {}
}
,
bigshot.CachingDataLoader.prototype = {
    browser: new bigshot.Browser,
    loadImage: function(e, t) {
        if (this.cache[e])
            return t && t(this.cache[e]),
            this.cache[e];
        if (this.requested[e])
            return t && this.requested[e].push(t),
            this.requestedTiles[e];
        var i = this;
        this.requested[e] = new Array,
        t && this.requested[e].push(t);
        var s = document.createElement("img");
        return this.requestedTiles[e] = s,
        this.browser.registerListener(s, "load", function() {
            var t = i.requested[e];
            delete i.requested[e],
            delete i.requestedTiles[e],
            i.cache[e] = s;
            for (var n = 0; n < t.length; ++n)
                t[n](s)
        }, !1),
        s.src = e,
        s
    },
    loadXml: function(e, t, i) {
        if (this.cache[e])
            return i && i(this.cache[e]),
            this.cache[e];
        if (this.requested[e] && t)
            i && this.requested[e].push(i);
        else {
            var s = this.browser.createXMLHttpRequest();
            this.requested[e] || (this.requested[e] = new Array),
            t && i && this.requested[e].push(i);
            var n = this
              , a = function() {
                if (n.requested[e]) {
                    var t = null;
                    200 == s.status && (t = s.responseXML);
                    var i = n.requested[e];
                    delete n.requested[e],
                    n.cache[e] = t;
                    for (var a = 0; a < i.length; ++a)
                        i[a](t)
                }
                return t
            };
            if (!t)
                return s.open("GET", e, !1),
                s.send(),
                a();
            s.onreadystatechange = function() {
                4 == s.readyState && a()
            }
            ,
            s.open("GET", e, !0),
            s.send()
        }
    }
},
bigshot.Object.validate("bigshot.CachingDataLoader", bigshot.DataLoader),
bigshot.Hotspot = function(e, t, i, s) {
    var n = document.createElement("div");
    n.style.position = "absolute",
    n.style.overflow = "visible",
    this.element = n,
    this.x = e,
    this.y = t,
    this.w = i,
    this.h = s
}
,
bigshot.Hotspot.prototype = {
    browser: new bigshot.Browser,
    layout: function(e, t, i) {
        var s = this.x * i + e
          , n = this.y * i + t
          , a = this.w * i
          , r = this.h * i;
        this.element.style.top = n + "px",
        this.element.style.left = s + "px",
        this.element.style.width = a + "px",
        this.element.style.height = r + "px"
    },
    getElement: function() {
        return this.element
    }
},
bigshot.PointHotspot = function(e, t, i, s, n, a, r) {
    if (bigshot.Hotspot.call(this, e, t, i, s),
    this.xo = n,
    this.yo = a,
    r) {
        var o = this.getElement();
        o.style.backgroundImage = "url('" + r + "')",
        o.style.backgroundRepeat = "no-repeat"
    }
}
,
bigshot.PointHotspot.prototype = {
    getLabel: function() {
        return this.label
    },
    layout: function(e, t, i) {
        var s = this.x * i + e + this.xo
          , n = this.y * i + t + this.yo;
        this.element.style.top = n + "px",
        this.element.style.left = s + "px",
        this.element.style.width = this.w + "px",
        this.element.style.height = this.h + "px"
    }
},
bigshot.Object.extend(bigshot.PointHotspot, bigshot.Hotspot),
bigshot.Layer = function() {}
,
bigshot.Layer.prototype = {
    getContainer: function() {},
    setMaxTiles: function() {},
    resize: function() {},
    layout: function() {}
},
bigshot.LabeledHotspot = function(e, t, i, s, n) {
    bigshot.Hotspot.call(this, e, t, i, s),
    this.label = document.createElement("div"),
    this.label.style.position = "relative",
    this.label.style.display = "inline-block",
    this.getElement().appendChild(this.label),
    this.label.innerHTML = n,
    this.labelSize = this.browser.getElementSize(this.label)
}
,
bigshot.LabeledHotspot.prototype = {
    getLabel: function() {
        return this.label
    },
    layout: function(e, t, i) {
        this.layout._super.call(this, e, t, i);
        var s = this.w * i
          , n = this.h * i;
        this.label.style.top = n + 4 + "px",
        this.label.style.left = (s - this.labelSize.w) / 2 + "px"
    }
},
bigshot.Object.extend(bigshot.LabeledHotspot, bigshot.Hotspot),
bigshot.LinkHotspot = function(e, t, i, s, n, a) {
    bigshot.LabeledHotspot.call(this, e, t, i, s, n),
    this.browser.registerListener(this.getElement(), "click", function() {
        document.location.href = a
    })
}
,
bigshot.Object.extend(bigshot.LinkHotspot, bigshot.LabeledHotspot),
bigshot.HotspotLayer = function(e) {
    this.image = e,
    this.hotspots = new Array,
    this.browser = new bigshot.Browser,
    this.container = e.createLayerContainer(),
    this.parentContainer = e.getContainer(),
    this.resize(0, 0)
}
,
bigshot.HotspotLayer.prototype = {
    getContainer: function() {
        return this.container
    },
    resize: function() {
        this.container.style.width = this.parentContainer.clientWidth + "px",
        this.container.style.height = this.parentContainer.clientHeight + "px"
    },
    layout: function(e, t, i, s, n, a, r) {
        var o = Math.pow(2, this.image.getZoom());
        t -= r * s,
        i -= r * n;
        for (var l = 0; l < this.hotspots.length; ++l)
            this.hotspots[l].layout(t, i, o)
    },
    setMaxTiles: function() {},
    addHotspot: function(e) {
        this.container.appendChild(e.getElement()),
        this.hotspots.push(e)
    }
},
bigshot.Object.validate("bigshot.HotspotLayer", bigshot.Layer),
bigshot.TileLayer = function(e, t, i, s, n) {
    return this.rows = new Array,
    this.browser = new bigshot.Browser,
    this.container = e.createLayerContainer(),
    this.parentContainer = e.getContainer(),
    this.parameters = t,
    this.w = i,
    this.h = s,
    this.imageTileCache = n,
    this.resize(i, s),
    this
}
,
bigshot.TileLayer.prototype = {
    getContainer: function() {
        return this.container
    },
    resize: function(e, t) {
        this.container.style.width = this.parentContainer.clientWidth + "px",
        this.container.style.height = this.parentContainer.clientHeight + "px",
        this.pixelWidth = this.parentContainer.clientWidth,
        this.pixelHeight = this.parentContainer.clientHeight,
        this.w = e,
        this.h = t,
        this.rows = new Array,
        this.browser.removeAllChildren(this.container);
        for (var i = 0; t > i; ++i) {
            for (var s = new Array, n = 0; e > n; ++n) {
                var a = document.createElement("div");
                a.style.position = "absolute",
                a.style.overflow = "hidden",
                a.style.width = this.container.clientWidth + "px",
                a.style.height = this.container.clientHeight + "px";
                var r = document.createElement("div");
                r.style.position = "relative",
                r.style.border = "hidden",
                r.style.visibility = "hidden",
                r.bigshotData = {
                    visible: !1
                },
                s.push(r),
                this.container.appendChild(a),
                a.appendChild(r)
            }
            this.rows.push(s)
        }
    },
    layout: function(e, t, i, s, n, a, r, o) {
        e = Math.min(0, Math.ceil(e)),
        this.imageTileCache.resetUsed();
        for (var l = i, h = 0, c = 0; c < this.h; ++c) {
            for (var d = t, u = 0; u < this.w; ++u) {
                var p = this.rows[c][u]
                  , f = p.bigshotData;
                if (0 > d + a || d > this.pixelWidth || 0 > l + a || l > this.pixelHeight)
                    f.visible && (f.visible = !1,
                    p.style.visibility = "hidden");
                else {
                    h++,
                    p.style.left = d + "px",
                    p.style.top = l + "px",
                    p.style.width = a + "px",
                    p.style.height = a + "px",
                    p.style.opacity = o,
                    f.visible || (f.visible = !0,
                    p.style.visibility = "visible");
                    var g = u + s
                      , m = c + n;
                    this.parameters.wrapX && (0 > g || g >= this.imageTileCache.maxTileX) && (g = (g + this.imageTileCache.maxTileX) % this.imageTileCache.maxTileX),
                    this.parameters.wrapY && (0 > m || m >= this.imageTileCache.maxTileY) && (m = (m + this.imageTileCache.maxTileY) % this.imageTileCache.maxTileY);
                    var v = g + "_" + m + "_" + e
                      , b = 0 > g || g >= this.imageTileCache.maxTileX || 0 > m || m >= this.imageTileCache.maxTileY;
                    if (b) {
                        if (!f.isOutside) {
                            var y = this.imageTileCache.getImage(g, m, e);
                            this.browser.removeAllChildren(p),
                            p.appendChild(y),
                            f.image = y
                        }
                        f.isOutside = !0,
                        f.imageKey = "EMPTY",
                        f.image.style.width = a + "px",
                        f.image.style.height = a + "px"
                    } else {
                        var y = this.imageTileCache.getImage(g, m, e);
                        f.isOutside = !1,
                        (f.imageKey !== v || f.isPartial) && (this.browser.removeAllChildren(p),
                        p.appendChild(y),
                        f.image = y,
                        f.imageKey = v,
                        f.isPartial = y.isPartial),
                        f.image.style.width = a + "px",
                        f.image.style.height = a + "px"
                    }
                }
                d += r
            }
            l += r
        }
    },
    setMaxTiles: function(e, t) {
        this.imageTileCache.setMaxTiles(e, t)
    }
},
bigshot.Object.validate("bigshot.TileLayer", bigshot.Layer),
bigshot.LRUMap = function() {
    this.keyToTime = {},
    this.counter = 0,
    this.size = 0
}
,
bigshot.LRUMap.prototype = {
    access: function(e) {
        this.remove(e),
        this.keyToTime[e] = this.counter,
        ++this.counter,
        ++this.size
    },
    remove: function(e) {
        return !!this.keyToTime[e] && (delete this.keyToTime[e],
        --this.size,
        !0)
    },
    getSize: function() {
        return this.size
    },
    leastUsed: function() {
        var e = this.counter + 1
          , t = null;
        for (var i in this.keyToTime)
            this.keyToTime[i] < e && (e = this.keyToTime[i],
            t = i);
        return t
    }
},
bigshot.ImageTileCache = function(e, t, i) {
    var s = this;
    this.parameters = i,
    this.fullImage = null,
    i.dataLoader.loadImage(i.fileSystem.getPosterFilename(), function(e) {
        s.fullImage = e,
        t && t()
    }),
    this.maxCacheSize = 512,
    this.maxTileX = 0,
    this.maxTileY = 0,
    this.cachedImages = {},
    this.requestedImages = {},
    this.usedImages = {},
    this.lastOnLoadFiredAt = 0,
    this.imageRequests = 0,
    this.lruMap = new bigshot.LRUMap,
    this.onLoaded = e,
    this.browser = new bigshot.Browser,
    this.partialImageSize = i.tileSize / 4,
    this.POSTER_ZOOM_LEVEL = Math.log(i.posterSize / Math.max(i.width, i.height)) / Math.log(2)
}
,
bigshot.ImageTileCache.prototype = {
    resetUsed: function() {
        this.usedImages = {}
    },
    setMaxTiles: function(e, t) {
        this.maxTileX = e,
        this.maxTileY = t
    },
    getPartialImage: function(e, t, i) {
        var s = this.getPartialImageFromDownsampled(e, t, i, 0, 0, this.parameters.tileSize, this.parameters.tileSize);
        return null == s && (s = this.getPartialImageFromPoster(e, t, i)),
        s
    },
    getPartialImageFromPoster: function(e, t, i) {
        if (this.fullImage && this.fullImage.complete) {
            var s = this.fullImage.width / this.parameters.width
              , n = s * this.parameters.tileSize / Math.pow(2, i);
            return x0 = Math.floor(n * e),
            y0 = Math.floor(n * t),
            w = Math.floor(n),
            h = Math.floor(n),
            this.createPartialImage(this.fullImage, this.fullImage.width, x0, y0, w, h)
        }
        return null
    },
    createPartialImage: function(e, t, i, s, n, a) {
        var r = document.createElement("canvas");
        if (!r.width)
            return null;
        r.width = this.partialImageSize,
        r.height = this.partialImageSize;
        var o = r.getContext("2d")
          , l = e.width / t
          , h = Math.floor(i * l)
          , c = Math.floor(s * l)
          , d = this.partialImageSize
          , u = this.partialImageSize;
        if (n *= l,
        h + n >= e.width) {
            var p = n;
            n = e.width - h,
            d *= n / p
        }
        if (a *= l,
        c + a >= e.height) {
            var f = a;
            a = e.height - c,
            u *= a / f
        }
        try {
            o.drawImage(e, h, c, n, a, -.1, -.1, d + .2, u + .2)
        } catch (e) {
            return null
        }
        return r
    },
    getPartialImageFromDownsampled: function(e, t, i, s, n, a, r) {
        if (i < this.POSTER_ZOOM_LEVEL || i < this.parameters.minZoom)
            return null;
        var o = this.getImageKey(e, t, i)
          , l = this.cachedImages[o];
        return null == l && this.requestImage(e, t, i),
        l ? this.createPartialImage(l, this.parameters.tileSize, s, n, a, r) : (a /= 2,
        r /= 2,
        s /= 2,
        n /= 2,
        e % 2 == 1 && (s += this.parameters.tileSize / 2),
        t % 2 == 1 && (n += this.parameters.tileSize / 2),
        e = Math.floor(e / 2),
        t = Math.floor(t / 2),
        --i,
        this.getPartialImageFromDownsampled(e, t, i, s, n, a, r))
    },
    getEmptyImage: function() {
        var e = document.createElement("img");
        return this.parameters.emptyImage ? e.src = this.parameters.emptyImage : e.src = "data:image/gif,GIF89a%01%00%01%00%80%00%00%00%00%00%FF%FF%FF!%F9%04%00%00%00%00%00%2C%00%00%00%00%01%00%01%00%00%02%02D%01%00%3B",
        e
    },
    getImage: function(e, t, i) {
        if (0 > e || 0 > t || e >= this.maxTileX || t >= this.maxTileY)
            return this.getEmptyImage();
        var s = this.getImageKey(e, t, i);
        if (this.lruMap.access(s),
        this.cachedImages[s]) {
            if (this.usedImages[s]) {
                var n = this.parameters.dataLoader.loadImage(this.getImageFilename(e, t, i));
                return n.isPartial = !1,
                n
            }
            this.usedImages[s] = !0;
            var a = this.cachedImages[s];
            return a
        }
        this.requestImage(e, t, i);
        var a = this.getPartialImage(e, t, i);
        return null != a ? (a.isPartial = !0,
        this.cachedImages[s] = a) : (a = this.getEmptyImage(),
        null != a && (a.isPartial = !0)),
        a
    },
    requestImage: function(e, t, i) {
        var s = this.getImageKey(e, t, i);
        if (!this.requestedImages[s]) {
            this.imageRequests++;
            var n = this;
            this.requestedImages[s] = !0,
            this.parameters.dataLoader.loadImage(this.getImageFilename(e, t, i), function(e) {
                delete n.requestedImages[s],
                n.imageRequests--,
                e.isPartial = !1,
                n.cachedImages[s] = e,
                n.fireOnLoad()
            })
        }
    },
    fireOnLoad: function() {
        var e = new Date;
        (0 == this.imageRequests || e.getTime() > this.lastOnLoadFiredAt + 50) && (this.purgeCache(),
        this.lastOnLoadFiredAt = e.getTime(),
        this.onLoaded())
    },
    purgeCache: function() {
        for (var e = 0; 4 > e; ++e)
            if (this.lruMap.getSize() > this.maxCacheSize) {
                var t = this.lruMap.leastUsed();
                this.lruMap.remove(t),
                delete this.cachedImages[t]
            }
    },
    getImageKey: function(e, t, i) {
        return "I" + e + "_" + t + "_" + i
    },
    getImageFilename: function(e, t, i) {
        var s = this.parameters.fileSystem.getImageFilename(e, t, i);
        return s
    }
},
bigshot.ImageParameters = function(e) {
    if (this.posterSize = 0,
    this.emptyImage = null,
    this.suffix = null,
    this.width = 0,
    this.height = 0,
    this.container = null,
    this.minZoom = 0,
    this.maxZoom = 0,
    this.tileSize = 0,
    this.overlap = 0,
    this.wrapX = !1,
    this.wrapY = !1,
    this.basePath = null,
    this.fileSystemType = "folder",
    this.fileSystem = null,
    this.dataLoader = new bigshot.DefaultDataLoader,
    this.touchUI = !1,
    this.fling = !0,
    this.maxTextureMagnification = 1,
    e)
        for (var t in e)
            this[t] = e[t];
    return this.merge = function(e, t) {
        for (var i in e)
            (t || !this[i]) && (this[i] = e[i])
    }
    ,
    this
}
,
bigshot.ImageBase = function(e) {
    bigshot.EventDispatcher.call(this),
    this.parameters = e,
    this.flying = 0,
    this.container = e.container,
    this.x = e.width / 2,
    this.y = e.height / 2,
    this.zoom = 0,
    this.width = e.width,
    this.height = e.height,
    this.minZoom = e.minZoom,
    this.maxZoom = e.maxZoom,
    this.tileSize = e.tileSize,
    this.overlap = 0,
    this.imageTileCache = null,
    this.dragStart = null,
    this.dragged = !1,
    this.layers = new Array,
    this.fullScreenHandler = null,
    this.currentGesture = null;
    var t = this;
    this.onresizeHandler = function() {
        t.onresize()
    }
    ;
    var i = function(e) {
        return e.preventDefault && e.preventDefault(),
        !1
    }
      , s = function(e) {
        return e.clientX ? e : {
            clientX: e.changedTouches[0].clientX,
            clientY: e.changedTouches[0].clientY,
            changedTouches: e.changedTouches
        }
    };
    this.setupLayers(),
    this.resize(),
    this.allListeners = {
        DOMMouseScroll: function(e) {
            return t.mouseWheel(e),
            i(e)
        },
        mousewheel: function(e) {
            return t.mouseWheel(e),
            i(e)
        },
        dblclick: function(e) {
            return t.mouseDoubleClick(e),
            i(e)
        },
        mousedown: function(e) {
            return t.dragMouseDown(e),
            i(e)
        },
        gesturestart: function(e) {
            return t.gestureStart(e),
            i(e)
        },
        gesturechange: function(e) {
            return t.gestureChange(e),
            i(e)
        },
        gestureend: function(e) {
            return t.gestureEnd(e),
            i(e)
        },
        touchstart: function(e) {
            return t.dragMouseDown(s(e)),
            i(e)
        },
        mouseup: function(e) {
            return t.dragMouseUp(e),
            i(e)
        },
        touchend: function(e) {
            return t.dragMouseUp(s(e)),
            i(e)
        },
        mousemove: function(e) {
            return t.dragMouseMove(e),
            i(e)
        },
        mouseout: function(e) {
            return i(e)
        },
        touchmove: function(e) {
            return t.dragMouseMove(s(e)),
            i(e)
        }
    },
    this.addEventListeners(),
    this.browser.registerListener(window, "resize", t.onresizeHandler, !1),
    this.zoomToFit()
}
,
bigshot.ImageBase.prototype = {
    browser: new bigshot.Browser,
    addEventListeners: function() {
        for (var e in this.allListeners)
            this.browser.registerListener(this.container, e, this.allListeners[e], !1)
    },
    removeEventListeners: function() {
        for (var e in this.allListeners)
            this.browser.unregisterListener(this.container, e, this.allListeners[e], !1)
    },
    setupLayers: function() {},
    getTextureStretch: function() {
        var e = Math.log(this.parameters.maxTextureMagnification / this.browser.getDevicePixelScale()) / Math.LN2;
        return e
    },
    clampXY: function(e, t) {
        var i = this.container.clientWidth
          , s = this.container.clientHeight
          , n = Math.pow(2, this.zoom)
          , a = i / n
          , r = s / n
          , o = function(e, t, i) {
            var s = e / 2;
            s = Math.min(t / 2, s),
            s > i && (i = s);
            var n = t - e / 2;
            return n = Math.max(t / 2, n),
            i > n && (i = n),
            i
        }
          , l = {};
        return null != e && (l.x = o(a, this.width, e)),
        null != t && (l.y = o(r, this.height, t)),
        l
    },
    layout: function() {
        var e = this.container.clientWidth
          , t = this.container.clientHeight
          , i = Math.min(this.maxZoom, Math.max(this.zoom - this.getTextureStretch(), this.minZoom))
          , s = Math.min(0, Math.ceil(i))
          , n = Math.pow(2, s)
          , a = this.clampXY(this.x, this.y);
        this.parameters.wrapY || (this.y = a.y),
        this.parameters.wrapX || (this.x = a.x);
        for (var r = this.tileSize / n, o = Math.pow(2, this.zoom - s), l = this.tileSize * o, h = (this.width / r,
        this.height / r,
        this.x / r), c = this.y / r, d = h - e / 2 / l, u = c - t / 2 / l, p = Math.floor(d), f = Math.floor(u), g = Math.round((d - p) * l), m = Math.round((u - f) * l), v = 0; v < this.layers.length; ++v)
            this.layers[v].layout(i, -g - l, -m - l, p - 1, f - 1, Math.ceil(l), Math.ceil(l), 1)
    },
    resize: function() {
        for (var e = Math.ceil(2 * this.container.clientWidth / this.tileSize) + 2, t = Math.ceil(2 * this.container.clientHeight / this.tileSize) + 2, i = 0; i < this.layers.length; ++i)
            this.layers[i].resize(e, t)
    },
    createLayerContainer: function() {
        var e = document.createElement("div");
        return e.style.position = "absolute",
        e.style.overflow = "hidden",
        e
    },
    getContainer: function() {
        return this.container
    },
    addLayer: function(e) {
        this.container.appendChild(e.getContainer()),
        this.layers.push(e)
    },
    clampZoom: function(e) {
        return Math.min(this.maxZoom, Math.max(e, this.minZoom))
    },
    setZoom: function(e, t) {
        this.zoom = this.clampZoom(e);
        for (var i = Math.ceil(this.zoom - this.getTextureStretch()), s = Math.pow(2, i), n = Math.ceil(s * this.width / this.tileSize), a = Math.ceil(s * this.height / this.tileSize), r = 0; r < this.layers.length; ++r)
            this.layers[r].setMaxTiles(n, a);
        t && this.layout()
    },
    setMaxZoom: function(e) {
        this.maxZoom = e
    },
    getMaxZoom: function() {
        return this.maxZoom
    },
    setMinZoom: function(e) {
        this.minZoom = e
    },
    getMinZoom: function() {
        return this.minZoom
    },
    adjustCoordinateForZoom: function(e, t, i, s) {
        var n = Math.pow(2, i) / Math.pow(2, s);
        return t + (e - t) * n
    },
    gestureStart: function(e) {
        this.currentGesture = {
            startZoom: this.zoom,
            scale: e.scale
        }
    },
    gestureEnd: function() {
        this.currentGesture = null,
        this.dragStart && (this.dragStart.hadGesture = !0)
    },
    gestureChange: function(e) {
        if (this.currentGesture) {
            this.dragStart && (this.dragStart.hadGesture = !0);
            var t = this.clampZoom(this.currentGesture.startZoom + Math.log(e.scale) / Math.log(2))
              , i = this.getZoom();
            if (void 0 !== this.currentGesture.clientX && void 0 !== this.currentGesture.clientY) {
                var s = this.clientToImage(this.currentGesture.clientX, this.currentGesture.clientY)
                  , n = this.adjustCoordinateForZoom(this.x, s.x, i, t)
                  , a = this.adjustCoordinateForZoom(this.y, s.y, i, t);
                this.moveTo(n, a, t)
            } else
                this.setZoom(t),
                this.layout()
        }
    },
    dragMouseDown: function(e) {
        this.dragStart = {
            x: e.clientX,
            y: e.clientY
        },
        this.dragLast = {
            clientX: e.clientX,
            clientY: e.clientY,
            dx: 0,
            dy: 0,
            dt: 1e6,
            time: (new Date).getTime()
        },
        this.dragged = !1
    },
    dragMouseMove: function(e) {
        if (null != this.currentGesture && null != e.changedTouches && e.changedTouches.length > 0) {
            for (var t = 0, i = 0, s = 0; s < e.changedTouches.length; ++s)
                t += e.changedTouches[s].clientX,
                i += e.changedTouches[s].clientY;
            this.currentGesture.clientX = t / e.changedTouches.length,
            this.currentGesture.clientY = i / e.changedTouches.length
        }
        if (null == this.currentGesture && null != this.dragStart) {
            var n = {
                x: e.clientX - this.dragStart.x,
                y: e.clientY - this.dragStart.y
            };
            (0 != n.x || 0 != n.y) && (this.dragged = !0);
            var a = Math.pow(2, this.zoom)
              , r = n.x / a
              , o = n.y / a;
            this.dragStart = {
                x: e.clientX,
                y: e.clientY
            };
            var l = (new Date).getTime() - this.dragLast.time;
            l > 20 && (this.dragLast = {
                dx: this.dragLast.clientX - e.clientX,
                dy: this.dragLast.clientY - e.clientY,
                dt: l,
                clientX: e.clientX,
                clientY: e.clientY,
                time: (new Date).getTime()
            }),
            this.moveTo(this.x - r, this.y - o)
        }
    },
    dragMouseUp: function(e) {
        if (null == this.currentGesture && !this.dragStart.hadGesture && null != this.dragStart)
            if (this.dragStart = null,
            this.dragged) {
                var t = Math.pow(2, this.zoom)
                  , i = this.dragLast.dx / t
                  , s = this.dragLast.dy / t
                  , n = Math.sqrt(i * i + s * s)
                  , a = this.dragLast.dt
                  , r = (new Date).getTime() - this.dragLast.time;
                this.dragLast = null;
                var o = a > 0 ? n / a : 0;
                o > .05 && 250 > r && a > 20 && this.parameters.fling && ((new Date).getTime(),
                i /= a,
                s /= a,
                this.flyTo(this.x + 250 * i, this.y + 250 * s, this.zoom))
            } else
                this.mouseClick(e)
    },
    mouseDoubleClick: function(e) {
        var t = this.createImageEventData({
            type: "dblclick",
            clientX: e.clientX,
            clientY: e.clientY
        });
        this.fireEvent("dblclick", t),
        t.defaultPrevented || this.flyTo(t.imageX, t.imageY, this.zoom + .5)
    },
    getZoom: function() {
        return this.zoom
    },
    moveTo: function(e, t, i, s) {
        this.stopFlying(),
        (null != e || null != t) && this.setPosition(e, t, !1),
        null != i && this.setZoom(i, !1),
        (void 0 == s || 1 == s) && this.layout()
    },
    setPosition: function(e, t, i) {
        var s = this.clampXY(e, t);
        null != e && (this.parameters.wrapX ? (0 > e || e >= this.width) && (e = (e + this.width) % this.width) : e = s.x,
        this.x = Math.max(0, Math.min(this.width, e))),
        null != t && (this.parameters.wrapY ? (0 > t || t >= this.height) && (t = (t + this.height) % this.height) : t = s.y,
        this.y = Math.max(0, Math.min(this.height, t))),
        0 != i && this.layout()
    },
    fitZoom: function(e, t) {
        var i = t / e;
        return Math.log(i) / Math.LN2
    },
    getZoomToFitValue: function() {
        return Math.min(this.fitZoom(this.parameters.width, this.container.clientWidth), this.fitZoom(this.parameters.height, this.container.clientHeight))
    },
    getZoomToFillValue: function() {
        return Math.max(this.fitZoom(this.parameters.width, this.container.clientWidth), this.fitZoom(this.parameters.height, this.container.clientHeight))
    },
    zoomToFit: function() {
        this.moveTo(null, null, this.getZoomToFitValue())
    },
    zoomToFill: function() {
        this.moveTo(null, null, this.getZoomToFillValue())
    },
    zoomToFitHeight: function() {
        this.moveTo(null, null, this.fitZoom(this.parameters.height, this.container.clientHeight))
    },
    zoomToFitWidth: function() {
        this.moveTo(null, null, this.fitZoom(this.parameters.width, this.container.clientWidth))
    },
    flyZoomToFitHeight: function() {
        this.flyTo(null, this.parameters.height / 2, this.fitZoom(this.parameters.height, this.container.clientHeight))
    },
    flyZoomToFitWidth: function() {
        this.flyTo(this.parameters.width / 2, null, this.fitZoom(this.parameters.width, this.container.clientWidth))
    },
    flyZoomToFit: function() {
        this.flyTo(this.parameters.width / 2, this.parameters.height / 2, this.getZoomToFitValue())
    },
    clientToImage: function(e, t) {
        var i = Math.pow(2, this.zoom);
        return {
            x: (e - this.container.clientWidth / 2) / i + this.x,
            y: (t - this.container.clientHeight / 2) / i + this.y
        }
    },
    mouseWheelHandler: function(e, t) {
        var i = !1;
        if (e > 0 ? i = .5 : 0 > e && (i = -.5),
        i) {
            var s = this.clientToImage(t.clientX, t.clientY)
              , n = Math.min(this.maxZoom, Math.max(this.getZoom() + i, this.minZoom))
              , a = this.adjustCoordinateForZoom(this.x, s.x, this.getZoom(), n)
              , r = this.adjustCoordinateForZoom(this.y, s.y, this.getZoom(), n);
            this.flyTo(a, r, n, !0)
        }
    },
    mouseWheel: function(e) {
        var t = 0;
        e || (e = window.event),
        e.wheelDelta ? (t = e.wheelDelta / 120,
        window.opera && (t = -t)) : e.detail && (t = -e.detail),
        t && this.mouseWheelHandler(t, e),
        e.preventDefault && e.preventDefault(),
        e.returnValue = !1
    },
    onresize: function() {
        this.resize(),
        this.layout()
    },
    getX: function() {
        return this.x
    },
    getY: function() {
        return this.y
    },
    stopFlying: function() {
        this.flying++
    },
    flyTo: function(e, t, i, s) {
        var n = this;
        e = null != e ? e : this.x,
        t = null != t ? t : this.y,
        i = null != i ? i : this.zoom,
        s = null != s && s;
        var a = this.x
          , r = this.y
          , o = this.zoom
          , l = this.clampXY(e, t)
          , h = this.parameters.wrapX ? e : l.x
          , c = this.parameters.wrapY ? t : l.y
          , d = Math.min(this.maxZoom, Math.max(i, this.minZoom));
        this.flying++;
        var u = this.flying
          , p = (new Date).getTime()
          , f = function(e, t, i, s, n) {
            var a = t - e
              , r = -a * Math.pow(2, -i * s)
              , o = i * n;
            return r = 0 > a ? Math.max(0, r - o) : Math.min(0, r + o),
            t + r
        }
          , g = function() {
            if (n.flying == u) {
                var e = ((new Date).getTime() - p) / 1e3
                  , t = f(a, h, e, s ? 10 : 4, s ? .2 : 1)
                  , i = f(r, c, e, s ? 10 : 4, s ? .2 : 1)
                  , l = f(o, d, e, 10, .2)
                  , m = !0
                  , v = Math.min(Math.pow(2, n.getZoom()), 1);
                Math.abs(t - h) < .5 * v ? t = h : m = !1,
                Math.abs(i - c) < .5 * v ? i = c : m = !1,
                Math.abs(l - d) < .02 ? l = d : m = !1,
                n.setPosition(t, i, !1),
                n.setZoom(l, !1),
                n.layout(),
                m || n.browser.requestAnimationFrame(g, n.container)
            }
        };
        this.browser.requestAnimationFrame(g, this.container)
    },
    rectVisibleAtZoomLevel: function(e, t) {
        return Math.min(this.fitZoom(e, this.container.clientWidth), this.fitZoom(t, this.container.clientHeight))
    },
    getTouchAreaBaseSize: function() {
        var e = (this.container.clientWidth + this.container.clientHeight) / 2 * .2;
        return Math.min(e, Math.min(this.container.clientWidth, this.container.clientHeight) / 6)
    },
    createImageEventData: function(e) {
        var t = this.browser.getElementPosition(this.container);
        e.localX = e.clientX - t.x,
        e.localY = e.clientY - t.y;
        var i = Math.pow(2, this.zoom);
        return e.imageX = (e.localX - this.container.clientWidth / 2) / i + this.x,
        e.imageY = (e.localY - this.container.clientHeight / 2) / i + this.y,
        e.target = this,
        e.currentTarget = this,
        new bigshot.ImageEvent(e)
    },
    mouseClick: function(e) {
        var t = this.createImageEventData({
            type: "click",
            clientX: e.clientX,
            clientY: e.clientY
        });
        this.fireEvent("click", t)
    },
    showTouchUI: function(e, t) {
        e || (e = 2500),
        t || (t = 1e3);
        var i = this.getTouchAreaBaseSize()
          , s = this.getTouchAreaBaseSize()
          , n = this.container.clientWidth / 2
          , a = this.container.clientHeight / 2
          , r = document.createElement("div");
        r.style.position = "absolute",
        r.style.zIndex = "9999",
        r.style.opacity = .9,
        r.style.width = this.container.clientWidth + "px",
        r.style.height = this.container.clientHeight + "px";
        var o = document.createElement("div");
        o.style.position = "absolute";
        var l = document.createElement("div");
        l.style.position = "relative",
        l.style.background = "black",
        l.style.textAlign = "center",
        l.style.top = a - s + "px",
        l.style.left = n - s + "px",
        l.style.width = 2 * s + "px",
        l.style.height = 2 * s + "px",
        r.appendChild(o),
        o.appendChild(l),
        l.innerHTML = "<span style='display:inline-box; position:relative; vertical-align:middle; font-size: 20pt; top: 10pt; color:white'>ZOOM IN</span>";
        var h = document.createElement("div");
        h.style.position = "absolute";
        var c = document.createElement("div");
        c.style.position = "relative",
        c.style.border = i + "px solid black",
        c.style.top = "0px",
        c.style.left = "0px",
        c.style.textAlign = "center",
        c.style.width = this.container.clientWidth + "px",
        c.style.height = this.container.clientHeight + "px",
        c.style.MozBoxSizing = c.style.boxSizing = c.style.WebkitBoxSizing = "border-box",
        c.innerHTML = "<span style='position:relative; font-size: 20pt; top: -25pt; color:white'>ZOOM OUT</span>",
        h.appendChild(c),
        r.appendChild(h),
        this.container.appendChild(r);
        var d = this
          , u = .9
          , p = t / 50;
        1 > p && (p = 1);
        var f = function() {
            u -= .9 / p,
            0 > u ? d.container.removeChild(r) : (r.style.opacity = u,
            setTimeout(f, 50))
        };
        setTimeout(f, e)
    },
    exitFullScreen: function() {
        return this.fullScreenHandler ? (this.removeEventListeners(),
        this.fullScreenHandler.close(),
        this.addEventListeners(),
        void (this.fullScreenHandler = null)) : void 0
    },
    fullScreen: function(e) {
        if (!this.fullScreenHandler) {
            var t = document.createElement("div");
            t.style.position = "absolute",
            t.style.fontSize = "16pt",
            t.style.top = "128px",
            t.style.width = "100%",
            t.style.color = "white",
            t.style.padding = "16px",
            t.style.zIndex = "9999",
            t.style.textAlign = "center",
            t.style.opacity = "0.75",
            t.innerHTML = "<span style='border-radius: 16px; -moz-border-radius: 16px; padding: 16px; padding-left: 32px; padding-right: 32px; background:black'>Press Esc to exit full screen mode.</span>";
            var i = this;
            return this.fullScreenHandler = new bigshot.FullScreen(this.container),
            this.fullScreenHandler.restoreSize = !0,
            this.fullScreenHandler.addOnResize(function() {
                i.fullScreenHandler && i.fullScreenHandler.isFullScreen && (i.container.style.width = window.innerWidth + "px",
                i.container.style.height = window.innerHeight + "px"),
                i.onresize()
            }),
            this.fullScreenHandler.addOnClose(function() {
                if (t.parentNode)
                    try {
                        div.removeChild(t)
                    } catch (e) {}
                i.fullScreenHandler = null
            }),
            e && this.fullScreenHandler.addOnClose(function() {
                e()
            }),
            this.removeEventListeners(),
            this.fullScreenHandler.open(),
            this.addEventListeners(),
            this.fullScreenHandler.getRootElement() && (this.fullScreenHandler.getRootElement().appendChild(t),
            setTimeout(function() {
                var e = .75
                  , i = function() {
                    if (e -= .02,
                    t.parentNode)
                        if (0 >= e)
                            try {
                                div.removeChild(t)
                            } catch (e) {}
                        else
                            t.style.opacity = e,
                            setTimeout(i, 20)
                };
                setTimeout(i, 20)
            }, 3500)),
            function() {
                i.fullScreenHandler.close()
            }
        }
    },
    dispose: function() {
        this.browser.unregisterListener(window, "resize", this.onresizeHandler, !1),
        this.removeEventListeners()
    }
},
bigshot.Object.extend(bigshot.ImageBase, bigshot.EventDispatcher),
bigshot.Image = function(e) {
    bigshot.setupFileSystem(e),
    e.merge(e.fileSystem.getDescriptor(), !1),
    bigshot.ImageBase.call(this, e)
}
,
bigshot.Image.prototype = {
    setupLayers: function() {
        var e = this;
        this.thisTileCache = new bigshot.ImageTileCache(function() {
            e.layout()
        }
        ,null,this.parameters),
        this.addLayer(new bigshot.TileLayer(this,this.parameters,0,0,this.thisTileCache))
    }
},
bigshot.Object.extend(bigshot.Image, bigshot.ImageBase),
bigshot.HTMLElementLayer = function(e, t, i, s) {
    this.hotspots = new Array,
    this.browser = new bigshot.Browser,
    this.image = e,
    this.container = e.createLayerContainer(),
    this.parentContainer = e.getContainer(),
    this.element = t,
    this.parentContainer.appendChild(t),
    this.w = i,
    this.h = s,
    this.resize(0, 0)
}
,
bigshot.HTMLElementLayer.prototype = {
    getContainer: function() {
        return this.container
    },
    resize: function() {
        this.container.style.width = this.parentContainer.clientWidth + "px",
        this.container.style.height = this.parentContainer.clientHeight + "px"
    },
    layout: function(e, t, i, s, n, a, r) {
        var o = Math.pow(2, this.image.getZoom());
        t -= r * s,
        i -= r * n,
        this.element.style.top = i + "px",
        this.element.style.left = t + "px",
        this.element.style.width = this.w * o + "px",
        this.element.style.height = this.h * o + "px"
    },
    setMaxTiles: function() {}
},
bigshot.Object.validate("bigshot.HTMLElementLayer", bigshot.Layer),
bigshot.HTMLDivElementLayer = function(e, t, i, s, n, a) {
    this.wrapX = n,
    this.wrapY = a,
    this.hotspots = new Array,
    this.browser = new bigshot.Browser,
    this.image = e,
    this.container = e.createLayerContainer(),
    this.parentContainer = e.getContainer(),
    this.element = t,
    this.parentContainer.appendChild(t),
    this.w = i,
    this.h = s,
    this.resize(0, 0)
}
,
bigshot.HTMLDivElementLayer.prototype = {
    getContainer: function() {
        return this.container
    },
    resize: function() {
        this.container.style.width = this.parentContainer.clientWidth + "px",
        this.container.style.height = this.parentContainer.clientHeight + "px"
    },
    layout: function(e, t, i, s, n, a, r) {
        var o = Math.pow(2, this.image.getZoom());
        t -= r * s,
        i -= r * n;
        var l = this.w * o
          , h = this.h * o;
        this.element.style.backgroundSize = l + "px " + h + "px";
        var c = "0px"
          , d = "0px";
        this.wrapY ? (this.element.style.top = "0px",
        this.element.style.height = this.parentContainer.clientHeight + "px",
        d = i + "px") : (this.element.style.top = i + "px",
        this.element.style.height = h + "px"),
        this.wrapX ? (this.element.style.left = "0px",
        this.element.style.width = this.parentContainer.clientWidth + "px",
        c = t + "px") : (this.element.style.left = t + "px",
        this.element.style.width = l + "px"),
        this.element.style.backgroundPosition = c + " " + d
    },
    setMaxTiles: function() {}
},
bigshot.Object.validate("bigshot.HTMLDivElementLayer", bigshot.Layer),
bigshot.SimpleImage = function(e, t) {
    if (e.merge({
        fileSystem: null,
        fileSystemType: "simple",
        maxTextureMagnification: 1,
        tileSize: 1024
    }, !0),
    t)
        e.merge({
            width: t.width,
            height: t.height
        }),
        this.imgElement = t;
    else if (0 == e.width || 0 == e.height)
        throw new Error("No imgElement and missing width or height in ImageParameters");
    bigshot.setupFileSystem(e),
    bigshot.ImageBase.call(this, e)
}
,
bigshot.SimpleImage.prototype = {
    setupLayers: function() {
        this.imgElement || (this.imgElement = document.createElement("div"),
        this.imgElement.style.backgroundImage = "url('" + this.parameters.basePath + "')",
        this.imgElement.style.position = "absolute",
        this.parameters.wrapX || this.parameters.wrapY ? this.parameters.wrapX && !this.parameters.wrapY ? this.imgElement.style.backgroundRepeat = "repeat-x" : !this.parameters.wrapX && this.parameters.wrapY ? this.imgElement.style.backgroundRepeat = "repeat-y" : this.parameters.wrapX && this.parameters.wrapY && (this.imgElement.style.backgroundRepeat = "repeat") : this.imgElement.style.backgroundRepeat = "no-repeat"),
        this.addLayer(new bigshot.HTMLDivElementLayer(this,this.imgElement,this.parameters.width,this.parameters.height,this.parameters.wrapX,this.parameters.wrapY))
    }
},
bigshot.Object.extend(bigshot.SimpleImage, bigshot.ImageBase),
bigshot.FileSystem = function() {}
,
bigshot.FileSystem.prototype = {
    getFilename: function() {},
    getImageFilename: function() {},
    setPrefix: function() {},
    getDescriptor: function() {},
    getPosterFilename: function() {}
},
bigshot.setupFileSystem = function(e) {
    e.fileSystem || ("archive" == e.fileSystemType ? e.fileSystem = new bigshot.ArchiveFileSystem(e) : "dzi" == e.fileSystemType ? e.fileSystem = new bigshot.DeepZoomImageFileSystem(e) : "simple" == e.fileSystemType ? e.fileSystem = new bigshot.SimpleFileSystem(e) : e.fileSystem = new bigshot.FolderFileSystem(e))
}
,
bigshot.SimpleFileSystem = function(e) {
    this.parameters = e
}
,
bigshot.SimpleFileSystem.prototype = {
    getDescriptor: function() {
        return {}
    },
    getPosterFilename: function() {
        return null
    },
    getFilename: function() {
        return null
    },
    getImageFilename: function() {
        return null
    },
    getPrefix: function() {
        return ""
    },
    setPrefix: function(e) {
        this.prefix = e
    }
},
bigshot.Object.validate("bigshot.SimpleFileSystem", bigshot.FileSystem),
bigshot.FolderFileSystem = function(e) {
    this.prefix = null,
    this.suffix = "",
    this.parameters = e
}
,
bigshot.FolderFileSystem.prototype = {
    getDescriptor: function() {
        this.browser = new bigshot.Browser;
        var e = this.browser.createXMLHttpRequest();
        e.open("GET", this.getFilename("descriptor"), !1),
        e.send(null);
        var t = {};
        if (200 == e.status) {
            for (var i = e.responseText.split(":"), s = 0; s < i.length; s += 2)
                "suffix" == i[s] ? t[i[s]] = i[s + 1] : t[i[s]] = parseInt(i[s + 1]);
            return this.suffix = t.suffix,
            t
        }
        throw new Error("Unable to find descriptor.")
    },
    getPosterFilename: function() {
        return this.getFilename("poster" + this.suffix)
    },
    setPrefix: function(e) {
        this.prefix = e
    },
    getPrefix: function() {
        return this.prefix ? this.prefix + "/" : ""
    },
    getFilename: function(e) {
        return this.parameters.basePath + "/" + this.getPrefix() + e
    },
    getImageFilename: function(e, t, i) {
        var s = -i + "/" + e + "_" + t + this.suffix;
        return this.getFilename(s)
    }
},
bigshot.Object.validate("bigshot.FolderFileSystem", bigshot.FileSystem),
bigshot.DeepZoomImageFileSystem = function(e) {
    this.prefix = "",
    this.suffix = "",
    this.DZ_NAMESPACE = "http://schemas.microsoft.com/deepzoom/2009",
    this.fullZoomLevel = 0,
    this.posterName = "",
    this.parameters = e
}
,
bigshot.DeepZoomImageFileSystem.prototype = {
    getDescriptor: function() {
        var e = {}
          , t = this.parameters.dataLoader.loadXml(this.parameters.basePath + this.prefix + ".xml", !1)
          , i = t.getElementsByTagName("Image")[0]
          , s = t.getElementsByTagName("Size")[0];
        e.width = parseInt(s.getAttribute("Width")),
        e.height = parseInt(s.getAttribute("Height")),
        e.tileSize = parseInt(i.getAttribute("TileSize")),
        e.overlap = parseInt(i.getAttribute("Overlap")),
        e.suffix = "." + i.getAttribute("Format"),
        e.posterSize = e.tileSize,
        this.suffix = e.suffix,
        this.fullZoomLevel = Math.ceil(Math.log(Math.max(e.width, e.height)) / Math.LN2),
        e.minZoom = -this.fullZoomLevel;
        var n = Math.ceil(Math.log(e.tileSize) / Math.LN2);
        return this.posterName = this.getImageFilename(0, 0, n - this.fullZoomLevel),
        e
    },
    setPrefix: function(e) {
        this.prefix = e
    },
    getPosterFilename: function() {
        return this.posterName
    },
    getFilename: function(e) {
        return this.parameters.basePath + this.prefix + "/" + e
    },
    getImageFilename: function(e, t, i) {
        var s = this.fullZoomLevel + i
          , n = s + "/" + e + "_" + t + this.suffix;
        return this.getFilename(n)
    }
},
bigshot.ArchiveFileSystem = function(e) {
    this.indexSize = 0,
    this.offset = 0,
    this.index = {},
    this.prefix = "",
    this.suffix = "",
    this.parameters = e;
    var t = new bigshot.Browser
      , i = t.createXMLHttpRequest();
    if (i.open("GET", this.parameters.basePath + "&start=0&length=24&type=text/plain", !1),
    i.send(null),
    200 == i.status) {
        if ("BIGSHOT" != i.responseText.substring(0, 7))
            return void alert('"' + this.parameters.basePath + '" is not a valid bigshot file');
        if (this.indexSize = parseInt(i.responseText.substring(8), 16),
        this.offset = this.indexSize + 24,
        i.open("GET", this.parameters.basePath + "&type=text/plain&start=24&length=" + this.indexSize, !1),
        i.send(null),
        200 == i.status)
            for (var s = i.responseText.split(":"), n = 0; n < s.length; n += 3)
                this.index[s[n]] = {
                    start: parseInt(s[n + 1]) + this.offset,
                    length: parseInt(s[n + 2])
                };
        else
            alert('The index of "' + this.parameters.basePath + '" could not be loaded: ' + i.status)
    } else
        alert('The header of "' + this.parameters.basePath + '" could not be loaded: ' + i.status)
}
,
bigshot.ArchiveFileSystem.prototype = {
    getDescriptor: function() {
        this.browser = new bigshot.Browser;
        var e = this.browser.createXMLHttpRequest();
        e.open("GET", this.getFilename("descriptor"), !1),
        e.send(null);
        var t = {};
        if (200 == e.status) {
            for (var i = e.responseText.split(":"), s = 0; s < i.length; s += 2)
                "suffix" == i[s] ? t[i[s]] = i[s + 1] : t[i[s]] = parseInt(i[s + 1]);
            return this.suffix = t.suffix,
            t
        }
        throw new Error("Unable to find descriptor.")
    },
    getPosterFilename: function() {
        return this.getFilename("poster" + this.suffix)
    },
    getFilename: function(e) {
        e = this.getPrefix() + e,
        !this.index[e] && console && console.log("Can't find " + e);
        var t = this.parameters.basePath + "&start=" + this.index[e].start + "&length=" + this.index[e].length;
        return t += ".jpg" == e.substring(e.length - 4) ? "&type=image/jpeg" : ".png" == e.substring(e.length - 4) ? "&type=image/png" : "&type=text/plain"
    },
    getImageFilename: function(e, t, i) {
        var s = -i + "/" + e + "_" + t + this.suffix;
        return this.getFilename(s)
    },
    getPrefix: function() {
        return this.prefix ? this.prefix + "/" : ""
    },
    setPrefix: function(e) {
        this.prefix = e
    }
},
bigshot.Object.validate("bigshot.ArchiveFileSystem", bigshot.FileSystem),
bigshot.VRTileCache = function() {}
,
bigshot.VRTileCache.prototype = {
    getTexture: function() {},
    purge: function() {},
    dispose: function() {}
},
bigshot.ImageVRTileCache = function(e, t, i) {
    this.imageTileCache = new bigshot.ImageTileCache(e,t,i),
    this.imageTileCache.setMaxTiles(999999, 999999)
}
,
bigshot.ImageVRTileCache.prototype = {
    getTexture: function(e, t, i) {
        var s = this.imageTileCache.getImage(e, t, i);
        return s
    },
    purge: function() {
        this.imageTileCache.resetUsed()
    },
    dispose: function() {}
},
bigshot.Object.validate("bigshot.ImageVRTileCache", bigshot.VRTileCache),
bigshot.TextureTileCache = function(e, t, i, s) {
    this.parameters = i,
    this.webGl = s,
    this.fullImage = i.dataLoader.loadImage(i.fileSystem.getPosterFilename(), t),
    this.maxTextureCacheSize = 512,
    this.maxImageCacheSize = 2048,
    this.cachedTextures = {},
    this.cachedImages = {},
    this.requestedImages = {},
    this.lastOnLoadFiredAt = 0,
    this.imageRequests = 0,
    this.partialImageSize = i.tileSize / 8,
    this.imageLruMap = new bigshot.LRUMap,
    this.textureLruMap = new bigshot.LRUMap,
    this.onLoaded = e,
    this.browser = new bigshot.Browser,
    this.disposed = !1
}
,
bigshot.TextureTileCache.prototype = {
    getPartialTexture: function(e, t, i) {
        if (this.fullImage.complete) {
            var s = document.createElement("canvas");
            if (!s.width)
                return null;
            s.width = this.partialImageSize,
            s.height = this.partialImageSize;
            var n = s.getContext("2d")
              , a = this.parameters.posterSize / Math.max(this.parameters.width, this.parameters.height)
              , r = Math.floor(a * this.parameters.width)
              , o = Math.floor(a * this.parameters.height)
              , l = a * (this.parameters.tileSize - this.parameters.overlap) / Math.pow(2, i)
              , h = Math.floor(l * e)
              , c = Math.floor(l * t)
              , d = Math.floor(l)
              , u = Math.floor(l)
              , p = this.partialImageSize + 2
              , f = this.partialImageSize + 2;
            return h + d > r && (d = r - h,
            p = this.partialImageSize * (d / Math.floor(l))),
            c + u > o && (u = o - c,
            f = this.partialImageSize * (u / Math.floor(l))),
            n.drawImage(this.fullImage, h, c, d, u, -1, -1, p, f),
            this.webGl.createImageTextureFromImage(s, this.parameters.textureMinFilter, this.parameters.textureMagFilter)
        }
        return null
    },
    setCachedTexture: function(e, t) {
        null != this.cachedTextures[e] && this.webGl.deleteTexture(this.cachedTextures[e]),
        this.cachedTextures[e] = t
    },
    getTexture: function(e, t, i) {
        var s = this.getImageKey(e, t, i);
        if (this.textureLruMap.access(s),
        this.imageLruMap.access(s),
        this.cachedTextures[s])
            return this.cachedTextures[s];
        if (this.cachedImages[s])
            return this.setCachedTexture(s, this.webGl.createImageTextureFromImage(this.cachedImages[s], this.parameters.textureMinFilter, this.parameters.textureMagFilter)),
            this.cachedTextures[s];
        this.requestImage(e, t, i);
        var n = this.getPartialTexture(e, t, i);
        return n && this.setCachedTexture(s, n),
        n
    },
    requestImage: function(e, t, i) {
        var s = this.getImageKey(e, t, i);
        if (!this.requestedImages[s]) {
            this.imageRequests++;
            var n = this;
            this.parameters.dataLoader.loadImage(this.getImageFilename(e, t, i), function(e) {
                if (!n.disposed) {
                    n.cachedImages[s] = e,
                    n.setCachedTexture(s, n.webGl.createImageTextureFromImage(e, n.parameters.textureMinFilter, n.parameters.textureMagFilter)),
                    delete n.requestedImages[s],
                    n.imageRequests--;
                    var t = new Date;
                    (0 == n.imageRequests || t.getTime() > n.lastOnLoadFiredAt + 50) && (n.lastOnLoadFiredAt = t.getTime(),
                    n.onLoaded())
                }
            }),
            this.requestedImages[s] = !0
        }
    },
    purge: function() {
        var e = this;
        this.purgeCache(this.textureLruMap, this.cachedTextures, this.maxTextureCacheSize, function(t) {
            e.webGl.deleteTexture(e.cachedTextures[t])
        }),
        this.purgeCache(this.imageLruMap, this.cachedImages, this.maxImageCacheSize, function() {})
    },
    purgeCache: function(e, t, i, s) {
        for (var n = 0; 64 > n && e.getSize() > i; ++n) {
            var a = e.leastUsed();
            e.remove(a),
            s && s(a),
            delete t[a]
        }
    },
    getImageKey: function(e, t, i) {
        return "I" + e + "_" + t + "_" + i
    },
    getImageFilename: function(e, t, i) {
        var s = this.parameters.fileSystem.getImageFilename(e, t, i);
        return s
    },
    dispose: function() {
        this.disposed = !0;
        for (var e in this.cachedTextures)
            this.webGl.deleteTexture(this.cachedTextures[e])
    }
},
bigshot.Object.validate("bigshot.TextureTileCache", bigshot.VRTileCache),
bigshot.VRFace = function(e, t, i, s, n, a, r) {
    var o = this;
    this.owner = e,
    this.key = t,
    this.topLeft = i,
    this.width = s,
    this.u = n,
    this.v = a,
    this.updated = !1,
    this.parameters = new Object;
    for (var l in this.owner.getParameters())
        this.parameters[l] = this.owner.getParameters()[l];
    bigshot.setupFileSystem(this.parameters),
    this.parameters.fileSystem.setPrefix("face_" + t),
    this.parameters.merge(this.parameters.fileSystem.getDescriptor(), !1),
    this.tileCache = e.renderer.createTileCache(function() {
        o.updated = !0,
        e.renderUpdated(bigshot.VRPanorama.ONRENDER_TEXTURE_UPDATE)
    }, r, this.parameters),
    this.fullSize = this.parameters.width,
    this.overlap = this.parameters.overlap,
    this.tileSize = this.parameters.tileSize,
    this.minDivisions = 0;
    var h = Math.log(this.fullSize - this.overlap) / Math.LN2
      , c = Math.log(this.tileSize - this.overlap) / Math.LN2;
    this.maxDivisions = Math.floor(h - c),
    this.maxTesselation = this.parameters.maxTesselation >= 0 ? this.parameters.maxTesselation : this.maxDivisions
}
,
bigshot.VRFace.prototype = {
    browser: new bigshot.Browser,
    dispose: function() {
        this.tileCache.dispose()
    },
    pt3dMultAdd: function(e, t, i) {
        return {
            x: e.x * t + i.x,
            y: e.y * t + i.y,
            z: e.z * t + i.z
        }
    },
    pt3dMult: function(e, t) {
        return {
            x: e.x * t,
            y: e.y * t,
            z: e.z * t
        }
    },
    generateFace: function(e, t, i, s, n, a) {
        i *= this.tileSize / (this.tileSize - this.overlap);
        var r = this.tileCache.getTexture(s, n, -this.maxDivisions + a);
        e.addQuad(this.owner.renderer.createTexturedQuad(t, this.pt3dMult(this.u, i), this.pt3dMult(this.v, i), r))
    },
    VISIBLE_NONE: 0,
    VISIBLE_SOME: 1,
    VISIBLE_ALL: 2,
    pointInRect: function(e, t, i) {
        return e.x >= t.x && e.y >= t.y && e.x < i.x && e.y < i.y
    },
    intersectWithView: function(e) {
        for (var t = 0, i = [], s = e.length, n = 0; s > n; ++n)
            null == e[n] ? t++ : i.push(e[n]);
        if (4 == t)
            return this.VISIBLE_NONE;
        for (var a = i[0].x, r = i[0].y, o = a, l = r, h = 0, c = 0, d = this.viewportWidth, u = this.viewportHeight, p = i.length, n = 1; p > n; ++n) {
            var f = i[n].x
              , g = i[n].y;
            a = f > a ? a : f,
            r = g > r ? r : g,
            o = o > f ? o : f,
            l = l > g ? l : g
        }
        var m = a > h ? a : h
          , v = r > c ? r : c
          , b = d > o ? o : d
          , y = u > l ? l : u;
        return b >= m && y >= v ? this.VISIBLE_SOME : this.VISIBLE_NONE
    },
    screenDistance: function(e, t) {
        return null == e || null == t ? 0 : Math.max(Math.abs(e.x - t.x), Math.abs(e.y - t.y))
    },
    transformToScreen: function(e) {
        return this.owner.renderer.transformToScreen(e)
    },
    generateSubdivisionFace: function(e, t, i, s, n, a, r) {
        if (!r) {
            r = new Array(4),
            r[0] = this.transformToScreen(t);
            var o = this.pt3dMultAdd(this.u, i, t);
            r[1] = this.transformToScreen(o);
            var l = this.pt3dMultAdd(this.v, i, t);
            r[3] = this.transformToScreen(l);
            var h = this.pt3dMultAdd(this.v, i, o);
            r[2] = this.transformToScreen(h)
        }
        var c = this.intersectWithView(r);
        if (c != this.VISIBLE_NONE) {
            for (var d = 0, u = 0; u < r.length; ++u) {
                var p = (u + 1) % 4;
                d = Math.max(this.screenDistance(r[u], r[p]), d)
            }
            if (d *= this.owner.browser.getDevicePixelScale(),
            s < this.minDivisions || d > this.owner.maxTextureMagnification * (this.tileSize - this.overlap) && s < this.maxDivisions && s < this.maxTesselation) {
                var f = this.pt3dMultAdd({
                    x: this.u.x + this.v.x,
                    y: this.u.y + this.v.y,
                    z: this.u.z + this.v.z
                }, i / 2, t)
                  , g = this.pt3dMultAdd(this.u, i / 2, t)
                  , m = this.pt3dMultAdd(this.v, i / 2, t)
                  , v = this.transformToScreen(f)
                  , b = this.transformToScreen(m)
                  , y = this.transformToScreen(g)
                  , w = this.transformToScreen(this.pt3dMultAdd(this.u, i, m))
                  , _ = this.transformToScreen(this.pt3dMultAdd(this.v, i, g));
                this.generateSubdivisionFace(e, t, i / 2, s + 1, 2 * n, 2 * a, [r[0], y, v, b]),
                this.generateSubdivisionFace(e, g, i / 2, s + 1, 2 * n + 1, 2 * a, [y, r[1], w, v]),
                this.generateSubdivisionFace(e, m, i / 2, s + 1, 2 * n, 2 * a + 1, [b, v, _, r[3]]),
                this.generateSubdivisionFace(e, f, i / 2, s + 1, 2 * n + 1, 2 * a + 1, [v, w, r[2], _])
            } else
                this.generateFace(e, t, i, n, a, s)
        }
    },
    isUpdated: function() {
        return this.updated
    },
    render: function(e) {
        this.updated = !1,
        this.viewportWidth = this.owner.renderer.getViewportWidth(),
        this.viewportHeight = this.owner.renderer.getViewportHeight(),
        this.generateSubdivisionFace(e, this.topLeft, this.width, 0, 0, 0)
    },
    endRender: function() {
        this.tileCache.purge()
    }
},
bigshot.WebGLUtil = {
    debug: !1,
    contextNames: ["webgl", "experimental-webgl"],
    createContext0: function(e, t) {
        var i = this.debug ? WebGLDebugUtils.makeDebugContext(e.getContext(t)) : e.getContext(t);
        return i
    },
    createContext: function(e) {
        for (var t = 0; t < this.contextNames.length; ++t)
            try {
                var i = this.createContext0(e, this.contextNames[t]);
                if (i)
                    return i
            } catch (e) {}
        throw new Error("Could not initialize WebGL.")
    },
    isWebGLSupported: function() {
        var e = document.createElement("canvas");
        if (!e.width)
            return !1;
        try {
            return this.createContext(e),
            !0
        } catch (e) {
            return !1
        }
    }
},
bigshot.TransformStack = function() {
    this.mvMatrix = null,
    this.mvMatrixStack = [],
    this.reset()
}
,
bigshot.TransformStack.prototype = {
    push: function(e) {
        return e ? (this.mvMatrixStack.push(e.dup()),
        this.mvMatrix = e.dup(),
        mvMatrix) : (this.mvMatrixStack.push(this.mvMatrix.dup()),
        mvMatrix)
    },
    pop: function() {
        if (0 == this.mvMatrixStack.length)
            throw new Error("Invalid popMatrix!");
        return this.mvMatrix = this.mvMatrixStack.pop(),
        mvMatrix
    },
    reset: function() {
        this.mvMatrix = Matrix.I(4)
    },
    multiply: function(e) {
        this.mvMatrix = e.x(this.mvMatrix)
    },
    translate: function(e) {
        var t = Matrix.Translation($V([e.x, e.y, e.z])).ensure4x4();
        this.multiply(t)
    },
    rotate: function(e, t) {
        var i = e * Math.PI / 180
          , s = Matrix.Rotation(i, $V([t.x, t.y, t.z])).ensure4x4();
        this.multiply(s)
    },
    rotateX: function(e) {
        this.rotate(e, {
            x: 1,
            y: 0,
            z: 0
        })
    },
    rotateY: function(e) {
        this.rotate(e, {
            x: 0,
            y: 1,
            z: 0
        })
    },
    rotateZ: function(e) {
        this.rotate(e, {
            x: 0,
            y: 0,
            z: 1
        })
    },
    perspective: function(e, t, i, s) {
        var n = makePerspective(e, t, i, s);
        this.multiply(n)
    },
    matrix: function() {
        return this.mvMatrix
    }
},
bigshot.WebGL = function(e) {
    this.canvas = e,
    this.gl = bigshot.WebGLUtil.createContext(this.canvas),
    this.mvMatrix = new bigshot.TransformStack,
    this.pMatrix = new bigshot.TransformStack,
    this.shaderProgram = null,
    this.onresize()
}
,
bigshot.WebGL.prototype = {
    onresize: function() {
        this.gl.viewportWidth = this.canvas.width,
        this.gl.viewportHeight = this.canvas.height
    },
    fragmentShader: "#ifdef GL_ES\n precision highp float;\n#endif\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void) {\n gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n}\n",
    vertexShader: "attribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n vTextureCoord = aTextureCoord;\n}",
    createShader: function(e, t) {
        var i = this.gl.createShader(t);
        return this.gl.shaderSource(i, e),
        this.gl.compileShader(i),
        this.gl.getShaderParameter(i, this.gl.COMPILE_STATUS) ? i : (alert(this.gl.getShaderInfoLog(i)),
        null)
    },
    createFragmentShader: function(e) {
        return this.createShader(e, this.gl.FRAGMENT_SHADER)
    },
    createVertexShader: function(e) {
        return this.createShader(e, this.gl.VERTEX_SHADER)
    },
    initShaders: function() {
        if (this.shaderProgram = this.gl.createProgram(),
        this.gl.attachShader(this.shaderProgram, this.createVertexShader(this.vertexShader)),
        this.gl.attachShader(this.shaderProgram, this.createFragmentShader(this.fragmentShader)),
        this.gl.linkProgram(this.shaderProgram),
        !this.gl.getProgramParameter(this.shaderProgram, this.gl.LINK_STATUS))
            throw new Error("Could not initialise shaders");
        this.gl.useProgram(this.shaderProgram),
        this.shaderProgram.vertexPositionAttribute = this.gl.getAttribLocation(this.shaderProgram, "aVertexPosition"),
        this.gl.enableVertexAttribArray(this.shaderProgram.vertexPositionAttribute),
        this.shaderProgram.textureCoordAttribute = this.gl.getAttribLocation(this.shaderProgram, "aTextureCoord"),
        this.gl.enableVertexAttribArray(this.shaderProgram.textureCoordAttribute),
        this.shaderProgram.pMatrixUniform = this.gl.getUniformLocation(this.shaderProgram, "uPMatrix"),
        this.shaderProgram.mvMatrixUniform = this.gl.getUniformLocation(this.shaderProgram, "uMVMatrix"),
        this.shaderProgram.samplerUniform = this.gl.getUniformLocation(this.shaderProgram, "uSampler")
    },
    setMatrixUniforms: function() {
        this.gl.uniformMatrix4fv(this.shaderProgram.pMatrixUniform, !1, new Float32Array(this.pMatrix.matrix().flatten())),
        this.gl.uniformMatrix4fv(this.shaderProgram.mvMatrixUniform, !1, new Float32Array(this.mvMatrix.matrix().flatten()))
    },
    createImageTextureFromImage: function(e, t, i) {
        var s = this.gl.createTexture();
        return this.handleImageTextureLoaded(this, s, e, t, i),
        s
    },
    createImageTextureFromSource: function(e, t, i) {
        var s = new Image
          , n = this.gl.createTexture()
          , a = this;
        return s.onload = function() {
            a.handleImageTextureLoaded(a, n, s, t, i)
        }
        ,
        s.src = e,
        n
    },
    handleImageTextureLoaded: function(e, t, i, s, n) {
        e.gl.bindTexture(e.gl.TEXTURE_2D, t),
        e.gl.texImage2D(e.gl.TEXTURE_2D, 0, e.gl.RGBA, e.gl.RGBA, e.gl.UNSIGNED_BYTE, i),
        e.gl.texParameteri(e.gl.TEXTURE_2D, e.gl.TEXTURE_MAG_FILTER, n ? n : e.gl.NEAREST),
        e.gl.texParameteri(e.gl.TEXTURE_2D, e.gl.TEXTURE_MIN_FILTER, s ? s : e.gl.NEAREST),
        e.gl.texParameteri(e.gl.TEXTURE_2D, e.gl.TEXTURE_WRAP_S, e.gl.CLAMP_TO_EDGE),
        e.gl.texParameteri(e.gl.TEXTURE_2D, e.gl.TEXTURE_WRAP_T, e.gl.CLAMP_TO_EDGE),
        (s == e.gl.NEAREST_MIPMAP_NEAREST || s == e.gl.LINEAR_MIPMAP_NEAREST || s == e.gl.NEAREST_MIPMAP_LINEAR || s == e.gl.LINEAR_MIPMAP_LINEAR) && e.gl.generateMipmap(e.gl.TEXTURE_2D),
        e.gl.bindTexture(e.gl.TEXTURE_2D, null)
    },
    deleteTexture: function(e) {
        this.gl.deleteTexture(e)
    },
    dispose: function() {
        delete this.canvas,
        delete this.gl
    }
},
bigshot.VRRenderer = function() {}
,
bigshot.VRRenderer.prototype = {
    createTileCache: function() {},
    createTexturedQuadScene: function() {},
    createTexturedQuad: function() {},
    getViewportWidth: function() {},
    getViewportHeight: function() {},
    transformToWorld: function() {},
    transformWorldToScreen: function() {},
    transformToScreen: function() {},
    dispose: function() {},
    beginRender: function() {},
    endRender: function() {},
    onresize: function() {},
    resize: function() {},
    getElement: function() {}
},
bigshot.AbstractVRRenderer = function() {}
,
bigshot.AbstractVRRenderer.prototype = {
    transformToWorld: function(e) {
        var t = this.mvMatrix.matrix().xPoint3Dhom1(e);
        return t
    },
    transformWorldToScreen: function(e) {
        if (e.z > 0)
            return null;
        var t = this.pMatrix.matrix().xPoint3Dhom(e);
        if (Math.abs(t.w) < Sylvester.precision)
            return null;
        var i = t.x
          , s = t.y
          , n = t.z
          , a = this.getViewportWidth()
          , r = this.getViewportHeight()
          , o = {
            x: a / 2 * i / n + a / 2,
            y: -(r / 2) * s / n + r / 2
        };
        return o
    },
    transformToScreen: function(e) {
        var t = this.mvpMatrix.xPoint3Dhom(e);
        if (t.z < 0)
            return null;
        var i = t.w;
        if (Math.abs(t.w) < Sylvester.precision)
            return null;
        var s = t.x
          , n = t.y
          , a = this.getViewportWidth()
          , r = this.getViewportHeight()
          , o = {
            x: a / 2 * s / i + a / 2,
            y: -(r / 2) * n / i + r / 2
        };
        return o
    }
},
bigshot.CSS3DVRRenderer = function(e) {
    this.container = e,
    this.canvasOrigin = document.createElement("div"),
    this.canvasOrigin.style.WebkitTransformOrigin = "0px 0px 0px",
    this.canvasOrigin.style.WebkitTransformStyle = "preserve-3d",
    this.canvasOrigin.style.WebkitPerspective = "600px",
    this.canvasOrigin.style.position = "relative",
    this.canvasOrigin.style.left = "50%",
    this.canvasOrigin.style.top = "50%",
    this.container.appendChild(this.canvasOrigin),
    this.viewport = document.createElement("div"),
    this.viewport.style.WebkitTransformOrigin = "0px 0px 0px",
    this.viewport.style.WebkitTransformStyle = "preserve-3d",
    this.canvasOrigin.appendChild(this.viewport),
    this.world = document.createElement("div"),
    this.world.style.WebkitTransformOrigin = "0px 0px 0px",
    this.world.style.WebkitTransformStyle = "preserve-3d",
    this.viewport.appendChild(this.world),
    this.browser.removeAllChildren(this.world),
    this.view = null,
    this.mvMatrix = new bigshot.TransformStack,
    this.yaw = 0,
    this.pitch = 0,
    this.fov = 0,
    this.pMatrix = new bigshot.TransformStack,
    this.onresize = function() {}
    ,
    this.viewportSize = null
}
,
bigshot.CSS3DVRRenderer.prototype = {
    browser: new bigshot.Browser,
    dispose: function() {
        this.container.removeChild(this.canvasOrigin),
        delete this.canvasOrigin,
        delete this.mvMatrix,
        delete this.pMatrix
    },
    createTileCache: function(e, t, i) {
        return new bigshot.ImageVRTileCache(e,t,i)
    },
    createTexturedQuadScene: function() {
        return new bigshot.CSS3DTexturedQuadScene(this.world,128,this.view)
    },
    createTexturedQuad: function(e, t, i, s) {
        return new bigshot.CSS3DTexturedQuad(e,t,i,s)
    },
    getElement: function() {
        return this.container
    },
    supportsUpdate: function() {
        return !1
    },
    getViewportWidth: function() {
        return this.viewportSize ? this.viewportSize.w : this.browser.getElementSize(this.container).w
    },
    getViewportHeight: function() {
        return this.viewportSize ? this.viewportSize.h : this.browser.getElementSize(this.container).h
    },
    onresize: function() {},
    resize: function(e, t) {
        "" != this.container.style.width && (this.container.style.width = e + "px"),
        "" != this.container.style.height && (this.container.style.height = t + "px")
    },
    beginRender: function(e, t, i, s) {
        this.viewportSize = this.browser.getElementSize(this.container),
        this.yaw = e.y,
        this.pitch = e.p,
        this.fov = t;
        var n = .5 * t * Math.PI / 180
          , a = this.getViewportHeight() / 2
          , r = a / Math.tan(n);
        this.mvMatrix.reset(),
        this.view = i,
        this.mvMatrix.translate(this.view),
        this.mvMatrix.rotateZ(s.r),
        this.mvMatrix.rotateX(s.p),
        this.mvMatrix.rotateY(s.y),
        this.mvMatrix.rotateY(this.yaw),
        this.mvMatrix.rotateX(this.pitch),
        this.pMatrix.reset(),
        this.pMatrix.perspective(this.fov, this.getViewportWidth() / this.getViewportHeight(), .1, 100),
        this.mvpMatrix = this.pMatrix.matrix().multiply(this.mvMatrix.matrix()),
        this.canvasOrigin.style.WebkitPerspective = r + "px";
        for (var o = this.world.children.length - 1; o >= 0; --o)
            this.world.children[o].inWorld = 1;
        this.world.style.WebkitTransform = "rotate3d(1,0,0," + -e.p + "deg) rotate3d(0,1,0," + e.y + "deg) rotate3d(0,1,0," + s.y + "deg) rotate3d(1,0,0," + -s.p + "deg) rotate3d(0,0,1," + -s.r + "deg) ",
        this.world.style.WebkitTransformStyle = "preserve-3d",
        this.world.style.WebKitBackfaceVisibility = "hidden",
        this.viewport.style.WebkitTransform = "translateZ(" + r + "px)"
    },
    endRender: function() {
        for (var e = this.world.children.length - 1; e >= 0; --e) {
            var t = this.world.children[e];
            t.inWorld && 2 == t.inWorld || (delete t.inWorld,
            this.world.removeChild(t))
        }
        this.viewportSize = null
    }
},
bigshot.Object.extend(bigshot.CSS3DVRRenderer, bigshot.AbstractVRRenderer),
bigshot.Object.validate("bigshot.CSS3DVRRenderer", bigshot.VRRenderer),
bigshot.CSS3DTexturedQuad = function(e, t, i, s) {
    this.p = e,
    this.u = t,
    this.v = i,
    this.image = s
}
,
bigshot.CSS3DTexturedQuad.prototype = {
    crossProduct: function(e, t) {
        return {
            x: e.y * t.z - e.z * t.y,
            y: e.z * t.x - e.x * t.z,
            z: e.x * t.y - e.y * t.x
        }
    },
    vecToStr: function(e) {
        return e.x + "," + e.y + "," + e.z
    },
    quadTransform: function(e, t, i) {
        var s = this.crossProduct(t, i)
          , n = "matrix3d(" + this.vecToStr(t) + ",0," + this.vecToStr(i) + ",0," + this.vecToStr(s) + ",0," + this.vecToStr(e) + ",1)";
        return n
    },
    norm: function(e) {
        return Math.sqrt(e.x * e.x + e.y * e.y + e.z * e.z)
    },
    render: function(e, t, i) {
        var s = t / (this.image.width - 1)
          , n = 1 * t
          , a = this.p
          , r = this.u
          , o = this.v;
        this.image.style.position = "absolute",
        this.image.inWorld && 1 == this.image.inWorld || e.appendChild(this.image),
        this.image.inWorld = 2,
        this.image.style.WebkitTransformOrigin = "0px 0px 0px",
        this.image.style.WebkitTransform = this.quadTransform({
            x: (a.x + i.x) * n,
            y: (-a.y + i.y) * n,
            z: (a.z + i.z) * n
        }, {
            x: r.x * s,
            y: -r.y * s,
            z: r.z * s
        }, {
            x: o.x * s,
            y: -o.y * s,
            z: o.z * s
        })
    }
},
bigshot.CSS3DTexturedQuadScene = function(e, t, i) {
    this.quads = new Array,
    this.world = e,
    this.scale = t,
    this.view = i
}
,
bigshot.CSS3DTexturedQuadScene.prototype = {
    addQuad: function(e) {
        this.quads.push(e)
    },
    render: function() {
        for (var e = 0; e < this.quads.length; ++e)
            this.quads[e].render(this.world, this.scale, this.view)
    }
},
bigshot.TexturedQuadScene = function() {}
,
bigshot.TexturedQuadScene.prototype = {
    addQuad: function() {},
    render: function() {}
},
bigshot.WebGLVRRenderer = function(e) {
    this.container = e,
    this.canvas = document.createElement("canvas"),
    this.canvas.width = 480,
    this.canvas.height = 480,
    this.canvas.style.position = "absolute",
    this.container.appendChild(this.canvas),
    this.webGl = new bigshot.WebGL(this.canvas),
    this.webGl.initShaders(),
    this.webGl.gl.clearColor(0, 0, 0, 1),
    this.webGl.gl.blendFunc(this.webGl.gl.ONE, this.webGl.gl.ZERO),
    this.webGl.gl.enable(this.webGl.gl.BLEND),
    this.webGl.gl.disable(this.webGl.gl.DEPTH_TEST),
    this.webGl.gl.clearDepth(1);
    var t = this;
    this.buffers = new bigshot.TimedWeakReference(function() {
        return t.setupBuffers()
    }
    ,function(e) {
        t.disposeBuffers(e)
    }
    ,1e3)
}
,
bigshot.WebGLVRRenderer.prototype = {
    createTileCache: function(e, t, i) {
        return new bigshot.TextureTileCache(e,t,i,this.webGl)
    },
    createTexturedQuadScene: function() {
        return new bigshot.WebGLTexturedQuadScene(this.webGl,this.buffers)
    },
    setupBuffers: function() {
        var e = this.webGl.gl.createBuffer()
          , t = this.webGl.gl.createBuffer();
        this.webGl.gl.bindBuffer(this.webGl.gl.ARRAY_BUFFER, t);
        var i = [0, 0, 1, 0, 1, 1, 0, 1];
        this.webGl.gl.bufferData(this.webGl.gl.ARRAY_BUFFER, new Float32Array(i), this.webGl.gl.STATIC_DRAW);
        var s = this.webGl.gl.createBuffer();
        this.webGl.gl.bindBuffer(this.webGl.gl.ELEMENT_ARRAY_BUFFER, s);
        var n = [0, 2, 1, 0, 3, 2];
        return this.webGl.gl.bufferData(this.webGl.gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(n), this.webGl.gl.STATIC_DRAW),
        this.webGl.gl.bindBuffer(this.webGl.gl.ARRAY_BUFFER, t),
        this.webGl.gl.vertexAttribPointer(this.webGl.shaderProgram.textureCoordAttribute, 2, this.webGl.gl.FLOAT, !1, 0, 0),
        this.webGl.gl.bindBuffer(this.webGl.gl.ARRAY_BUFFER, e),
        this.webGl.gl.vertexAttribPointer(this.webGl.shaderProgram.vertexPositionAttribute, 3, this.webGl.gl.FLOAT, !1, 0, 0),
        {
            vertexPositionBuffer: e,
            textureCoordBuffer: t,
            vertexIndexBuffer: s
        }
    },
    dispose: function() {
        this.buffers.dispose(),
        this.container.removeChild(this.canvas),
        delete this.canvas,
        this.webGl.dispose(),
        delete this.webGl
    },
    disposeBuffers: function(e) {
        this.webGl.gl.deleteBuffer(e.vertexPositionBuffer),
        this.webGl.gl.deleteBuffer(e.vertexIndexBuffer),
        this.webGl.gl.deleteBuffer(e.textureCoordBuffer)
    },
    getElement: function() {
        return this.canvas
    },
    supportsUpdate: function() {
        return !1
    },
    createTexturedQuad: function(e, t, i, s) {
        return new bigshot.WebGLTexturedQuad(e,t,i,s)
    },
    getViewportWidth: function() {
        return this.webGl.gl.viewportWidth
    },
    getViewportHeight: function() {
        return this.webGl.gl.viewportHeight
    },
    beginRender: function(e, t, i, s) {
        this.webGl.gl.viewport(0, 0, this.webGl.gl.viewportWidth, this.webGl.gl.viewportHeight),
        this.webGl.pMatrix.reset(),
        this.webGl.pMatrix.perspective(t, this.webGl.gl.viewportWidth / this.webGl.gl.viewportHeight, .1, 100),
        this.webGl.mvMatrix.reset(),
        this.webGl.mvMatrix.translate(i),
        this.webGl.mvMatrix.rotateZ(s.r),
        this.webGl.mvMatrix.rotateX(s.p),
        this.webGl.mvMatrix.rotateY(s.y),
        this.webGl.mvMatrix.rotateY(e.y),
        this.webGl.mvMatrix.rotateX(e.p),
        this.mvMatrix = this.webGl.mvMatrix,
        this.pMatrix = this.webGl.pMatrix,
        this.mvpMatrix = this.pMatrix.matrix().multiply(this.mvMatrix.matrix())
    },
    endRender: function() {},
    resize: function(e, t) {
        this.canvas.width = e,
        this.canvas.height = t,
        "" != this.container.style.width && (this.container.style.width = e + "px"),
        "" != this.container.style.height && (this.container.style.height = t + "px")
    },
    onresize: function() {
        this.webGl.onresize()
    }
},
bigshot.Object.extend(bigshot.WebGLVRRenderer, bigshot.AbstractVRRenderer),
bigshot.Object.validate("bigshot.WebGLVRRenderer", bigshot.VRRenderer),
bigshot.TexturedQuad = function() {}
,
bigshot.WebGLTexturedQuad = function(e, t, i, s) {
    this.p = e,
    this.u = t,
    this.v = i,
    this.texture = s
}
,
bigshot.WebGLTexturedQuad.prototype = {
    render: function(e, t, i, s) {
        e.gl.bindBuffer(e.gl.ARRAY_BUFFER, t);
        var n = [this.p.x, this.p.y, this.p.z, this.p.x + this.u.x, this.p.y + this.u.y, this.p.z + this.u.z, this.p.x + this.u.x + this.v.x, this.p.y + this.u.y + this.v.y, this.p.z + this.u.z + this.v.z, this.p.x + this.v.x, this.p.y + this.v.y, this.p.z + this.v.z];
        e.gl.bufferData(e.gl.ARRAY_BUFFER, new Float32Array(n), e.gl.STATIC_DRAW),
        e.gl.activeTexture(e.gl.TEXTURE0),
        e.gl.bindTexture(e.gl.TEXTURE_2D, this.texture),
        e.gl.uniform1i(e.shaderProgram.samplerUniform, 0),
        e.gl.bindBuffer(e.gl.ELEMENT_ARRAY_BUFFER, s),
        e.gl.drawElements(e.gl.TRIANGLES, 6, e.gl.UNSIGNED_SHORT, 0),
        e.gl.bindTexture(e.gl.TEXTURE_2D, null)
    }
},
bigshot.WebGLTexturedQuadScene = function(e, t) {
    this.quads = new Array,
    this.webGl = e,
    this.buffers = t
}
,
bigshot.WebGLTexturedQuadScene.prototype = {
    addQuad: function(e) {
        this.quads.push(e)
    },
    render: function() {
        var e = this.buffers.get()
          , t = e.vertexPositionBuffer
          , i = e.textureCoordBuffer
          , s = e.vertexIndexBuffer;
        this.webGl.setMatrixUniforms();
        for (var n = 0; n < this.quads.length; ++n)
            this.quads[n].render(this.webGl, t, i, s)
    }
},
bigshot.VRPanoramaParameters = function(e) {
    if (this.posterSize = 0,
    this.emptyImage = null,
    this.suffix = null,
    this.width = 0,
    this.height = 0,
    this.container = null,
    this.maxTesselation = -1,
    this.tileSize = 0,
    this.overlap = 0,
    this.basePath = null,
    this.fileSystemType = "folder",
    this.fileSystem = null,
    this.dataLoader = new bigshot.DefaultDataLoader,
    this.maxTextureMagnification = 1,
    this.textureMagFilter = null,
    this.textureMinFilter = null,
    this.minFov = 2,
    this.maxFov = 90,
    this.minPitch = -90,
    this.maxPitch = 90,
    this.minYaw = -360,
    this.maxYaw = 720,
    this.yawOffset = 0,
    this.pitchOffset = 0,
    this.rollOffset = 0,
    this.onload = null,
    this.renderer = null,
    this.fling = !0,
    this.flingScale = .004,
    e)
        for (var t in e)
            this[t] = e[t];
    return this.merge = function(e, t) {
        for (var i in e)
            (t || !this[i]) && (this[i] = e[i])
    }
    ,
    this
}
,
bigshot.VRPanorama = function(e) {
    bigshot.EventDispatcher.call(this);
    var t = this;
    if (this.parameters = e,
    this.maxTextureMagnification = e.maxTextureMagnification,
    this.container = e.container,
    this.browser = new bigshot.Browser,
    this.dragStart = null,
    this.dragDistance = 0,
    this.hotspots = [],
    this.disposed = !1,
    this.transformOffsets = {
        y: e.yawOffset,
        p: e.pitchOffset,
        r: e.rollOffset
    },
    this.state = {
        rotation: {
            p: 0,
            y: 0,
            r: 0
        },
        fov: 45,
        translation: {
            x: 0,
            y: 0,
            z: 0
        }
    },
    this.renderer = null,
    this.parameters.renderer)
        if ("css" == this.parameters.renderer)
            this.renderer = new bigshot.CSS3DVRRenderer(this.container);
        else {
            if ("webgl" != this.parameters.renderer)
                throw new Error("Unknown renderer: " + this.parameters.renderer);
            this.renderer = new bigshot.WebGLVRRenderer(this.container)
        }
    else
        this.renderer = bigshot.WebGLUtil.isWebGLSupported() ? new bigshot.WebGLVRRenderer(this.container) : new bigshot.CSS3DVRRenderer(this.container);
    this.renderListeners = new Array,
    this.renderables = new Array,
    this.idleCounter = 0,
    this.maxIdleCounter = -1,
    this.smoothrotatePermit = 0;
    var i = function(e) {
        return e.preventDefault && e.preventDefault(),
        !1
    };
    this.fullScreenHandler = null,
    this.renderAsapPermitTaken = !1,
    this.sizeContainer = null;
    var s = {
        facesLeft: 6,
        faceLoaded: function() {
            this.facesLeft--,
            0 == this.facesLeft && t.parameters.onload && t.parameters.onload()
        }
    }
      , n = function() {
        s.faceLoaded()
    };
    this.vrFaces = new Array,
    this.vrFaces[0] = new bigshot.VRFace(this,"f",{
        x: -1,
        y: 1,
        z: -1
    },2,{
        x: 1,
        y: 0,
        z: 0
    },{
        x: 0,
        y: -1,
        z: 0
    },n),
    this.vrFaces[1] = new bigshot.VRFace(this,"b",{
        x: 1,
        y: 1,
        z: 1
    },2,{
        x: -1,
        y: 0,
        z: 0
    },{
        x: 0,
        y: -1,
        z: 0
    },n),
    this.vrFaces[2] = new bigshot.VRFace(this,"l",{
        x: -1,
        y: 1,
        z: 1
    },2,{
        x: 0,
        y: 0,
        z: -1
    },{
        x: 0,
        y: -1,
        z: 0
    },n),
    this.vrFaces[3] = new bigshot.VRFace(this,"r",{
        x: 1,
        y: 1,
        z: -1
    },2,{
        x: 0,
        y: 0,
        z: 1
    },{
        x: 0,
        y: -1,
        z: 0
    },n),
    this.vrFaces[4] = new bigshot.VRFace(this,"u",{
        x: -1,
        y: 1,
        z: 1
    },2,{
        x: 1,
        y: 0,
        z: 0
    },{
        x: 0,
        y: 0,
        z: -1
    },n),
    this.vrFaces[5] = new bigshot.VRFace(this,"d",{
        x: -1,
        y: -1,
        z: -1
    },2,{
        x: 1,
        y: 0,
        z: 0
    },{
        x: 0,
        y: 0,
        z: 1
    },n);
    var a = function(e) {
        return e.clientX ? e : {
            clientX: e.changedTouches[0].clientX,
            clientY: e.changedTouches[0].clientY
        }
    };
    this.lastTouchStartAt = -1,
    this.allListeners = {
        mousedown: function(e) {
            return t.smoothRotate(),
            t.resetIdle(),
            t.dragMouseDown(e),
            i(e)
        },
        mouseup: function(e) {
            return t.resetIdle(),
            t.dragMouseUp(e),
            i(e)
        },
        mousemove: function(e) {
            return t.resetIdle(),
            t.dragMouseMove(e),
            i(e)
        },
        dblclick: function(e) {
            return t.mouseDoubleClick(e),
            i(e)
        },
        touchstart: function(e) {
            return t.smoothRotate(),
            t.lastTouchStartAt = (new Date).getTime(),
            t.resetIdle(),
            t.dragMouseDown(a(e)),
            i(e)
        },
        touchend: function(e) {
            t.resetIdle();
            var s = t.dragMouseUp(a(e));
            return !s && t.lastTouchStartAt > (new Date).getTime() - 350 && t.mouseDoubleClick(a(e)),
            t.lastTouchStartAt = -1,
            i(e)
        },
        touchmove: function(e) {
            return t.dragDistance > 24 && (t.lastTouchStartAt = -1),
            t.resetIdle(),
            t.dragMouseMove(a(e)),
            i(e)
        }
    },
    this.addEventListeners(),
    this.onresizeHandler = function() {
        t.onresize()
    }
    ,
    this.browser.registerListener(window, "resize", this.onresizeHandler, !1),
    this.browser.registerListener(document.body, "orientationchange", this.onresizeHandler, !1),
    this.setPitch(0),
    this.setYaw(0),
    this.setFov(45)
}
,
bigshot.VRPanorama.DRAG_GRAB = "grab",
bigshot.VRPanorama.DRAG_PAN = "pan",
bigshot.VRPanorama.ONRENDER_BEGIN = 0,
bigshot.VRPanorama.ONRENDER_END = 1,
bigshot.VRPanorama.ONRENDER_TEXTURE_UPDATE = 0,
bigshot.VRPanorama.prototype = {
    addHotspot: function(e) {
        this.hotspots.push(e)
    },
    getParameters: function() {
        return this.parameters
    },
    setTranslation: function(e, t, i) {
        this.state.translation.x = e,
        this.state.translation.y = t,
        this.state.translation.z = i
    },
    getTranslation: function() {
        return this.state.translation
    },
    setFov: function(e) {
        e = Math.min(this.parameters.maxFov, e),
        e = Math.max(this.parameters.minFov, e),
        this.state.fov = e
    },
    getFov: function() {
        return this.state.fov
    },
    screenToPolar: function(e, t) {
        var i = this.screenToRayDelta(e, t)
          , s = $V([i.x, i.y, i.z, 1]);
        s = Matrix.RotationX(this.getPitch() * Math.PI / 180).ensure4x4().x(s),
        s = Matrix.RotationY(-this.getYaw() * Math.PI / 180).ensure4x4().x(s);
        var n = s.e(1)
          , a = s.e(2)
          , r = s.e(3)
          , o = Math.sqrt(n * n + r * r)
          , l = 180 * Math.atan2(n, -r) / Math.PI
          , h = 180 * Math.atan2(a, o) / Math.PI
          , c = {};
        return c.yaw = (l + 360) % 360,
        c.pitch = h,
        c
    },
    snapPitch: function(e) {
        return e = Math.min(this.parameters.maxPitch, e),
        e = Math.max(this.parameters.minPitch, e)
    },
    setPitch: function(e) {
        this.state.rotation.p = this.snapPitch(e)
    },
    circleDistance: function(e, t) {
        if (t > e) {
            var i = t - e
              , s = t - 360 - e;
            return Math.abs(i) < Math.abs(s) ? i : s
        }
        var i = t - e
          , s = 360 - e + t;
        return Math.abs(i) < Math.abs(s) ? i : s
    },
    circleSnapTo: function(e, t, i) {
        var s = this.circleDistance(e, t)
          , n = this.circleDistance(e, i);
        return Math.abs(s) < Math.abs(n) ? t : i
    },
    snapYaw: function(e) {
        return e %= 360,
        0 > e && (e += 360),
        this.parameters.minYaw < this.parameters.maxYaw ? (e > this.parameters.maxYaw || e < this.parameters.minYaw) && (e = circleSnapTo(e, this.parameters.minYaw, this.parameters.maxYaw)) : e > this.parameters.minYaw || e > this.parameters.maxYaw && (e = circleSnapTo(e, this.parameters.minYaw, this.parameters.maxYaw)),
        e
    },
    setYaw: function(e) {
        this.state.rotation.y = this.snapYaw(e)
    },
    getYaw: function() {
        return this.state.rotation.y
    },
    getPitch: function() {
        return this.state.rotation.p
    },
    dispose: function() {
        this.disposed = !0,
        this.browser.unregisterListener(window, "resize", this.onresizeHandler, !1),
        this.browser.unregisterListener(document.body, "orientationchange", this.onresizeHandler, !1),
        this.removeEventListeners();
        for (var e = 0; e < this.vrFaces.length; ++e)
            this.vrFaces[e].dispose();
        this.renderer.dispose()
    },
    createVREventData: function(e) {
        var t = this.browser.getElementPosition(this.container);
        e.localX = e.clientX - t.x,
        e.localY = e.clientY - t.y,
        e.ray = this.screenToRay(e.localX, e.localY);
        var i = this.screenToPolar(e.localX, e.localY);
        return e.yaw = i.yaw,
        e.pitch = i.pitch,
        e.target = this,
        e.currentTarget = this,
        new bigshot.VREvent(e)
    },
    beginRender: function(e, t) {
        this.onrender(bigshot.VRPanorama.ONRENDER_BEGIN, e, t),
        this.renderer.beginRender(this.state.rotation, this.state.fov, this.state.translation, this.transformOffsets)
    },
    addRenderListener: function(e) {
        var t = new Array;
        t = t.concat(this.renderListeners),
        t.push(e),
        this.renderListeners = t
    },
    removeRenderListener: function(e) {
        var t = new Array;
        t = t.concat(this.renderListeners);
        for (var i = 0; i < t.length; ++i)
            if (t[i] === e) {
                t.splice(i, 1);
                break
            }
        this.renderListeners = t
    },
    onrender: function(e, t, i) {
        for (var s = this.renderListeners, n = 0; n < s.length; ++n)
            s[n](e, t, i)
    },
    endRender: function(e, t) {
        for (var i in this.vrFaces)
            this.vrFaces[i].endRender();
        this.renderer.endRender(),
        this.onrender(bigshot.VRPanorama.ONRENDER_END, e, t)
    },
    addRenderable: function(e) {
        var t = new Array;
        t.concat(this.renderables),
        t.push(e),
        this.renderables = t
    },
    removeRenderable: function() {
        var e = new Array;
        e.concat(this.renderables);
        for (var t = 0; t < e.length; ++t)
            if (e[t] == listener) {
                e.splice(t, 1);
                break
            }
        this.renderables = e
    },
    render: function(e, t) {
        if (!this.disposed) {
            this.beginRender(e, t);
            var i = this.renderer.createTexturedQuadScene();
            for (var s in this.vrFaces)
                this.vrFaces[s].render(i);
            for (var n = 0; n < this.renderables.length; ++n)
                this.renderables[n](this.renderer, i);
            i.render();
            for (var n = 0; n < this.hotspots.length; ++n)
                this.hotspots[n].layout();
            this.endRender(e, t)
        }
    },
    renderUpdated: function(e, t) {
        if (!this.disposed && this.renderer.supportsUpdate()) {
            this.beginRender(e, t);
            var i = this.renderer.createTexturedQuadScene();
            for (var s in this.vrFaces)
                this.vrFaces[s].isUpdated() && this.vrFaces[s].render(i);
            i.render();
            for (var n = 0; n < this.hotspots.length; ++n)
                this.hotspots[n].layout();
            this.endRender(e, t)
        } else
            this.render(e, t)
    },
    dragMode: bigshot.VRPanorama.DRAG_GRAB,
    setDragMode: function(e) {
        this.dragMode = e
    },
    addEventListeners: function() {
        for (var e in this.allListeners)
            this.browser.registerListener(this.container, e, this.allListeners[e], !1)
    },
    removeEventListeners: function() {
        for (var e in this.allListeners)
            this.browser.unregisterListener(this.container, e, this.allListeners[e], !1)
    },
    dragMouseDown: function(e) {
        this.dragStart = {
            clientX: e.clientX,
            clientY: e.clientY
        },
        this.dragLast = {
            clientX: e.clientX,
            clientY: e.clientY,
            dx: 0,
            dy: 0,
            dt: 1e6,
            time: (new Date).getTime()
        },
        this.dragDistance = 0
    },
    dragMouseUp: function() {
        if (null == this.dragStart || null == this.dragLast)
            return this.dragStart = null,
            void (this.dragLast = null);
        this.dragStart = null;
        var e = this.dragLast.dx
          , t = this.dragLast.dy
          , i = Math.sqrt(e * e + t * t)
          , s = this.dragLast.dt
          , n = (new Date).getTime() - this.dragLast.time;
        this.dragLast = null;
        var a = s > 0 ? i / s : 0;
        if (a > .05 && 250 > n && s > 20 && this.parameters.fling) {
            var r = this.state.fov / this.renderer.getViewportHeight()
              , o = (new Date).getTime()
              , l = this.parameters.flingScale;
            return e /= s,
            t /= s,
            this.smoothRotate(function(t) {
                var i = (new Date).getTime() - o
                  , s = Math.pow(2, -i * l)
                  , n = e * t * r * s;
                return s > .01 ? n : null
            }, function(e) {
                var i = (new Date).getTime() - o
                  , s = Math.pow(2, -i * l)
                  , n = t * e * r * s;
                return s > .01 ? n : null
            }, function() {
                return null
            }),
            !0
        }
        return this.smoothRotate(),
        !1
    },
    dragMouseMove: function(e) {
        if (null != this.dragStart && null == this.currentGesture)
            if (this.dragMode == bigshot.VRPanorama.DRAG_GRAB) {
                this.smoothRotate();
                var t = this.state.fov / this.renderer.getViewportHeight()
                  , i = e.clientX - this.dragStart.clientX
                  , s = e.clientY - this.dragStart.clientY;
                this.dragDistance += i + s,
                this.setYaw(this.getYaw() - i * t),
                this.setPitch(this.getPitch() - s * t),
                this.renderAsap(),
                this.dragStart = e;
                var n = (new Date).getTime() - this.dragLast.time;
                n > 20 && (this.dragLast = {
                    dx: this.dragLast.clientX - e.clientX,
                    dy: this.dragLast.clientY - e.clientY,
                    dt: n,
                    clientX: e.clientX,
                    clientY: e.clientY,
                    time: (new Date).getTime()
                })
            } else {
                var t = .1 * this.state.fov / this.renderer.getViewportHeight()
                  , i = e.clientX - this.dragStart.clientX
                  , s = e.clientY - this.dragStart.clientY;
                this.dragDistance = i + s,
                this.smoothRotate(function() {
                    return i * t
                }, function() {
                    return s * t;
                })
            }
    },
    onMouseDoubleClick: function(e, t, i) {
        var s = this.createVREventData({
            type: "dblclick",
            clientX: e.clientX,
            clientY: e.clientY
        });
        this.fireEvent("dblclick", s),
        s.defaultPrevented || this.smoothRotateToXY(t, i)
    },
    mouseDoubleClick: function(e) {
        var t = this.browser.getElementPosition(this.container);
        this.onMouseDoubleClick(e, e.clientX - t.x, e.clientY - t.y)
    },
    gestureStart: function(e) {
        this.currentGesture = {
            startFov: this.getFov(),
            scale: e.scale
        }
    },
    gestureEnd: function() {
        this.currentGesture = null
    },
    gestureChange: function(e) {
        if (this.currentGesture) {
            var t = this.currentGesture.startFov / e.scale;
            this.setFov(t),
            this.renderAsap()
        }
    },
    setMaxTextureMagnification: function(e) {
        this.maxTextureMagnification = e
    },
    getMaxTextureMagnification: function() {
        return this.maxTextureMagnification
    },
    getMinFovFromViewportAndImage: function() {
        var e = this.renderer.getViewportHeight() / 2
          , t = this.vrFaces[0].parameters.height;
        for (var i in this.vrFaces)
            t = Math.min(t, this.vrFaces[i].parameters.height);
        var s = this.maxTextureMagnification * t / 2
          , n = e / s
          , a = 180 * Math.atan(n) / Math.PI;
        return 2 * a
    },
    screenToRay: function(e, t) {
        var i = this.screenToRayDelta(e, t)
          , s = this.renderer.transformToWorld(i);
        return s = Matrix.RotationY(-this.transformOffsets.y * Math.PI / 180).ensure4x4().xPoint3Dhom1(s),
        s = Matrix.RotationX(-this.transformOffsets.p * Math.PI / 180).ensure4x4().xPoint3Dhom1(s),
        s = Matrix.RotationZ(-this.transformOffsets.r * Math.PI / 180).ensure4x4().xPoint3Dhom1(s)
    },
    screenToRayDelta: function(e, t) {
        var i = this.renderer.getViewportHeight() / 2
          , s = this.renderer.getViewportWidth() / 2
          , e = e - s
          , t = t - i
          , n = Math.tan(this.state.fov / 2 * Math.PI / 180)
          , a = n * this.renderer.getViewportWidth() / this.renderer.getViewportHeight()
          , r = e * a / s
          , o = t * n / i
          , l = -1;
        return {
            x: r,
            y: o,
            z: l
        }
    },
    smoothRotateToXY: function(e, t) {
        var i = this.screenToPolar(e, t);
        this.smoothRotateTo(this.snapYaw(i.yaw), this.snapPitch(i.pitch), this.getFov(), this.state.fov / 200)
    },
    ease: function(e, t, i, s) {
        var n = 40 * i;
        s || (s = i / 5);
        var a = i / 1e3
          , r = e - t;
        return r = r > n ? -i : -n > r ? i : Math.abs(r) < s ? -r : Math.abs(r) < a ? 0 : -(i * r) / n
    },
    resetIdle: function() {
        this.idleCounter = 0
    },
    idleTick: function() {
        if (!(this.maxIdleCounter < 0)) {
            ++this.idleCounter,
            this.idleCounter == this.maxIdleCounter && this.autoRotate();
            var e = this;
            setTimeout(function() {
                e.idleTick()
            }, 1e3)
        }
    },
    autoRotateWhenIdle: function(e) {
        if (this.maxIdleCounter = e,
        this.idleCounter = 0,
        !(0 > e) && this.maxIdleCounter > 0) {
            var t = this;
            setTimeout(function() {
                t.idleTick()
            }, 1e3)
        }
    },
    autoRotate: function() {
        var e = this
          , t = this.state.fov / 400
          , i = t
          , s = i;
        this.smoothRotate(function() {
            var t = e.getYaw() + s;
            return e.parameters.minYaw < e.parameters.maxYaw ? (t > e.parameters.maxYaw || t < e.parameters.minYaw) && (s = -s) : t > e.parameters.minYaw || t > e.parameters.maxYaw && (s = -s),
            s
        }, function() {
            return e.ease(e.getPitch(), 0, i)
        }, function() {
            return e.ease(e.getFov(), 45, .1)
        })
    },
    smoothRotateTo: function(e, t, i, s) {
        var n = this;
        this.smoothRotate(function() {
            var t = n.circleDistance(e, n.getYaw())
              , i = -n.ease(0, t, s);
            return Math.abs(i) > .01 ? i : null
        }, function() {
            var e = n.ease(n.getPitch(), t, s);
            return Math.abs(e) > .01 ? e : null
        }, function() {
            var e = n.ease(n.getFov(), i, s);
            return Math.abs(e) > .01 ? e : null
        })
    },
    smoothRotate: function(e, t, i) {
        ++this.smoothrotatePermit;
        var s = this.smoothrotatePermit;
        if (t || e || i) {
            var n = this
              , a = {
                dy: e,
                dp: t,
                df: i,
                t: (new Date).getTime()
            }
              , r = function() {
                if (n.smoothrotatePermit == s) {
                    var e = (new Date).getTime()
                      , t = e - a.t;
                    a.t = e;
                    var i = !1;
                    if (a.dy) {
                        var o = a.dy(t);
                        null != o ? (i = !0,
                        n.setYaw(n.getYaw() + o)) : a.dy = null
                    }
                    if (a.dp) {
                        var o = a.dp(t);
                        null != o ? (i = !0,
                        n.setPitch(n.getPitch() + o)) : a.dp = null
                    }
                    if (a.df) {
                        var o = a.df(t);
                        null != o ? (i = !0,
                        n.setFov(n.getFov() + o)) : a.df = null
                    }
                    n.render(),
                    i && n.browser.requestAnimationFrame(r, n.renderer.getElement())
                }
            };
            r()
        }
    },
    mouseWheel: function(e) {
        var t = 0;
        e || (e = window.event),
        e.wheelDelta ? (t = e.wheelDelta / 120,
        window.opera && (t = -t)) : e.detail && (t = -e.detail),
        t && this.mouseWheelHandler(t),
        e.preventDefault && e.preventDefault(),
        e.returnValue = !1
    },
    mouseWheelHandler: function(e) {
        var t = this
          , i = null;
        e > 0 && this.getFov() > this.parameters.minFov && (i = .9 * this.getFov()),
        0 > e && this.getFov() < this.parameters.maxFov && (i = this.getFov() / .9),
        null != i && this.smoothRotate(null, null, function() {
            var e = (i - t.getFov()) / 1.5;
            return Math.abs(e) > .01 ? e : null
        })
    },
    fullScreen: function(e) {
        if (!this.fullScreenHandler) {
            var t = document.createElement("div");
            t.style.position = "absolute",
            t.style.fontSize = "16pt",
            t.style.top = "128px",
            t.style.width = "100%",
            t.style.color = "white",
            t.style.padding = "16px",
            t.style.zIndex = "9999",
            t.style.textAlign = "center",
            t.style.opacity = "0.75",
            t.innerHTML = "<span style='border-radius: 16px; -moz-border-radius: 16px; padding: 16px; padding-left: 32px; padding-right: 32px; background:black'>Press Esc to exit full screen mode.</span>";
            var i = this;
            this.fullScreenHandler = new bigshot.FullScreen(this.container),
            this.fullScreenHandler.restoreSize = null == this.sizeContainer,
            this.fullScreenHandler.addOnResize(function() {
                i.onresize()
            }),
            this.fullScreenHandler.addOnClose(function() {
                if (t.parentNode)
                    try {
                        div.removeChild(t)
                    } catch (e) {}
                i.fullScreenHandler = null
            }),
            e && this.fullScreenHandler.addOnClose(function() {
                e()
            }),
            this.removeEventListeners(),
            this.fullScreenHandler.open(),
            this.addEventListeners();
            var s = function() {
                i.render()
            };
            return setTimeout(s, 1e3),
            setTimeout(s, 2e3),
            setTimeout(s, 3e3),
            this.fullScreenHandler.getRootElement() && (this.fullScreenHandler.getRootElement().appendChild(t),
            setTimeout(function() {
                var e = .75
                  , i = function() {
                    if (e -= .02,
                    t.parentNode)
                        if (0 >= e) {
                            t.style.display = "none";
                            try {
                                div.removeChild(t)
                            } catch (e) {}
                        } else
                            t.style.opacity = e,
                            setTimeout(i, 20)
                };
                setTimeout(i, 20)
            }, 3500)),
            function() {
                i.removeEventListeners(),
                i.fullScreenHandler.close(),
                i.addEventListeners()
            }
        }
    },
    onresize: function() {
        if (null != this.fullScreenHandler && this.fullScreenHandler.isFullScreen) {
            this.container.style.width = window.innerWidth + "px",
            this.container.style.height = window.innerHeight + "px";
            var e = this.browser.getElementSize(this.container);
            this.renderer.resize(e.w, e.h)
        } else if (this.sizeContainer) {
            var e = this.browser.getElementSize(this.sizeContainer);
            this.renderer.resize(e.w, e.h)
        }
        this.renderer.onresize(),
        this.renderAsap()
    },
    renderAsap: function() {
        if (!this.renderAsapPermitTaken && !this.disposed) {
            this.renderAsapPermitTaken = !0;
            var e = this;
            this.browser.requestAnimationFrame(function() {
                e.renderAsapPermitTaken = !1,
                e.render()
            }, this.renderer.getElement())
        }
    },
    autoResizeContainer: function(e) {
        this.sizeContainer = e
    }
},
bigshot.Object.extend(bigshot.VRPanorama, bigshot.EventDispatcher),
bigshot.VRHotspot = function(e) {
    this.panorama = e,
    this.clippingStrategy = bigshot.VRHotspot.CLIP_ADJUST(e)
}
,
bigshot.VRHotspot.CLIP_FRACTION = function(e, t) {
    return function(i) {
        var s = {
            x0: Math.max(i.x, 0),
            y0: Math.max(i.y, 0),
            x1: Math.min(i.x + i.w, e.renderer.getViewportWidth()),
            y1: Math.min(i.y + i.h, e.renderer.getViewportHeight())
        }
          , n = i.w * i.h
          , a = s.x1 - s.x0
          , r = s.y1 - s.y0;
        if (a > 0 && r > 0) {
            var o = a * r;
            return o / n >= t
        }
        return !1
    }
}
,
bigshot.VRHotspot.CLIP_CENTER = function(e) {
    return function(t) {
        var i = {
            x: t.x + t.w / 2,
            y: t.y + t.h / 2
        };
        return i.x >= 0 && i.x < e.renderer.getViewportWidth() && i.y >= 0 && i.y < e.renderer.getViewportHeight()
    }
}
,
bigshot.VRHotspot.CLIP_ADJUST = function(e) {
    return function(t) {
        return t.x < 0 && (t.w -= -t.x,
        t.x = 0),
        t.y < 0 && (t.h -= -t.y,
        t.y = 0),
        t.x + t.w > e.renderer.getViewportWidth() && (t.w = e.renderer.getViewportWidth() - t.x - 1),
        t.y + t.h > e.renderer.getViewportHeight() && (t.h = e.renderer.getViewportHeight() - t.y - 1),
        t.w > 0 && t.h > 0
    }
}
,
bigshot.VRHotspot.CLIP_ZOOM = function(e, t, i) {
    return function(s) {
        if (s.x >= 0 && s.y >= 0 && s.x + t.w < e.renderer.getViewportWidth() && s.y + t.h < e.renderer.getViewportHeight())
            return s.w = t.w,
            s.h = t.h,
            !0;
        var n = 0;
        if (s.x < 0 && (n = Math.max(-s.x, n)),
        s.y < 0 && (n = Math.max(-s.y, n)),
        s.x + t.w > e.renderer.getViewportWidth() && (n = Math.max(s.x + t.w - e.renderer.getViewportWidth(), n)),
        s.y + t.h > e.renderer.getViewportHeight() && (n = Math.max(s.y + t.h - e.renderer.getViewportHeight(), n)),
        n /= e.renderer.getViewportHeight(),
        n > i)
            return !1;
        var a = 1 / (1 + n);
        return s.w = t.w * a,
        s.h = t.w * a,
        s.x < 0 && (s.x = 0),
        s.y < 0 && (s.y = 0),
        s.x + s.w > e.renderer.getViewportWidth() && (s.x = e.renderer.getViewportWidth() - s.w),
        s.y + s.h > e.renderer.getViewportHeight() && (s.y = e.renderer.getViewportHeight() - s.h),
        !0
    }
}
,
bigshot.VRHotspot.CLIP_FADE = function(e, t) {
    return function(i) {
        var s = Math.min(i.x, i.y, e.renderer.getViewportWidth() - (i.x + i.w), e.renderer.getViewportHeight() - (i.y + i.h));
        return !(0 >= s) && (t >= s ? (i.opacity = s / t,
        !0) : (i.opacity = 1,
        !0))
    }
}
,
bigshot.VRHotspot.prototype = {
    layout: function() {},
    rotate: function(e, t, i) {
        var s = e * Math.PI / 180
          , n = Matrix.Rotation(s, $V([t.x, t.y, t.z])).ensure4x4();
        return n.xPoint3Dhom1(i)
    },
    toVector: function(e, t) {
        var i = {
            x: 0,
            y: 0,
            z: -1
        };
        return i = this.rotate(-t, {
            x: 1,
            y: 0,
            z: 0
        }, i),
        i = this.rotate(-e, {
            x: 0,
            y: 1,
            z: 0
        }, i)
    },
    toScreen: function(e) {
        var t = this.panorama.renderer.transformToScreen(e);
        return t
    },
    clip: function(e) {
        return this.clippingStrategy(e)
    }
},
bigshot.VRPointHotspot = function(e, t, i, s, n, a) {
    bigshot.VRHotspot.call(this, e),
    this.element = s,
    this.offsetX = n,
    this.offsetY = a,
    this.point = this.toVector(t, i)
}
,
bigshot.VRPointHotspot.prototype = {
    layout: function() {
        var e = this.toScreen(this.point)
          , t = !1;
        if (null != e) {
            var i = this.panorama.browser.getElementSize(this.element);
            e.w = i.w,
            e.h = i.h,
            e.x += this.offsetX,
            e.y += this.offsetY,
            this.clip(e) && (this.element.style.top = e.y + "px",
            this.element.style.left = e.x + "px",
            this.element.style.width = e.w + "px",
            this.element.style.height = e.h + "px",
            e.opacity && (this.element.style.opacity = e.opacity),
            this.element.style.visibility = "inherit",
            t = !0)
        }
        t || (this.element.style.visibility = "hidden")
    }
},
bigshot.Object.extend(bigshot.VRPointHotspot, bigshot.VRHotspot),
bigshot.Object.validate("bigshot.VRPointHotspot", bigshot.VRHotspot),
bigshot.VRRectangleHotspot = function(e, t, i, s, n, a) {
    bigshot.VRHotspot.call(this, e),
    this.element = a,
    this.point0 = this.toVector(t, i),
    this.point1 = this.toVector(s, n)
}
,
bigshot.VRRectangleHotspot.prototype = {
    layout: function() {
        var e = this.toScreen(this.point0)
          , t = this.toScreen(this.point1)
          , i = !1;
        if (null != e && null != t) {
            var s = {
                x: e.x,
                y: e.y,
                opacity: 1,
                w: t.x - e.x,
                h: t.y - e.y
            };
            this.clip(s) && (this.element.style.top = s.y + "px",
            this.element.style.left = s.x + "px",
            this.element.style.width = s.w + "px",
            this.element.style.height = s.h + "px",
            this.element.style.visibility = "inherit",
            i = !0)
        }
        i || (this.element.style.visibility = "hidden")
    }
},
bigshot.Object.extend(bigshot.VRRectangleHotspot, bigshot.VRHotspot),
bigshot.Object.validate("bigshot.VRRectangleHotspot", bigshot.VRHotspot),
bigshot.AdaptiveLODMonitorParameters = function(e) {
    if (this.vrPanorama = null,
    this.targetFps = 30,
    this.tolerance = .3,
    this.rate = .1,
    this.minMag = 1.5,
    this.maxMag = 16,
    this.hqRenderMag = 1.5,
    this.hqRenderDelay = 2e3,
    this.hqRenderInterval = 1e3,
    e)
        for (var t in e)
            this[t] = e[t];
    return this.merge = function(e, t) {
        for (var i in e)
            (t || !this[i]) && (this[i] = e[i])
    }
    ,
    this
}
,
bigshot.AdaptiveLODMonitor = function(e) {
    this.setParameters(e),
    this.currentAdaptiveMagnification = e.vrPanorama.getMaxTextureMagnification(),
    this.frames = 0,
    this.samples = 0,
    this.renderTimeTotal = 0,
    this.renderTimeLast = 0,
    this.samplesLast = 0,
    this.startTime = 0,
    this.lastRender = 0,
    this.hqRender = !1,
    this.hqMode = !1,
    this.hqRenderWaiting = !1,
    this.enabled = !0;
    var t = this;
    this.listenerFunction = function(e, i, s) {
        t.listener(e, i, s)
    }
}
,
bigshot.AdaptiveLODMonitor.prototype = {
    averageRenderTime: function() {
        return this.samples > 0 ? this.renderTimeTotal / this.samples : -1
    },
    setParameters: function(e) {
        this.parameters = e,
        this.targetTime = 1e3 / this.parameters.targetFps,
        this.lowerTime = this.targetTime / (1 + this.parameters.tolerance),
        this.upperTime = this.targetTime * (1 + this.parameters.tolerance)
    },
    setEnabled: function(e) {
        this.enabled = e
    },
    averageRenderTimeLast: function() {
        return this.samples > 0 ? this.renderTimeLast / this.samplesLast : -1
    },
    getListener: function() {
        return this.listenerFunction
    },
    increaseDetail: function() {
        this.currentAdaptiveMagnification = Math.max(this.parameters.minMag, this.currentAdaptiveMagnification / (1 + this.parameters.rate))
    },
    decreaseDetail: function() {
        this.currentAdaptiveMagnification = Math.min(this.parameters.maxMag, this.currentAdaptiveMagnification * (1 + this.parameters.rate))
    },
    sample: function() {
        var e = (new Date).getTime() - this.startTime;
        if (this.samples++,
        this.renderTimeTotal += e,
        this.samplesLast++,
        this.renderTimeLast += e,
        this.samplesLast > 4) {
            var t = this.renderTimeLast / this.samplesLast;
            t < this.lowerTime ? this.increaseDetail() : t > this.upperTime && this.decreaseDetail(),
            this.samplesLast = 0,
            this.renderTimeLast = 0
        }
    },
    hqRenderTick: function() {
        if (this.lastRender < (new Date).getTime() - this.parameters.hqRenderDelay)
            this.hqRender = !0,
            this.hqMode = !0,
            this.enabled && (this.parameters.vrPanorama.setMaxTextureMagnification(this.parameters.hqRenderMag),
            this.parameters.vrPanorama.render()),
            this.hqRender = !1,
            this.hqRenderWaiting = !1;
        else {
            var e = this;
            setTimeout(function() {
                e.hqRenderTick()
            }, this.parameters.hqRenderInterval)
        }
    },
    listener: function(e, t) {
        if (this.enabled && !this.hqRender) {
            if (this.hqMode && t == bigshot.VRPanorama.ONRENDER_TEXTURE_UPDATE)
                return void this.parameters.vrPanorama.setMaxTextureMagnification(this.parameters.minMag);
            if (this.hqMode = !1,
            this.parameters.vrPanorama.setMaxTextureMagnification(this.currentAdaptiveMagnification),
            this.frames++,
            (this.frames < 20 || this.frames % 5 == 0) && e == bigshot.VRPanorama.ONRENDER_BEGIN) {
                this.startTime = (new Date).getTime(),
                this.lastRender = this.startTime;
                var i = this;
                setTimeout(function() {
                    i.sample()
                }, 1),
                this.hqRenderWaiting || (this.hqRenderWaiting = !0,
                setTimeout(function() {
                    i.hqRenderTick()
                }, this.parameters.hqRenderInterval))
            }
        }
    }
}),
define("bigshot", ["glutils", "sylvester"], function(e) {
    return function() {
        var t;
        return t || e.bigshot
    }
}(this)),
function(e, t) {
    "undefined" != typeof module ? module.exports = t() : "function" == typeof define && "undefined" != typeof define.amd ? define("swfobject", t) : e.swfobject = t()
}(this, function() {
    function e() {
        if (!H) {
            try {
                var e = z.getElementsByTagName("body")[0].appendChild(m("span"));
                e.parentNode.removeChild(e)
            } catch (e) {
                return
            }
            H = !0;
            for (var t = $.length, i = 0; i < t; i++)
                $[i]()
        }
    }
    function t(e) {
        H ? e() : $[$.length] = e
    }
    function i(e) {
        if (typeof O.addEventListener != M)
            O.addEventListener("load", e, !1);
        else if (typeof z.addEventListener != M)
            z.addEventListener("load", e, !1);
        else if (typeof O.attachEvent != M)
            v(O, "onload", e);
        else if ("function" == typeof O.onload) {
            var t = O.onload;
            O.onload = function() {
                t(),
                e()
            }
        } else
            O.onload = e
    }
    function s() {
        q ? n() : a()
    }
    function n() {
        var e = z.getElementsByTagName("body")[0]
          , t = m(E);
        t.setAttribute("type", L);
        var i = e.appendChild(t);
        if (i) {
            var s = 0;
            !function() {
                if (typeof i.GetVariable != M) {
                    var n = i.GetVariable("$version");
                    n && (n = n.split(" ")[1].split(","),
                    U.pv = [parseInt(n[0], 10), parseInt(n[1], 10), parseInt(n[2], 10)])
                } else if (s < 10)
                    return s++,
                    void setTimeout(arguments.callee, 10);
                e.removeChild(t),
                i = null,
                a()
            }()
        } else
            a()
    }
    function a() {
        var e = F.length;
        if (e > 0)
            for (var t = 0; t < e; t++) {
                var i = F[t].id
                  , s = F[t].callbackFn
                  , n = {
                    success: !1,
                    id: i
                };
                if (U.pv[0] > 0) {
                    var a = g(i);
                    if (a)
                        if (!b(F[t].swfVersion) || U.wk && U.wk < 312)
                            if (F[t].expressInstall && o()) {
                                var c = {};
                                c.data = F[t].expressInstall,
                                c.width = a.getAttribute("width") || "0",
                                c.height = a.getAttribute("height") || "0",
                                a.getAttribute("class") && (c.styleclass = a.getAttribute("class")),
                                a.getAttribute("align") && (c.align = a.getAttribute("align"));
                                for (var d = {}, u = a.getElementsByTagName("param"), p = u.length, f = 0; f < p; f++)
                                    "movie" != u[f].getAttribute("name").toLowerCase() && (d[u[f].getAttribute("name")] = u[f].getAttribute("value"));
                                l(c, d, i, s)
                            } else
                                h(a),
                                s && s(n);
                        else
                            w(i, !0),
                            s && (n.success = !0,
                            n.ref = r(i),
                            s(n))
                } else if (w(i, !0),
                s) {
                    var m = r(i);
                    m && typeof m.SetVariable != M && (n.success = !0,
                    n.ref = m),
                    s(n)
                }
            }
    }
    function r(e) {
        var t = null
          , i = g(e);
        if (i && "OBJECT" == i.nodeName)
            if (typeof i.SetVariable != M)
                t = i;
            else {
                var s = i.getElementsByTagName(E)[0];
                s && (t = s)
            }
        return t
    }
    function o() {
        return !B && b("6.0.65") && (U.win || U.mac) && !(U.wk && U.wk < 312)
    }
    function l(e, t, i, s) {
        B = !0,
        C = s || null,
        T = {
            success: !1,
            id: i
        };
        var n = g(i);
        if (n) {
            "OBJECT" == n.nodeName ? (k = c(n),
            x = null) : (k = n,
            x = i),
            e.id = R,
            (typeof e.width == M || !/%$/.test(e.width) && parseInt(e.width, 10) < 310) && (e.width = "310"),
            (typeof e.height == M || !/%$/.test(e.height) && parseInt(e.height, 10) < 137) && (e.height = "137"),
            z.title = z.title.slice(0, 47) + " - Flash Player Installation";
            var a = U.ie && U.win ? "ActiveX" : "PlugIn"
              , r = "MMredirectURL=" + O.location.toString().replace(/&/g, "%26") + "&MMplayerType=" + a + "&MMdoctitle=" + z.title;
            if (typeof t.flashvars != M ? t.flashvars += "&" + r : t.flashvars = r,
            U.ie && U.win && 4 != n.readyState) {
                var o = m("div");
                i += "SWFObjectNew",
                o.setAttribute("id", i),
                n.parentNode.insertBefore(o, n),
                n.style.display = "none",
                function() {
                    4 == n.readyState ? n.parentNode.removeChild(n) : setTimeout(arguments.callee, 10)
                }()
            }
            d(e, t, i)
        }
    }
    function h(e) {
        if (U.ie && U.win && 4 != e.readyState) {
            var t = m("div");
            e.parentNode.insertBefore(t, e),
            t.parentNode.replaceChild(c(e), t),
            e.style.display = "none",
            function() {
                4 == e.readyState ? e.parentNode.removeChild(e) : setTimeout(arguments.callee, 10)
            }()
        } else
            e.parentNode.replaceChild(c(e), e)
    }
    function c(e) {
        var t = m("div");
        if (U.win && U.ie)
            t.innerHTML = e.innerHTML;
        else {
            var i = e.getElementsByTagName(E)[0];
            if (i) {
                var s = i.childNodes;
                if (s)
                    for (var n = s.length, a = 0; a < n; a++)
                        1 == s[a].nodeType && "PARAM" == s[a].nodeName || 8 == s[a].nodeType || t.appendChild(s[a].cloneNode(!0))
            }
        }
        return t
    }
    function d(e, t, i) {
        var s, n = g(i);
        if (U.wk && U.wk < 312)
            return s;
        if (n)
            if (typeof e.id == M && (e.id = i),
            U.ie && U.win) {
                var a = "";
                for (var r in e)
                    e[r] != Object.prototype[r] && ("data" == r.toLowerCase() ? t.movie = e[r] : "styleclass" == r.toLowerCase() ? a += ' class="' + e[r] + '"' : "classid" != r.toLowerCase() && (a += " " + r + '="' + e[r] + '"'));
                var o = "";
                for (var l in t)
                    t[l] != Object.prototype[l] && (o += '<param name="' + l + '" value="' + t[l] + '" />');
                n.outerHTML = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"' + a + ">" + o + "</object>",
                V[V.length] = e.id,
                s = g(e.id)
            } else {
                var h = m(E);
                h.setAttribute("type", L);
                for (var c in e)
                    e[c] != Object.prototype[c] && ("styleclass" == c.toLowerCase() ? h.setAttribute("class", e[c]) : "classid" != c.toLowerCase() && h.setAttribute(c, e[c]));
                for (var d in t)
                    t[d] != Object.prototype[d] && "movie" != d.toLowerCase() && u(h, d, t[d]);
                n.parentNode.replaceChild(h, n),
                s = h
            }
        return s
    }
    function u(e, t, i) {
        var s = m("param");
        s.setAttribute("name", t),
        s.setAttribute("value", i),
        e.appendChild(s)
    }
    function p(e) {
        var t = g(e);
        t && "OBJECT" == t.nodeName && (U.ie && U.win ? (t.style.display = "none",
        function() {
            4 == t.readyState ? f(e) : setTimeout(arguments.callee, 10)
        }()) : t.parentNode.removeChild(t))
    }
    function f(e) {
        var t = g(e);
        if (t) {
            for (var i in t)
                "function" == typeof t[i] && (t[i] = null);
            t.parentNode.removeChild(t)
        }
    }
    function g(e) {
        var t = null;
        try {
            t = z.getElementById(e)
        } catch (e) {}
        return t
    }
    function m(e) {
        return z.createElement(e)
    }
    function v(e, t, i) {
        e.attachEvent(t, i),
        N[N.length] = [e, t, i]
    }
    function b(e) {
        var t = U.pv
          , i = e.split(".");
        return i[0] = parseInt(i[0], 10),
        i[1] = parseInt(i[1], 10) || 0,
        i[2] = parseInt(i[2], 10) || 0,
        t[0] > i[0] || t[0] == i[0] && t[1] > i[1] || t[0] == i[0] && t[1] == i[1] && t[2] >= i[2]
    }
    function y(e, t, i, s) {
        if (!U.ie || !U.mac) {
            var n = z.getElementsByTagName("head")[0];
            if (n) {
                var a = i && "string" == typeof i ? i : "screen";
                if (s && (S = null,
                P = null),
                !S || P != a) {
                    var r = m("style");
                    r.setAttribute("type", "text/css"),
                    r.setAttribute("media", a),
                    S = n.appendChild(r),
                    U.ie && U.win && typeof z.styleSheets != M && z.styleSheets.length > 0 && (S = z.styleSheets[z.styleSheets.length - 1]),
                    P = a
                }
                U.ie && U.win ? S && typeof S.addRule == E && S.addRule(e, t) : S && typeof z.createTextNode != M && S.appendChild(z.createTextNode(e + " {" + t + "}"))
            }
        }
    }
    function w(e, t) {
        if (W) {
            var i = t ? "visible" : "hidden";
            H && g(e) ? g(e).style.visibility = i : y("#" + e, "visibility:" + i)
        }
    }
    function _(e) {
        var t = /[\\\"<>\.;]/
          , i = null != t.exec(e);
        return i && typeof encodeURIComponent != M ? encodeURIComponent(e) : e
    }
    var k, x, C, T, S, P, M = "undefined", E = "object", A = "Shockwave Flash", D = "ShockwaveFlash.ShockwaveFlash", L = "application/x-shockwave-flash", R = "SWFObjectExprInst", j = "onreadystatechange", O = window, z = document, I = navigator, q = !1, $ = [s], F = [], V = [], N = [], H = !1, B = !1, W = !0, U = function() {
        var e = typeof z.getElementById != M && typeof z.getElementsByTagName != M && typeof z.createElement != M
          , t = I.userAgent.toLowerCase()
          , i = I.platform.toLowerCase()
          , s = i ? /win/.test(i) : /win/.test(t)
          , n = i ? /mac/.test(i) : /mac/.test(t)
          , a = !!/webkit/.test(t) && parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/, "$1"))
          , r = !1
          , o = [0, 0, 0]
          , l = null;
        if (typeof I.plugins != M && typeof I.plugins[A] == E)
            l = I.plugins[A].description,
            !l || typeof I.mimeTypes != M && I.mimeTypes[L] && !I.mimeTypes[L].enabledPlugin || (q = !0,
            r = !1,
            l = l.replace(/^.*\s+(\S+\s+\S+$)/, "$1"),
            o[0] = parseInt(l.replace(/^(.*)\..*$/, "$1"), 10),
            o[1] = parseInt(l.replace(/^.*\.(.*)\s.*$/, "$1"), 10),
            o[2] = /[a-zA-Z]/.test(l) ? parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/, "$1"), 10) : 0);
        else if (typeof O.ActiveXObject != M)
            try {
                var h = new ActiveXObject(D);
                h && (l = h.GetVariable("$version"),
                l && (r = !0,
                l = l.split(" ")[1].split(","),
                o = [parseInt(l[0], 10), parseInt(l[1], 10), parseInt(l[2], 10)]))
            } catch (e) {}
        return {
            w3: e,
            pv: o,
            wk: a,
            ie: r,
            win: s,
            mac: n
        }
    }();
    (function() {
        U.w3 && ((typeof z.readyState != M && "complete" == z.readyState || typeof z.readyState == M && (z.getElementsByTagName("body")[0] || z.body)) && e(),
        H || (typeof z.addEventListener != M && z.addEventListener("DOMContentLoaded", e, !1),
        U.ie && U.win && (z.attachEvent(j, function() {
            "complete" == z.readyState && (z.detachEvent(j, arguments.callee),
            e())
        }),
        O == top && !function() {
            if (!H) {
                try {
                    z.documentElement.doScroll("left")
                } catch (e) {
                    return void setTimeout(arguments.callee, 0)
                }
                e()
            }
        }()),
        U.wk && !function() {
            if (!H)
                return /loaded|complete/.test(z.readyState) ? void e() : void setTimeout(arguments.callee, 0)
        }(),
        i(e)))
    }
    )(),
    function() {
        U.ie && U.win && window.attachEvent("onunload", function() {
            for (var e = N.length, t = 0; t < e; t++)
                N[t][0].detachEvent(N[t][1], N[t][2]);
            for (var i = V.length, s = 0; s < i; s++)
                p(V[s]);
            for (var n in U)
                U[n] = null;
            U = null;
            for (var a in swfobject)
                swfobject[a] = null;
            swfobject = null
        })
    }();
    return {
        registerObject: function(e, t, i, s) {
            if (U.w3 && e && t) {
                var n = {};
                n.id = e,
                n.swfVersion = t,
                n.expressInstall = i,
                n.callbackFn = s,
                F[F.length] = n,
                w(e, !1)
            } else
                s && s({
                    success: !1,
                    id: e
                })
        },
        getObjectById: function(e) {
            if (U.w3)
                return r(e)
        },
        embedSWF: function(e, i, s, n, a, r, h, c, u, p) {
            var f = {
                success: !1,
                id: i
            };
            U.w3 && !(U.wk && U.wk < 312) && e && i && s && n && a ? (w(i, !1),
            t(function() {
                s += "",
                n += "";
                var t = {};
                if (u && typeof u === E)
                    for (var g in u)
                        t[g] = u[g];
                t.data = e,
                t.width = s,
                t.height = n;
                var m = {};
                if (c && typeof c === E)
                    for (var v in c)
                        m[v] = c[v];
                if (h && typeof h === E)
                    for (var y in h)
                        typeof m.flashvars != M ? m.flashvars += "&" + y + "=" + h[y] : m.flashvars = y + "=" + h[y];
                if (b(a)) {
                    var _ = d(t, m, i);
                    t.id == i && w(i, !0),
                    f.success = !0,
                    f.ref = _
                } else {
                    if (r && o())
                        return t.data = r,
                        void l(t, m, i, p);
                    w(i, !0)
                }
                p && p(f)
            })) : p && p(f)
        },
        switchOffAutoHideShow: function() {
            W = !1
        },
        ua: U,
        getFlashPlayerVersion: function() {
            return {
                major: U.pv[0],
                minor: U.pv[1],
                release: U.pv[2]
            }
        },
        hasFlashPlayerVersion: b,
        createSWF: function(e, t, i) {
            return U.w3 ? d(e, t, i) : void 0
        },
        showExpressInstall: function(e, t, i, s) {
            U.w3 && o() && l(e, t, i, s)
        },
        removeSWF: function(e) {
            U.w3 && p(e)
        },
        createCSS: function(e, t, i, s) {
            U.w3 && y(e, t, i, s)
        },
        addDomLoadEvent: t,
        addLoadEvent: i,
        getQueryParamValue: function(e) {
            var t = z.location.search || z.location.hash;
            if (t) {
                if (/\?/.test(t) && (t = t.split("?")[1]),
                null == e)
                    return _(t);
                for (var i = t.split("&"), s = 0; s < i.length; s++)
                    if (i[s].substring(0, i[s].indexOf("=")) == e)
                        return _(i[s].substring(i[s].indexOf("=") + 1))
            }
            return ""
        },
        expressInstallCallback: function() {
            if (B) {
                var e = g(R);
                e && k && (e.parentNode.replaceChild(k, e),
                x && (w(x, !0),
                U.ie && U.win && (k.style.display = "block")),
                C && C(T)),
                B = !1
            }
        }
    }
}),
define("utils/panoramas", ["require", "underscore", "backbone", "utils/browser", "utils/overlay", "utils/pubsub", "bigshot", "swfobject", "utils/metrics"], function(e) {
    var t = (e("underscore"),
    e("backbone"))
      , i = e("utils/browser")
      , s = e("utils/overlay")
      , n = e("utils/pubsub")
      , a = e("bigshot")
      , r = e("swfobject")
      , o = e("utils/metrics")
      , l = function() {
        var e, l, h, c = null, d = !(Modernizr.csstransforms3d || Modernizr.webgl), u = '<div class="noflashtext"><a href="/en_US/flashupgrade.html?fl=false">Flash 11.2 is necessary<br/>to view this content.<br/>Upgrade here.</a></div>', p = !1, f = !1, g = !1, m = {};
        m.image_map = '<div class="radar"><img src="/images/course/panorama_radar.png" width="41" height="43" /></div><div class="button"><img src="/images/misc/trans.gif" width="12" height="12" /></div>',
        this.parsePanoObject = function(e) {
            var t = e;
            t.set("title", e.get("alt")),
            void 0 != t.get("title") && "" != t.get("title") || t.set("title", e.get("description")),
            t.set("archive_path", e.get("path")),
            t.set("img_width", parseInt(t.get("btn_width")) + 20)
        }
        ;
        var v = t.View.extend({
            el: "#overlayPanoramaContent",
            events: {
                "click .close a": "close",
                "mousedown #overlayPanoramaMessage": "closeMessage",
                touchstart: "closeMessage",
                mousedown: "closeMessage",
                "click #overlayPanoramaFullscreen": "vrFullScreen"
            },
            initialize: function() {
                g || (this.setElement(s.$("#overlayPanoramaContent")),
                this.$panocontainer = this.$("#overlayPanoramaContentWrapper"),
                a.WebGLUtil.isWebGLSupported() ? c = a.WebGLUtil.createContext(document.createElement("canvas")).LINEAR : e = "css",
                d = d || void 0 == c && !Global.Browser.ios,
                this.setupPanoOverlays(),
                g = !0)
            },
            setupPanoOverlays: function() {
                if (this.$("#overlayPanoramaImageMap").html(m.image_map),
                !d && !f && "css" == e) {
                    var t = this.$panocontainer.children().detach();
                    this.$el.append(t)
                }
            },
            closeMessage: function(e) {
                var t = this.$("#overlayPanoramaMessage").fadeOut();
                "overlayPanoramaMessage" === $(e.currentTarget).attr("id") && t.siblings("canvas, object").trigger("click")
            },
            loadPanorama: function(e) {
                this.pano = e,
                this.openOverlayPano(),
                s.setPanoContainerSize(),
                this.setupVRPano()
            },
            openOverlayPano: function() {
                s.open(),
                s.$(".overlay_panel").hide(),
                s.$("#overlayPanorama").show()
            },
            closeOverlayPano: function() {
                n.off("throttle:resize", this.resizePano, this),
                n.off("windowsize:global:enter", this.disableFlashImageMap, this),
                n.off("windowsize:global:exit", this.enableFlashImageMap, this),
                $(window).off(".pano"),
                window.onEnter = function() {}
                ,
                f || d ? (r.removeSWF("flashcontainer"),
                this.$("#flashcontainer").remove()) : l && !l.disposed && l.dispose(),
                this.$("#showyawbtn").remove(),
                this.pano = void 0
            },
            close: function() {
                o.measureApp(this.pano.data("measure"), "Close View"),
                this.closeOverlayPano()
            },
            setupVRPano: function() {
                var e = !1
                  , t = this.pano.data("pano")
                  , i = this.pano.data("measure");
                if (f || d)
                    if (r.hasFlashPlayerVersion("11.2.0")) {
                        var s = t.archive_path.replace("images", "en_US/xml/man");
                        s = s.slice(0, -1),
                        s = s.substr(0, s.lastIndexOf("/") + 1);
                        var h = {
                            xml: s + t.id + ".xml"
                        }
                          , g = {
                            menu: "false",
                            quality: "high",
                            wmode: "transparent",
                            allowfullscreen: "true"
                        };
                        void 0 !== document.getElementById("flashcontainer") && this.$("#flashcontainer").remove(),
                        this.$panocontainer.html('<div id="flashcontainer"></div>'),
                        r.embedSWF("/mas/flash/SaladoPlayer-1.3.swf", "flashcontainer", "100%", "100%", "10.1.0", !1, h, g),
                        this.$("#overlayPanoramaFullscreen, #overlayPanoramaImageMap").hide(),
                        $(window).off(".pano").on("resize.pano", this.resizePano),
                        n.on("windowsize:global:enter", this.disableFlashImageMap, this).on("windowsize:global:exit", this.enableFlashImageMap, this),
                        o.measureApp(i, "Select View", "Flash", t.title),
                        e = !0,
                        window.onEnter = function() {
                            Win.size() === Win.sizes.global && document.getElementById("flashcontainer").toggleImageMap(!1)
                        }
                    } else
                        this.$panocontainer.html(u);
                else {
                    l = new a.VRPanorama(new a.VRPanoramaParameters({
                        basePath: t.archive_path,
                        container: this.$panocontainer[0],
                        fileSystemType: "dzi",
                        textureMinFilter: c,
                        textureMagFilter: c,
                        maxPitch: 33,
                        minPitch: -37.5,
                        yawOffset: t.yawOffset,
                        pitchOffset: 0,
                        rollOffset: 0
                    })),
                    l.setDragMode(a.VRPanorama.DRAG_GRAB),
                    l.autoResizeContainer(this.el),
                    l.onresize();
                    var m = this.loadImageMap(t)
                      , v = -1;
                    l.addRenderListener(function(e, i, s) {
                        if (e === a.VRPanorama.ONRENDER_BEGIN) {
                            var n = this.showYaw(t.yawOffset);
                            n = parseInt(n, 10),
                            n !== v && (m(v, n),
                            v = n)
                        }
                    }
                    .bind(this)),
                    l.render(),
                    n.on("throttle:resize", this.resizePano, this),
                    o.measureApp(i, "Select View", "HTML5", t.title),
                    e = !0
                }
                if (e) {
                    this.initPanoramaMessage();
                    var b = this.$("#overlayPanoramaTitle");
                    b.html("360&#176; View of " + t.title),
                    !p || f || d || (void 0 != document.getElementById("showyawbtn") && this.$("#showyawbtn,#showdiffbtn,#moveCenter").remove(),
                    this.$el.append('<div id="showyawbtn" onclick="alert(showYaw(\'' + t.yawOffset + '\'))" style="position:absolute;left:0;top:0;z-index:15;background:black;color:white;cursor:pointer;">Show Yaw</div><div id="showdiffbtn" onclick="alert(showMapDiff(\'' + t.mapDiff + '\'))" style="position:absolute;left:0;top:1em;z-index:15;background:black;color:white;cursor:pointer;">Show Diff</div><div id="moveCenter" style="position:absolute;right:5px;bottom:48px;z-index:15;width:38px;font-size:16px;text-align:center;background: #CCCCCC"><a href="#" onclick="showMapCoords();return false;" style="font-size:10px;float:left;margin-bottom:0.5em;">Show Coords</a><br/><a href="#" onclick="moveCenter(\'up\');return false;">^</a><br/><a href="#" onclick="moveCenter(\'down\');return false;">v</a><br/><a href="#" onclick="moveCenter(\'left\');return false;"><</a><br/><a href="#" onclick="moveCenter(\'right\');return false;">></a></div>'),
                    this.$("#showyawbtn").on("click", function(e) {
                        alert(this.showYaw(t.yawOffset))
                    }),
                    this.$("#showdiffbtn").on("click", function(e) {
                        alert(this.showMapDiff(t.mapDiff))
                    })),
                    b.css("margin-left", -1 * parseInt(b.width() / 2 + 10) + "px")
                } else
                    this.$("#overlayPanoramaMessage").hide(),
                    this.$("#overlayPanoramaTitle").hide()
            },
            resizePano: function() {
                s.setPanoContainerSize(),
                l && l.onresize()
            },
            enableFlashImageMap: function() {
                document.getElementById("flashcontainer").toggleImageMap(!0)
            },
            disableFlashImageMap: function() {
                document.getElementById("flashcontainer").toggleImageMap(!1)
            },
            showYaw: function(e) {
                return e = l.getYaw() + 1 * e,
                e > 360 && (e -= 360),
                e
            },
            showMapDiff: function(e) {
                var t = l.getYaw() + 1 * e;
                return t > 360 && (t -= 360),
                t
            },
            moveCenter: function(e) {
                switch (e) {
                case "up":
                    this.$("#overlayPanoramaImageMap").find(".radar,.button").css("top", "-=1");
                    break;
                case "down":
                    this.$("#overlayPanoramaImageMap").find(".radar,.button").css("top", "+=1");
                    break;
                case "left":
                    this.$("#overlayPanoramaImageMap").find(".radar,.button").css("left", "-=1");
                    break;
                case "right":
                    this.$("#overlayPanoramaImageMap").find(".radar,.button").css("left", "+=1")
                }
            },
            showMapCoords: function() {
                var e = parseInt(this.$("#overlayPanoramaImageMap").find(".radar").css("left"), 10)
                  , t = parseInt(this.$("#overlayPanoramaImageMap").find(".radar").css("top"), 10);
                alert(e + "," + t)
            },
            loadImageMap: function(e) {
                var t = e.archive_path + "minimap.jpg"
                  , i = this.$("#overlayPanoramaImageMap");
                i.css("background-image", 'url("' + t + '")');
                var s = i.find(".radar")
                  , n = s.find("img").get(0)
                  , a = i.find(".button")
                  , r = parseInt(e.mapDiff, 10) || 0
                  , o = e.mapCoord;
                return void 0 !== o && "" !== o && (o = o.split(","),
                s.css({
                    left: o[0] + "px",
                    top: o[1] + "px"
                }),
                a.css({
                    left: o[0] - 6 + "px",
                    top: o[1] - 6 + "px"
                })),
                function(e, t) {
                    var i = t + r - 135;
                    return n.style[Modernizr.prefixed("transform")] = "rotate(" + i + "deg)",
                    t
                }
            },
            initPanoramaMessage: function() {
                this.$("#overlayPanoramaMessage").show(),
                i.ios && setTimeout(function() {
                    this.$("#overlayPanoramaMessage").fadeOut()
                }
                .bind(this), 2500),
                i.mobiledevice && this.$("#overlayPanoramaFullscreen").hide()
            },
            vrFullScreen: function() {
                h && delete h;
                var e = l;
                savedParent = this.$panocontainer[0].parentNode;
                var t = document.createElement("div");
                t.style.position = "fixed",
                t.style.top = "0px",
                t.style.left = "50%",
                t.style.zIndex = "9999";
                var i = document.createElement("div");
                i.className = "vrContainerOuterFullScreen",
                i = t.appendChild(i),
                t = document.body.appendChild(t),
                this.$("#overlayPanoramaFullscreen, #overlayPanorama .close").hide(),
                h = e.fullScreen(function() {
                    delete h,
                    document.body.removeChild(t),
                    this.$panocontainer.css("width", ""),
                    this.$panocontainer.css("height", ""),
                    this.$("#overlayPanoramaFullscreen, #overlayPanorama .close").show()
                })
            }
        });
        this.view = new v
    };
    return new l
}),
define("text!templates/panorama-card.html!strip", [], function() {
    return '<div class="videoItem panorama" style=" width: 100%; ">\n <div class="photo image">\n <!--[if lt IE 9]><span></span><![endif]-->\n <img src="/images/now/trans_16x9.gif" data-high="<%= thumb %>" data-medium="<%= thumb.replace(\'1024x576\',\'720x405\') %>" data-lower="<%= thumb.replace(\'1024x576\',\'720x405\') %>" border="0" alt="<%= title %>" />\n </div>\n <div class="centered_icon view360"></div>\n <div class="caption"><%= title %></div>\n <%= galleryname %>\n</div>\''
}),
define("views/panorama-carousel", ["require", "backbone", "utils/carousel", "utils/browser", "views/base-carousel", "settings", "utils/metrics", "utils/panoramas", "text!templates/panorama-card.html!strip"], function(e) {
    var t = (e("backbone"),
    e("utils/carousel"))
      , i = e("utils/browser")
      , s = e("views/base-carousel")
      , n = (e("settings"),
    e("utils/metrics"),
    e("utils/panoramas"))
      , a = e("text!templates/panorama-card.html!strip")
      , r = s.extend({
        template: _.template(a),
        events: {
            "click div.panorama": "launchPano"
        },
        initialize: function(e) {
            this.logger = new eventsCore.util.Logger("PanoramaCarouselView"),
            s.prototype.initialize.apply(this, arguments)
        },
        loadContentCarousel: function() {
            this.populateCards(),
            this.clearUnveil(),
            this.unveil(this.$(".carousel").find(".image img"), {
                horizontal: !0
            }),
            this.carousel = new t;
            var e = this.getCarouselOptions();
            this.carousel.init(this.$(".carousel"), e)
        },
        populateCards: function() {
            for (var e = this.options.panoramas, t = this.$(".carousel").empty(), s = ("Hole No. " + this.options.hole + " ",
            0), a = e.length; s < a; s++) {
                var r = e.at(s);
                if (n.parsePanoObject(r),
                0 == s && r.set("galleryname", "<div class='label text'>360&#176; View</div>"),
                !i.apptype.ipad || "no_ipad" != r.get("device")) {
                    var o = this.template(r.attributes)
                      , l = $(o);
                    l.data("pano", r.attributes),
                    l.data("measure", "Course:Hole " + this.options.hole + ":360 Views"),
                    t.append(l)
                }
            }
        },
        launchPano: function(e) {
            var t = $(e.currentTarget);
            if (i.app) {
                var s = t.data("pano").title;
                Common.sendiOSMessage("panorama", [this.options.hole, s])
            } else
                n.view.loadPanorama(t)
        }
    });
    return r
}),
define("text!templates/hole-story.html!strip", [], function() {
    return '<span class="details_title">THE HOLE STORY</span>\n<p><%= desc %></p>\n<p><%= text %></p>\n<div id="ipadonly">\n\t<span class="details_title">NAMING THE HOLE</span>\n</div>\n<div class="hole_flower">\n\t<div class="flower">\n\t\t<img src="<%= plant_image%>" alt="temp flower">\n\t</div>\n\t<div class="flower_content">\n\t\t<span class="details_title">NAMING THE HOLE</span>\n\t\t<p><%= plant_text %></p>\n\t</div>\n</div>'
}),
define("text!templates/hole-info.html!strip", [], function() {
    return '<div class="holeInfo text centered">\n <div class="holeTitle single">Hole No. <%= hole_number %>, <%= plant_name %></div>\n <div class="holeTitle stacked">\n <span class="holeNo">Hole No. <%= hole_number %>,</span>\n <span class="holeValue"><%= plant_name %></span>\n </div>\n <div class="par stacked">\n <span class="holeLabel">Par</span>\n <span class="holeValue"><%= par %></span>\n </div>\n <div class="divider">&nbsp;</div>\n <div class="yards stacked">\n <span class="holeLabel">Yards</span>\n <span class="holeValue"><%= yds %></span>\n </div>\n</div>'
}),
define("text!templates/hole-video.html!strip", [], function() {
    return '<div class="containerVideo bodyVideo" video-id="<%= videoID %>">\n <a href="#">\n <div class="image"><img class="srcpic" data-high=" <%= pictureH %>" data-medium="<%= pictureL %>" data-lower="<%= pictureL %>" src="<%= pictureH %>"></div>\n <div class="centered_icon play"></div>\n <div class="caption"></div>\n </a>\n <section class="ecp-player">\n <div id="wrapper_<%= videoID %>" class="masters-ecp playerwrapperContainer"></div>\n </section>\n</div>'
}),
define("text!templates/hole-footer.html!strip", [], function() {
    return '<div class="previous">\n\t<a href="/en_US/course/hole<%= prev %>.html" class="footerlink chevron left black ">\n <!--[if lt IE 9]><span></span><![endif]--> \n <div class="mobileText">Hole </div>No. <%= prev %>\n </a>\n</div>\n<div class="current">\n\t<a href="/en_US/course/index.html">Course Map</a>\n</div>\n<div class="next"><a href="/en_US/course/hole<%= next %>.html" class="footerlink chevron right black"><div class="mobileText">Hole </div>No. <%= next %>\n\t<!--[if lt IE 9]><span></span><![endif]--></a>\n</div>'
}),
define("utils/gallery", ["require", "jquery", "underscore", "utils/querystring", "backbone", "utils/window-size", "utils/metrics", "utils/pubsub", "utils/common", "utils/ratio-resize", "relatedcontent", "utils/date-util", "utils/social", "unveil", "jquery.jscroll", "modernizr"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = e("utils/querystring")
      , n = e("backbone")
      , a = e("utils/window-size")
      , r = e("utils/metrics")
      , o = e("utils/pubsub")
      , l = e("utils/common")
      , h = e("utils/ratio-resize")
      , c = e("relatedcontent")
      , d = e("utils/date-util")
      , u = e("utils/social");
    e("unveil"),
    e("jquery.jscroll"),
    e("modernizr");
    var p = {};
    p.hole_image = i.template('<img src="/images/now/trans_16x9.gif"data-lower="<%= low %>" data-medium="<%= medium %>" data-high="<%= high %>" border="0" alt="<%= caption %>" class="width"/>');
    var f = n.View.extend({
        el: "#photoGallery",
        defaults: {
            image: "#photoImage",
            next: ".bx-control-right",
            prev: ".bx-control-left",
            path: "/en_US/xml/gen/course/hero_gallery/hole12.json",
            start: 1,
            hole_number: 1,
            related_id: "",
            share_url: ""
        },
        data: [],
        cache: [],
        photos: [],
        container: "",
        current: -1,
        max: -1,
        fs: !1,
        view: "gallery",
        title: "",
        events: {
            "click .bx-control-left a": "loadPrevImage",
            "click .bx-control-right a": "loadNextImage",
            "click #fullscreen a": "toggleFullScreen"
        },
        initialize: function(e) {
            this.options = i.extend({}, this.defaults, e),
            this.share_url = location.pathname.substring(0),
            this.photo_id = s.get("id"),
            this.start = parseInt(this.options.start, 10),
            this.listenTo(o, "throttle:resize", this.resizeImage),
            this.options.load_details && t(document).on("keydown.gallery", function(e) {
                return this.keyAction(e)
            }
            .bind(this)).on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange", this.goFullScreen.bind(this))
        },
        render: function() {
            "" !== this.options.related_id && this.loadRelatedContent("galleries"),
            this.loadGalleryData();
            var e, t = 0;
            return this.options.title && (this.options.title.$el ? e = this.options.title : t = this.options.title.height() - l.header_height),
            this.ratio_resize = new h({
                view: this,
                height: t,
                title: e,
                hcallback: function(e, t) {
                    var i = this.$(this.options.image).find("img");
                    i.addClass("height").removeClass("width").css("height", t);
                    var s = this.$(".related_gallery");
                    if (s.length > 0) {
                        var n = Math.floor(t * (16 / 9));
                        s.css({
                            width: n
                        })
                    }
                },
                wcallback: function(e, t) {
                    var i = this.$(this.options.image).find("img");
                    i.addClass("width").removeClass("height").css("height", "");
                    var s = this.$(".related_gallery");
                    s.length > 0 && "" !== s.css("width") && s.css({
                        width: ""
                    })
                }
            }),
            this
        },
        onDispose: function() {
            this.ratio_resize.dispose(),
            this.options.load_details && t(document).off("keydown.gallery fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange")
        },
        cacheImage: function(e) {
            var t, s = this.getImageSize();
            if (t = e <= this.max ? this.photos[e - 1] : {
                imagefileL: "/images/backgrounds/related_gallery_sm.jpg",
                imagefileM: "/images/backgrounds/related_gallery_med.jpg",
                imagefileH: "/images/backgrounds/related_gallery.jpg"
            },
            i.indexOf(this.cache, t[s]) === -1) {
                var n = document.createElement("img");
                n.src = t[s],
                this.cache.push(t[s])
            }
        },
        disable: function(e) {
            return e.addClass("disabled"),
            e
        },
        enable: function(e) {
            return e.removeClass("disabled"),
            e
        },
        getImageSize: function() {
            var e;
            switch (a.size()) {
            case a.sizes.desktop:
                e = "imagefileH";
                break;
            case a.sizes.tablet:
                e = "imagefileM";
                break;
            case a.sizes.global:
            default:
                e = "imagefileL"
            }
            return e
        },
        toggleFullScreen: function(e) {
            if (Modernizr.fullscreen)
                if (e.preventDefault(),
                l.isFullScreen())
                    document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.msExitFullscreen && document.msExitFullscreen();
                else {
                    var t = this.$el.get(0);
                    t.requestFullscreen ? t.requestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.webkitRequestFullScreen ? t.webkitRequestFullscreen() : t.msRequestFullscreen && t.msRequestFullscreen()
                }
        },
        goFullScreen: function() {
            l.isFullScreen() ? this.enterFullScreen() : this.exitFullscreen()
        },
        enterFullScreen: function() {
            this.$el.addClass("infullscreen"),
            this.fs = !0,
            setTimeout(function() {
                this.resizeImage()
            }
            .bind(this), 400),
            r.measureApp("Photo Gallery", "Full Screen")
        },
        exitFullscreen: function() {
            this.$el.removeClass("infullscreen"),
            this.fs = !1,
            r.measureApp("Photo Gallery", "Full Screen", "Exit")
        },
        keyAction: function(e) {
            var t;
            t = e.keyCode || e.which,
            37 === t && this.current > 1 ? this.populateGallery(this.current - 1, "Previous") : 39 === t && (this.current < this.max ? this.populateGallery(this.current + 1, "Next") : void 0 !== this.related_list && this.related_list.content.length > 0 && this.current === this.max && this.populateGallery(this.max + 1, "Related"))
        },
        loadGalleryData: function() {
            t.ajax({
                url: this.options.path,
                type: "GET",
                dataType: "json",
                cache: "true",
                async: !0,
                success: function(e) {
                    if (this.data = e.gallery,
                    this.photos = e.gallery.item,
                    this.max = this.photos.length,
                    this.start = 0,
                    null !== this.photo_id)
                        for (var t = 0; t < this.max; t++)
                            if (this.photos[t].id === this.photo_id) {
                                this.start = t + 1;
                                break
                            }
                    !isNaN(this.start) && this.start > 0 && this.start < this.max && (this.options.start = this.start),
                    this.title = this.data.title[0],
                    this.populateGallery(this.options.start, "init")
                }
                .bind(this),
                error: function(e, t) {
                    console.log("Error loading: " + e.responseText)
                }
            })
        },
        loadGalleryDetails: function(e) {
            this.$("#photoCaption").html(e.lcaption),
            this.$("#photoCount").html(this.current + "/" + this.max),
            this.$("#photoDate").html(e.ldate),
            this.$("#photoCredit").html(e.credit)
        },
        loadImage: function(e) {
            this.trigger("related:unload");
            var t = this.photos[e - 1]
              , i = p.hole_image({
                low: t.imagefileL,
                medium: t.imagefileM,
                high: t.imagefileH,
                caption: t.scaption
            });
            this.$(this.options.image).html(i),
            this.unveil(this.$(this.options.image).find("img")),
            this.options.load_details && this.loadGalleryDetails(t),
            this.resizeImage(),
            this.share_url = t.photopage,
            "" === this.share_url && (this.share_url = location.pathname + "?id=" + t.id);
            var s = "Photo Gallery"
              , n = this.title;
            1 === this.max && (s = "Photo",
            n = t.lcaption);
            var a = this.$("#titleShare, #share");
            u.loadSocialOverlay(a, this.share_url, s, r.page_title, n)
        },
        loadNextImage: function(e) {
            e.preventDefault(),
            this.current < this.max ? this.populateGallery(this.current + 1, "Next") : void 0 !== this.related_list && this.related_list.content.length > 0 && this.current === this.max && this.populateGallery(this.max + 1, "Related")
        },
        loadPrevImage: function(e) {
            e.preventDefault(),
            this.current > 1 && this.populateGallery(this.current - 1, "Previous")
        },
        loadRelatedContent: function(e, t) {
            void 0 === t && (t = "/en_US/cms/feeds/galleriesLastX.json"),
            this.related_list = new c.List({
                container: this.$el,
                id: this.options.related_id,
                url: t,
                type: "galleries" === e ? "content" : "tag",
                related: "galleries" !== e,
                filter: e,
                limit: 1,
                link_suffix: {
                    article: "gallery_recommended"
                },
                callback: function(e) {
                    ("success" === e.status && 0 === this.content.length || "error" === e.status) && (console.info("this.loadRelatedContent: " + e.status + ", length: " + this.content.length),
                    "url" !== this.type && (this.reinitialize({
                        type: "url"
                    }),
                    this.load()))
                }
            });
            var i = this.related_list.convertContentItem;
            this.related_list.convertContentItem = function(e) {
                var t = i(e)
                  , s = new Date(t.get("published").split(" ", 1)[0]);
                return t.set("published", d.getLongDayOfWeek(s) + ", " + d.getLongMonth(s) + " " + s.getDate() + ", " + s.getFullYear()),
                t
            }
            ,
            this.related_list.load()
        },
        loadRelatedImage: function(e) {
            this.trigger("related:load");
            var t = this.related_list.content[0]
              , i = '<img src="/images/now/trans_16x9.gif" data-lower="/images/backgrounds/related_gallery_sm.jpg" data-medium="/images/backgrounds/related_gallery_med.jpg" data-high="/images/backgrounds/related_gallery.jpg" border="0" alt="" class="width"/>';
            this.$(this.options.image).html(i),
            this.unveil(this.$(this.options.image).find("img")),
            this.resizeImage();
            var s = this.$(".related_gallery");
            s.find("a").attr("href", t.get("link")),
            s.find("img.gallery_thumb").attr("src", t.get("image").medium),
            s.find("img").attr("alt", t.get("caption")),
            s.find(".title").html(t.get("caption")),
            s.find(".date").html(t.get("published") + '<span class="count">' + t.get("photo_count") + "</span>")
        },
        populateGallery: function(e, i) {
            this.current = e,
            "Related" !== i ? this.loadImage(e) : this.loadRelatedImage(),
            this.$(".label").show(),
            1 === this.current && this.disable(t(this.options.prev)),
            this.current === this.max && this.disable(t(this.options.next)),
            "Related" === i && this.disable(t(this.options.next)),
            this.current > 1 && (this.enable(t(this.options.prev)),
            this.cacheImage(e - 1)),
            (this.current < this.max || this.current === this.max && void 0 !== this.related_list && this.related_list.content.length > 0) && (this.enable(t(this.options.next)),
            this.cacheImage(e + 1)),
            void 0 !== i && "init" !== i && ("Course" === r.page_section ? "Next" === i ? r.measureApp("Course", "" + this.options.hole_number, "Right") : r.measureApp("Course", "" + this.options.hole_number, "Left") : (this.prop31 = "related gallery",
            this.prop20 = "",
            this.prop16 = "",
            "Related" !== i && (this.prop31 = this.photos[e - 1].id,
            this.prop20 = this.photos[e - 1].credit,
            this.prop16 = this.title),
            r.trackS({
                prop16: this.prop16,
                prop20: this.prop20,
                prop31: this.prop31
            }),
            r.measureApp("Photo Gallery", i)))
        },
        resizeImage: function() {
            this.ratio_resize.calculateRatio()
        }
    });
    return f
}),
define("controllers/hole-detail", ["require", "jquery", "underscore", "backbone", "baseview", "utils/metrics", "utils/common", "settings", "utils/scores", "models/hole", "collections/holes", "models/panorama", "collections/panoramas", "utils/panoramas", "views/panorama-carousel", "views/photo-carousel", "text!templates/hole-story.html!strip", "text!templates/hole-info.html!strip", "text!templates/hole-video.html!strip", "text!templates/hole-footer.html!strip", "utils/video-player", "utils/title-selector", "utils/gallery", "utils/channel-controller", "utils/geoblock", "utils/pubsub"], function(e) {
    var t = e("jquery")
      , i = e("underscore")
      , s = (e("backbone"),
    e("baseview"))
      , n = e("utils/metrics")
      , a = (e("utils/common"),
    e("settings"))
      , r = (e("utils/scores"),
    e("models/hole"),
    e("collections/holes"))
      , o = (e("models/panorama"),
    e("collections/panoramas"))
      , l = (e("utils/panoramas"),
    e("views/panorama-carousel"))
      , h = e("views/photo-carousel")
      , c = e("text!templates/hole-story.html!strip")
      , d = e("text!templates/hole-info.html!strip")
      , u = e("text!templates/hole-video.html!strip")
      , p = e("text!templates/hole-footer.html!strip")
      , f = e("utils/video-player")
      , g = e("utils/title-selector")
      , m = e("utils/gallery")
      , v = e("utils/channel-controller")
      , b = e("utils/geoblock")
      , y = e("utils/pubsub")
      , w = {};
    w.page_selector = i.template('<div class="selector"><a href="/en_US/course/hole<%= hole %>.html">HOLE NO. <%= hole %></a></div>'),
    w.hole_stats = i.template('<div class="border_info extra_border_padding">Historical Avg: <%= hist_avg %></div><div class="border_info extra_border_padding">Low Year: <%= low_avg %></div><div class="border_info">High Year: <%= high_avg %></div>');
    var _ = s.extend({
        events: {
            "click .bodyVideo > a": "videoPlayClick"
        },
        story_content_tmpl: i.template(c),
        hole_info_tmpl: i.template(d),
        video_content_tmpl: i.template(u),
        footer_tmpl: i.template(p),
        carousels: [],
        onInitialization: function() {
            s.prototype.onInitialization.apply(this, arguments),
            this.listenTo(f, "player:complete", this.onCompleteEvent),
            this.listenTo(f, "player:play", this.onPlayEvent),
            this.listenTo(f, "player:stop", this.onStopEvent),
            this.listenTo(y, "livevideo:reset", this.loadChannel),
            this.titleSelector = new g({
                el: this.$("#pageTitle"),
                max: 1,
                measure_key: ["Course", "Hole Info Details"]
            }),
            f.setSinglePlayerMode()
        },
        onRender: function() {
            r.fetch({
                success: function() {
                    this.model = r.get(this.jsonData.hole),
                    this.model.url = "/en_US/xml/man/course/hole" + this.model.id + ".json",
                    this.loadPageComponents()
                }
                .bind(this)
            }),
            this.titleSelector.render()
        },
        processPageVars: function() {
            this.pageTitle = "" + this.jsonData.hole
        },
        loadPageComponents: function() {
            this.model.fetch({
                success: function(e, t, i) {
                    this.loadHeroGallery(),
                    this.loadHole(),
                    this.loadStats(),
                    this.loadPhotoCarousel(),
                    this.populateVideo(),
                    this.loadChannel()
                }
                .bind(this)
            }),
            r.panos_fetched ? this.load360s() : this.load360Data()
        },
        onDispose: function() {
            f.dispose(),
            this.titleSelector.dispose(),
            this.hero_gallery.dispose();
            for (var e = 0, t = this.carousels.length; e < t; e++)
                this.carousels[e].dispose()
        },
        loadHeroGallery: function() {
            this.gallery_path = "/en_US/xml/gen/course/hero_gallery/hole" + this.model.get("number") + ".json",
            this.hero_gallery = new m({
                path: this.gallery_path,
                hole_number: this.model.id,
                title: this.titleSelector
            }).render()
        },
        loadHole: function() {
            var e = w.page_selector({
                hole: this.model.get("number")
            });
            this.$("#holeSelector").html(e);
            var t = this.hole_info_tmpl({
                hole_number: this.model.get("number"),
                plant_name: this.model.get("plant"),
                par: this.model.get("par"),
                yds: this.model.get("yds")
            });
            this.$("#holeDetails").html(t);
            var i = this.story_content_tmpl({
                desc: this.model.get("holeDesc"),
                text: this.model.get("hist"),
                plant_image: "/images/course/P_hole" + this.model.get("number") + ".jpg",
                plant_text: this.model.get("plantText")
            });
            if (this.$("#courseStory").html(i),
            this.hole_number = this.model.get("number"),
            1 == this.hole_number)
                var s = 18;
            else
                var s = parseInt(this.hole_number) - 1;
            if (18 == this.hole_number)
                var n = 1;
            else
                var n = parseInt(this.hole_number) + 1;
            var a = this.footer_tmpl({
                prev: s,
                next: n
            });
            this.$("#footer_nav").html(a)
        },
        loadStats: function() {
            a.Scores.pre ? this.$(".pretour").show() : this.$(".pretour").hide(),
            a.Scores.live || a.Scores.post ? this.$(".midtour").show() : this.$(".midtour").hide();
            var e = w.hole_stats({
                hist_avg: this.model.get("cumAvSrks"),
                low_avg: this.model.get("lowAvStks"),
                high_avg: this.model.get("highAvStks")
            });
            this.$(".hole_stats").html(e)
        },
        loadPhotoCarousel: function() {
            var e = "/en_US/xml/gen/course/action_gallery/h" + this.model.get("number") + ".json"
              , t = new h({
                el: this.$(".articleCarousel.photoCarousel"),
                article_photos: e,
                metrics_keys: {
                    photo: "Bottom Gallery"
                }
            }).render();
            this.carousels.push(t)
        },
        populateVideo: function() {
            var e = "video_body_" + this.model.get("number")
              , t = "Hole " + this.model.get("number") + " Flyover";
            this.videoObj = {
                id: e,
                type: "vod",
                title: t,
                contentType: "Flyover",
                pictureL: this.model.get("videothumb"),
                pictureM: "",
                pictureH: this.model.get("videoslate"),
                wwwdash: "",
                wwwhlshigh: "",
                pdl: this.model.get("highlink"),
                link: "/en_US/course/hole" + this.model.get("number") + ".html",
                length: "",
                description: this.model.get("vText")
            };
            var i = this.video_content_tmpl({
                pictureH: this.model.get("videoslate"),
                pictureL: this.model.get("videothumb"),
                videoID: e
            });
            this.$("#flyoverMedia").html(i),
            this.channelId = this.model.channels[this.model.get("number")]
        },
        loadChannel: function() {
            if (void 0 !== this.channelId)
                if (this.channel_object = v.getChannel(this.channelId),
                b.isBlocked())
                    this.$("#liveHole").hide();
                else if (v.checkChannelStatus(this.channel_object)) {
                    this.$("#liveHole").show();
                    var e = "/en_US/watch/live.html?videoChannel=" + this.channelId + "&promo=live_course"
                      , t = this.channel_object.get("name")
                      , i = '<a href="' + e + '" class="livetag chevron right white">' + t + " <!--[if lt IE 9]><span></span><![endif]--></a>";
                    this.$("#liveHole").find(".liveTitle").html(i)
                } else
                    this.$("#liveHole").hide();
            else
                this.$("#liveHole").hide()
        },
        videoPlayClick: function(e) {
            var i = t(e.target).closest("div[video-id]").attr("video-id");
            f.loadVideo(this.videoObj, i, {
                metrics_prefix: n.page_section + ":7"
            }),
            n.measureAppMediaLoad(n.page_section, n.page_title, this.videoObj.title)
        },
        onPlayEvent: function(e) {
            this.logger.info("onPlayEvent - data:%o", e)
        },
        onStopEvent: function(e) {
            this.logger.info("onStopEvent - data:%o", e)
        },
        onCompleteEvent: function(e) {
            this.logger.info("onCompleteEvent - data:%o", e)
        },
        load360Data: function() {
            t.getJSON("/en_US/xml/gen/course/360s.json").success(function(e) {
                for (var t = e.holes.length - 1; t >= 0; t--) {
                    var i = e.holes[t].panos
                      , s = new o(i);
                    r.at(t).set("panoramas", s)
                }
                r.panos_fetched = !0,
                this.load360s()
            }
            .bind(this)).error(function() {
                this.$("#panorama").hide()
            }
            .bind(this))
        },
        load360s: function() {
            if (this.model.get("panoramas").length > 0) {
                this.$("#panorama").show();
                var e = new l({
                    el: this.$("#panoramaCarousel"),
                    hole: this.model.get("number"),
                    panoramas: this.model.get("panoramas")
                }).render();
                this.carousels.push(e)
            } else
                this.$("#panorama").hide()
        }
    });
    return _
}),
define("models/pairings", ["require", "jquery", "backbone"], function(e) {
    var t = (e("jquery"),
    e("backbone"))
      , i = t.Model.extend({
        url: "/en_US/xml/gen/scores/pairings.json",
        parse: function(e) {
            return e
        }
    });
    return i
}),
define("text!templates/pairings-group.html!strip", [], function() {
    return '<div class="pairingsGroupText" data-rawtime="">\n\t<span class="groupLabel"> Group <%= group.number %>, </span>\n\t<div class="mastersPairingsTime"> \n\t\t<%= group.time %>\n\t\t<span>\n\t\t\t<span>EDT</span>\n\t\t</span>\n\t</div>\t\n\t<div class="yourPairingsTime <%= display %>">\n\t\t<%= clientTime %> \n\t</div>\n\t\n\t<% if(splitTee) { %>\n\t\t<span>*</span>\n\t<% } %>\n\t<div class="playerCard"> </div>\n</div>\n'
}),
!function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define("moment", t) : e.moment = t()
}(this, function() {
    "use strict";
    function e() {
        return us.apply(null, arguments)
    }
    function t(e) {
        us = e
    }
    function i(e) {
        return e instanceof Array || "[object Array]" === Object.prototype.toString.call(e)
    }
    function s(e) {
        return null != e && "[object Object]" === Object.prototype.toString.call(e)
    }
    function n(e) {
        var t;
        for (t in e)
            return !1;
        return !0
    }
    function a(e) {
        return e instanceof Date || "[object Date]" === Object.prototype.toString.call(e)
    }
    function r(e, t) {
        var i, s = [];
        for (i = 0; i < e.length; ++i)
            s.push(t(e[i], i));
        return s
    }
    function o(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    function l(e, t) {
        for (var i in t)
            o(t, i) && (e[i] = t[i]);
        return o(t, "toString") && (e.toString = t.toString),
        o(t, "valueOf") && (e.valueOf = t.valueOf),
        e
    }
    function h(e, t, i, s) {
        return mt(e, t, i, s, !0).utc()
    }
    function c() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1,
            parsedDateParts: [],
            meridiem: null
        }
    }
    function d(e) {
        return null == e._pf && (e._pf = c()),
        e._pf
    }
    function u(e) {
        if (null == e._isValid) {
            var t = d(e)
              , i = ps.call(t.parsedDateParts, function(e) {
                return null != e
            })
              , s = !isNaN(e._d.getTime()) && t.overflow < 0 && !t.empty && !t.invalidMonth && !t.invalidWeekday && !t.nullInput && !t.invalidFormat && !t.userInvalidated && (!t.meridiem || t.meridiem && i);
            if (e._strict && (s = s && 0 === t.charsLeftOver && 0 === t.unusedTokens.length && void 0 === t.bigHour),
            null != Object.isFrozen && Object.isFrozen(e))
                return s;
            e._isValid = s
        }
        return e._isValid
    }
    function p(e) {
        var t = h(NaN);
        return null != e ? l(d(t), e) : d(t).userInvalidated = !0,
        t
    }
    function f(e) {
        return void 0 === e
    }
    function g(e, t) {
        var i, s, n;
        if (f(t._isAMomentObject) || (e._isAMomentObject = t._isAMomentObject),
        f(t._i) || (e._i = t._i),
        f(t._f) || (e._f = t._f),
        f(t._l) || (e._l = t._l),
        f(t._strict) || (e._strict = t._strict),
        f(t._tzm) || (e._tzm = t._tzm),
        f(t._isUTC) || (e._isUTC = t._isUTC),
        f(t._offset) || (e._offset = t._offset),
        f(t._pf) || (e._pf = d(t)),
        f(t._locale) || (e._locale = t._locale),
        fs.length > 0)
            for (i in fs)
                s = fs[i],
                n = t[s],
                f(n) || (e[s] = n);
        return e
    }
    function m(t) {
        g(this, t),
        this._d = new Date(null != t._d ? t._d.getTime() : NaN),
        gs === !1 && (gs = !0,
        e.updateOffset(this),
        gs = !1)
    }
    function v(e) {
        return e instanceof m || null != e && null != e._isAMomentObject
    }
    function b(e) {
        return e < 0 ? Math.ceil(e) || 0 : Math.floor(e)
    }
    function y(e) {
        var t = +e
          , i = 0;
        return 0 !== t && isFinite(t) && (i = b(t)),
        i
    }
    function w(e, t, i) {
        var s, n = Math.min(e.length, t.length), a = Math.abs(e.length - t.length), r = 0;
        for (s = 0; s < n; s++)
            (i && e[s] !== t[s] || !i && y(e[s]) !== y(t[s])) && r++;
        return r + a
    }
    function _(t) {
        e.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t)
    }
    function k(t, i) {
        var s = !0;
        return l(function() {
            if (null != e.deprecationHandler && e.deprecationHandler(null, t),
            s) {
                for (var n, a = [], r = 0; r < arguments.length; r++) {
                    if (n = "",
                    "object" == typeof arguments[r]) {
                        n += "\n[" + r + "] ";
                        for (var o in arguments[0])
                            n += o + ": " + arguments[0][o] + ", ";
                        n = n.slice(0, -2)
                    } else
                        n = arguments[r];
                    a.push(n)
                }
                _(t + "\nArguments: " + Array.prototype.slice.call(a).join("") + "\n" + (new Error).stack),
                s = !1
            }
            return i.apply(this, arguments)
        }, i)
    }
    function x(t, i) {
        null != e.deprecationHandler && e.deprecationHandler(t, i),
        ms[t] || (_(i),
        ms[t] = !0)
    }
    function C(e) {
        return e instanceof Function || "[object Function]" === Object.prototype.toString.call(e)
    }
    function T(e) {
        var t, i;
        for (i in e)
            t = e[i],
            C(t) ? this[i] = t : this["_" + i] = t;
        this._config = e,
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
    }
    function S(e, t) {
        var i, n = l({}, e);
        for (i in t)
            o(t, i) && (s(e[i]) && s(t[i]) ? (n[i] = {},
            l(n[i], e[i]),
            l(n[i], t[i])) : null != t[i] ? n[i] = t[i] : delete n[i]);
        for (i in e)
            o(e, i) && !o(t, i) && s(e[i]) && (n[i] = l({}, n[i]));
        return n
    }
    function P(e) {
        null != e && this.set(e)
    }
    function M(e, t, i) {
        var s = this._calendar[e] || this._calendar.sameElse;
        return C(s) ? s.call(t, i) : s
    }
    function E(e) {
        var t = this._longDateFormat[e]
          , i = this._longDateFormat[e.toUpperCase()];
        return t || !i ? t : (this._longDateFormat[e] = i.replace(/MMMM|MM|DD|dddd/g, function(e) {
            return e.slice(1)
        }),
        this._longDateFormat[e])
    }
    function A() {
        return this._invalidDate
    }
    function D(e) {
        return this._ordinal.replace("%d", e)
    }
    function L(e, t, i, s) {
        var n = this._relativeTime[i];
        return C(n) ? n(e, t, i, s) : n.replace(/%d/i, e)
    }
    function R(e, t) {
        var i = this._relativeTime[e > 0 ? "future" : "past"];
        return C(i) ? i(t) : i.replace(/%s/i, t)
    }
    function j(e, t) {
        var i = e.toLowerCase();
        Ts[i] = Ts[i + "s"] = Ts[t] = e
    }
    function O(e) {
        return "string" == typeof e ? Ts[e] || Ts[e.toLowerCase()] : void 0
    }
    function z(e) {
        var t, i, s = {};
        for (i in e)
            o(e, i) && (t = O(i),
            t && (s[t] = e[i]));
        return s
    }
    function I(e, t) {
        Ss[e] = t
    }
    function q(e) {
        var t = [];
        for (var i in e)
            t.push({
                unit: i,
                priority: Ss[i]
            });
        return t.sort(function(e, t) {
            return e.priority - t.priority
        }),
        t
    }
    function $(t, i) {
        return function(s) {
            return null != s ? (V(this, t, s),
            e.updateOffset(this, i),
            this) : F(this, t)
        }
    }
    function F(e, t) {
        return e.isValid() ? e._d["get" + (e._isUTC ? "UTC" : "") + t]() : NaN
    }
    function V(e, t, i) {
        e.isValid() && e._d["set" + (e._isUTC ? "UTC" : "") + t](i)
    }
    function N(e) {
        return e = O(e),
        C(this[e]) ? this[e]() : this
    }
    function H(e, t) {
        if ("object" == typeof e) {
            e = z(e);
            for (var i = q(e), s = 0; s < i.length; s++)
                this[i[s].unit](e[i[s].unit])
        } else if (e = O(e),
        C(this[e]))
            return this[e](t);
        return this
    }
    function B(e, t, i) {
        var s = "" + Math.abs(e)
          , n = t - s.length
          , a = e >= 0;
        return (a ? i ? "+" : "" : "-") + Math.pow(10, Math.max(0, n)).toString().substr(1) + s
    }
    function W(e, t, i, s) {
        var n = s;
        "string" == typeof s && (n = function() {
            return this[s]()
        }
        ),
        e && (As[e] = n),
        t && (As[t[0]] = function() {
            return B(n.apply(this, arguments), t[1], t[2])
        }
        ),
        i && (As[i] = function() {
            return this.localeData().ordinal(n.apply(this, arguments), e)
        }
        )
    }
    function U(e) {
        return e.match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "")
    }
    function G(e) {
        var t, i, s = e.match(Ps);
        for (t = 0,
        i = s.length; t < i; t++)
            As[s[t]] ? s[t] = As[s[t]] : s[t] = U(s[t]);
        return function(t) {
            var n, a = "";
            for (n = 0; n < i; n++)
                a += s[n]instanceof Function ? s[n].call(t, e) : s[n];
            return a
        }
    }
    function Y(e, t) {
        return e.isValid() ? (t = X(t, e.localeData()),
        Es[t] = Es[t] || G(t),
        Es[t](e)) : e.localeData().invalidDate()
    }
    function X(e, t) {
        function i(e) {
            return t.longDateFormat(e) || e
        }
        var s = 5;
        for (Ms.lastIndex = 0; s >= 0 && Ms.test(e); )
            e = e.replace(Ms, i),
            Ms.lastIndex = 0,
            s -= 1;
        return e
    }
    function Q(e, t, i) {
        Ys[e] = C(t) ? t : function(e, s) {
            return e && i ? i : t
        }
    }
    function J(e, t) {
        return o(Ys, e) ? Ys[e](t._strict, t._locale) : new RegExp(Z(e))
    }
    function Z(e) {
        return K(e.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e, t, i, s, n) {
            return t || i || s || n
        }))
    }
    function K(e) {
        return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    }
    function ee(e, t) {
        var i, s = t;
        for ("string" == typeof e && (e = [e]),
        "number" == typeof t && (s = function(e, i) {
            i[t] = y(e)
        }
        ),
        i = 0; i < e.length; i++)
            Xs[e[i]] = s
    }
    function te(e, t) {
        ee(e, function(e, i, s, n) {
            s._w = s._w || {},
            t(e, s._w, s, n)
        })
    }
    function ie(e, t, i) {
        null != t && o(Xs, e) && Xs[e](t, i._a, i, e)
    }
    function se(e, t) {
        return new Date(Date.UTC(e, t + 1, 0)).getUTCDate()
    }
    function ne(e, t) {
        return e ? i(this._months) ? this._months[e.month()] : this._months[(this._months.isFormat || rn).test(t) ? "format" : "standalone"][e.month()] : this._months
    }
    function ae(e, t) {
        return e ? i(this._monthsShort) ? this._monthsShort[e.month()] : this._monthsShort[rn.test(t) ? "format" : "standalone"][e.month()] : this._monthsShort
    }
    function re(e, t, i) {
        var s, n, a, r = e.toLocaleLowerCase();
        if (!this._monthsParse)
            for (this._monthsParse = [],
            this._longMonthsParse = [],
            this._shortMonthsParse = [],
            s = 0; s < 12; ++s)
                a = h([2e3, s]),
                this._shortMonthsParse[s] = this.monthsShort(a, "").toLocaleLowerCase(),
                this._longMonthsParse[s] = this.months(a, "").toLocaleLowerCase();
        return i ? "MMM" === t ? (n = bs.call(this._shortMonthsParse, r),
        n !== -1 ? n : null) : (n = bs.call(this._longMonthsParse, r),
        n !== -1 ? n : null) : "MMM" === t ? (n = bs.call(this._shortMonthsParse, r),
        n !== -1 ? n : (n = bs.call(this._longMonthsParse, r),
        n !== -1 ? n : null)) : (n = bs.call(this._longMonthsParse, r),
        n !== -1 ? n : (n = bs.call(this._shortMonthsParse, r),
        n !== -1 ? n : null))
    }
    function oe(e, t, i) {
        var s, n, a;
        if (this._monthsParseExact)
            return re.call(this, e, t, i);
        for (this._monthsParse || (this._monthsParse = [],
        this._longMonthsParse = [],
        this._shortMonthsParse = []),
        s = 0; s < 12; s++) {
            if (n = h([2e3, s]),
            i && !this._longMonthsParse[s] && (this._longMonthsParse[s] = new RegExp("^" + this.months(n, "").replace(".", "") + "$","i"),
            this._shortMonthsParse[s] = new RegExp("^" + this.monthsShort(n, "").replace(".", "") + "$","i")),
            i || this._monthsParse[s] || (a = "^" + this.months(n, "") + "|^" + this.monthsShort(n, ""),
            this._monthsParse[s] = new RegExp(a.replace(".", ""),"i")),
            i && "MMMM" === t && this._longMonthsParse[s].test(e))
                return s;
            if (i && "MMM" === t && this._shortMonthsParse[s].test(e))
                return s;
            if (!i && this._monthsParse[s].test(e))
                return s
        }
    }
    function le(e, t) {
        var i;
        if (!e.isValid())
            return e;
        if ("string" == typeof t)
            if (/^\d+$/.test(t))
                t = y(t);
            else if (t = e.localeData().monthsParse(t),
            "number" != typeof t)
                return e;
        return i = Math.min(e.date(), se(e.year(), t)),
        e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, i),
        e
    }
    function he(t) {
        return null != t ? (le(this, t),
        e.updateOffset(this, !0),
        this) : F(this, "Month")
    }
    function ce() {
        return se(this.year(), this.month())
    }
    function de(e) {
        return this._monthsParseExact ? (o(this, "_monthsRegex") || pe.call(this),
        e ? this._monthsShortStrictRegex : this._monthsShortRegex) : (o(this, "_monthsShortRegex") || (this._monthsShortRegex = hn),
        this._monthsShortStrictRegex && e ? this._monthsShortStrictRegex : this._monthsShortRegex)
    }
    function ue(e) {
        return this._monthsParseExact ? (o(this, "_monthsRegex") || pe.call(this),
        e ? this._monthsStrictRegex : this._monthsRegex) : (o(this, "_monthsRegex") || (this._monthsRegex = cn),
        this._monthsStrictRegex && e ? this._monthsStrictRegex : this._monthsRegex)
    }
    function pe() {
        function e(e, t) {
            return t.length - e.length
        }
        var t, i, s = [], n = [], a = [];
        for (t = 0; t < 12; t++)
            i = h([2e3, t]),
            s.push(this.monthsShort(i, "")),
            n.push(this.months(i, "")),
            a.push(this.months(i, "")),
            a.push(this.monthsShort(i, ""));
        for (s.sort(e),
        n.sort(e),
        a.sort(e),
        t = 0; t < 12; t++)
            s[t] = K(s[t]),
            n[t] = K(n[t]);
        for (t = 0; t < 24; t++)
            a[t] = K(a[t]);
        this._monthsRegex = new RegExp("^(" + a.join("|") + ")","i"),
        this._monthsShortRegex = this._monthsRegex,
        this._monthsStrictRegex = new RegExp("^(" + n.join("|") + ")","i"),
        this._monthsShortStrictRegex = new RegExp("^(" + s.join("|") + ")","i")
    }
    function fe(e) {
        return ge(e) ? 366 : 365
    }
    function ge(e) {
        return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0
    }
    function me() {
        return ge(this.year())
    }
    function ve(e, t, i, s, n, a, r) {
        var o = new Date(e,t,i,s,n,a,r);
        return e < 100 && e >= 0 && isFinite(o.getFullYear()) && o.setFullYear(e),
        o
    }
    function be(e) {
        var t = new Date(Date.UTC.apply(null, arguments));
        return e < 100 && e >= 0 && isFinite(t.getUTCFullYear()) && t.setUTCFullYear(e),
        t
    }
    function ye(e, t, i) {
        var s = 7 + t - i
          , n = (7 + be(e, 0, s).getUTCDay() - t) % 7;
        return -n + s - 1
    }
    function we(e, t, i, s, n) {
        var a, r, o = (7 + i - s) % 7, l = ye(e, s, n), h = 1 + 7 * (t - 1) + o + l;
        return h <= 0 ? (a = e - 1,
        r = fe(a) + h) : h > fe(e) ? (a = e + 1,
        r = h - fe(e)) : (a = e,
        r = h),
        {
            year: a,
            dayOfYear: r
        }
    }
    function _e(e, t, i) {
        var s, n, a = ye(e.year(), t, i), r = Math.floor((e.dayOfYear() - a - 1) / 7) + 1;
        return r < 1 ? (n = e.year() - 1,
        s = r + ke(n, t, i)) : r > ke(e.year(), t, i) ? (s = r - ke(e.year(), t, i),
        n = e.year() + 1) : (n = e.year(),
        s = r),
        {
            week: s,
            year: n
        }
    }
    function ke(e, t, i) {
        var s = ye(e, t, i)
          , n = ye(e + 1, t, i);
        return (fe(e) - s + n) / 7
    }
    function xe(e) {
        return _e(e, this._week.dow, this._week.doy).week
    }
    function Ce() {
        return this._week.dow
    }
    function Te() {
        return this._week.doy
    }
    function Se(e) {
        var t = this.localeData().week(this);
        return null == e ? t : this.add(7 * (e - t), "d")
    }
    function Pe(e) {
        var t = _e(this, 1, 4).week;
        return null == e ? t : this.add(7 * (e - t), "d")
    }
    function Me(e, t) {
        return "string" != typeof e ? e : isNaN(e) ? (e = t.weekdaysParse(e),
        "number" == typeof e ? e : null) : parseInt(e, 10)
    }
    function Ee(e, t) {
        return "string" == typeof e ? t.weekdaysParse(e) % 7 || 7 : isNaN(e) ? null : e
    }
    function Ae(e, t) {
        return e ? i(this._weekdays) ? this._weekdays[e.day()] : this._weekdays[this._weekdays.isFormat.test(t) ? "format" : "standalone"][e.day()] : this._weekdays
    }
    function De(e) {
        return e ? this._weekdaysShort[e.day()] : this._weekdaysShort
    }
    function Le(e) {
        return e ? this._weekdaysMin[e.day()] : this._weekdaysMin
    }
    function Re(e, t, i) {
        var s, n, a, r = e.toLocaleLowerCase();
        if (!this._weekdaysParse)
            for (this._weekdaysParse = [],
            this._shortWeekdaysParse = [],
            this._minWeekdaysParse = [],
            s = 0; s < 7; ++s)
                a = h([2e3, 1]).day(s),
                this._minWeekdaysParse[s] = this.weekdaysMin(a, "").toLocaleLowerCase(),
                this._shortWeekdaysParse[s] = this.weekdaysShort(a, "").toLocaleLowerCase(),
                this._weekdaysParse[s] = this.weekdays(a, "").toLocaleLowerCase();
        return i ? "dddd" === t ? (n = bs.call(this._weekdaysParse, r),
        n !== -1 ? n : null) : "ddd" === t ? (n = bs.call(this._shortWeekdaysParse, r),
        n !== -1 ? n : null) : (n = bs.call(this._minWeekdaysParse, r),
        n !== -1 ? n : null) : "dddd" === t ? (n = bs.call(this._weekdaysParse, r),
        n !== -1 ? n : (n = bs.call(this._shortWeekdaysParse, r),
        n !== -1 ? n : (n = bs.call(this._minWeekdaysParse, r),
        n !== -1 ? n : null))) : "ddd" === t ? (n = bs.call(this._shortWeekdaysParse, r),
        n !== -1 ? n : (n = bs.call(this._weekdaysParse, r),
        n !== -1 ? n : (n = bs.call(this._minWeekdaysParse, r),
        n !== -1 ? n : null))) : (n = bs.call(this._minWeekdaysParse, r),
        n !== -1 ? n : (n = bs.call(this._weekdaysParse, r),
        n !== -1 ? n : (n = bs.call(this._shortWeekdaysParse, r),
        n !== -1 ? n : null)))
    }
    function je(e, t, i) {
        var s, n, a;
        if (this._weekdaysParseExact)
            return Re.call(this, e, t, i);
        for (this._weekdaysParse || (this._weekdaysParse = [],
        this._minWeekdaysParse = [],
        this._shortWeekdaysParse = [],
        this._fullWeekdaysParse = []),
        s = 0; s < 7; s++) {
            if (n = h([2e3, 1]).day(s),
            i && !this._fullWeekdaysParse[s] && (this._fullWeekdaysParse[s] = new RegExp("^" + this.weekdays(n, "").replace(".", ".?") + "$","i"),
            this._shortWeekdaysParse[s] = new RegExp("^" + this.weekdaysShort(n, "").replace(".", ".?") + "$","i"),
            this._minWeekdaysParse[s] = new RegExp("^" + this.weekdaysMin(n, "").replace(".", ".?") + "$","i")),
            this._weekdaysParse[s] || (a = "^" + this.weekdays(n, "") + "|^" + this.weekdaysShort(n, "") + "|^" + this.weekdaysMin(n, ""),
            this._weekdaysParse[s] = new RegExp(a.replace(".", ""),"i")),
            i && "dddd" === t && this._fullWeekdaysParse[s].test(e))
                return s;
            if (i && "ddd" === t && this._shortWeekdaysParse[s].test(e))
                return s;
            if (i && "dd" === t && this._minWeekdaysParse[s].test(e))
                return s;
            if (!i && this._weekdaysParse[s].test(e))
                return s
        }
    }
    function Oe(e) {
        if (!this.isValid())
            return null != e ? this : NaN;
        var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != e ? (e = Me(e, this.localeData()),
        this.add(e - t, "d")) : t
    }
    function ze(e) {
        if (!this.isValid())
            return null != e ? this : NaN;
        var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == e ? t : this.add(e - t, "d")
    }
    function Ie(e) {
        if (!this.isValid())
            return null != e ? this : NaN;
        if (null != e) {
            var t = Ee(e, this.localeData());
            return this.day(this.day() % 7 ? t : t - 7)
        }
        return this.day() || 7
    }
    function qe(e) {
        return this._weekdaysParseExact ? (o(this, "_weekdaysRegex") || Ve.call(this),
        e ? this._weekdaysStrictRegex : this._weekdaysRegex) : (o(this, "_weekdaysRegex") || (this._weekdaysRegex = mn),
        this._weekdaysStrictRegex && e ? this._weekdaysStrictRegex : this._weekdaysRegex)
    }
    function $e(e) {
        return this._weekdaysParseExact ? (o(this, "_weekdaysRegex") || Ve.call(this),
        e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (o(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = vn),
        this._weekdaysShortStrictRegex && e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex)
    }
    function Fe(e) {
        return this._weekdaysParseExact ? (o(this, "_weekdaysRegex") || Ve.call(this),
        e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (o(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = bn),
        this._weekdaysMinStrictRegex && e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex)
    }
    function Ve() {
        function e(e, t) {
            return t.length - e.length
        }
        var t, i, s, n, a, r = [], o = [], l = [], c = [];
        for (t = 0; t < 7; t++)
            i = h([2e3, 1]).day(t),
            s = this.weekdaysMin(i, ""),
            n = this.weekdaysShort(i, ""),
            a = this.weekdays(i, ""),
            r.push(s),
            o.push(n),
            l.push(a),
            c.push(s),
            c.push(n),
            c.push(a);
        for (r.sort(e),
        o.sort(e),
        l.sort(e),
        c.sort(e),
        t = 0; t < 7; t++)
            o[t] = K(o[t]),
            l[t] = K(l[t]),
            c[t] = K(c[t]);
        this._weekdaysRegex = new RegExp("^(" + c.join("|") + ")","i"),
        this._weekdaysShortRegex = this._weekdaysRegex,
        this._weekdaysMinRegex = this._weekdaysRegex,
        this._weekdaysStrictRegex = new RegExp("^(" + l.join("|") + ")","i"),
        this._weekdaysShortStrictRegex = new RegExp("^(" + o.join("|") + ")","i"),
        this._weekdaysMinStrictRegex = new RegExp("^(" + r.join("|") + ")","i")
    }
    function Ne() {
        return this.hours() % 12 || 12
    }
    function He() {
        return this.hours() || 24
    }
    function Be(e, t) {
        W(e, 0, 0, function() {
            return this.localeData().meridiem(this.hours(), this.minutes(), t)
        })
    }
    function We(e, t) {
        return t._meridiemParse
    }
    function Ue(e) {
        return "p" === (e + "").toLowerCase().charAt(0)
    }
    function Ge(e, t, i) {
        return e > 11 ? i ? "pm" : "PM" : i ? "am" : "AM"
    }
    function Ye(e) {
        return e ? e.toLowerCase().replace("_", "-") : e
    }
    function Xe(e) {
        for (var t, i, s, n, a = 0; a < e.length; ) {
            for (n = Ye(e[a]).split("-"),
            t = n.length,
            i = Ye(e[a + 1]),
            i = i ? i.split("-") : null; t > 0; ) {
                if (s = Qe(n.slice(0, t).join("-")))
                    return s;
                if (i && i.length >= t && w(n, i, !0) >= t - 1)
                    break;
                t--
            }
            a++
        }
        return null
    }
    function Qe(e) {
        var t = null;
        if (!xn[e] && "undefined" != typeof module && module && module.exports)
            try {
                t = yn._abbr,
                require("./locale/" + e),
                Je(t)
            } catch (e) {}
        return xn[e]
    }
    function Je(e, t) {
        var i;
        return e && (i = f(t) ? et(e) : Ze(e, t),
        i && (yn = i)),
        yn._abbr
    }
    function Ze(e, t) {
        if (null !== t) {
            var i = kn;
            return t.abbr = e,
            null != xn[e] ? (x("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),
            i = xn[e]._config) : null != t.parentLocale && (null != xn[t.parentLocale] ? i = xn[t.parentLocale]._config : x("parentLocaleUndefined", "specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),
            xn[e] = new P(S(i, t)),
            Je(e),
            xn[e]
        }
        return delete xn[e],
        null
    }
    function Ke(e, t) {
        if (null != t) {
            var i, s = kn;
            null != xn[e] && (s = xn[e]._config),
            t = S(s, t),
            i = new P(t),
            i.parentLocale = xn[e],
            xn[e] = i,
            Je(e)
        } else
            null != xn[e] && (null != xn[e].parentLocale ? xn[e] = xn[e].parentLocale : null != xn[e] && delete xn[e]);
        return xn[e]
    }
    function et(e) {
        var t;
        if (e && e._locale && e._locale._abbr && (e = e._locale._abbr),
        !e)
            return yn;
        if (!i(e)) {
            if (t = Qe(e))
                return t;
            e = [e]
        }
        return Xe(e)
    }
    function tt() {
        return vs(xn)
    }
    function it(e) {
        var t, i = e._a;
        return i && d(e).overflow === -2 && (t = i[Js] < 0 || i[Js] > 11 ? Js : i[Zs] < 1 || i[Zs] > se(i[Qs], i[Js]) ? Zs : i[Ks] < 0 || i[Ks] > 24 || 24 === i[Ks] && (0 !== i[en] || 0 !== i[tn] || 0 !== i[sn]) ? Ks : i[en] < 0 || i[en] > 59 ? en : i[tn] < 0 || i[tn] > 59 ? tn : i[sn] < 0 || i[sn] > 999 ? sn : -1,
        d(e)._overflowDayOfYear && (t < Qs || t > Zs) && (t = Zs),
        d(e)._overflowWeeks && t === -1 && (t = nn),
        d(e)._overflowWeekday && t === -1 && (t = an),
        d(e).overflow = t),
        e
    }
    function st(e) {
        var t, i, s, n, a, r, o = e._i, l = Cn.exec(o) || Tn.exec(o);
        if (l) {
            for (d(e).iso = !0,
            t = 0,
            i = Pn.length; t < i; t++)
                if (Pn[t][1].exec(l[1])) {
                    n = Pn[t][0],
                    s = Pn[t][2] !== !1;
                    break
                }
            if (null == n)
                return void (e._isValid = !1);
            if (l[3]) {
                for (t = 0,
                i = Mn.length; t < i; t++)
                    if (Mn[t][1].exec(l[3])) {
                        a = (l[2] || " ") + Mn[t][0];
                        break
                    }
                if (null == a)
                    return void (e._isValid = !1)
            }
            if (!s && null != a)
                return void (e._isValid = !1);
            if (l[4]) {
                if (!Sn.exec(l[4]))
                    return void (e._isValid = !1);
                r = "Z"
            }
            e._f = n + (a || "") + (r || ""),
            ht(e)
        } else
            e._isValid = !1
    }
    function nt(t) {
        var i = En.exec(t._i);
        return null !== i ? void (t._d = new Date(+i[1])) : (st(t),
        void (t._isValid === !1 && (delete t._isValid,
        e.createFromInputFallback(t))))
    }
    function at(e, t, i) {
        return null != e ? e : null != t ? t : i
    }
    function rt(t) {
        var i = new Date(e.now());
        return t._useUTC ? [i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate()] : [i.getFullYear(), i.getMonth(), i.getDate()]
    }
    function ot(e) {
        var t, i, s, n, a = [];
        if (!e._d) {
            for (s = rt(e),
            e._w && null == e._a[Zs] && null == e._a[Js] && lt(e),
            e._dayOfYear && (n = at(e._a[Qs], s[Qs]),
            e._dayOfYear > fe(n) && (d(e)._overflowDayOfYear = !0),
            i = be(n, 0, e._dayOfYear),
            e._a[Js] = i.getUTCMonth(),
            e._a[Zs] = i.getUTCDate()),
            t = 0; t < 3 && null == e._a[t]; ++t)
                e._a[t] = a[t] = s[t];
            for (; t < 7; t++)
                e._a[t] = a[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];
            24 === e._a[Ks] && 0 === e._a[en] && 0 === e._a[tn] && 0 === e._a[sn] && (e._nextDay = !0,
            e._a[Ks] = 0),
            e._d = (e._useUTC ? be : ve).apply(null, a),
            null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm),
            e._nextDay && (e._a[Ks] = 24)
        }
    }
    function lt(e) {
        var t, i, s, n, a, r, o, l;
        t = e._w,
        null != t.GG || null != t.W || null != t.E ? (a = 1,
        r = 4,
        i = at(t.GG, e._a[Qs], _e(vt(), 1, 4).year),
        s = at(t.W, 1),
        n = at(t.E, 1),
        (n < 1 || n > 7) && (l = !0)) : (a = e._locale._week.dow,
        r = e._locale._week.doy,
        i = at(t.gg, e._a[Qs], _e(vt(), a, r).year),
        s = at(t.w, 1),
        null != t.d ? (n = t.d,
        (n < 0 || n > 6) && (l = !0)) : null != t.e ? (n = t.e + a,
        (t.e < 0 || t.e > 6) && (l = !0)) : n = a),
        s < 1 || s > ke(i, a, r) ? d(e)._overflowWeeks = !0 : null != l ? d(e)._overflowWeekday = !0 : (o = we(i, s, n, a, r),
        e._a[Qs] = o.year,
        e._dayOfYear = o.dayOfYear)
    }
    function ht(t) {
        if (t._f === e.ISO_8601)
            return void st(t);
        t._a = [],
        d(t).empty = !0;
        var i, s, n, a, r, o = "" + t._i, l = o.length, h = 0;
        for (n = X(t._f, t._locale).match(Ps) || [],
        i = 0; i < n.length; i++)
            a = n[i],
            s = (o.match(J(a, t)) || [])[0],
            s && (r = o.substr(0, o.indexOf(s)),
            r.length > 0 && d(t).unusedInput.push(r),
            o = o.slice(o.indexOf(s) + s.length),
            h += s.length),
            As[a] ? (s ? d(t).empty = !1 : d(t).unusedTokens.push(a),
            ie(a, s, t)) : t._strict && !s && d(t).unusedTokens.push(a);
        d(t).charsLeftOver = l - h,
        o.length > 0 && d(t).unusedInput.push(o),
        t._a[Ks] <= 12 && d(t).bigHour === !0 && t._a[Ks] > 0 && (d(t).bigHour = void 0),
        d(t).parsedDateParts = t._a.slice(0),
        d(t).meridiem = t._meridiem,
        t._a[Ks] = ct(t._locale, t._a[Ks], t._meridiem),
        ot(t),
        it(t)
    }
    function ct(e, t, i) {
        var s;
        return null == i ? t : null != e.meridiemHour ? e.meridiemHour(t, i) : null != e.isPM ? (s = e.isPM(i),
        s && t < 12 && (t += 12),
        s || 12 !== t || (t = 0),
        t) : t
    }
    function dt(e) {
        var t, i, s, n, a;
        if (0 === e._f.length)
            return d(e).invalidFormat = !0,
            void (e._d = new Date(NaN));
        for (n = 0; n < e._f.length; n++)
            a = 0,
            t = g({}, e),
            null != e._useUTC && (t._useUTC = e._useUTC),
            t._f = e._f[n],
            ht(t),
            u(t) && (a += d(t).charsLeftOver,
            a += 10 * d(t).unusedTokens.length,
            d(t).score = a,
            (null == s || a < s) && (s = a,
            i = t));
        l(e, i || t)
    }
    function ut(e) {
        if (!e._d) {
            var t = z(e._i);
            e._a = r([t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], function(e) {
                return e && parseInt(e, 10)
            }),
            ot(e)
        }
    }
    function pt(e) {
        var t = new m(it(ft(e)));
        return t._nextDay && (t.add(1, "d"),
        t._nextDay = void 0),
        t
    }
    function ft(e) {
        var t = e._i
          , s = e._f;
        return e._locale = e._locale || et(e._l),
        null === t || void 0 === s && "" === t ? p({
            nullInput: !0
        }) : ("string" == typeof t && (e._i = t = e._locale.preparse(t)),
        v(t) ? new m(it(t)) : (i(s) ? dt(e) : a(t) ? e._d = t : s ? ht(e) : gt(e),
        u(e) || (e._d = null),
        e))
    }
    function gt(t) {
        var s = t._i;
        void 0 === s ? t._d = new Date(e.now()) : a(s) ? t._d = new Date(s.valueOf()) : "string" == typeof s ? nt(t) : i(s) ? (t._a = r(s.slice(0), function(e) {
            return parseInt(e, 10)
        }),
        ot(t)) : "object" == typeof s ? ut(t) : "number" == typeof s ? t._d = new Date(s) : e.createFromInputFallback(t)
    }
    function mt(e, t, a, r, o) {
        var l = {};
        return "boolean" == typeof a && (r = a,
        a = void 0),
        (s(e) && n(e) || i(e) && 0 === e.length) && (e = void 0),
        l._isAMomentObject = !0,
        l._useUTC = l._isUTC = o,
        l._l = a,
        l._i = e,
        l._f = t,
        l._strict = r,
        pt(l)
    }
    function vt(e, t, i, s) {
        return mt(e, t, i, s, !1)
    }
    function bt(e, t) {
        var s, n;
        if (1 === t.length && i(t[0]) && (t = t[0]),
        !t.length)
            return vt();
        for (s = t[0],
        n = 1; n < t.length; ++n)
            t[n].isValid() && !t[n][e](s) || (s = t[n]);
        return s
    }
    function yt() {
        var e = [].slice.call(arguments, 0);
        return bt("isBefore", e)
    }
    function wt() {
        var e = [].slice.call(arguments, 0);
        return bt("isAfter", e)
    }
    function _t(e) {
        var t = z(e)
          , i = t.year || 0
          , s = t.quarter || 0
          , n = t.month || 0
          , a = t.week || 0
          , r = t.day || 0
          , o = t.hour || 0
          , l = t.minute || 0
          , h = t.second || 0
          , c = t.millisecond || 0;
        this._milliseconds = +c + 1e3 * h + 6e4 * l + 1e3 * o * 60 * 60,
        this._days = +r + 7 * a,
        this._months = +n + 3 * s + 12 * i,
        this._data = {},
        this._locale = et(),
        this._bubble()
    }
    function kt(e) {
        return e instanceof _t
    }
    function xt(e) {
        return e < 0 ? Math.round(-1 * e) * -1 : Math.round(e)
    }
    function Ct(e, t) {
        W(e, 0, 0, function() {
            var e = this.utcOffset()
              , i = "+";
            return e < 0 && (e = -e,
            i = "-"),
            i + B(~~(e / 60), 2) + t + B(~~e % 60, 2)
        })
    }
    function Tt(e, t) {
        var i = (t || "").match(e) || []
          , s = i[i.length - 1] || []
          , n = (s + "").match(Rn) || ["-", 0, 0]
          , a = +(60 * n[1]) + y(n[2]);
        return "+" === n[0] ? a : -a
    }
    function St(t, i) {
        var s, n;
        return i._isUTC ? (s = i.clone(),
        n = (v(t) || a(t) ? t.valueOf() : vt(t).valueOf()) - s.valueOf(),
        s._d.setTime(s._d.valueOf() + n),
        e.updateOffset(s, !1),
        s) : vt(t).local()
    }
    function Pt(e) {
        return 15 * -Math.round(e._d.getTimezoneOffset() / 15)
    }
    function Mt(t, i) {
        var s, n = this._offset || 0;
        return this.isValid() ? null != t ? ("string" == typeof t ? t = Tt(Ws, t) : Math.abs(t) < 16 && (t *= 60),
        !this._isUTC && i && (s = Pt(this)),
        this._offset = t,
        this._isUTC = !0,
        null != s && this.add(s, "m"),
        n !== t && (!i || this._changeInProgress ? Bt(this, $t(t - n, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0,
        e.updateOffset(this, !0),
        this._changeInProgress = null)),
        this) : this._isUTC ? n : Pt(this) : null != t ? this : NaN
    }
    function Et(e, t) {
        return null != e ? ("string" != typeof e && (e = -e),
        this.utcOffset(e, t),
        this) : -this.utcOffset()
    }
    function At(e) {
        return this.utcOffset(0, e)
    }
    function Dt(e) {
        return this._isUTC && (this.utcOffset(0, e),
        this._isUTC = !1,
        e && this.subtract(Pt(this), "m")),
        this
    }
    function Lt() {
        if (this._tzm)
            this.utcOffset(this._tzm);
        else if ("string" == typeof this._i) {
            var e = Tt(Bs, this._i);
            0 === e ? this.utcOffset(0, !0) : this.utcOffset(Tt(Bs, this._i))
        }
        return this
    }
    function Rt(e) {
        return !!this.isValid() && (e = e ? vt(e).utcOffset() : 0,
        (this.utcOffset() - e) % 60 === 0)
    }
    function jt() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
    }
    function Ot() {
        if (!f(this._isDSTShifted))
            return this._isDSTShifted;
        var e = {};
        if (g(e, this),
        e = ft(e),
        e._a) {
            var t = e._isUTC ? h(e._a) : vt(e._a);
            this._isDSTShifted = this.isValid() && w(e._a, t.toArray()) > 0
        } else
            this._isDSTShifted = !1;
        return this._isDSTShifted
    }
    function zt() {
        return !!this.isValid() && !this._isUTC
    }
    function It() {
        return !!this.isValid() && this._isUTC
    }
    function qt() {
        return !!this.isValid() && this._isUTC && 0 === this._offset
    }
    function $t(e, t) {
        var i, s, n, a = e, r = null;
        return kt(e) ? a = {
            ms: e._milliseconds,
            d: e._days,
            M: e._months
        } : "number" == typeof e ? (a = {},
        t ? a[t] = e : a.milliseconds = e) : (r = jn.exec(e)) ? (i = "-" === r[1] ? -1 : 1,
        a = {
            y: 0,
            d: y(r[Zs]) * i,
            h: y(r[Ks]) * i,
            m: y(r[en]) * i,
            s: y(r[tn]) * i,
            ms: y(xt(1e3 * r[sn])) * i
        }) : (r = On.exec(e)) ? (i = "-" === r[1] ? -1 : 1,
        a = {
            y: Ft(r[2], i),
            M: Ft(r[3], i),
            w: Ft(r[4], i),
            d: Ft(r[5], i),
            h: Ft(r[6], i),
            m: Ft(r[7], i),
            s: Ft(r[8], i)
        }) : null == a ? a = {} : "object" == typeof a && ("from"in a || "to"in a) && (n = Nt(vt(a.from), vt(a.to)),
        a = {},
        a.ms = n.milliseconds,
        a.M = n.months),
        s = new _t(a),
        kt(e) && o(e, "_locale") && (s._locale = e._locale),
        s
    }
    function Ft(e, t) {
        var i = e && parseFloat(e.replace(",", "."));
        return (isNaN(i) ? 0 : i) * t
    }
    function Vt(e, t) {
        var i = {
            milliseconds: 0,
            months: 0
        };
        return i.months = t.month() - e.month() + 12 * (t.year() - e.year()),
        e.clone().add(i.months, "M").isAfter(t) && --i.months,
        i.milliseconds = +t - +e.clone().add(i.months, "M"),
        i
    }
    function Nt(e, t) {
        var i;
        return e.isValid() && t.isValid() ? (t = St(t, e),
        e.isBefore(t) ? i = Vt(e, t) : (i = Vt(t, e),
        i.milliseconds = -i.milliseconds,
        i.months = -i.months),
        i) : {
            milliseconds: 0,
            months: 0
        }
    }
    function Ht(e, t) {
        return function(i, s) {
            var n, a;
            return null === s || isNaN(+s) || (x(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),
            a = i,
            i = s,
            s = a),
            i = "string" == typeof i ? +i : i,
            n = $t(i, s),
            Bt(this, n, e),
            this
        }
    }
    function Bt(t, i, s, n) {
        var a = i._milliseconds
          , r = xt(i._days)
          , o = xt(i._months);
        t.isValid() && (n = null == n || n,
        a && t._d.setTime(t._d.valueOf() + a * s),
        r && V(t, "Date", F(t, "Date") + r * s),
        o && le(t, F(t, "Month") + o * s),
        n && e.updateOffset(t, r || o))
    }
    function Wt(e, t) {
        var i = e.diff(t, "days", !0);
        return i < -6 ? "sameElse" : i < -1 ? "lastWeek" : i < 0 ? "lastDay" : i < 1 ? "sameDay" : i < 2 ? "nextDay" : i < 7 ? "nextWeek" : "sameElse"
    }
    function Ut(t, i) {
        var s = t || vt()
          , n = St(s, this).startOf("day")
          , a = e.calendarFormat(this, n) || "sameElse"
          , r = i && (C(i[a]) ? i[a].call(this, s) : i[a]);
        return this.format(r || this.localeData().calendar(a, this, vt(s)))
    }
    function Gt() {
        return new m(this)
    }
    function Yt(e, t) {
        var i = v(e) ? e : vt(e);
        return !(!this.isValid() || !i.isValid()) && (t = O(f(t) ? "millisecond" : t),
        "millisecond" === t ? this.valueOf() > i.valueOf() : i.valueOf() < this.clone().startOf(t).valueOf())
    }
    function Xt(e, t) {
        var i = v(e) ? e : vt(e);
        return !(!this.isValid() || !i.isValid()) && (t = O(f(t) ? "millisecond" : t),
        "millisecond" === t ? this.valueOf() < i.valueOf() : this.clone().endOf(t).valueOf() < i.valueOf())
    }
    function Qt(e, t, i, s) {
        return s = s || "()",
        ("(" === s[0] ? this.isAfter(e, i) : !this.isBefore(e, i)) && (")" === s[1] ? this.isBefore(t, i) : !this.isAfter(t, i))
    }
    function Jt(e, t) {
        var i, s = v(e) ? e : vt(e);
        return !(!this.isValid() || !s.isValid()) && (t = O(t || "millisecond"),
        "millisecond" === t ? this.valueOf() === s.valueOf() : (i = s.valueOf(),
        this.clone().startOf(t).valueOf() <= i && i <= this.clone().endOf(t).valueOf()))
    }
    function Zt(e, t) {
        return this.isSame(e, t) || this.isAfter(e, t)
    }
    function Kt(e, t) {
        return this.isSame(e, t) || this.isBefore(e, t)
    }
    function ei(e, t, i) {
        var s, n, a, r;
        return this.isValid() ? (s = St(e, this),
        s.isValid() ? (n = 6e4 * (s.utcOffset() - this.utcOffset()),
        t = O(t),
        "year" === t || "month" === t || "quarter" === t ? (r = ti(this, s),
        "quarter" === t ? r /= 3 : "year" === t && (r /= 12)) : (a = this - s,
        r = "second" === t ? a / 1e3 : "minute" === t ? a / 6e4 : "hour" === t ? a / 36e5 : "day" === t ? (a - n) / 864e5 : "week" === t ? (a - n) / 6048e5 : a),
        i ? r : b(r)) : NaN) : NaN
    }
    function ti(e, t) {
        var i, s, n = 12 * (t.year() - e.year()) + (t.month() - e.month()), a = e.clone().add(n, "months");
        return t - a < 0 ? (i = e.clone().add(n - 1, "months"),
        s = (t - a) / (a - i)) : (i = e.clone().add(n + 1, "months"),
        s = (t - a) / (i - a)),
        -(n + s) || 0
    }
    function ii() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
    }
    function si() {
        var e = this.clone().utc();
        return 0 < e.year() && e.year() <= 9999 ? C(Date.prototype.toISOString) ? this.toDate().toISOString() : Y(e, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : Y(e, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
    }
    function ni(t) {
        t || (t = this.isUtc() ? e.defaultFormatUtc : e.defaultFormat);
        var i = Y(this, t);
        return this.localeData().postformat(i)
    }
    function ai(e, t) {
        return this.isValid() && (v(e) && e.isValid() || vt(e).isValid()) ? $t({
            to: this,
            from: e
        }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
    }
    function ri(e) {
        return this.from(vt(), e)
    }
    function oi(e, t) {
        return this.isValid() && (v(e) && e.isValid() || vt(e).isValid()) ? $t({
            from: this,
            to: e
        }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
    }
    function li(e) {
        return this.to(vt(), e)
    }
    function hi(e) {
        var t;
        return void 0 === e ? this._locale._abbr : (t = et(e),
        null != t && (this._locale = t),
        this)
    }
    function ci() {
        return this._locale
    }
    function di(e) {
        switch (e = O(e)) {
        case "year":
            this.month(0);
        case "quarter":
        case "month":
            this.date(1);
        case "week":
        case "isoWeek":
        case "day":
        case "date":
            this.hours(0);
        case "hour":
            this.minutes(0);
        case "minute":
            this.seconds(0);
        case "second":
            this.milliseconds(0)
        }
        return "week" === e && this.weekday(0),
        "isoWeek" === e && this.isoWeekday(1),
        "quarter" === e && this.month(3 * Math.floor(this.month() / 3)),
        this
    }
    function ui(e) {
        return e = O(e),
        void 0 === e || "millisecond" === e ? this : ("date" === e && (e = "day"),
        this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms"))
    }
    function pi() {
        return this._d.valueOf() - 6e4 * (this._offset || 0)
    }
    function fi() {
        return Math.floor(this.valueOf() / 1e3)
    }
    function gi() {
        return new Date(this.valueOf())
    }
    function mi() {
        var e = this;
        return [e.year(), e.month(), e.date(), e.hour(), e.minute(), e.second(), e.millisecond()]
    }
    function vi() {
        var e = this;
        return {
            years: e.year(),
            months: e.month(),
            date: e.date(),
            hours: e.hours(),
            minutes: e.minutes(),
            seconds: e.seconds(),
            milliseconds: e.milliseconds()
        }
    }
    function bi() {
        return this.isValid() ? this.toISOString() : null
    }
    function yi() {
        return u(this)
    }
    function wi() {
        return l({}, d(this))
    }
    function _i() {
        return d(this).overflow
    }
    function ki() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        }
    }
    function xi(e, t) {
        W(0, [e, e.length], 0, t)
    }
    function Ci(e) {
        return Mi.call(this, e, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy)
    }
    function Ti(e) {
        return Mi.call(this, e, this.isoWeek(), this.isoWeekday(), 1, 4)
    }
    function Si() {
        return ke(this.year(), 1, 4)
    }
    function Pi() {
        var e = this.localeData()._week;
        return ke(this.year(), e.dow, e.doy)
    }
    function Mi(e, t, i, s, n) {
        var a;
        return null == e ? _e(this, s, n).year : (a = ke(e, s, n),
        t > a && (t = a),
        Ei.call(this, e, t, i, s, n))
    }
    function Ei(e, t, i, s, n) {
        var a = we(e, t, i, s, n)
          , r = be(a.year, 0, a.dayOfYear);
        return this.year(r.getUTCFullYear()),
        this.month(r.getUTCMonth()),
        this.date(r.getUTCDate()),
        this
    }
    function Ai(e) {
        return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3)
    }
    function Di(e) {
        var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == e ? t : this.add(e - t, "d")
    }
    function Li(e, t) {
        t[sn] = y(1e3 * ("0." + e))
    }
    function Ri() {
        return this._isUTC ? "UTC" : ""
    }
    function ji() {
        return this._isUTC ? "Coordinated Universal Time" : ""
    }
    function Oi(e) {
        return vt(1e3 * e)
    }
    function zi() {
        return vt.apply(null, arguments).parseZone()
    }
    function Ii(e) {
        return e
    }
    function qi(e, t, i, s) {
        var n = et()
          , a = h().set(s, t);
        return n[i](a, e)
    }
    function $i(e, t, i) {
        if ("number" == typeof e && (t = e,
        e = void 0),
        e = e || "",
        null != t)
            return qi(e, t, i, "month");
        var s, n = [];
        for (s = 0; s < 12; s++)
            n[s] = qi(e, s, i, "month");
        return n
    }
    function Fi(e, t, i, s) {
        "boolean" == typeof e ? ("number" == typeof t && (i = t,
        t = void 0),
        t = t || "") : (t = e,
        i = t,
        e = !1,
        "number" == typeof t && (i = t,
        t = void 0),
        t = t || "");
        var n = et()
          , a = e ? n._week.dow : 0;
        if (null != i)
            return qi(t, (i + a) % 7, s, "day");
        var r, o = [];
        for (r = 0; r < 7; r++)
            o[r] = qi(t, (r + a) % 7, s, "day");
        return o
    }
    function Vi(e, t) {
        return $i(e, t, "months")
    }
    function Ni(e, t) {
        return $i(e, t, "monthsShort")
    }
    function Hi(e, t, i) {
        return Fi(e, t, i, "weekdays")
    }
    function Bi(e, t, i) {
        return Fi(e, t, i, "weekdaysShort")
    }
    function Wi(e, t, i) {
        return Fi(e, t, i, "weekdaysMin")
    }
    function Ui() {
        var e = this._data;
        return this._milliseconds = Gn(this._milliseconds),
        this._days = Gn(this._days),
        this._months = Gn(this._months),
        e.milliseconds = Gn(e.milliseconds),
        e.seconds = Gn(e.seconds),
        e.minutes = Gn(e.minutes),
        e.hours = Gn(e.hours),
        e.months = Gn(e.months),
        e.years = Gn(e.years),
        this
    }
    function Gi(e, t, i, s) {
        var n = $t(t, i);
        return e._milliseconds += s * n._milliseconds,
        e._days += s * n._days,
        e._months += s * n._months,
        e._bubble()
    }
    function Yi(e, t) {
        return Gi(this, e, t, 1)
    }
    function Xi(e, t) {
        return Gi(this, e, t, -1)
    }
    function Qi(e) {
        return e < 0 ? Math.floor(e) : Math.ceil(e)
    }
    function Ji() {
        var e, t, i, s, n, a = this._milliseconds, r = this._days, o = this._months, l = this._data;
        return a >= 0 && r >= 0 && o >= 0 || a <= 0 && r <= 0 && o <= 0 || (a += 864e5 * Qi(Ki(o) + r),
        r = 0,
        o = 0),
        l.milliseconds = a % 1e3,
        e = b(a / 1e3),
        l.seconds = e % 60,
        t = b(e / 60),
        l.minutes = t % 60,
        i = b(t / 60),
        l.hours = i % 24,
        r += b(i / 24),
        n = b(Zi(r)),
        o += n,
        r -= Qi(Ki(n)),
        s = b(o / 12),
        o %= 12,
        l.days = r,
        l.months = o,
        l.years = s,
        this
    }
    function Zi(e) {
        return 4800 * e / 146097
    }
    function Ki(e) {
        return 146097 * e / 4800
    }
    function es(e) {
        var t, i, s = this._milliseconds;
        if (e = O(e),
        "month" === e || "year" === e)
            return t = this._days + s / 864e5,
            i = this._months + Zi(t),
            "month" === e ? i : i / 12;
        switch (t = this._days + Math.round(Ki(this._months)),
        e) {
        case "week":
            return t / 7 + s / 6048e5;
        case "day":
            return t + s / 864e5;
        case "hour":
            return 24 * t + s / 36e5;
        case "minute":
            return 1440 * t + s / 6e4;
        case "second":
            return 86400 * t + s / 1e3;
        case "millisecond":
            return Math.floor(864e5 * t) + s;
        default:
            throw new Error("Unknown unit " + e)
        }
    }
    function ts() {
        return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * y(this._months / 12)
    }
    function is(e) {
        return function() {
            return this.as(e)
        }
    }
    function ss(e) {
        return e = O(e),
        this[e + "s"]()
    }
    function ns(e) {
        return function() {
            return this._data[e]
        }
    }
    function as() {
        return b(this.days() / 7)
    }
    function rs(e, t, i, s, n) {
        return n.relativeTime(t || 1, !!i, e, s)
    }
    function os(e, t, i) {
        var s = $t(e).abs()
          , n = ha(s.as("s"))
          , a = ha(s.as("m"))
          , r = ha(s.as("h"))
          , o = ha(s.as("d"))
          , l = ha(s.as("M"))
          , h = ha(s.as("y"))
          , c = n < ca.s && ["s", n] || a <= 1 && ["m"] || a < ca.m && ["mm", a] || r <= 1 && ["h"] || r < ca.h && ["hh", r] || o <= 1 && ["d"] || o < ca.d && ["dd", o] || l <= 1 && ["M"] || l < ca.M && ["MM", l] || h <= 1 && ["y"] || ["yy", h];
        return c[2] = t,
        c[3] = +e > 0,
        c[4] = i,
        rs.apply(null, c)
    }
    function ls(e) {
        return void 0 === e ? ha : "function" == typeof e && (ha = e,
        !0)
    }
    function hs(e, t) {
        return void 0 !== ca[e] && (void 0 === t ? ca[e] : (ca[e] = t,
        !0))
    }
    function cs(e) {
        var t = this.localeData()
          , i = os(this, !e, t);
        return e && (i = t.pastFuture(+this, i)),
        t.postformat(i)
    }
    function ds() {
        var e, t, i, s = da(this._milliseconds) / 1e3, n = da(this._days), a = da(this._months);
        e = b(s / 60),
        t = b(e / 60),
        s %= 60,
        e %= 60,
        i = b(a / 12),
        a %= 12;
        var r = i
          , o = a
          , l = n
          , h = t
          , c = e
          , d = s
          , u = this.asSeconds();
        return u ? (u < 0 ? "-" : "") + "P" + (r ? r + "Y" : "") + (o ? o + "M" : "") + (l ? l + "D" : "") + (h || c || d ? "T" : "") + (h ? h + "H" : "") + (c ? c + "M" : "") + (d ? d + "S" : "") : "P0D"
    }
    var us, ps;
    ps = Array.prototype.some ? Array.prototype.some : function(e) {
        for (var t = Object(this), i = t.length >>> 0, s = 0; s < i; s++)
            if (s in t && e.call(this, t[s], s, t))
                return !0;
        return !1
    }
    ;
    var fs = e.momentProperties = []
      , gs = !1
      , ms = {};
    e.suppressDeprecationWarnings = !1,
    e.deprecationHandler = null;
    var vs;
    vs = Object.keys ? Object.keys : function(e) {
        var t, i = [];
        for (t in e)
            o(e, t) && i.push(t);
        return i
    }
    ;
    var bs, ys = {
        sameDay: "[Today at] LT",
        nextDay: "[Tomorrow at] LT",
        nextWeek: "dddd [at] LT",
        lastDay: "[Yesterday at] LT",
        lastWeek: "[Last] dddd [at] LT",
        sameElse: "L"
    }, ws = {
        LTS: "h:mm:ss A",
        LT: "h:mm A",
        L: "MM/DD/YYYY",
        LL: "MMMM D, YYYY",
        LLL: "MMMM D, YYYY h:mm A",
        LLLL: "dddd, MMMM D, YYYY h:mm A"
    }, _s = "Invalid date", ks = "%d", xs = /\d{1,2}/, Cs = {
        future: "in %s",
        past: "%s ago",
        s: "a few seconds",
        m: "a minute",
        mm: "%d minutes",
        h: "an hour",
        hh: "%d hours",
        d: "a day",
        dd: "%d days",
        M: "a month",
        MM: "%d months",
        y: "a year",
        yy: "%d years"
    }, Ts = {}, Ss = {}, Ps = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Ms = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Es = {}, As = {}, Ds = /\d/, Ls = /\d\d/, Rs = /\d{3}/, js = /\d{4}/, Os = /[+-]?\d{6}/, zs = /\d\d?/, Is = /\d\d\d\d?/, qs = /\d\d\d\d\d\d?/, $s = /\d{1,3}/, Fs = /\d{1,4}/, Vs = /[+-]?\d{1,6}/, Ns = /\d+/, Hs = /[+-]?\d+/, Bs = /Z|[+-]\d\d:?\d\d/gi, Ws = /Z|[+-]\d\d(?::?\d\d)?/gi, Us = /[+-]?\d+(\.\d{1,3})?/, Gs = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, Ys = {}, Xs = {}, Qs = 0, Js = 1, Zs = 2, Ks = 3, en = 4, tn = 5, sn = 6, nn = 7, an = 8;
    bs = Array.prototype.indexOf ? Array.prototype.indexOf : function(e) {
        var t;
        for (t = 0; t < this.length; ++t)
            if (this[t] === e)
                return t;
        return -1
    }
    ,
    W("M", ["MM", 2], "Mo", function() {
        return this.month() + 1
    }),
    W("MMM", 0, 0, function(e) {
        return this.localeData().monthsShort(this, e)
    }),
    W("MMMM", 0, 0, function(e) {
        return this.localeData().months(this, e)
    }),
    j("month", "M"),
    I("month", 8),
    Q("M", zs),
    Q("MM", zs, Ls),
    Q("MMM", function(e, t) {
        return t.monthsShortRegex(e)
    }),
    Q("MMMM", function(e, t) {
        return t.monthsRegex(e)
    }),
    ee(["M", "MM"], function(e, t) {
        t[Js] = y(e) - 1
    }),
    ee(["MMM", "MMMM"], function(e, t, i, s) {
        var n = i._locale.monthsParse(e, s, i._strict);
        null != n ? t[Js] = n : d(i).invalidMonth = e
    });
    var rn = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/
      , on = "January_February_March_April_May_June_July_August_September_October_November_December".split("_")
      , ln = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_")
      , hn = Gs
      , cn = Gs;
    W("Y", 0, 0, function() {
        var e = this.year();
        return e <= 9999 ? "" + e : "+" + e
    }),
    W(0, ["YY", 2], 0, function() {
        return this.year() % 100
    }),
    W(0, ["YYYY", 4], 0, "year"),
    W(0, ["YYYYY", 5], 0, "year"),
    W(0, ["YYYYYY", 6, !0], 0, "year"),
    j("year", "y"),
    I("year", 1),
    Q("Y", Hs),
    Q("YY", zs, Ls),
    Q("YYYY", Fs, js),
    Q("YYYYY", Vs, Os),
    Q("YYYYYY", Vs, Os),
    ee(["YYYYY", "YYYYYY"], Qs),
    ee("YYYY", function(t, i) {
        i[Qs] = 2 === t.length ? e.parseTwoDigitYear(t) : y(t)
    }),
    ee("YY", function(t, i) {
        i[Qs] = e.parseTwoDigitYear(t)
    }),
    ee("Y", function(e, t) {
        t[Qs] = parseInt(e, 10)
    }),
    e.parseTwoDigitYear = function(e) {
        return y(e) + (y(e) > 68 ? 1900 : 2e3)
    }
    ;
    var dn = $("FullYear", !0);
    W("w", ["ww", 2], "wo", "week"),
    W("W", ["WW", 2], "Wo", "isoWeek"),
    j("week", "w"),
    j("isoWeek", "W"),
    I("week", 5),
    I("isoWeek", 5),
    Q("w", zs),
    Q("ww", zs, Ls),
    Q("W", zs),
    Q("WW", zs, Ls),
    te(["w", "ww", "W", "WW"], function(e, t, i, s) {
        t[s.substr(0, 1)] = y(e)
    });
    var un = {
        dow: 0,
        doy: 6
    };
    W("d", 0, "do", "day"),
    W("dd", 0, 0, function(e) {
        return this.localeData().weekdaysMin(this, e)
    }),
    W("ddd", 0, 0, function(e) {
        return this.localeData().weekdaysShort(this, e)
    }),
    W("dddd", 0, 0, function(e) {
        return this.localeData().weekdays(this, e)
    }),
    W("e", 0, 0, "weekday"),
    W("E", 0, 0, "isoWeekday"),
    j("day", "d"),
    j("weekday", "e"),
    j("isoWeekday", "E"),
    I("day", 11),
    I("weekday", 11),
    I("isoWeekday", 11),
    Q("d", zs),
    Q("e", zs),
    Q("E", zs),
    Q("dd", function(e, t) {
        return t.weekdaysMinRegex(e)
    }),
    Q("ddd", function(e, t) {
        return t.weekdaysShortRegex(e)
    }),
    Q("dddd", function(e, t) {
        return t.weekdaysRegex(e)
    }),
    te(["dd", "ddd", "dddd"], function(e, t, i, s) {
        var n = i._locale.weekdaysParse(e, s, i._strict);
        null != n ? t.d = n : d(i).invalidWeekday = e
    }),
    te(["d", "e", "E"], function(e, t, i, s) {
        t[s] = y(e)
    });
    var pn = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_")
      , fn = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_")
      , gn = "Su_Mo_Tu_We_Th_Fr_Sa".split("_")
      , mn = Gs
      , vn = Gs
      , bn = Gs;
    W("H", ["HH", 2], 0, "hour"),
    W("h", ["hh", 2], 0, Ne),
    W("k", ["kk", 2], 0, He),
    W("hmm", 0, 0, function() {
        return "" + Ne.apply(this) + B(this.minutes(), 2)
    }),
    W("hmmss", 0, 0, function() {
        return "" + Ne.apply(this) + B(this.minutes(), 2) + B(this.seconds(), 2)
    }),
    W("Hmm", 0, 0, function() {
        return "" + this.hours() + B(this.minutes(), 2)
    }),
    W("Hmmss", 0, 0, function() {
        return "" + this.hours() + B(this.minutes(), 2) + B(this.seconds(), 2)
    }),
    Be("a", !0),
    Be("A", !1),
    j("hour", "h"),
    I("hour", 13),
    Q("a", We),
    Q("A", We),
    Q("H", zs),
    Q("h", zs),
    Q("HH", zs, Ls),
    Q("hh", zs, Ls),
    Q("hmm", Is),
    Q("hmmss", qs),
    Q("Hmm", Is),
    Q("Hmmss", qs),
    ee(["H", "HH"], Ks),
    ee(["a", "A"], function(e, t, i) {
        i._isPm = i._locale.isPM(e),
        i._meridiem = e
    }),
    ee(["h", "hh"], function(e, t, i) {
        t[Ks] = y(e),
        d(i).bigHour = !0
    }),
    ee("hmm", function(e, t, i) {
        var s = e.length - 2;
        t[Ks] = y(e.substr(0, s)),
        t[en] = y(e.substr(s)),
        d(i).bigHour = !0
    }),
    ee("hmmss", function(e, t, i) {
        var s = e.length - 4
          , n = e.length - 2;
        t[Ks] = y(e.substr(0, s)),
        t[en] = y(e.substr(s, 2)),
        t[tn] = y(e.substr(n)),
        d(i).bigHour = !0
    }),
    ee("Hmm", function(e, t, i) {
        var s = e.length - 2;
        t[Ks] = y(e.substr(0, s)),
        t[en] = y(e.substr(s))
    }),
    ee("Hmmss", function(e, t, i) {
        var s = e.length - 4
          , n = e.length - 2;
        t[Ks] = y(e.substr(0, s)),
        t[en] = y(e.substr(s, 2)),
        t[tn] = y(e.substr(n))
    });
    var yn, wn = /[ap]\.?m?\.?/i, _n = $("Hours", !0), kn = {
        calendar: ys,
        longDateFormat: ws,
        invalidDate: _s,
        ordinal: ks,
        ordinalParse: xs,
        relativeTime: Cs,
        months: on,
        monthsShort: ln,
        week: un,
        weekdays: pn,
        weekdaysMin: gn,
        weekdaysShort: fn,
        meridiemParse: wn
    }, xn = {}, Cn = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/, Tn = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/, Sn = /Z|[+-]\d\d(?::?\d\d)?/, Pn = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]], Mn = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], En = /^\/?Date\((\-?\d+)/i;
    e.createFromInputFallback = k("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(e) {
        e._d = new Date(e._i + (e._useUTC ? " UTC" : ""))
    }),
    e.ISO_8601 = function() {}
    ;
    var An = k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var e = vt.apply(null, arguments);
        return this.isValid() && e.isValid() ? e < this ? this : e : p()
    })
      , Dn = k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var e = vt.apply(null, arguments);
        return this.isValid() && e.isValid() ? e > this ? this : e : p()
    })
      , Ln = function() {
        return Date.now ? Date.now() : +new Date
    };
    Ct("Z", ":"),
    Ct("ZZ", ""),
    Q("Z", Ws),
    Q("ZZ", Ws),
    ee(["Z", "ZZ"], function(e, t, i) {
        i._useUTC = !0,
        i._tzm = Tt(Ws, e)
    });
    var Rn = /([\+\-]|\d\d)/gi;
    e.updateOffset = function() {}
    ;
    var jn = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/
      , On = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
    $t.fn = _t.prototype;
    var zn = Ht(1, "add")
      , In = Ht(-1, "subtract");
    e.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ",
    e.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
    var qn = k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e) {
        return void 0 === e ? this.localeData() : this.locale(e)
    });
    W(0, ["gg", 2], 0, function() {
        return this.weekYear() % 100
    }),
    W(0, ["GG", 2], 0, function() {
        return this.isoWeekYear() % 100
    }),
    xi("gggg", "weekYear"),
    xi("ggggg", "weekYear"),
    xi("GGGG", "isoWeekYear"),
    xi("GGGGG", "isoWeekYear"),
    j("weekYear", "gg"),
    j("isoWeekYear", "GG"),
    I("weekYear", 1),
    I("isoWeekYear", 1),
    Q("G", Hs),
    Q("g", Hs),
    Q("GG", zs, Ls),
    Q("gg", zs, Ls),
    Q("GGGG", Fs, js),
    Q("gggg", Fs, js),
    Q("GGGGG", Vs, Os),
    Q("ggggg", Vs, Os),
    te(["gggg", "ggggg", "GGGG", "GGGGG"], function(e, t, i, s) {
        t[s.substr(0, 2)] = y(e)
    }),
    te(["gg", "GG"], function(t, i, s, n) {
        i[n] = e.parseTwoDigitYear(t)
    }),
    W("Q", 0, "Qo", "quarter"),
    j("quarter", "Q"),
    I("quarter", 7),
    Q("Q", Ds),
    ee("Q", function(e, t) {
        t[Js] = 3 * (y(e) - 1)
    }),
    W("D", ["DD", 2], "Do", "date"),
    j("date", "D"),
    I("date", 9),
    Q("D", zs),
    Q("DD", zs, Ls),
    Q("Do", function(e, t) {
        return e ? t._ordinalParse : t._ordinalParseLenient
    }),
    ee(["D", "DD"], Zs),
    ee("Do", function(e, t) {
        t[Zs] = y(e.match(zs)[0], 10)
    });
    var $n = $("Date", !0);
    W("DDD", ["DDDD", 3], "DDDo", "dayOfYear"),
    j("dayOfYear", "DDD"),
    I("dayOfYear", 4),
    Q("DDD", $s),
    Q("DDDD", Rs),
    ee(["DDD", "DDDD"], function(e, t, i) {
        i._dayOfYear = y(e)
    }),
    W("m", ["mm", 2], 0, "minute"),
    j("minute", "m"),
    I("minute", 14),
    Q("m", zs),
    Q("mm", zs, Ls),
    ee(["m", "mm"], en);
    var Fn = $("Minutes", !1);
    W("s", ["ss", 2], 0, "second"),
    j("second", "s"),
    I("second", 15),
    Q("s", zs),
    Q("ss", zs, Ls),
    ee(["s", "ss"], tn);
    var Vn = $("Seconds", !1);
    W("S", 0, 0, function() {
        return ~~(this.millisecond() / 100)
    }),
    W(0, ["SS", 2], 0, function() {
        return ~~(this.millisecond() / 10)
    }),
    W(0, ["SSS", 3], 0, "millisecond"),
    W(0, ["SSSS", 4], 0, function() {
        return 10 * this.millisecond()
    }),
    W(0, ["SSSSS", 5], 0, function() {
        return 100 * this.millisecond()
    }),
    W(0, ["SSSSSS", 6], 0, function() {
        return 1e3 * this.millisecond()
    }),
    W(0, ["SSSSSSS", 7], 0, function() {
        return 1e4 * this.millisecond()
    }),
    W(0, ["SSSSSSSS", 8], 0, function() {
        return 1e5 * this.millisecond()
    }),
    W(0, ["SSSSSSSSS", 9], 0, function() {
        return 1e6 * this.millisecond()
    }),
    j("millisecond", "ms"),
    I("millisecond", 16),
    Q("S", $s, Ds),
    Q("SS", $s, Ls),
    Q("SSS", $s, Rs);
    var Nn;
    for (Nn = "SSSS"; Nn.length <= 9; Nn += "S")
        Q(Nn, Ns);
    for (Nn = "S"; Nn.length <= 9; Nn += "S")
        ee(Nn, Li);
    var Hn = $("Milliseconds", !1);
    W("z", 0, 0, "zoneAbbr"),
    W("zz", 0, 0, "zoneName");
    var Bn = m.prototype;
    Bn.add = zn,
    Bn.calendar = Ut,
    Bn.clone = Gt,
    Bn.diff = ei,
    Bn.endOf = ui,
    Bn.format = ni,
    Bn.from = ai,
    Bn.fromNow = ri,
    Bn.to = oi,
    Bn.toNow = li,
    Bn.get = N,
    Bn.invalidAt = _i,
    Bn.isAfter = Yt,
    Bn.isBefore = Xt,
    Bn.isBetween = Qt,
    Bn.isSame = Jt,
    Bn.isSameOrAfter = Zt,
    Bn.isSameOrBefore = Kt,
    Bn.isValid = yi,
    Bn.lang = qn,
    Bn.locale = hi,
    Bn.localeData = ci,
    Bn.max = Dn,
    Bn.min = An,
    Bn.parsingFlags = wi,
    Bn.set = H,
    Bn.startOf = di,
    Bn.subtract = In,
    Bn.toArray = mi,
    Bn.toObject = vi,
    Bn.toDate = gi,
    Bn.toISOString = si,
    Bn.toJSON = bi,
    Bn.toString = ii,
    Bn.unix = fi,
    Bn.valueOf = pi,
    Bn.creationData = ki,
    Bn.year = dn,
    Bn.isLeapYear = me,
    Bn.weekYear = Ci,
    Bn.isoWeekYear = Ti,
    Bn.quarter = Bn.quarters = Ai,
    Bn.month = he,
    Bn.daysInMonth = ce,
    Bn.week = Bn.weeks = Se,
    Bn.isoWeek = Bn.isoWeeks = Pe,
    Bn.weeksInYear = Pi,
    Bn.isoWeeksInYear = Si,
    Bn.date = $n,
    Bn.day = Bn.days = Oe,
    Bn.weekday = ze,
    Bn.isoWeekday = Ie,
    Bn.dayOfYear = Di,
    Bn.hour = Bn.hours = _n,
    Bn.minute = Bn.minutes = Fn,
    Bn.second = Bn.seconds = Vn,
    Bn.millisecond = Bn.milliseconds = Hn,
    Bn.utcOffset = Mt,
    Bn.utc = At,
    Bn.local = Dt,
    Bn.parseZone = Lt,
    Bn.hasAlignedHourOffset = Rt,
    Bn.isDST = jt,
    Bn.isLocal = zt,
    Bn.isUtcOffset = It,
    Bn.isUtc = qt,
    Bn.isUTC = qt,
    Bn.zoneAbbr = Ri,
    Bn.zoneName = ji,
    Bn.dates = k("dates accessor is deprecated. Use date instead.", $n),
    Bn.months = k("months accessor is deprecated. Use month instead", he),
    Bn.years = k("years accessor is deprecated. Use year instead", dn),
    Bn.zone = k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", Et),
    Bn.isDSTShifted = k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", Ot);
    var Wn = Bn
      , Un = P.prototype;
    Un.calendar = M,
    Un.longDateFormat = E,
    Un.invalidDate = A,
    Un.ordinal = D,
    Un.preparse = Ii,
    Un.postformat = Ii,
    Un.relativeTime = L,
    Un.pastFuture = R,
    Un.set = T,
    Un.months = ne,
    Un.monthsShort = ae,
    Un.monthsParse = oe,
    Un.monthsRegex = ue,
    Un.monthsShortRegex = de,
    Un.week = xe,
    Un.firstDayOfYear = Te,
    Un.firstDayOfWeek = Ce,
    Un.weekdays = Ae,
    Un.weekdaysMin = Le,
    Un.weekdaysShort = De,
    Un.weekdaysParse = je,
    Un.weekdaysRegex = qe,
    Un.weekdaysShortRegex = $e,
    Un.weekdaysMinRegex = Fe,
    Un.isPM = Ue,
    Un.meridiem = Ge,
    Je("en", {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(e) {
            var t = e % 10
              , i = 1 === y(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th";
            return e + i
        }
    }),
    e.lang = k("moment.lang is deprecated. Use moment.locale instead.", Je),
    e.langData = k("moment.langData is deprecated. Use moment.localeData instead.", et);
    var Gn = Math.abs
      , Yn = is("ms")
      , Xn = is("s")
      , Qn = is("m")
      , Jn = is("h")
      , Zn = is("d")
      , Kn = is("w")
      , ea = is("M")
      , ta = is("y")
      , ia = ns("milliseconds")
      , sa = ns("seconds")
      , na = ns("minutes")
      , aa = ns("hours")
      , ra = ns("days")
      , oa = ns("months")
      , la = ns("years")
      , ha = Math.round
      , ca = {
        s: 45,
        m: 45,
        h: 22,
        d: 26,
        M: 11
    }
      , da = Math.abs
      , ua = _t.prototype;
    ua.abs = Ui,
    ua.add = Yi,
    ua.subtract = Xi,
    ua.as = es,
    ua.asMilliseconds = Yn,
    ua.asSeconds = Xn,
    ua.asMinutes = Qn,
    ua.asHours = Jn,
    ua.asDays = Zn,
    ua.asWeeks = Kn,
    ua.asMonths = ea,
    ua.asYears = ta,
    ua.valueOf = ts,
    ua._bubble = Ji,
    ua.get = ss,
    ua.milliseconds = ia,
    ua.seconds = sa,
    ua.minutes = na,
    ua.hours = aa,
    ua.days = ra,
    ua.weeks = as,
    ua.months = oa,
    ua.years = la,
    ua.humanize = cs,
    ua.toISOString = ds,
    ua.toString = ds,
    ua.toJSON = ds,
    ua.locale = hi,
    ua.localeData = ci,
    ua.toIsoString = k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", ds),
    ua.lang = qn,
    W("X", 0, 0, "unix"),
    W("x", 0, 0, "valueOf"),
    Q("x", Hs),
    Q("X", Us),
    ee("X", function(e, t, i) {
        i._d = new Date(1e3 * parseFloat(e, 10))
    }),
    ee("x", function(e, t, i) {
        i._d = new Date(y(e))
    }),
    e.version = "2.15.2",
    t(vt),
    e.fn = Wn,
    e.min = yt,
    e.max = wt,
    e.now = Ln,
    e.utc = h,
    e.unix = Oi,
    e.months = Vi,
    e.isDate = a,
    e.locale = Je,
    e.invalid = p,
    e.duration = $t,
    e.isMoment = v,
    e.weekdays = Hi,
    e.parseZone = zi,
    e.localeData = et,
    e.isDuration = kt,
    e.monthsShort = Ni,
    e.weekdaysMin = Wi,
    e.defineLocale = Ze,
    e.updateLocale = Ke,
    e.locales = tt,
    e.weekdaysShort = Bi,
    e.normalizeUnits = O,
    e.relativeTimeRounding = ls,
    e.relativeTimeThreshold = hs,
    e.calendarFormat = Wt,
    e.prototype = Wn;
    var pa = e;
    return pa
}),
!function(e, t) {
    "use strict";
    "function" == typeof define && define.amd ? define("momentTimezone", ["moment"], t) : "object" == typeof module && module.exports ? module.exports = t(require("moment")) : t(e.moment)
}(this, function(e) {
    "use strict";
    function t(e) {
        return e > 96 ? e - 87 : e > 64 ? e - 29 : e - 48
    }
    function i(e) {
        var i, s = 0, n = e.split("."), a = n[0], r = n[1] || "", o = 1, l = 0, h = 1;
        for (45 === e.charCodeAt(0) && (s = 1,
        h = -1),
        s; s < a.length; s++)
            i = t(a.charCodeAt(s)),
            l = 60 * l + i;
        for (s = 0; s < r.length; s++)
            o /= 60,
            i = t(r.charCodeAt(s)),
            l += i * o;
        return l * h
    }
    function s(e) {
        for (var t = 0; t < e.length; t++)
            e[t] = i(e[t])
    }
    function n(e, t) {
        for (var i = 0; i < t; i++)
            e[i] = Math.round((e[i - 1] || 0) + 6e4 * e[i]);
        e[t - 1] = 1 / 0
    }
    function a(e, t) {
        var i, s = [];
        for (i = 0; i < t.length; i++)
            s[i] = e[t[i]];
        return s
    }
    function r(e) {
        var t = e.split("|")
          , i = t[2].split(" ")
          , r = t[3].split("")
          , o = t[4].split(" ");
        return s(i),
        s(r),
        s(o),
        n(o, r.length),
        {
            name: t[0],
            abbrs: a(t[1].split(" "), r),
            offsets: a(i, r),
            untils: o,
            population: 0 | t[5]
        }
    }
    function o(e) {
        e && this._set(r(e))
    }
    function l(e) {
        var t = e.toTimeString()
          , i = t.match(/\([a-z ]+\)/i);
        i && i[0] ? (i = i[0].match(/[A-Z]/g),
        i = i ? i.join("") : void 0) : (i = t.match(/[A-Z]{3,5}/g),
        i = i ? i[0] : void 0),
        "GMT" === i && (i = void 0),
        this.at = +e,
        this.abbr = i,
        this.offset = e.getTimezoneOffset()
    }
    function h(e) {
        this.zone = e,
        this.offsetScore = 0,
        this.abbrScore = 0
    }
    function c(e, t) {
        for (var i, s; s = 6e4 * ((t.at - e.at) / 12e4 | 0); )
            i = new l(new Date(e.at + s)),
            i.offset === e.offset ? e = i : t = i;
        return e
    }
    function d() {
        var e, t, i, s = (new Date).getFullYear() - 2, n = new l(new Date(s,0,1)), a = [n];
        for (i = 1; i < 48; i++)
            t = new l(new Date(s,i,1)),
            t.offset !== n.offset && (e = c(n, t),
            a.push(e),
            a.push(new l(new Date(e.at + 6e4)))),
            n = t;
        for (i = 0; i < 4; i++)
            a.push(new l(new Date(s + i,0,1))),
            a.push(new l(new Date(s + i,6,1)));
        return a
    }
    function u(e, t) {
        return e.offsetScore !== t.offsetScore ? e.offsetScore - t.offsetScore : e.abbrScore !== t.abbrScore ? e.abbrScore - t.abbrScore : t.zone.population - e.zone.population
    }
    function p(e, t) {
        var i, n;
        for (s(t),
        i = 0; i < t.length; i++)
            n = t[i],
            j[n] = j[n] || {},
            j[n][e] = !0
    }
    function f(e) {
        var t, i, s, n = e.length, a = {}, r = [];
        for (t = 0; t < n; t++) {
            s = j[e[t].offset] || {};
            for (i in s)
                s.hasOwnProperty(i) && (a[i] = !0)
        }
        for (t in a)
            a.hasOwnProperty(t) && r.push(R[t]);
        return r
    }
    function g() {
        try {
            var e = Intl.DateTimeFormat().resolvedOptions().timeZone;
            if (e) {
                var t = R[v(e)];
                if (t)
                    return t;
                T("Moment Timezone found " + e + " from the Intl api, but did not have that data loaded.")
            }
        } catch (e) {}
        var i, s, n, a = d(), r = a.length, o = f(a), l = [];
        for (s = 0; s < o.length; s++) {
            for (i = new h(y(o[s]),r),
            n = 0; n < r; n++)
                i.scoreOffsetAt(a[n]);
            l.push(i)
        }
        return l.sort(u),
        l.length > 0 ? l[0].zone.name : void 0
    }
    function m(e) {
        return E && !e || (E = g()),
        E
    }
    function v(e) {
        return (e || "").toLowerCase().replace(/\//g, "_")
    }
    function b(e) {
        var t, i, s, n;
        for ("string" == typeof e && (e = [e]),
        t = 0; t < e.length; t++)
            s = e[t].split("|"),
            i = s[0],
            n = v(i),
            D[n] = e[t],
            R[n] = i,
            s[5] && p(n, s[2].split(" "))
    }
    function y(e, t) {
        e = v(e);
        var i, s = D[e];
        return s instanceof o ? s : "string" == typeof s ? (s = new o(s),
        D[e] = s,
        s) : L[e] && t !== y && (i = y(L[e], y)) ? (s = D[e] = new o,
        s._set(i),
        s.name = R[e],
        s) : null
    }
    function w() {
        var e, t = [];
        for (e in R)
            R.hasOwnProperty(e) && (D[e] || D[L[e]]) && R[e] && t.push(R[e]);
        return t.sort()
    }
    function _(e) {
        var t, i, s, n;
        for ("string" == typeof e && (e = [e]),
        t = 0; t < e.length; t++)
            i = e[t].split("|"),
            s = v(i[0]),
            n = v(i[1]),
            L[s] = n,
            R[s] = i[0],
            L[n] = s,
            R[n] = i[1]
    }
    function k(e) {
        b(e.zones),
        _(e.links),
        S.dataVersion = e.version
    }
    function x(e) {
        return x.didShowError || (x.didShowError = !0,
        T("moment.tz.zoneExists('" + e + "') has been deprecated in favor of !moment.tz.zone('" + e + "')")),
        !!y(e)
    }
    function C(e) {
        return !(!e._a || void 0 !== e._tzm)
    }
    function T(e) {
        "undefined" != typeof console && "function" == typeof console.error && console.error(e)
    }
    function S(t) {
        var i = Array.prototype.slice.call(arguments, 0, -1)
          , s = arguments[arguments.length - 1]
          , n = y(s)
          , a = e.utc.apply(null, i);
        return n && !e.isMoment(t) && C(a) && a.add(n.parse(a), "minutes"),
        a.tz(s),
        a
    }
    function P(e) {
        return function() {
            return this._z ? this._z.abbr(this) : e.call(this)
        }
    }
    function M(e) {
        return function() {
            return this._z = null,
            e.apply(this, arguments)
        }
    }
    if (void 0 !== e.tz)
        return T("Moment Timezone " + e.tz.version + " was already loaded " + (e.tz.dataVersion ? "with data from " : "without any data") + e.tz.dataVersion),
        e;
    var E, A = "0.5.7", D = {}, L = {}, R = {}, j = {}, O = e.version.split("."), z = +O[0], I = +O[1];
    (z < 2 || 2 === z && I < 6) && T("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js " + e.version + ". See momentjs.com"),
    o.prototype = {
        _set: function(e) {
            this.name = e.name,
            this.abbrs = e.abbrs,
            this.untils = e.untils,
            this.offsets = e.offsets,
            this.population = e.population
        },
        _index: function(e) {
            var t, i = +e, s = this.untils;
            for (t = 0; t < s.length; t++)
                if (i < s[t])
                    return t
        },
        parse: function(e) {
            var t, i, s, n, a = +e, r = this.offsets, o = this.untils, l = o.length - 1;
            for (n = 0; n < l; n++)
                if (t = r[n],
                i = r[n + 1],
                s = r[n ? n - 1 : n],
                t < i && S.moveAmbiguousForward ? t = i : t > s && S.moveInvalidForward && (t = s),
                a < o[n] - 6e4 * t)
                    return r[n];
            return r[l]
        },
        abbr: function(e) {
            return this.abbrs[this._index(e)]
        },
        offset: function(e) {
            return this.offsets[this._index(e)]
        }
    },
    h.prototype.scoreOffsetAt = function(e) {
        this.offsetScore += Math.abs(this.zone.offset(e.at) - e.offset),
        this.zone.abbr(e.at).replace(/[^A-Z]/g, "") !== e.abbr && this.abbrScore++
    }
    ,
    S.version = A,
    S.dataVersion = "",
    S._zones = D,
    S._links = L,
    S._names = R,
    S.add = b,
    S.link = _,
    S.load = k,
    S.zone = y,
    S.zoneExists = x,
    S.guess = m,
    S.names = w,
    S.Zone = o,
    S.unpack = r,
    S.unpackBase60 = i,
    S.needsOffset = C,
    S.moveInvalidForward = !0,
    S.moveAmbiguousForward = !1;
    var q = e.fn;
    e.tz = S,
    e.defaultZone = null,
    e.updateOffset = function(t, i) {
        var s, n = e.defaultZone;
        void 0 === t._z && (n && C(t) && !t._isUTC && (t._d = e.utc(t._a)._d,
        t.utc().add(n.parse(t), "minutes")),
        t._z = n),
        t._z && (s = t._z.offset(t),
        Math.abs(s) < 16 && (s /= 60),
        void 0 !== t.utcOffset ? t.utcOffset(-s, i) : t.zone(s, i))
    }
    ,
    q.tz = function(t) {
        return t ? (this._z = y(t),
        this._z ? e.updateOffset(this) : T("Moment Timezone has no data for " + t + ". See http://momentjs.com/timezone/docs/#/data-loading/."),
        this) : this._z ? this._z.name : void 0
    }
    ,
    q.zoneName = P(q.zoneName),
    q.zoneAbbr = P(q.zoneAbbr),
    q.utc = M(q.utc),
    e.tz.setDefault = function(t) {
        return (z < 2 || 2 === z && I < 9) && T("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js " + e.version + "."),
        e.defaultZone = t ? y(t) : null,
        e
    }
    ;
    var $ = e.momentProperties;
    return "[object Array]" === Object.prototype.toString.call($) ? ($.push("_z"),
    $.push("_a")) : $ && ($._z = null),
    k({
        version: "2016h",
        zones: ["Africa/Abidjan|GMT|0|0||48e5", "Africa/Khartoum|EAT|-30|0||51e5", "Africa/Algiers|CET|-10|0||26e5", "Africa/Lagos|WAT|-10|0||17e6", "Africa/Maputo|CAT|-20|0||26e5", "Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6", "Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0|32e5", "Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6", "Africa/Johannesburg|SAST|-20|0||84e5", "Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00|11e5", "Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0|32e4", "America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326", "America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4", "America/Santo_Domingo|AST|40|0||29e5", "America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0|14e4", "America/Argentina/Buenos_Aires|ART|30|0|", "America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5", "America/Panama|EST|50|0||15e5", "America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0|27e5", "America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3", "America/Fortaleza|BRT|30|0||34e5", "America/Managua|CST|60|0||22e5", "America/Manaus|AMT|40|0||19e5", "America/Bogota|COT|50|0||90e5", "America/Denver|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5", "America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10|77e4", "America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4", "America/Caracas|VET VET|4u 40|01|1QMT0|29e5", "America/Cayenne|GFT|30|0||58e3", "America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5", "America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4", "America/Phoenix|MST|70|0||42e5", "America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6", "America/New_York|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6", "America/Rio_Branco|AMT ACT|40 50|01|1KLE0|31e4", "America/Fort_Nelson|PST PDT MST|80 70 70|010101010102|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2", "America/Halifax|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4", "America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3", "America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2", "America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2", "America/Guayaquil|ECT|50|0||27e5", "America/Guyana|GYT|40|0||80e4", "America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5", "America/La_Paz|BOT|40|0||19e5", "America/Lima|PET|50|0||11e6", "America/Mexico_City|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6", "America/Metlakatla|PST AKST AKDT|80 90 80|012121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2", "America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2", "America/Montevideo|UYST UYT|20 30|010101010101|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5", "America/Noronha|FNT|20|0||30e2", "America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Paramaribo|SRT|30|0||24e4", "America/Port-au-Prince|EST EDT|50 40|010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5", "America/Santiago|CLST CLT|30 40|010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|62e5", "America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10|20e6", "America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452", "America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4", "Antarctica/Casey|+11 +08|-b0 -80|0101|1BN30 40P0 KL0|10", "Antarctica/Davis|+05 +07|-50 -70|0101|1BPw0 3Wn0 KN0|70", "Antarctica/DumontDUrville|+10|-a0|0||80", "Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140|1", "Asia/Tashkent|+05|-50|0||23e5", "Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5", "Antarctica/Rothera|-03|30|0||130", "Antarctica/Syowa|+03|-30|0||20", "Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40", "Asia/Almaty|+06|-60|0||15e5", "Asia/Baghdad|AST|-30|0||66e5", "Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0|25e5", "Asia/Kamchatka|+12 +11|-c0 -b0|010|1Dp30 WM0|18e4", "Asia/Baku|+04 +05|-40 -50|0101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5", "Asia/Bangkok|ICT|-70|0||15e6", "Asia/Barnaul|+06 +07|-60 -70|010101|1BWk0 1qM0 WM0 8Hz0 3rd0", "Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5", "Asia/Brunei|BNT|-80|0||42e4", "Asia/Kolkata|IST|-5u|0||15e6", "Asia/Chita|+09 +10 +08|-90 -a0 -80|010120|1BWh0 1qM0 WM0 8Hz0 3re0|33e4", "Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|38e3", "Asia/Shanghai|CST|-80|0||23e6", "Asia/Colombo|+0530|-5u|0||22e5", "Asia/Dhaka|BDT|-60|0||16e6", "Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0|26e5", "Asia/Dili|TLT|-90|0||19e4", "Asia/Dubai|GST|-40|0||39e5", "Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|18e5", "Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|25e4", "Asia/Hong_Kong|HKT|-80|0||73e5", "Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|81e3", "Asia/Irkutsk|+08 +09|-80 -90|01010|1BWi0 1qM0 WM0 8Hz0|60e4", "Europe/Istanbul|EET EEST +03|-20 -30 -30|010101010101012|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6", "Asia/Jakarta|WIB|-70|0||31e6", "Asia/Jayapura|WIT|-90|0||26e4", "Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4", "Asia/Kabul|AFT|-4u|0||46e5", "Asia/Karachi|PKT|-50|0||24e6", "Asia/Urumqi|XJT|-60|0||32e5", "Asia/Kathmandu|NPT|-5J|0||12e5", "Asia/Khandyga|+10 +11 +09|-a0 -b0 -90|010102|1BWg0 1qM0 WM0 17V0 7zD0|66e2", "Asia/Krasnoyarsk|+07 +08|-70 -80|01010|1BWj0 1qM0 WM0 8Hz0|10e5", "Asia/Kuala_Lumpur|MYT|-80|0||71e5", "Asia/Magadan|+11 +12 +10|-b0 -c0 -a0|010120|1BWf0 1qM0 WM0 8Hz0 3Cq0|95e3", "Asia/Makassar|WITA|-80|0||15e5", "Asia/Manila|PHT|-80|0||24e6", "Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5", "Asia/Novokuznetsk|+07 +06|-70 -60|010|1Dp80 WM0|55e4", "Asia/Novosibirsk|+06 +07|-60 -70|010101|1BWk0 1qM0 WM0 8Hz0 4eN0|15e5", "Asia/Omsk|+06 +07|-60 -70|01010|1BWk0 1qM0 WM0 8Hz0|12e5", "Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0|29e5", "Asia/Rangoon|MMT|-6u|0||48e5", "Asia/Sakhalin|+10 +11|-a0 -b0|010101|1BWg0 1qM0 WM0 8Hz0 3rd0|58e4", "Asia/Seoul|KST|-90|0||23e6", "Asia/Singapore|SGT|-80|0||56e5", "Asia/Srednekolymsk|+11 +12|-b0 -c0|01010|1BWf0 1qM0 WM0 8Hz0|35e2", "Asia/Tbilisi|+04|-40|0||11e5", "Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6", "Asia/Thimphu|BTT|-60|0||79e3", "Asia/Tokyo|JST|-90|0||38e6", "Asia/Tomsk|+06 +07|-60 -70|010101|1BWk0 1qM0 WM0 8Hz0 3Qp0|10e5", "Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|12e5", "Asia/Ust-Nera|+11 +12 +10|-b0 -c0 -a0|010102|1BWf0 1qM0 WM0 17V0 7zD0|65e2", "Asia/Vladivostok|+10 +11|-a0 -b0|01010|1BWg0 1qM0 WM0 8Hz0|60e4", "Asia/Yakutsk|+09 +10|-90 -a0|01010|1BWh0 1qM0 WM0 8Hz0|28e4", "Asia/Yekaterinburg|+05 +06|-50 -60|01010|1BWl0 1qM0 WM0 8Hz0|14e5", "Asia/Yerevan|+04 +05|-40 -50|01010|1BWm0 1qM0 WM0 1qM0|13e5", "Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4", "Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5", "Atlantic/Cape_Verde|CVT|10|0||50e4", "Atlantic/South_Georgia|GST|20|0||30", "Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10|21e2", "Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5", "Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5", "Australia/Brisbane|AEST|-a0|0||20e5", "Australia/Darwin|ACST|-9u|0||12e4", "Australia/Eucla|ACWST|-8J|0||368", "Australia/Lord_Howe|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347", "Australia/Perth|AWST|-80|0||18e5", "Pacific/Easter|EASST EAST|50 60|010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|30e2", "Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5", "Etc/GMT+1|-01|10|0|", "Etc/GMT+10|-10|a0|0|", "Etc/GMT+11|-11|b0|0|", "Etc/GMT+12|-12|c0|0|", "Etc/GMT+2|-02|20|0|", "Etc/GMT+4|-04|40|0|", "Etc/GMT+5|-05|50|0|", "Etc/GMT+6|-06|60|0|", "Etc/GMT+7|-07|70|0|", "Etc/GMT+8|-08|80|0|", "Etc/GMT+9|-09|90|0|", "Etc/GMT-1|+01|-10|0|", "Etc/GMT-11|+11|-b0|0|", "Etc/GMT-12|+12|-c0|0|", "Etc/GMT-13|+13|-d0|0|", "Etc/GMT-14|+14|-e0|0|", "Etc/GMT-2|+02|-20|0|", "Etc/GMT-7|+07|-70|0|", "Etc/GMT-8|+08|-80|0|", "Etc/GMT-9|+09|-90|0|", "Etc/UCT|UCT|0|0|", "Etc/UTC|UTC|0|0|", "Europe/Astrakhan|+03 +04|-30 -40|010101|1BWn0 1qM0 WM0 8Hz0 3rd0", "Europe/London|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6", "Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4", "Europe/Kaliningrad|EET EEST +03|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0|44e4", "Europe/Volgograd|+03 +04|-30 -40|01010|1BWn0 1qM0 WM0 8Hz0|10e5", "Europe/Minsk|EET EEST +03|-20 -30 -30|0102|1BWo0 1qM0 WM0|19e5", "Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0|16e6", "Europe/Samara|+04 +03|-40 -30|010|1Dpb0 WM0|12e5", "Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4", "Pacific/Honolulu|HST|a0|0||37e4", "Indian/Chagos|IOT|-60|0||30e2", "Indian/Christmas|CXT|-70|0||21e2", "Indian/Cocos|CCT|-6u|0||596", "Indian/Mahe|SCT|-40|0||79e3", "Indian/Maldives|MVT|-50|0||35e4", "Indian/Mauritius|MUT|-40|0||15e4", "Indian/Reunion|RET|-40|0||84e4", "Pacific/Majuro|MHT|-c0|0||28e3", "MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00", "Pacific/Chatham|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600", "Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3", "Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0|18e4", "Pacific/Chuuk|CHUT|-a0|0||49e3", "Pacific/Efate|VUT|-b0|0||66e3", "Pacific/Enderbury|PHOT|-d0|0||1", "Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0|483", "Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0|88e4", "Pacific/Funafuti|TVT|-c0|0||45e2", "Pacific/Galapagos|GALT|60|0||25e3", "Pacific/Gambier|GAMT|90|0||125", "Pacific/Guadalcanal|SBT|-b0|0||11e4", "Pacific/Guam|ChST|-a0|0||17e4", "Pacific/Kiritimati|LINT|-e0|0||51e2", "Pacific/Kosrae|KOST|-b0|0||66e2", "Pacific/Marquesas|MART|9u|0||86e2", "Pacific/Pago_Pago|SST|b0|0||37e2", "Pacific/Nauru|NRT|-c0|0||10e3", "Pacific/Niue|NUT|b0|0||12e2", "Pacific/Norfolk|NFT NFT|-bu -b0|01|1PoCu|25e4", "Pacific/Noumea|NCT|-b0|0||98e3", "Pacific/Palau|PWT|-90|0||21e3", "Pacific/Pitcairn|PST|80|0||56", "Pacific/Pohnpei|PONT|-b0|0||34e3", "Pacific/Port_Moresby|PGT|-a0|0||25e4", "Pacific/Rarotonga|CKT|a0|0||13e3", "Pacific/Tahiti|TAHT|a0|0||18e4", "Pacific/Tarawa|GILT|-c0|0||29e3", "Pacific/Tongatapu|TOT|-d0|0||75e3", "Pacific/Wake|WAKT|-c0|0||16e3", "Pacific/Wallis|WFT|-c0|0||94"],
        links: ["Africa/Abidjan|Africa/Accra", "Africa/Abidjan|Africa/Bamako", "Africa/Abidjan|Africa/Banjul", "Africa/Abidjan|Africa/Bissau", "Africa/Abidjan|Africa/Conakry", "Africa/Abidjan|Africa/Dakar", "Africa/Abidjan|Africa/Freetown", "Africa/Abidjan|Africa/Lome", "Africa/Abidjan|Africa/Monrovia", "Africa/Abidjan|Africa/Nouakchott", "Africa/Abidjan|Africa/Ouagadougou", "Africa/Abidjan|Africa/Sao_Tome", "Africa/Abidjan|Africa/Timbuktu", "Africa/Abidjan|America/Danmarkshavn", "Africa/Abidjan|Atlantic/Reykjavik", "Africa/Abidjan|Atlantic/St_Helena", "Africa/Abidjan|Etc/GMT", "Africa/Abidjan|Etc/GMT+0", "Africa/Abidjan|Etc/GMT-0", "Africa/Abidjan|Etc/GMT0", "Africa/Abidjan|Etc/Greenwich", "Africa/Abidjan|GMT", "Africa/Abidjan|GMT+0", "Africa/Abidjan|GMT-0", "Africa/Abidjan|GMT0", "Africa/Abidjan|Greenwich", "Africa/Abidjan|Iceland", "Africa/Algiers|Africa/Tunis", "Africa/Cairo|Egypt", "Africa/Casablanca|Africa/El_Aaiun", "Africa/Johannesburg|Africa/Maseru", "Africa/Johannesburg|Africa/Mbabane", "Africa/Khartoum|Africa/Addis_Ababa", "Africa/Khartoum|Africa/Asmara", "Africa/Khartoum|Africa/Asmera", "Africa/Khartoum|Africa/Dar_es_Salaam", "Africa/Khartoum|Africa/Djibouti", "Africa/Khartoum|Africa/Juba", "Africa/Khartoum|Africa/Kampala", "Africa/Khartoum|Africa/Mogadishu", "Africa/Khartoum|Africa/Nairobi", "Africa/Khartoum|Indian/Antananarivo", "Africa/Khartoum|Indian/Comoro", "Africa/Khartoum|Indian/Mayotte", "Africa/Lagos|Africa/Bangui", "Africa/Lagos|Africa/Brazzaville", "Africa/Lagos|Africa/Douala", "Africa/Lagos|Africa/Kinshasa", "Africa/Lagos|Africa/Libreville", "Africa/Lagos|Africa/Luanda", "Africa/Lagos|Africa/Malabo", "Africa/Lagos|Africa/Ndjamena", "Africa/Lagos|Africa/Niamey", "Africa/Lagos|Africa/Porto-Novo", "Africa/Maputo|Africa/Blantyre", "Africa/Maputo|Africa/Bujumbura", "Africa/Maputo|Africa/Gaborone", "Africa/Maputo|Africa/Harare", "Africa/Maputo|Africa/Kigali", "Africa/Maputo|Africa/Lubumbashi", "Africa/Maputo|Africa/Lusaka", "Africa/Tripoli|Libya", "America/Adak|America/Atka", "America/Adak|US/Aleutian", "America/Anchorage|America/Juneau", "America/Anchorage|America/Nome", "America/Anchorage|America/Sitka", "America/Anchorage|America/Yakutat", "America/Anchorage|US/Alaska", "America/Argentina/Buenos_Aires|America/Argentina/Catamarca", "America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia", "America/Argentina/Buenos_Aires|America/Argentina/Cordoba", "America/Argentina/Buenos_Aires|America/Argentina/Jujuy", "America/Argentina/Buenos_Aires|America/Argentina/La_Rioja", "America/Argentina/Buenos_Aires|America/Argentina/Mendoza", "America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos", "America/Argentina/Buenos_Aires|America/Argentina/Salta", "America/Argentina/Buenos_Aires|America/Argentina/San_Juan", "America/Argentina/Buenos_Aires|America/Argentina/San_Luis", "America/Argentina/Buenos_Aires|America/Argentina/Tucuman", "America/Argentina/Buenos_Aires|America/Argentina/Ushuaia", "America/Argentina/Buenos_Aires|America/Buenos_Aires", "America/Argentina/Buenos_Aires|America/Catamarca", "America/Argentina/Buenos_Aires|America/Cordoba", "America/Argentina/Buenos_Aires|America/Jujuy", "America/Argentina/Buenos_Aires|America/Mendoza", "America/Argentina/Buenos_Aires|America/Rosario", "America/Campo_Grande|America/Cuiaba", "America/Chicago|America/Indiana/Knox", "America/Chicago|America/Indiana/Tell_City", "America/Chicago|America/Knox_IN", "America/Chicago|America/Matamoros", "America/Chicago|America/Menominee", "America/Chicago|America/North_Dakota/Center", "America/Chicago|America/North_Dakota/New_Salem", "America/Chicago|America/Rainy_River", "America/Chicago|America/Rankin_Inlet", "America/Chicago|America/Resolute", "America/Chicago|America/Winnipeg", "America/Chicago|CST6CDT", "America/Chicago|Canada/Central", "America/Chicago|US/Central", "America/Chicago|US/Indiana-Starke", "America/Chihuahua|America/Mazatlan", "America/Chihuahua|Mexico/BajaSur", "America/Denver|America/Boise", "America/Denver|America/Cambridge_Bay", "America/Denver|America/Edmonton", "America/Denver|America/Inuvik", "America/Denver|America/Ojinaga", "America/Denver|America/Shiprock", "America/Denver|America/Yellowknife", "America/Denver|Canada/Mountain", "America/Denver|MST7MDT", "America/Denver|Navajo", "America/Denver|US/Mountain", "America/Fortaleza|America/Belem", "America/Fortaleza|America/Maceio", "America/Fortaleza|America/Recife", "America/Fortaleza|America/Santarem", "America/Halifax|America/Glace_Bay", "America/Halifax|America/Moncton", "America/Halifax|America/Thule", "America/Halifax|Atlantic/Bermuda", "America/Halifax|Canada/Atlantic", "America/Havana|Cuba", "America/Los_Angeles|America/Dawson", "America/Los_Angeles|America/Ensenada", "America/Los_Angeles|America/Santa_Isabel", "America/Los_Angeles|America/Tijuana", "America/Los_Angeles|America/Vancouver", "America/Los_Angeles|America/Whitehorse", "America/Los_Angeles|Canada/Pacific", "America/Los_Angeles|Canada/Yukon", "America/Los_Angeles|Mexico/BajaNorte", "America/Los_Angeles|PST8PDT", "America/Los_Angeles|US/Pacific", "America/Los_Angeles|US/Pacific-New", "America/Managua|America/Belize", "America/Managua|America/Costa_Rica", "America/Managua|America/El_Salvador", "America/Managua|America/Guatemala", "America/Managua|America/Regina", "America/Managua|America/Swift_Current", "America/Managua|America/Tegucigalpa", "America/Managua|Canada/East-Saskatchewan", "America/Managua|Canada/Saskatchewan", "America/Manaus|America/Boa_Vista", "America/Manaus|America/Porto_Velho", "America/Manaus|Brazil/West", "America/Mexico_City|America/Merida", "America/Mexico_City|America/Monterrey", "America/Mexico_City|Mexico/General", "America/New_York|America/Detroit", "America/New_York|America/Fort_Wayne", "America/New_York|America/Indiana/Indianapolis", "America/New_York|America/Indiana/Marengo", "America/New_York|America/Indiana/Petersburg", "America/New_York|America/Indiana/Vevay", "America/New_York|America/Indiana/Vincennes", "America/New_York|America/Indiana/Winamac", "America/New_York|America/Indianapolis", "America/New_York|America/Iqaluit", "America/New_York|America/Kentucky/Louisville", "America/New_York|America/Kentucky/Monticello", "America/New_York|America/Louisville", "America/New_York|America/Montreal", "America/New_York|America/Nassau", "America/New_York|America/Nipigon", "America/New_York|America/Pangnirtung", "America/New_York|America/Thunder_Bay", "America/New_York|America/Toronto", "America/New_York|Canada/Eastern", "America/New_York|EST5EDT", "America/New_York|US/East-Indiana", "America/New_York|US/Eastern", "America/New_York|US/Michigan", "America/Noronha|Brazil/DeNoronha", "America/Panama|America/Atikokan", "America/Panama|America/Cayman", "America/Panama|America/Coral_Harbour", "America/Panama|America/Jamaica", "America/Panama|EST", "America/Panama|Jamaica", "America/Phoenix|America/Creston", "America/Phoenix|America/Dawson_Creek", "America/Phoenix|America/Hermosillo", "America/Phoenix|MST", "America/Phoenix|US/Arizona", "America/Rio_Branco|America/Eirunepe", "America/Rio_Branco|America/Porto_Acre", "America/Rio_Branco|Brazil/Acre", "America/Santiago|Antarctica/Palmer", "America/Santiago|Chile/Continental", "America/Santo_Domingo|America/Anguilla", "America/Santo_Domingo|America/Antigua", "America/Santo_Domingo|America/Aruba", "America/Santo_Domingo|America/Barbados", "America/Santo_Domingo|America/Blanc-Sablon", "America/Santo_Domingo|America/Curacao", "America/Santo_Domingo|America/Dominica", "America/Santo_Domingo|America/Grenada", "America/Santo_Domingo|America/Guadeloupe", "America/Santo_Domingo|America/Kralendijk", "America/Santo_Domingo|America/Lower_Princes", "America/Santo_Domingo|America/Marigot", "America/Santo_Domingo|America/Martinique", "America/Santo_Domingo|America/Montserrat", "America/Santo_Domingo|America/Port_of_Spain", "America/Santo_Domingo|America/Puerto_Rico", "America/Santo_Domingo|America/St_Barthelemy", "America/Santo_Domingo|America/St_Kitts", "America/Santo_Domingo|America/St_Lucia", "America/Santo_Domingo|America/St_Thomas", "America/Santo_Domingo|America/St_Vincent", "America/Santo_Domingo|America/Tortola", "America/Santo_Domingo|America/Virgin", "America/Sao_Paulo|Brazil/East", "America/St_Johns|Canada/Newfoundland", "Antarctica/DumontDUrville|Etc/GMT-10", "Antarctica/Rothera|Etc/GMT+3", "Antarctica/Syowa|Etc/GMT-3", "Asia/Almaty|Antarctica/Vostok", "Asia/Almaty|Asia/Bishkek", "Asia/Almaty|Asia/Qyzylorda", "Asia/Almaty|Etc/GMT-6", "Asia/Baghdad|Asia/Aden", "Asia/Baghdad|Asia/Bahrain", "Asia/Baghdad|Asia/Kuwait", "Asia/Baghdad|Asia/Qatar", "Asia/Baghdad|Asia/Riyadh", "Asia/Bangkok|Asia/Ho_Chi_Minh", "Asia/Bangkok|Asia/Phnom_Penh", "Asia/Bangkok|Asia/Saigon", "Asia/Bangkok|Asia/Vientiane", "Asia/Dhaka|Asia/Dacca", "Asia/Dubai|Asia/Muscat", "Asia/Hong_Kong|Hongkong", "Asia/Jakarta|Asia/Pontianak", "Asia/Jerusalem|Asia/Tel_Aviv", "Asia/Jerusalem|Israel", "Asia/Kamchatka|Asia/Anadyr", "Asia/Kathmandu|Asia/Katmandu", "Asia/Kolkata|Asia/Calcutta", "Asia/Kuala_Lumpur|Asia/Kuching", "Asia/Makassar|Asia/Ujung_Pandang", "Asia/Rangoon|Asia/Yangon", "Asia/Seoul|ROK", "Asia/Shanghai|Asia/Chongqing", "Asia/Shanghai|Asia/Chungking", "Asia/Shanghai|Asia/Harbin", "Asia/Shanghai|Asia/Macao", "Asia/Shanghai|Asia/Macau", "Asia/Shanghai|Asia/Taipei", "Asia/Shanghai|PRC", "Asia/Shanghai|ROC", "Asia/Singapore|Singapore", "Asia/Tashkent|Antarctica/Mawson", "Asia/Tashkent|Asia/Aqtau", "Asia/Tashkent|Asia/Aqtobe", "Asia/Tashkent|Asia/Ashgabat", "Asia/Tashkent|Asia/Ashkhabad", "Asia/Tashkent|Asia/Dushanbe", "Asia/Tashkent|Asia/Oral", "Asia/Tashkent|Asia/Samarkand", "Asia/Tashkent|Etc/GMT-5", "Asia/Tashkent|Indian/Kerguelen", "Asia/Tbilisi|Etc/GMT-4", "Asia/Tehran|Iran", "Asia/Thimphu|Asia/Thimbu", "Asia/Tokyo|Japan", "Asia/Ulaanbaatar|Asia/Ulan_Bator", "Asia/Urumqi|Asia/Kashgar", "Australia/Adelaide|Australia/Broken_Hill", "Australia/Adelaide|Australia/South", "Australia/Adelaide|Australia/Yancowinna", "Australia/Brisbane|Australia/Lindeman", "Australia/Brisbane|Australia/Queensland", "Australia/Darwin|Australia/North", "Australia/Lord_Howe|Australia/LHI", "Australia/Perth|Australia/West", "Australia/Sydney|Australia/ACT", "Australia/Sydney|Australia/Canberra", "Australia/Sydney|Australia/Currie", "Australia/Sydney|Australia/Hobart", "Australia/Sydney|Australia/Melbourne", "Australia/Sydney|Australia/NSW", "Australia/Sydney|Australia/Tasmania", "Australia/Sydney|Australia/Victoria", "Etc/UCT|UCT", "Etc/UTC|Etc/Universal", "Etc/UTC|Etc/Zulu", "Etc/UTC|UTC", "Etc/UTC|Universal", "Etc/UTC|Zulu", "Europe/Astrakhan|Europe/Ulyanovsk", "Europe/Athens|Asia/Nicosia", "Europe/Athens|EET", "Europe/Athens|Europe/Bucharest", "Europe/Athens|Europe/Helsinki", "Europe/Athens|Europe/Kiev", "Europe/Athens|Europe/Mariehamn", "Europe/Athens|Europe/Nicosia", "Europe/Athens|Europe/Riga", "Europe/Athens|Europe/Sofia", "Europe/Athens|Europe/Tallinn", "Europe/Athens|Europe/Uzhgorod", "Europe/Athens|Europe/Vilnius", "Europe/Athens|Europe/Zaporozhye", "Europe/Chisinau|Europe/Tiraspol", "Europe/Dublin|Eire", "Europe/Istanbul|Asia/Istanbul", "Europe/Istanbul|Turkey", "Europe/Lisbon|Atlantic/Canary", "Europe/Lisbon|Atlantic/Faeroe", "Europe/Lisbon|Atlantic/Faroe", "Europe/Lisbon|Atlantic/Madeira", "Europe/Lisbon|Portugal", "Europe/Lisbon|WET", "Europe/London|Europe/Belfast", "Europe/London|Europe/Guernsey", "Europe/London|Europe/Isle_of_Man", "Europe/London|Europe/Jersey", "Europe/London|GB", "Europe/London|GB-Eire", "Europe/Moscow|W-SU", "Europe/Paris|Africa/Ceuta", "Europe/Paris|Arctic/Longyearbyen", "Europe/Paris|Atlantic/Jan_Mayen", "Europe/Paris|CET", "Europe/Paris|Europe/Amsterdam", "Europe/Paris|Europe/Andorra", "Europe/Paris|Europe/Belgrade", "Europe/Paris|Europe/Berlin", "Europe/Paris|Europe/Bratislava", "Europe/Paris|Europe/Brussels", "Europe/Paris|Europe/Budapest", "Europe/Paris|Europe/Busingen", "Europe/Paris|Europe/Copenhagen", "Europe/Paris|Europe/Gibraltar", "Europe/Paris|Europe/Ljubljana", "Europe/Paris|Europe/Luxembourg", "Europe/Paris|Europe/Madrid", "Europe/Paris|Europe/Malta", "Europe/Paris|Europe/Monaco", "Europe/Paris|Europe/Oslo", "Europe/Paris|Europe/Podgorica", "Europe/Paris|Europe/Prague", "Europe/Paris|Europe/Rome", "Europe/Paris|Europe/San_Marino", "Europe/Paris|Europe/Sarajevo", "Europe/Paris|Europe/Skopje", "Europe/Paris|Europe/Stockholm", "Europe/Paris|Europe/Tirane", "Europe/Paris|Europe/Vaduz", "Europe/Paris|Europe/Vatican", "Europe/Paris|Europe/Vienna", "Europe/Paris|Europe/Warsaw", "Europe/Paris|Europe/Zagreb", "Europe/Paris|Europe/Zurich", "Europe/Paris|Poland", "Europe/Volgograd|Europe/Kirov", "Pacific/Auckland|Antarctica/McMurdo", "Pacific/Auckland|Antarctica/South_Pole", "Pacific/Auckland|NZ", "Pacific/Chatham|NZ-CHAT", "Pacific/Chuuk|Pacific/Truk", "Pacific/Chuuk|Pacific/Yap", "Pacific/Easter|Chile/EasterIsland", "Pacific/Guam|Pacific/Saipan", "Pacific/Honolulu|HST", "Pacific/Honolulu|Pacific/Johnston", "Pacific/Honolulu|US/Hawaii", "Pacific/Majuro|Kwajalein", "Pacific/Majuro|Pacific/Kwajalein", "Pacific/Pago_Pago|Pacific/Midway", "Pacific/Pago_Pago|Pacific/Samoa", "Pacific/Pago_Pago|US/Samoa", "Pacific/Pohnpei|Pacific/Ponape"]
    }),
    e
}),
define("views/pairings-group", ["require", "backbone", "underscore", "text!templates/pairings-group.html!strip", "momentTimezone"], function(e) {
    var t = e("backbone")
      , i = e("underscore")
      , s = e("text!templates/pairings-group.html!strip")
      , n = e("momentTimezone")
      , a = t.View.extend({
        className: "pairingsGroupRow",
        template: i.template(s),
        defaults: {},
        initialize: function(e) {
            this.show = !0,
            this.playerCardViewsMap = e.playerCardViewsMap,
            this.showPlayerIdsMap = {}
        },
        render: function() {
            return this.buildPlayerGroup(),
            this
        },
        buildPlayerGroup: function() {
            var e = this
              , t = document.createDocumentFragment();
            this.model.player.forEach(function(i) {
                i.id && (playerModel = e.collection.get(i.id),
                view = e.playerCardViewsMap[playerModel.get("id")],
                e._updatePlayerViews(playerModel),
                t.appendChild(view.el),
                e.listenTo(playerModel, "change:show", e._updatePlayerViews))
            }),
            this._updateGroupView(),
            this.listenTo(e.collection, "modified", e._updateGroupView);
            var i = this._convertToClientTime(this.model.time)
              , s = !1;
            10 == this.model.tee && (s = !0,
            this.trigger("hasSplitTee")),
            i.indexOf("EST") === -1 && i.indexOf("EDT") === -1 ? this.$el.html(this.template({
                group: this.model,
                clientTime: i,
                display: "",
                splitTee: s
            })) : this.$el.html(this.template({
                group: this.model,
                clientTime: "",
                display: "hide",
                splitTee: s
            })),
            this.$el.append(t)
        },
        _convertToClientTime: function(e) {
            var t = n(this.model.time, "h:mm A").format("YYYY-MM-DD hh:mm A")
              , i = n.tz(t, "YYYY-MM-DD hh:mm A", "America/New_York")
              , s = (i.format("hh:mm A z"),
            n.tz(i, n.tz.guess()))
              , a = s.format("h:mm A z");
            return a
        },
        _updatePlayerViews: function(e) {
            var t = e.get("id")
              , i = this.playerCardViewsMap[t]
              , s = e.get("show");
            i.trigger("fadeCard", !s),
            s ? this.showPlayerIdsMap[t] = !0 : delete this.showPlayerIdsMap[t]
        },
        _updateGroupView: function() {
            0 === Object.keys(this.showPlayerIdsMap).length ? (this.show = !1,
            this.$el.hide()) : (this.show = !0,
            this.$el.show())
        }
    });
    return a
}),
define("views/pairings-round", ["require", "backbone", "views/pairings-group", "utils/pubsub"], function(e) {
    var t = e("backbone")
      , i = e("views/pairings-group")
      , s = e("utils/pubsub")
      , n = {};
    n.no_matches = _.template('<div class="pairingsNoResults">No Matches</div>');
    var a = t.View.extend({
        el: ".roundContent",
        defaults: {},
        initialize: function(e) {
            this.hasSplitTee = !1,
            this.playerCardViewsMap = e.playerCardViewsMap || {},
            this.groupViewsMap = {},
            0 === this.$(".pairingsNoResults").length && this.$el.append(n.no_matches({}))
        },
        render: function() {
            return this.buildRound(),
            this
        },
        buildRound: function() {
            var e = this;
            this.$(".pairingsGroupRow").detach();
            var t = document.createDocumentFragment();
            this.model.group.forEach(function(s) {
                var n, a = e.groupViewsMap[s.number];
                if (a)
                    n = a.render().el;
                else {
                    var a = new i({
                        model: s,
                        collection: e.collection,
                        playerCardViewsMap: e.playerCardViewsMap
                    });
                    e.listenToOnce(a, "hasSplitTee", function() {
                        e.hasSplitTee = !0
                    }),
                    n = a.render().el,
                    e.groupViewsMap[s.number] = a
                }
                t.appendChild(n)
            }),
            this.$el.append(t),
            s.trigger("pairings-round:hasSplitTee", this.hasSplitTee),
            this.listenTo(this.collection, "modified", function() {
                this._displayMessageIfNoSearchResults(),
                s.trigger("lookup.unveil")
            }),
            this._displayMessageIfNoSearchResults()
        },
        _displayMessageIfNoSearchResults: function() {
            var e = !0;
            for (var t in this.groupViewsMap) {
                var i = this.groupViewsMap[t];
                if (i.show) {
                    e = !1;
                    break
                }
            }
            e ? this.$(".pairingsNoResults").show() : this.$(".pairingsNoResults").hide()
        },
        stopAllListeners: function() {
            this.stopListening();
            for (var e in this.groupViewsMap)
                this.groupViewsMap.hasOwnProperty(e) && this.groupViewsMap[e].stopListening()
        },
        onDispose: function() {
            for (var e in this.groupViewsMap)
                this.groupViewsMap.hasOwnProperty(e) && this.groupViewsMap[e].dispose()
        }
    });
    return a
}),
define("text!templates/withdrawn-missed-cut.html!strip", [], function() {
    return '<table id="wdmctable" class="wdmctable tablesaw tablesaw-swipe" data-tablesaw-mode="swipe">\n <thead>\n <tr>\n <th class="status" data-tablesaw-priority="persist">Status</th>\n <th class="player" data-tablesaw-priority="persist">Player</th>\n <th class="par_total">Total</th>\n <th class="r1">R1</th>\n <th class="r2">R2</th>\n <th class="r3">R3</th>\n <th class="r4">R4</th>\n <th class="total">Round Total</th>\n </tr>\n </thead>\n <tbody>\n <%= rows %>\n </tbody>\n</table>\n\n\n\n'
}),
define("text!templates/withdrawn-missed-cut-row.html!strip", [], function() {
    return '<tr class="row <%= row_class %>"> \n <td class="status"><%= player.status %></td> \n <td class="player"><%= player.name %><%= player.amateur === "1" ? " (A)" : "" %></td> \n <td class="par_total <%= par_klass %>"><%= player.par_total %></td> \n <td class="r1"><%= player.r1 %></td> \n <td class="r2"><%= player.r2 %></td> \n <td class="r3"><%= player.r3 %></td> \n <td class="r4"><%= player.r4 %></td> \n <td class="total"><%= player.total %></td> \n </td>\n</tr>\n\n\n'
}),
define("views/withdrawn-missed-cut", ["require", "backbone", "tablesaw", "text!templates/withdrawn-missed-cut.html!strip", "text!templates/withdrawn-missed-cut-row.html!strip"], function(e) {
    var t = e("backbone")
      , i = (e("tablesaw"),
    e("text!templates/withdrawn-missed-cut.html!strip"))
      , s = e("text!templates/withdrawn-missed-cut-row.html!strip")
      , n = t.View.extend({
        el: ".withdrawnMissedCutContent",
        tableTemplate: _.template(i),
        rowTemplate: _.template(s),
        render: function() {
            return this._buildTable(),
            this
        },
        _buildTable: function() {
            for (var e = this.model, t = "", i = 0; i < e.length; i++) {
                var s = i % 2 === 0 ? "row1" : "row2"
                  , n = parseInt(e[i].par_total, 10) >= 0 ? "over" : "under";
                t += this.rowTemplate({
                    player: e[i],
                    row_class: s,
                    par_klass: n
                })
            }
            this.$el.html(this.tableTemplate({
                rows: t
            })),
            this.$("#wdmctable").table().data("table").refresh()
        }
    });
    return n
}),
define("views/pairings-content", ["require", "backbone", "settings", "utils/pubsub", "views/player-card", "views/pairings-round", "views/withdrawn-missed-cut", "momentTimezone"], function(e) {
    var t = e("backbone")
      , i = e("settings")
      , s = e("utils/pubsub")
      , n = e("views/player-card")
      , a = e("views/pairings-round")
      , r = e("views/withdrawn-missed-cut");
    moment = e("momentTimezone");
    var o = {};
    o.default = _.template('<div class="roundContent"></div><div class="withdrawnMissedCutContent"> </div>');
    var l = t.View.extend({
        el: ".pairingsContent",
        defaults: {},
        initialize: function(e) {
            this.playerCardViewsMap = {},
            this.roundViewsMap = {},
            this.pairings = e.pairings;
            var t = this;
            this.collection.models.forEach(function(e) {
                var i = new n({
                    model: e,
                    id: "p_" + e.get("id"),
                    scores: !1,
                    favorite: !0,
                    country: !0,
                    bio_link: !0,
                    show_amateur_status: !0,
                    show_favorite_tip: !0,
                    metrics_suffix: "bio_tee",
                    item: !0
                })
                  , s = i.render();
                t.playerCardViewsMap[e.id] = s
            }),
            this.on("show", this._show)
        },
        render: function() {
            if (this.$el.html(o.default({})),
            i.default_pairings_round) {
                var e = this.pairings.get("round" + i.default_pairings_round);
                this._buildRound(e)
            } else
                this._buildLastRound();
            return this
        },
        _show: function(e) {
            var t = this.pairings.get(e);
            t && (t.group ? (this.$(".withdrawnMissedCutContent").hide(),
            this.$(".roundContent").show(),
            this._buildRound(t)) : t.player && t.player.length > 0 && (this.$(".roundContent").hide(),
            this.$(".withdrawnMissedCutContent").show(),
            this._buildWithrawnMissedCut(t.player)))
        },
        _buildLastRound: function() {
            for (var e = ["round4", "round3", "round2", "round1"], t = 0; t < e.length; t++) {
                var i = this.pairings.get(e[t]);
                if (i && i.group && i.group.length > 0) {
                    this._buildRound(i);
                    break
                }
            }
        },
        _buildRound: function(e) {
            this.currentRoundView && this.currentRoundView.stopAllListeners();
            var t = this.roundViewsMap[e.day];
            if (t)
                t.render();
            else {
                var t = new a({
                    model: e,
                    collection: this.collection,
                    playerCardViewsMap: this.playerCardViewsMap
                }).render();
                this.roundViewsMap[e.day] = t,
                s.trigger("lookup.unveil")
            }
            this.currentRoundView = t
        },
        _buildWithrawnMissedCut: function(e) {
            this.withdrawnMissedCutView || (this.withdrawnMissedCutView = new r({
                model: e
            }),
            this.withdrawnMissedCutView.render())
        },
        onDispose: function() {
            for (var e in this.playerCardViewsMap)
                this.playerCardViewsMap.hasOwnProperty(e) && this.playerCardViewsMap[e].dispose();
            for (var e in this.roundViewsMap)
                this.roundViewsMap.hasOwnProperty(e) && this.roundViewsMap[e].dispose();
            this.withdrawnMissedCutView && this.withdrawnMissedCutView.dispose()
        }
    });
    return l
}),
define("text!templates/pairings-tab.html!strip", [], function() {
    return '<div class="tabWrapper borders dark">\n <div class="tabs pairingsTabs extended">\n <a href="#round1" data-ref="round1" class="<%= (options.round1) ? \'\' :\'disabled\' %> round1">Round 1</a>\n <a href="#round2" data-ref="round2" class="<%= (options.round2) ? \'\' :\'disabled\' %> round2">Round 2</a>\n <a href="#round3" data-ref="round3" class="<%= (options.round3) ? \'\' :\'disabled\' %> round3">Round 3</a>\n <a href="#round4" data-ref="round4" class="<%= (options.round4) ? \'\' :\'disabled\' %> round4">Round 4</a>\n <% if (options.withdrawn) { %>\n <a href="#withdrawn" data-ref="withdrawn" class="<%= (options.withdrawn) ? \'\' :\'disabled\' %> wdmc">Withdrawn/Missed Cut</a>\n <% } %>\n </div>\n</div>'
}),
define("views/pairings-tab", ["require", "backbone", "utils/pubsub", "text!templates/pairings-tab.html!strip"], function(e) {
    var t = e("backbone")
      , i = (e("utils/pubsub"),
    e("text!templates/pairings-tab.html!strip"))
      , s = t.View.extend({
        el: ".pairingsTab",
        template: _.template(i),
        events: {
            "click a": "_clickTab"
        },
        defaults: {
            round1: !1,
            round2: !1,
            round3: !1,
            round4: !1,
            withdrawn: !1
        },
        initialize: function(e) {
            this.options = _.extend({}, this.defaults, e)
        },
        render: function() {
            return this.$el.html(this.template({
                options: this.options
            })),
            this.$el.find("." + this.options.selected).addClass("selected"),
            this
        },
        onDispose: function() {}
    });
    return s
}),
define("views/current-time", ["require", "backbone", "underscore"], function(e) {
    var t = e("backbone")
      , i = e("underscore")
      , s = {};
    s.mastersTime_yourTime_template = i.template('<div class="mastersTime">Masters Time: <%= mastersTime %> </div><div class="yourTime">Your Time: <%= clientTime %> </div>'),
    s.mastersTime_template = i.template('<div class="mastersTime">Masters Time: <%= mastersTime %> </div>');
    var n = t.View.extend({
        el: ".currentTime",
        initialize: function() {
            this.refreshDelay = 1e4
        },
        render: function() {
            var e = this;
            return this._buildMastersAndClientTime(),
            this.timer = setInterval(function() {
                e._buildMastersAndClientTime()
            }, e.refreshDelay),
            this
        },
        _buildMastersAndClientTime: function() {
            var e = moment.tz(moment.tz.guess())
              , t = e.format("h:mm A z")
              , i = moment.tz(e, "America/New_York").format("h:mm A z");
            t.indexOf("EST") === -1 && t.indexOf("EDT") === -1 ? this.$el.html(s.mastersTime_yourTime_template({
                mastersTime: i,
                clientTime: t
            })) : this.$el.html(s.mastersTime_template({
                mastersTime: i
            }))
        },
        onDispose: function() {
            clearInterval(this.timer)
        }
    });
    return n
}),
define("views/download-link", ["require", "backbone"], function(e) {
    var t = e("backbone")
      , i = {};
    i.download_link_template = _.template('<a href="<%= url %>">Download this Page</a>');
    var s = t.View.extend({
        el: ".link",
        events: {
            "click a": "_download"
        },
        initialize: function(e) {
            this.urlId = e && e.urlId,
            this.urlMap = {
                round1: "/pdf/Masters-GroupingsAndStartingTimes-Rd1.pdf",
                round2: "/pdf/Masters-GroupingsAndStartingTimes-Rd2.pdf",
                round3: "/pdf/Masters-GroupingsAndStartingTimes-Rd3.pdf",
                round4: "/pdf/Masters-GroupingsAndStartingTimes-Rd4.pdf"
            },
            this.on("show", this._show)
        },
        render: function() {
            var e = this.urlMap[this.urlId];
            return e && e.trim() ? this.$el.html(i.download_link_template({
                url: e
            })) : this.$el.html(""),
            this
        },
        _show: function(e) {
            this.urlId = e,
            this.render()
        },
        _download: function(e) {
            return e.target.href && (window.location.href = e.target.href),
            !1
        }
    });
    return s
}),
define("controllers/tee-times", ["require", "jquery", "underscore", "backbone", "baseview", "models/pairings", "views/pairings-content", "views/secondary-dropdown", "views/pairings-tab", "views/players-search", "views/players-filter", "views/current-time", "views/download-link", "collections/players", "settings", "utils/pubsub", "utils/metrics"], function(e) {
    var t = e("jquery")
      , i = (e("underscore"),
    e("backbone"),
    e("baseview"))
      , s = e("models/pairings")
      , n = e("views/pairings-content")
      , a = e("views/secondary-dropdown")
      , r = e("views/pairings-tab")
      , o = e("views/players-search")
      , l = e("views/players-filter")
      , h = e("views/current-time")
      , c = e("views/download-link")
      , d = e("collections/players")
      , u = e("settings")
      , p = e("utils/pubsub")
      , f = e("utils/metrics")
      , g = i.extend({
        onInitialization: function() {
            i.prototype.onInitialization.apply(this, arguments),
            "live" === this.jsonData.pageState && (this.currentTimeView = new h({
                el: this.$(".currentTime")
            }),
            this.downloadLinkView = new c({
                el: this.$(".link")
            })),
            this.listenTo(p, "pairings-round:hasSplitTee", function(e) {
                var t = e ? "* Indicates 10th Tee start; all others are 1st Tee start" : "";
                this.$("#splitTee").html(t)
            })
        },
        onRender: function() {
            if (i.prototype.onRender.apply(this, arguments),
            "live" === this.jsonData.pageState) {
                var e = this
                  , h = t.Deferred()
                  , c = t.Deferred();
                this.currentTimeView.render(),
                this.downloadLinkView.render(),
                d.fetch({
                    success: function(t) {
                        e.collection = t.clone(),
                        h.resolve(),
                        e.playersSearchView = new o({
                            el: ".player_search_cell",
                            collection: e.collection,
                            searchKey: "full_name",
                            metrics: [f.page_section]
                        }),
                        e.playersSearchView.render(),
                        e.playersFilterView = new l({
                            el: ".player_filter_cell",
                            collection: e.collection,
                            on_course_players: !1,
                            metrics: [f.page_section]
                        }),
                        e.playersFilterView.render()
                    },
                    error: function(e, t, i) {
                        console.error("Error fetching players in controller/tee-times: " + t.toString())
                    }
                }),
                (new s).fetch({
                    success: function(t) {
                        e.pairings = t,
                        c.resolve();
                        var i = e._setupTabOptions(t);
                        e.pairingsTabView = new r(i),
                        e.pairingsTabView.render(),
                        e.secondaryDropdown = new a({
                            el: e.$(".tabs")
                        }),
                        e.secondaryDropdown.setCallback(function(t) {
                            var i = t.replace("#", "");
                            e.downloadLinkView.trigger("show", i),
                            "withdrawn" === i ? this.$(".selectbox").hide() : (this.$(".selectbox").show(),
                            e.playersFilterView.trigger("filter", !0)),
                            e.pairingsContentView.trigger("show", i)
                        }
                        .bind(this)),
                        e.downloadLinkView.trigger("show", i.selected)
                    },
                    error: function(e, t, i) {
                        console.error("Error fetching pairings in controller/tee-times: " + t.toString())
                    }
                }),
                t.when(h, c).done(function() {
                    e.pairingsContentView = new n({
                        collection: e.collection,
                        pairings: e.pairings
                    }),
                    e.pairingsContentView.render()
                })
            }
        },
        _setupTabOptions: function(e) {
            for (var t = {}, i = ["round1", "round2", "round3", "round4"], s = 0; s < i.length && (round = i[s],
            e.get(round) && "none" !== e.get(round) && e.get(round).group.length > 0); s++)
                t[round] = !0,
                t.selected = round;
            u.default_pairings_round && (t.selected = "round" + u.default_pairings_round);
            var n = e.get("withdrawn").player;
            return n && n.length > 0 && (t.withdrawn = !0),
            t
        },
        onDispose: function() {
            "live" === this.jsonData.pageState && (this.currentTimeView && this.currentTimeView.dispose(),
            this.downloadLinkView && this.downloadLinkView.dispose(),
            this.playersSearchView && this.playersSearchView.dispose(),
            this.playersFilterView && this.playersFilterView.dispose(),
            this.pairingsTabView && this.pairingsTabView.dispose(),
            this.pairingsContentView && this.pairingsContentView.dispose(),
            this.secondaryDropdown && this.secondaryDropdown.dispose())
        }
    });
    return g
}),
define("controllers/photo-gallery", ["require", "jquery", "baseview", "utils/metrics", "utils/common", "utils/gallery"], function(e) {
    var t = e("jquery")
      , i = e("baseview")
      , s = e("utils/metrics")
      , n = e("utils/common")
      , a = e("utils/gallery")
      , r = i.extend({
        events: {
            "click .caption-toggle": "loadCaption"
        },
        onInitialization: function() {
            this.hideBackLink(),
            this.infoBarShow(),
            this.loadPhotoGallery(),
            this.listenTo(this.photo_gallery, "related:load", this.loadRelated),
            this.listenTo(this.photo_gallery, "related:unload", this.unloadRelated)
        },
        processPageVars: function() {
            for (var e = this.jsonData.pageDetails, t = ["pageId", "pageURL", "pageTitle2", "pageAbstr"], i = t.length - 1; i >= 0; i--) {
                var s = t[i];
                e[s] = encodeURIComponent(e[s])
            }
            this.pageTitle = "Detail",
            this.pageId = e.pageId;
            var n = this.jsonData.metrics;
            this.props = _.extend({}, {
                prop19: e.pageTitle,
                prop17: "Photo Gallery:" + e.pageTitle
            }, n),
            this.logger.info("processPageVars - data:%o", this.jsonData)
        },
        onRender: function() {
            this.photo_gallery.render()
        },
        onDispose: function() {
            this.$el.removeClass("related"),
            this.photo_gallery.dispose()
        },
        infoBarHide: function() {
            this.$(".info-bar").removeClass("visible"),
            this.$(".info-bar").addClass("hidden"),
            this.$(".caption-toggle").removeClass("open")
        },
        infoBarShow: function() {
            this.$(".info-bar").removeClass("hidden"),
            this.$(".info-bar").addClass("visible"),
            this.$(".caption-toggle").addClass("open")
        },
        hideBackLink: function() {
            if (n.hideBackLink()) {
                var e = this.$("a.headerlink")
                  , t = e.html();
                t = t.replace("Back", "Home"),
                e.attr({
                    onclick: "",
                    href: "/en_US/index.html"
                }).html(t)
            }
        },
        loadCaption: function(e) {
            t(e.target).hasClass("open") ? (this.infoBarHide(),
            s.measureApp(s.page_section, "Hide Caption")) : (this.infoBarShow(),
            s.measureApp(s.page_section, "Show Caption"))
        },
        loadPhotoGallery: function() {
            this.photo_gallery = new a({
                el: this.$("#photoGallery"),
                title: this.$(".title-bar"),
                path: this.jsonData.galleryPath,
                load_details: !0,
                related_id: "Photo" === this.jsonData.documentTitle ? "" : this.pageId
            })
        },
        loadRelated: function() {
            this.$(".gallery").addClass("related")
        },
        unloadRelated: function() {
            this.$(".gallery").removeClass("related")
        }
    });
    return r
}),
define("models/invitee", ["require", "jquery", "backbone", "models/base-player"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("models/base-player"))
      , i = t.extend({
        defaults: {
            full_name: "",
            last_name: "",
            first_name: "",
            country_long: "",
            qualifications: "",
            amateur: !1,
            firsttimer: !1,
            augusta: !1,
            pastChamps: !1,
            not_playing: !1
        },
        initialize: function() {
            t.prototype.initialize.apply(this, arguments)
        },
        parse: function(e) {
            return e
        }
    });
    return i
}),
define("collections/invitees", ["require", "jquery", "backbone", "models/invitee", "collections/base-players"], function(e) {
    var t = e("jquery")
      , i = (e("backbone"),
    e("models/invitee"))
      , s = e("collections/base-players")
      , n = s.extend({
        model: i,
        url: "/en_US/xml/gen/players/invitees_2016.xml",
        parse: function(e) {
            var i = t(e);
            return i.find("player").map(function() {
                $player = t(this);
                var e = $player.attr("qualifications").replace(/[()]/g, "")
                  , i = "1" === e.split(",")[0];
                return {
                    first_name: $player.attr("fname"),
                    last_name: $player.attr("lname"),
                    country_long: $player.attr("cntry"),
                    qualifications: e,
                    amateur: "1" === $player.attr("Amateur"),
                    firsttimer: "1" === $player.attr("First"),
                    augusta: "1" === $player.attr("Augusta"),
                    past: i,
                    not_playing: "1" === $player.attr("INP")
                }
            }).get()
        },
        fetch: function(e) {
            return e = e || {},
            e.dataType = "xml",
            s.prototype.fetch.call(this, e)
        }
    });
    return new n
}),
define("views/invitees-table-row", ["require", "backbone"], function(e) {
    var t = e("backbone")
      , i = {};
    i.rowTemplate = _.template('<tr class="item"><td class="name"><%= display_name %></td><td class="country"><%= country_long %></td><td class="qualifications"><%= qualifications_html %></td></tr>'),
    i.qualificationTemplate = _.template('<a data-ref="ql_<%= q_num %>" class="quals_hover"><%= q_num %></a>');
    var s = t.View.extend({
        initialize: function(e) {
            this.listenTo(this.model, "change:show", this._updateView)
        },
        render: function() {
            var e = this.model
              , t = e.get("qualifications").split(",")
              , s = "";
            t.forEach(function(e) {
                s += i.qualificationTemplate({
                    q_num: e
                }) + ","
            }),
            s = s.slice(0, -1);
            var n = i.rowTemplate({
                display_name: this._buildDisplayName(e),
                country_long: e.get("country_long"),
                qualifications_html: s
            });
            return this.$el.html(n),
            this
        },
        _buildDisplayName: function(e) {
            var t = "";
            return e.get("firsttimer") && (t += "#"),
            e.get("amateur") && (t += "*"),
            e.get("not_playing") && (t += "**"),
            e.get("augusta") && (t += "^"),
            t += e.get("last_name") + ", " + e.get("first_name")
        },
        _updateView: function(e) {
            this.$el.toggle(e.get("show"))
        }
    });
    return s
}),
define("views/invitees-table-tooltip", ["require", "backbone", "utils/browser"], function(e) {
    var t = e("backbone")
      , i = e("utils/browser")
      , s = {};
    s.tooltip_hover = _.template('<div class="text"><%= tip_html %></div>'),
    s.tooltip_tap = _.template('<div class="close"></div><div class="text"><%= tip_html %></div>');
    var n = t.View.extend({
        tagName: "p",
        className: "tooltip",
        events: function() {
            var e = {};
            return i.mobiledevice && (e["click .close"] = "_close"),
            e
        },
        initialize: function(e) {
            var t = "";
            i.mobiledevice ? (this.template = s.tooltip_tap,
            t = "tap") : (this.template = s.tooltip_hover,
            t = "hover"),
            this.$el.addClass(t)
        },
        render: function(e) {
            return this.$el.html(this.template({
                tip_html: e || ""
            })),
            this
        },
        _close: function() {
            this.trigger("close")
        },
        onDispose: function() {}
    });
    return n
}),
define("text!templates/invitees-content.html!strip", [], function() {
    return '<table class="inviteesTable" cellpadding="0" cellspacing="0">\n <thead class="inviteesHeaders">\n <tr>\n <th class="header name"><a data-ref="last_name" class="sort">Invitees</a></th>\n <th class="header country"><a data-ref="country_long" class="sort">Country</a></th>\n <th class="header qualifications">Qualification</th>\n </tr>\n </thead>\n <tbody class="inviteesList">\n </tbody>\n <tfoot>\n <tr>\n <td colspan="3" class="inviteesLegend">\n # Denotes first Masters * Denotes Amateur &nbsp;&nbsp;** Denotes Invitee Not Playing <br><br>\n ^ The Masters Committee, at its discretion, also invites international players not otherwise qualified.\n </td>\n </tr>\n </tfoot>\n</table>\n\n<!-- past champions not playing -->\n<div class="inviteesNotPlaying">\n <div class="title">Past Champions Not Playing</div>\n <div class="list"></div>\n</div>\n\n<!-- qualifications list -->\n<div class="inviteesQualifications">\n<div class="title">Qualification for Invitation</div>\n <div class="content">\n <ol>\n </ol>\n </div>\n</div>\n'
}),
define("views/invitees-content", ["require", "backbone", "views/invitees-table-row", "views/invitees-table-tooltip", "text!templates/invitees-content.html!strip", "utils/browser", "utils/metrics"], function(e) {
    var t = e("backbone")
      , i = e("views/invitees-table-row")
      , s = e("views/invitees-table-tooltip")
      , n = e("text!templates/invitees-content.html!strip")
      , a = e("utils/browser")
      , r = e("utils/metrics")
      , o = {};
    o.past_champions_item = _.template('<div class="name"><%= name %></div>'),
    o.qualifications_list_item = _.template('<li><span class="qualificationsList ql_<%=qId%>"><%=qValue%></span></li>');
    var l = t.View.extend({
        el: ".inviteesContent",
        events: function() {
            var e = {
                "click a.sort": "_sort"
            };
            return a.mobiledevice ? e["click a.quals_hover"] = "_showTooltipOnMobile" : (e["mouseover a.quals_hover"] = "_showTooltip",
            e["mouseout a.quals_hover"] = "_hideTooltip",
            e["mousemove a.quals_hover"] = "_moveTooltip"),
            e
        },
        template: _.template(n),
        initialize: function(e) {
            this.sortBy = null,
            this.$currentTooltip = null,
            this.inviteeRowViewsMap = {},
            this.listenTo(this.collection, "reset", this._buildInviteesTable),
            this.inviteesTableTooltipView = new s,
            this.listenTo(this.inviteesTableTooltipView, "close", this._hideTooltip),
            this.pastChampionsNotPlaying = e.pastChampionsNotPlaying,
            this.qualificationsList = e.qualificationsList
        },
        render: function() {
            return this.$el.html(this.template({})),
            this._buildPastChampionsNotPlaying(),
            this._buildQualificationsList(),
            this._buildInviteesTable(),
            this
        },
        _buildInviteesTable: function() {
            var e = this
              , t = document.createDocumentFragment();
            0 === Object.keys(this.inviteeRowViewsMap).length ? this.collection.forEach(function(s) {
                var n = new i({
                    model: s
                }).render();
                e.inviteeRowViewsMap[s.cid] = n,
                t.appendChild(n.el)
            }) : this.collection.forEach(function(i) {
                var s = e.inviteeRowViewsMap[i.cid];
                t.appendChild(s.el)
            }),
            this.$(".inviteesList").html(t)
        },
        _buildPastChampionsNotPlaying: function() {
            var e = "";
            this.pastChampionsNotPlaying.forEach(function(t) {
                e += o.past_champions_item({
                    name: t
                })
            }),
            this.$(".inviteesNotPlaying .list").html(e)
        },
        _buildQualificationsList: function() {
            for (var e = "", t = 0; t < this.qualificationsList.length; t++)
                e += o.qualifications_list_item({
                    qId: t + 1,
                    qValue: this.qualificationsList[t]
                });
            this.$(".inviteesQualifications .content ol").html(e)
        },
        _sort: function(e) {
            var t = $(e.target).data("ref");
            if (this.sortBy !== t) {
                var i = this.collection.sortBy(function(e) {
                    return e.get(t).toLowerCase()
                });
                this.collection.reset(i),
                this.sortBy = t,
                r.measureApp(r.page_section, r.page_title, "Sort", $(e.target).text())
            }
            return !1
        },
        _showTooltip: function(e) {
            var t = $(e.target).data("ref")
              , i = this._getQualificationTipHtml(t);
            this.$currentTooltip = this.inviteesTableTooltipView.render(i).$el,
            this.$currentTooltip.appendTo("body").fadeIn("slow")
        },
        _hideTooltip: function(e) {
            this.$currentTooltip.detach(),
            this.$currentTooltip = null
        },
        _moveTooltip: function(e) {
            var t = e.pageX - 351
              , i = this.$currentTooltip.height() / 2
              , s = e.pageY - i;
            this.$currentTooltip.css({
                top: s,
                left: t
            })
        },
        _showTooltipOnMobile: function(e) {
            this._showTooltip(e);
            var t = $(".inviteesList").width()
              , i = $(".inviteesList").position().left
              , s = e.pageY - 37;
            return this.$currentTooltip.css({
                width: t,
                top: s,
                left: i
            }),
            !1
        },
        _getQualificationTipHtml: function(e) {
            var t = e.split("_")[1].split("-")[0]
              , i = t + ". <br/>" + this.qualificationsList[t - 1];
            return i
        },
        onDispose: function() {
            for (var e in this.inviteeRowViewsMap)
                this.inviteeRowViewsMap.hasOwnProperty(e) && this.inviteeRowViewsMap[e].dispose();
            this.inviteesTableTooltipView && this.inviteesTableTooltipView.dispose()
        }
    });
    return l
}),
define("controllers/invitees", ["require", "jquery", "backbone", "baseview", "collections/invitees", "views/invitees-content", "views/players-search", "views/players-filter", "utils/metrics"], function(e) {
    var t = (e("jquery"),
    e("backbone"),
    e("baseview"))
      , i = e("collections/invitees")
      , s = e("views/invitees-content")
      , n = e("views/players-search")
      , a = e("views/players-filter")
      , r = e("utils/metrics")
      , o = t.extend({
        onInitialization: function() {
            t.prototype.onInitialization.apply(this, arguments)
        },
        processPageVars: function() {
            i.url = this.jsonData.urlData,
            this.pastChampionsNotPlaying = this.jsonData.pastChampionsNotPlaying,
            this.qualificationsList = this.jsonData.qualificationsList
        },
        onRender: function() {
            t.prototype.onRender.apply(this, arguments);
            var e = this;
            i.fetch({
                success: function(t) {
                    e.collection = t,
                    e.inviteesContentView = new s({
                        collection: e.collection,
                        pastChampionsNotPlaying: e.pastChampionsNotPlaying,
                        qualificationsList: e.qualificationsList
                    }),
                    e.inviteesContentView.render(),
                    e.playersSearchView = new n({
                        el: ".player_search_cell",
                        collection: e.collection,
                        searchKey: "full_name",
                        metrics: [r.page_section, r.page_title]
                    }),
                    e.playersSearchView.render(),
                    e.playersFilterView = new a({
                        el: ".player_filter_cell",
                        collection: e.collection,
                        favorites: !1,
                        on_course_players: !1,
                        american_players: !1,
                        international_players: !1,
                        metrics: [r.page_section, r.page_title]
                    }),
                    e.playersFilterView.render()
                },
                error: function(e, t, i) {
                    console.error("Error fetching invitees in controller/invitees: " + t.toString())
                }
            })
        },
        onDispose: function() {
            this.inviteesContentView && this.inviteesContentView.dispose(),
            this.playersSearchView && this.playersSearchView.dispose(),
            this.playersFilterView && this.playersFilterView.dispose()
        }
    });
    return o
}),
define("controllers/tribute", ["require", "jquery", "backbone", "baseview", "views/base-hero", "utils/common", "utils/browser", "utils/metrics", "views/photo-carousel"], function(e) {
    var t = e("jquery")
      , i = (e("backbone"),
    e("baseview"))
      , s = (e("views/base-hero"),
    e("utils/common"),
    e("utils/browser"),
    e("utils/metrics"),
    e("views/photo-carousel"))
      , n = i.extend({
        onInitialization: function() {
            i.prototype.onInitialization.apply(this, arguments)
        },
        onRender: function() {
            i.prototype.onRender.apply(this, arguments);
            var e = this.$(".articleCarousel");
            this.carousels = [],
            e.each(function(e, i) {
                var n = t(i).attr("data-path")
                  , a = new s({
                    article_photos: n,
                    el: i
                }).render();
                this.carousels.push(a)
            }
            .bind(this)),
            this.unveil(this.$el.find("img.srcpic"))
        }
    });
    return n
}),
function(e, t, i) {
    e.fn.paging = function(s, n) {
        var a = this
          , r = {
            setOptions: function(s) {
                return r.a = e.extend(r.a || {
                    lapping: 0,
                    perpage: 10,
                    page: 1,
                    refresh: {
                        interval: 10,
                        url: null
                    },
                    format: "",
                    lock: !1,
                    circular: !1,
                    onClick: null,
                    onFormat: function() {},
                    onSelect: function() {
                        return !0
                    },
                    onRefresh: function() {}
                }, s || {}),
                r.a.lapping |= 0,
                r.a.perpage |= 0,
                null !== r.a.page && (r.a.page |= 0),
                1 > r.a.perpage && (r.a.perpage = 10),
                r.interval && t.clearInterval(r.interval),
                r.a.refresh.url && (r.interval = t.setInterval(function() {
                    e.ajax({
                        url: r.a.refresh.url,
                        success: function(t) {
                            if ("string" == typeof t)
                                try {
                                    t = e.parseJSON(t)
                                } catch (e) {
                                    return
                                }
                            r.a.onRefresh(t)
                        }
                    })
                }, 1e3 * r.a.refresh.interval)),
                r.format = function(e) {
                    for (var t, s = 0, n = 0, a = 1, r = {
                        g: [],
                        i: 0,
                        h: 0,
                        b: 5,
                        current: 3,
                        l: 0,
                        m: 0
                    }, o = /[*<>pq\[\]().-]|[nc]+!?/g, l = {
                        "[": "first",
                        "]": "last",
                        "<": "prev",
                        ">": "next",
                        q: "left",
                        p: "right",
                        "-": "fill",
                        ".": "leap"
                    }, h = {}; t = o.exec(e); )
                        t = "" + t,
                        i === l[t] ? "(" === t ? n = ++s : ")" === t ? n = 0 : a && ("*" === t ? (r.i = 1,
                        r.h = 0) : (r.i = 0,
                        r.h = "!" === t.charAt(t.length - 1),
                        r.b = t.length - r.h,
                        (r.current = 1 + t.indexOf("c")) || (r.current = 1 + r.b >> 1)),
                        r.g.push({
                            f: "block",
                            j: 0,
                            c: 0
                        }),
                        a = 0) : (r.g.push({
                            f: l[t],
                            j: n,
                            c: i === h[t] ? h[t] = 1 : ++h[t]
                        }),
                        "q" === t ? ++r.m : "p" === t && ++r.l);
                    return r
                }(r.a.format),
                r
            },
            setNumber: function(e) {
                return r.s = i === e || 0 > e ? -1 : e,
                r
            },
            setPage: function(s) {
                function n(e, t, i) {
                    i = "" + e.onFormat.call(t, i),
                    c = t.value ? c + i.replace(/<a/i, '<a data-page="' + t.value + '"') : c + i
                }
                if (r.a.lock)
                    return r.a.onSelect(0, a),
                    r;
                if (i === s) {
                    if (s = r.a.page,
                    null === s)
                        return r
                } else if (r.a.page == s)
                    return r;
                r.a.page = s |= 0;
                var o, l, h, c, d, u, p, f, g = r.s, m = r.a, v = 1, b = r.format, y = b.g.length, w = y;
                for (m.perpage <= m.lapping && (m.lapping = m.perpage - 1),
                f = g <= m.lapping ? 0 : 0 | m.lapping,
                0 > g ? (h = g = -1,
                o = Math.max(1, s - b.current + 1 - f),
                l = o + b.b) : (h = 1 + Math.ceil((g - m.perpage) / (m.perpage - f)),
                s = Math.max(1, Math.min(0 > s ? 1 + h + s : s, h)),
                b.i ? (o = 1,
                l = 1 + h,
                b.current = s,
                b.b = h) : (o = Math.max(1, Math.min(s - b.current, h - b.b) + 1),
                l = b.h ? o + b.b : Math.min(o + b.b, 1 + h))); w--; ) {
                    switch (u = 0,
                    p = b.g[w],
                    p.f) {
                    case "left":
                        u = p.c < o;
                        break;
                    case "right":
                        u = l <= h - b.l + p.c;
                        break;
                    case "first":
                        u = b.current < s;
                        break;
                    case "last":
                        u = b.b < b.current + h - s;
                        break;
                    case "prev":
                        u = 1 < s;
                        break;
                    case "next":
                        u = s < h
                    }
                    v |= u << p.j
                }
                for (d = {
                    number: g,
                    lapping: f,
                    pages: h,
                    perpage: m.perpage,
                    page: s,
                    slice: [(u = s * (m.perpage - f) + f) - m.perpage, Math.min(u, g)]
                },
                c = ""; ++w < y; ) {
                    switch (p = b.g[w],
                    u = v >> p.j & 1,
                    p.f) {
                    case "block":
                        for (; o < l; ++o)
                            d.value = o,
                            d.pos = 1 + b.b - l + o,
                            d.active = o <= h || 0 > g,
                            d.first = 1 === o,
                            d.last = o === h && 0 < g,
                            n(m, d, p.f);
                        continue;
                    case "left":
                        d.value = p.c,
                        d.active = p.c < o;
                        break;
                    case "right":
                        d.value = h - b.l + p.c,
                        d.active = l <= d.value;
                        break;
                    case "first":
                        d.value = 1,
                        d.active = u && 1 < s;
                        break;
                    case "prev":
                        (d.active = m.circular) ? d.value = 1 === s ? h : s - 1 : (d.value = Math.max(1, s - 1),
                        d.active = u && 1 < s);
                        break;
                    case "last":
                        (d.active = 0 > g) ? d.value = 1 + s : (d.value = h,
                        d.active = u && s < h);
                        break;
                    case "next":
                        (d.active = m.circular) ? d.value = 1 + s % h : (d.active = 0 > g) ? d.value = 1 + s : (d.value = Math.min(1 + s, h),
                        d.active = u && s < h);
                        break;
                    case "leap":
                    case "fill":
                        d.pos = p.c,
                        d.active = u,
                        n(m, d, p.f);
                        continue
                    }
                    d.pos = p.c,
                    d.last = d.first = i,
                    n(m, d, p.f)
                }
                return a.length && (e("a", a.html(c)).click(m.onClick || function(i) {
                    i.preventDefault(),
                    i = this;
                    do
                        if ("a" === i.nodeName.toLowerCase())
                            break;
                    while (i = i.parentNode);r.setPage(e(i).data("page")),
                    r.o && (t.location = i.href)
                }
                ),
                r.o = m.onSelect.call({
                    number: g,
                    lapping: f,
                    pages: h,
                    slice: d.slice
                }, s, a)),
                r
            }
        };
        return r.setNumber(s).setOptions(n).setPage()
    }
}(jQuery, this),
define("jquery.paging", ["jquery"], function() {}),
define("controllers/search", ["require", "jquery", "backbone", "baseview", "views/secondary-dropdown", "utils/common", "utils/metrics", "jquery.paging"], function(e) {
    function t(e) {
        this.searchUrl = '/slsearch/cmmast/select?indent=on&version=2.2&q=%searchText%~0.5%fq%&start=%start%&rows=12&fl=title,url,tstamp,mtime,htsearch,metatag.description,metatag.resulttype,metatag.resultthumb,metatag.resultduration,metatag.resultcaption,metatag.resultlink,metatag.resultwidth,metatag.resultheight&qt=&wt=json&explainOther=&facet=true&facet.query=metatag.resulttype:"A"&facet.query=metatag.resulttype:"P"&facet.query=metatag.resulttype:"V"',
        this.currentSort = "",
        this.currentType = "",
        this.searchText = "",
        this.start = 0,
        this.pageSize = 12,
        this.newSearch = !0,
        this.pageInit = !1,
        this.curPage = 0,
        this.$el = i("body"),
        e && e.container && (this.$el = e.container)
    }
    var i = e("jquery")
      , s = e("backbone")
      , n = e("baseview")
      , a = e("views/secondary-dropdown")
      , r = e("utils/common")
      , o = e("utils/metrics");
    e("jquery.paging"),
    t.prototype = {
        search: function() {
            var e = this.searchUrl;
            "" !== this.currentSort && (e = this.searchUrl + "&sort=" + this.currentSort + " desc"),
            e = e.replace("%searchText%", this.searchText),
            e = e.replace("%start%", this.start),
            e = e.replace("%fq%", this.currentType),
            "" === this.searchText ? this.solrSetMessage("emptyTerm") : (i.ajax({
                url: encodeURI(e),
                type: "GET",
                timeout: 1e4,
                dataType: "json",
                contentType: "application/json"
            }).done(function(e) {
                this.updateTabCounts(e),
                this.renderResults(e),
                this.newSearch && this.renderPagination(e),
                this.newSearch && (this.newSearch = !1),
                0 === e.response.numFound && this.solrSetMessage("noResults")
            }
            .bind(this)).fail(function(e) {
                console.log(e),
                this.solrSetMessage("requestError")
            }
            .bind(this)),
            this.$el.find("#inlineSearch input:text").val(this.searchText))
        },
        updateTabCounts: function(e) {
            if ("" === this.currentType || "AR" === this.currentType) {
                var t = e.response.numFound;
                this.$el.find(".search-tabs .tabs a").removeClass("disabled"),
                this.$el.find("#tab-all .data").attr("data-count", t);
                var i;
                i = 'metatag.resulttype:"A"';
                var s = e.facet_counts.facet_queries[i];
                this.$el.find("#tab-news .data").attr("data-count", s),
                0 === s && this.$el.find("#tab-news").addClass("disabled"),
                i = 'metatag.resulttype:"P"';
                var n = e.facet_counts.facet_queries[i];
                this.$el.find("#tab-photos .data").attr("data-count", n),
                0 === n && this.$el.find("#tab-photos").addClass("disabled"),
                i = 'metatag.resulttype:"V"';
                var a = e.facet_counts.facet_queries[i];
                this.$el.find("#tab-video .data").attr("data-count", a),
                0 === a && this.$el.find("#tab-video").addClass("disabled")
            }
        },
        renderResults: function(e) {
            var t = this.$el.find(".results-container .results");
            t.html("");
            var s = this;
            i.each(e.response.docs, function() {
                if (void 0 !== this.htsearch) {
                    var e = "";
                    void 0 !== this["metatag.description"] && (e = this["metatag.description"]);
                    var i = this.url
                      , n = i.indexOf("promo=");
                    n > -1 && (i = i.replace(/promo=[^&]/, ""));
                    var a = i.indexOf("?");
                    a < i.length - 1 && (i += a > -1 ? "&" : "?"),
                    i += "promo=sitesearch";
                    var r = "";
                    i.indexOf("milestones/index.html") > -1 && (r = "milestones"),
                    t.append('<div class="result"><a href="' + i + '" class="' + r + '">' + s.addImage(this) + "<h2>" + this.htsearch + "</h2><h3>" + s.formatDate(this) + "</h3>" + s.addExtraFields(this) + "<p>" + e + "</p></a></div>")
                }
            })
        },
        renderPagination: function(e) {
            var t = e.response.numFound
              , s = this.pageSize
              , n = (t % s === 0 ? parseInt(t / s) : parseInt(t / s) + 1,
            this);
            try {
                this.pager = this.$el.find(".search-container .pagination").paging(t, {
                    format: "< nnnnnnnnnn >",
                    perpage: this.pageSize,
                    lapping: 0,
                    page: 1,
                    onClick: function(e) {
                        e.preventDefault();
                        var t = i(this).data("page");
                        n.pager.setPage(t),
                        i(this).data("measure") && o.measureApp(o.page_section, o.page_title, i(this).data("measure"))
                    },
                    onSelect: function(e) {
                        return this.curPage = e - 1,
                        this.start = this.curPage * s,
                        this.pageInit && this.search(),
                        this.pageInit = !0,
                        !1
                    }
                    .bind(this),
                    onFormat: this.formatPagination
                })
            } catch (e) {
                console.info(e)
            }
        },
        formatPagination: function(e) {
            switch (e) {
            case "block":
                var t = "";
                return t = this.active ? this.value !== this.page ? '<a href="#' + this.value + '" class="plink" data-measure="Page:' + this.value + '">' + this.value + "</a>" : '<a class="current">' + this.value + "</a>" : '<a class="disabled">' + this.value + "</a>";
            case "next":
                return '<a href="#' + this.value + '" data-measure="Next Page">></a>';
            case "prev":
                return '<a href="#' + this.value + '" data-measure="Previous Page"><</a>';
            case "fill":
                return "";
            default:
                return ""
            }
        },
        addExtraFields: function(e) {
            var t = "";
            return void 0 !== e["metatag.resultduration"] && "" !== e["metatag.resultduration"] && (t += "<h3>" + e["metatag.resultduration"] + "</h3>"),
            t
        },
        formatDate: function(e) {
            if (13 === e.mtime.length) {
                var t = new Date(0);
                return t.setUTCSeconds(e.mtime.substring(0, 10)),
                t.toLocaleDateString() + " " + t.toLocaleTimeString()
            }
            if ("0" !== e.mtime) {
                var t = new Date(e.mtime.substring(0, 4),parseInt(e.mtime.substring(4, 6), 10) - 1,parseInt(e.mtime.substring(6, 8), 10),parseInt(e.mtime.substring(8, 10), 10),parseInt(e.mtime.substring(10, 12), 10),parseInt(e.mtime.substring(12, 14), 10));
                return t.toLocaleDateString() + " " + t.toLocaleTimeString()
            }
            return ""
        },
        addImage: function(e) {
            return void 0 !== e["metatag.resultthumb"] && e["metatag.resultthumb"].length > 4 ? '<img src="' + e["metatag.resultthumb"] + '" />' : ""
        },
        updateType: function(e) {
            switch (e) {
            case "video":
                this.currentType = '&fq=metatag.resulttype:"V"';
                break;
            case "photos":
                this.currentType = '&fq=metatag.resulttype:"P"';
                break;
            case "news":
                this.currentType = '&fq=metatag.resulttype:"A"';
                break;
            default:
                this.currentType = ""
            }
            this.search()
        },
        getParameterByName: function(e) {
            e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var t = new RegExp("[\\?&]" + e + "=([^&#]*)")
              , i = t.exec(location.search);
            return null === i ? "" : decodeURIComponent(i[1].replace(/\+/g, " "))
        },
        solrSetMessage: function(e) {
            var t = this.$el.find("#resultsMessage")
              , i = this.$el.find(".pagination")
              , s = this.$el.find(".search-sort");
            switch (e) {
            case "emptyTerm":
                t.html("You must enter a search term."),
                t.show(),
                i.addClass("hidden"),
                s.addClass("hidden");
                break;
            case "noResults":
                t.html("There were no search results for '" + this.searchText + "'. Please try your search again."),
                t.show(),
                i.addClass("hidden"),
                s.addClass("hidden");
                break;
            case "requestError":
                t.html("Unable to retrieve results. Please try again."),
                t.show(),
                i.addClass("hidden"),
                s.addClass("hidden");
                break;
            default:
                t.html("Unable to retrieve results. Please try again."),
                t.show(),
                i.addClass("hidden"),
                s.addClass("hidden")
            }
        }
    };
    var l = n.extend({
        events: {
            "click .search-sort span": "sortResults",
            "submit form#inlineSearch": "submitForm",
            "click .result a.milestones": "openTimeline"
        },
        onInitialization: function() {
            n.prototype.onInitialization.apply(this, arguments),
            this.ibmSolrSearch = new t({
                container: this.$el
            }),
            this.dropdown = new a({
                el: this.$(".tabs"),
                callback: function(e) {
                    this.ibmSolrSearch.newSearch = !0,
                    this.ibmSolrSearch.pageInit = !1,
                    this.ibmSolrSearch.updateType(e.replace("#", ""))
                },
                callback_context: this,
                metrics: "Search Results:View"
            })
        },
        onRender: function() {
            n.prototype.onRender.apply(this, arguments),
            this.ibmSolrSearch.searchText = this.ibmSolrSearch.getParameterByName("query").toLowerCase(),
            this.$("#searchQuery").val(this.ibmSolrSearch.searchText),
            this.ibmSolrSearch.search()
        },
        onDispose: function() {
            this.dropdown.dispose()
        },
        submitForm: function(e) {
            e.preventDefault();
            var t = i(e.currentTarget)
              , n = t.find('input[name="query"]').val()
              , a = t.attr("action");
            s.history.navigate(a + "?query=" + n, !0)
        },
        sortResults: function(e) {
            e.preventDefault();
            var t = i(e.currentTarget);
            t.hasClass("selected") || ("date" === t.text().toLowerCase() ? (this.ibmSolrSearch.currentSort = "mtime",
            this.ibmSolrSearch.search(),
            t.parent().find("span").removeClass("selected"),
            t.addClass("selected")) : (this.ibmSolrSearch.currentSort = "",
            this.ibmSolrSearch.search(),
            t.parent().find("span").removeClass("selected"),
            t.addClass("selected")),
            o.measureApp(o.page_section, o.page_title, t.text()))
        },
        openTimeline: function(e) {
            return r.openTimeline(e)
        }
    });
    return l
}),
define("app", function() {});
//# sourceMappingURL=app.js.map
